var F1=Object.defineProperty;var z1=(e,t,n)=>t in e?F1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Y=(e,t,n)=>z1(e,typeof t!="symbol"?t+"":t,n);function f0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function gf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h0={exports:{}},mc={},p0={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ra=Symbol.for("react.element"),B1=Symbol.for("react.portal"),$1=Symbol.for("react.fragment"),U1=Symbol.for("react.strict_mode"),H1=Symbol.for("react.profiler"),V1=Symbol.for("react.provider"),W1=Symbol.for("react.context"),K1=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),q1=Symbol.for("react.memo"),G1=Symbol.for("react.lazy"),Bh=Symbol.iterator;function X1(e){return e===null||typeof e!="object"?null:(e=Bh&&e[Bh]||e["@@iterator"],typeof e=="function"?e:null)}var m0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g0=Object.assign,x0={};function Ei(e,t,n){this.props=e,this.context=t,this.refs=x0,this.updater=n||m0}Ei.prototype.isReactComponent={};Ei.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ei.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y0(){}y0.prototype=Ei.prototype;function xf(e,t,n){this.props=e,this.context=t,this.refs=x0,this.updater=n||m0}var yf=xf.prototype=new y0;yf.constructor=xf;g0(yf,Ei.prototype);yf.isPureReactComponent=!0;var $h=Array.isArray,v0=Object.prototype.hasOwnProperty,vf={current:null},b0={key:!0,ref:!0,__self:!0,__source:!0};function w0(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)v0.call(t,r)&&!b0.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ra,type:e,key:i,ref:o,props:s,_owner:vf.current}}function Q1(e,t){return{$$typeof:ra,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ra}function J1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uh=/\/+/g;function Jc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?J1(""+e.key):t.toString(36)}function sl(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ra:case B1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Jc(o,0):r,$h(s)?(n="",e!=null&&(n=e.replace(Uh,"$&/")+"/"),sl(s,t,n,"",function(c){return c})):s!=null&&(bf(s)&&(s=Q1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Uh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",$h(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Jc(i,a);o+=sl(i,t,n,l,s)}else if(l=X1(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Jc(i,a++),o+=sl(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ba(e,t,n){if(e==null)return e;var r=[],s=0;return sl(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Z1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dt={current:null},il={transition:null},eb={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:il,ReactCurrentOwner:vf};function _0(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:ba,forEach:function(e,t,n){ba(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ba(e,function(){t++}),t},toArray:function(e){return ba(e,function(t){return t})||[]},only:function(e){if(!bf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Ei;ye.Fragment=$1;ye.Profiler=H1;ye.PureComponent=xf;ye.StrictMode=U1;ye.Suspense=Y1;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eb;ye.act=_0;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=vf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)v0.call(t,l)&&!b0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ra,type:e.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(e){return e={$$typeof:W1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:V1,_context:e},e.Consumer=e};ye.createElement=w0;ye.createFactory=function(e){var t=w0.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:K1,render:e}};ye.isValidElement=bf;ye.lazy=function(e){return{$$typeof:G1,_payload:{_status:-1,_result:e},_init:Z1}};ye.memo=function(e,t){return{$$typeof:q1,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=il.transition;il.transition={};try{e()}finally{il.transition=t}};ye.unstable_act=_0;ye.useCallback=function(e,t){return Dt.current.useCallback(e,t)};ye.useContext=function(e){return Dt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return Dt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return Dt.current.useEffect(e,t)};ye.useId=function(){return Dt.current.useId()};ye.useImperativeHandle=function(e,t,n){return Dt.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return Dt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return Dt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return Dt.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return Dt.current.useReducer(e,t,n)};ye.useRef=function(e){return Dt.current.useRef(e)};ye.useState=function(e){return Dt.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return Dt.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return Dt.current.useTransition()};ye.version="18.3.1";p0.exports=ye;var _=p0.exports;const je=gf(_),tb=f0({__proto__:null,default:je},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb=_,rb=Symbol.for("react.element"),sb=Symbol.for("react.fragment"),ib=Object.prototype.hasOwnProperty,ob=nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ab={key:!0,ref:!0,__self:!0,__source:!0};function S0(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ib.call(t,r)&&!ab.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:rb,type:e,key:i,ref:o,props:s,_owner:ob.current}}mc.Fragment=sb;mc.jsx=S0;mc.jsxs=S0;h0.exports=mc;var u=h0.exports,E0={exports:{}},tn={},j0={exports:{}},N0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,U){var D=L.length;L.push(U);e:for(;0<D;){var Z=D-1>>>1,I=L[Z];if(0<s(I,U))L[Z]=U,L[D]=I,D=Z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var U=L[0],D=L.pop();if(D!==U){L[0]=D;e:for(var Z=0,I=L.length,F=I>>>1;Z<F;){var W=2*(Z+1)-1,oe=L[W],se=W+1,fe=L[se];if(0>s(oe,D))se<I&&0>s(fe,oe)?(L[Z]=fe,L[se]=D,Z=se):(L[Z]=oe,L[W]=D,Z=W);else if(se<I&&0>s(fe,D))L[Z]=fe,L[se]=D,Z=se;else break e}}return U}function s(L,U){var D=L.sortIndex-U.sortIndex;return D!==0?D:L.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,p=!1,x=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=L)r(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(c)}}function S(L){if(g=!1,v(L),!x)if(n(l)!==null)x=!0,q(E);else{var U=n(c);U!==null&&ne(S,U.startTime-L)}}function E(L,U){x=!1,g&&(g=!1,y(N),N=-1),p=!0;var D=h;try{for(v(U),f=n(l);f!==null&&(!(f.expirationTime>U)||L&&!A());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var I=Z(f.expirationTime<=U);U=e.unstable_now(),typeof I=="function"?f.callback=I:f===n(l)&&r(l),v(U)}else r(l);f=n(l)}if(f!==null)var F=!0;else{var W=n(c);W!==null&&ne(S,W.startTime-U),F=!1}return F}finally{f=null,h=D,p=!1}}var j=!1,w=null,N=-1,M=5,R=-1;function A(){return!(e.unstable_now()-R<M)}function z(){if(w!==null){var L=e.unstable_now();R=L;var U=!0;try{U=w(!0,L)}finally{U?G():(j=!1,w=null)}}else j=!1}var G;if(typeof m=="function")G=function(){m(z)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,J=re.port2;re.port1.onmessage=z,G=function(){J.postMessage(null)}}else G=function(){b(z,0)};function q(L){w=L,j||(j=!0,G())}function ne(L,U){N=b(function(){L(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,q(E))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var D=h;h=U;try{return L()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var D=h;h=L;try{return U()}finally{h=D}},e.unstable_scheduleCallback=function(L,U,D){var Z=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?Z+D:Z):D=Z,L){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=D+I,L={id:d++,callback:U,priorityLevel:L,startTime:D,expirationTime:I,sortIndex:-1},D>Z?(L.sortIndex=D,t(c,L),n(l)===null&&L===n(c)&&(g?(y(N),N=-1):g=!0,ne(S,D-Z))):(L.sortIndex=I,t(l,L),x||p||(x=!0,q(E))),L},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(L){var U=h;return function(){var D=h;h=U;try{return L.apply(this,arguments)}finally{h=D}}}})(N0);j0.exports=N0;var lb=j0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb=_,Zt=lb;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k0=new Set,To={};function As(e,t){pi(e,t),pi(e+"Capture",t)}function pi(e,t){for(To[e]=t,e=0;e<t.length;e++)k0.add(t[e])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=Object.prototype.hasOwnProperty,ub=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hh={},Vh={};function db(e){return Xu.call(Vh,e)?!0:Xu.call(Hh,e)?!1:ub.test(e)?Vh[e]=!0:(Hh[e]=!0,!1)}function fb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hb(e,t,n,r){if(t===null||typeof t>"u"||fb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ot(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var wf=/[\-:]([a-z])/g;function _f(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wf,_f);vt[t]=new Ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wf,_f);vt[t]=new Ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wf,_f);vt[t]=new Ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sf(e,t,n,r){var s=vt.hasOwnProperty(t)?vt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hb(t,n,s,r)&&(n=null),r||s===null?db(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hr=cb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wa=Symbol.for("react.element"),Ys=Symbol.for("react.portal"),qs=Symbol.for("react.fragment"),Ef=Symbol.for("react.strict_mode"),Qu=Symbol.for("react.profiler"),C0=Symbol.for("react.provider"),T0=Symbol.for("react.context"),jf=Symbol.for("react.forward_ref"),Ju=Symbol.for("react.suspense"),Zu=Symbol.for("react.suspense_list"),Nf=Symbol.for("react.memo"),vr=Symbol.for("react.lazy"),R0=Symbol.for("react.offscreen"),Wh=Symbol.iterator;function Ii(e){return e===null||typeof e!="object"?null:(e=Wh&&e[Wh]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,Zc;function to(e){if(Zc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zc=t&&t[1]||""}return`
`+Zc+e}var eu=!1;function tu(e,t){if(!e||eu)return"";eu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{eu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?to(e):""}function pb(e){switch(e.tag){case 5:return to(e.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 2:case 15:return e=tu(e.type,!1),e;case 11:return e=tu(e.type.render,!1),e;case 1:return e=tu(e.type,!0),e;default:return""}}function ed(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qs:return"Fragment";case Ys:return"Portal";case Qu:return"Profiler";case Ef:return"StrictMode";case Ju:return"Suspense";case Zu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T0:return(e.displayName||"Context")+".Consumer";case C0:return(e._context.displayName||"Context")+".Provider";case jf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nf:return t=e.displayName||null,t!==null?t:ed(e.type)||"Memo";case vr:t=e._payload,e=e._init;try{return ed(e(t))}catch{}}return null}function mb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ed(t);case 8:return t===Ef?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Br(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gb(e){var t=P0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _a(e){e._valueTracker||(e._valueTracker=gb(e))}function M0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=P0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function td(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Kh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Br(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function D0(e,t){t=t.checked,t!=null&&Sf(e,"checked",t,!1)}function nd(e,t){D0(e,t);var n=Br(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rd(e,t.type,n):t.hasOwnProperty("defaultValue")&&rd(e,t.type,Br(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function rd(e,t,n){(t!=="number"||Nl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var no=Array.isArray;function oi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Br(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function sd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(no(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Br(n)}}function O0(e,t){var n=Br(t.value),r=Br(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function L0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function id(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?L0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sa,A0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sa=Sa||document.createElement("div"),Sa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ro(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xb=["Webkit","ms","Moz","O"];Object.keys(fo).forEach(function(e){xb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fo[t]=fo[e]})});function I0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fo.hasOwnProperty(e)&&fo[e]?(""+t).trim():t+"px"}function F0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=I0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var yb=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function od(e,t){if(t){if(yb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function ad(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=null;function kf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cd=null,ai=null,li=null;function Xh(e){if(e=oa(e)){if(typeof cd!="function")throw Error($(280));var t=e.stateNode;t&&(t=bc(t),cd(e.stateNode,e.type,t))}}function z0(e){ai?li?li.push(e):li=[e]:ai=e}function B0(){if(ai){var e=ai,t=li;if(li=ai=null,Xh(e),t)for(e=0;e<t.length;e++)Xh(t[e])}}function $0(e,t){return e(t)}function U0(){}var nu=!1;function H0(e,t,n){if(nu)return e(t,n);nu=!0;try{return $0(e,t,n)}finally{nu=!1,(ai!==null||li!==null)&&(U0(),B0())}}function Po(e,t){var n=e.stateNode;if(n===null)return null;var r=bc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var ud=!1;if(or)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){ud=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{ud=!1}function vb(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ho=!1,kl=null,Cl=!1,dd=null,bb={onError:function(e){ho=!0,kl=e}};function wb(e,t,n,r,s,i,o,a,l){ho=!1,kl=null,vb.apply(bb,arguments)}function _b(e,t,n,r,s,i,o,a,l){if(wb.apply(this,arguments),ho){if(ho){var c=kl;ho=!1,kl=null}else throw Error($(198));Cl||(Cl=!0,dd=c)}}function Is(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function V0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qh(e){if(Is(e)!==e)throw Error($(188))}function Sb(e){var t=e.alternate;if(!t){if(t=Is(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Qh(s),e;if(i===r)return Qh(s),t;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function W0(e){return e=Sb(e),e!==null?K0(e):null}function K0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=K0(e);if(t!==null)return t;e=e.sibling}return null}var Y0=Zt.unstable_scheduleCallback,Jh=Zt.unstable_cancelCallback,Eb=Zt.unstable_shouldYield,jb=Zt.unstable_requestPaint,Ze=Zt.unstable_now,Nb=Zt.unstable_getCurrentPriorityLevel,Cf=Zt.unstable_ImmediatePriority,q0=Zt.unstable_UserBlockingPriority,Tl=Zt.unstable_NormalPriority,kb=Zt.unstable_LowPriority,G0=Zt.unstable_IdlePriority,gc=null,Fn=null;function Cb(e){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(gc,e,void 0,(e.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Pb,Tb=Math.log,Rb=Math.LN2;function Pb(e){return e>>>=0,e===0?32:31-(Tb(e)/Rb|0)|0}var Ea=64,ja=4194304;function ro(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ro(a):(i&=o,i!==0&&(r=ro(i)))}else o=n&~s,o!==0?r=ro(o):i!==0&&(r=ro(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Sn(t),s=1<<n,r|=e[n],t&=~s;return r}function Mb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Db(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Sn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Mb(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function fd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function X0(){var e=Ea;return Ea<<=1,!(Ea&4194240)&&(Ea=64),e}function ru(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Sn(t),e[t]=n}function Ob(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Sn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Tf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Sn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Me=0;function Q0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var J0,Rf,Z0,ex,tx,hd=!1,Na=[],Rr=null,Pr=null,Mr=null,Mo=new Map,Do=new Map,_r=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zh(e,t){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(t.pointerId)}}function zi(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=oa(t),t!==null&&Rf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ab(e,t,n,r,s){switch(t){case"focusin":return Rr=zi(Rr,e,t,n,r,s),!0;case"dragenter":return Pr=zi(Pr,e,t,n,r,s),!0;case"mouseover":return Mr=zi(Mr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Mo.set(i,zi(Mo.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Do.set(i,zi(Do.get(i)||null,e,t,n,r,s)),!0}return!1}function nx(e){var t=fs(e.target);if(t!==null){var n=Is(t);if(n!==null){if(t=n.tag,t===13){if(t=V0(n),t!==null){e.blockedOn=t,tx(e.priority,function(){Z0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ld=r,n.target.dispatchEvent(r),ld=null}else return t=oa(n),t!==null&&Rf(t),e.blockedOn=n,!1;t.shift()}return!0}function ep(e,t,n){ol(e)&&n.delete(t)}function Ib(){hd=!1,Rr!==null&&ol(Rr)&&(Rr=null),Pr!==null&&ol(Pr)&&(Pr=null),Mr!==null&&ol(Mr)&&(Mr=null),Mo.forEach(ep),Do.forEach(ep)}function Bi(e,t){e.blockedOn===t&&(e.blockedOn=null,hd||(hd=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,Ib)))}function Oo(e){function t(s){return Bi(s,e)}if(0<Na.length){Bi(Na[0],e);for(var n=1;n<Na.length;n++){var r=Na[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rr!==null&&Bi(Rr,e),Pr!==null&&Bi(Pr,e),Mr!==null&&Bi(Mr,e),Mo.forEach(t),Do.forEach(t),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)nx(n),n.blockedOn===null&&_r.shift()}var ci=hr.ReactCurrentBatchConfig,Pl=!0;function Fb(e,t,n,r){var s=Me,i=ci.transition;ci.transition=null;try{Me=1,Pf(e,t,n,r)}finally{Me=s,ci.transition=i}}function zb(e,t,n,r){var s=Me,i=ci.transition;ci.transition=null;try{Me=4,Pf(e,t,n,r)}finally{Me=s,ci.transition=i}}function Pf(e,t,n,r){if(Pl){var s=pd(e,t,n,r);if(s===null)hu(e,t,r,Ml,n),Zh(e,r);else if(Ab(s,e,t,n,r))r.stopPropagation();else if(Zh(e,r),t&4&&-1<Lb.indexOf(e)){for(;s!==null;){var i=oa(s);if(i!==null&&J0(i),i=pd(e,t,n,r),i===null&&hu(e,t,r,Ml,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else hu(e,t,r,null,n)}}var Ml=null;function pd(e,t,n,r){if(Ml=null,e=kf(r),e=fs(e),e!==null)if(t=Is(e),t===null)e=null;else if(n=t.tag,n===13){if(e=V0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ml=e,null}function rx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nb()){case Cf:return 1;case q0:return 4;case Tl:case kb:return 16;case G0:return 536870912;default:return 16}default:return 16}}var jr=null,Mf=null,al=null;function sx(){if(al)return al;var e,t=Mf,n=t.length,r,s="value"in jr?jr.value:jr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return al=s.slice(e,1<r?1-r:void 0)}function ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ka(){return!0}function tp(){return!1}function nn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ka:tp,this.isPropagationStopped=tp,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),t}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Df=nn(ji),ia=Ke({},ji,{view:0,detail:0}),Bb=nn(ia),su,iu,$i,xc=Ke({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Of,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$i&&($i&&e.type==="mousemove"?(su=e.screenX-$i.screenX,iu=e.screenY-$i.screenY):iu=su=0,$i=e),su)},movementY:function(e){return"movementY"in e?e.movementY:iu}}),np=nn(xc),$b=Ke({},xc,{dataTransfer:0}),Ub=nn($b),Hb=Ke({},ia,{relatedTarget:0}),ou=nn(Hb),Vb=Ke({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Wb=nn(Vb),Kb=Ke({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yb=nn(Kb),qb=Ke({},ji,{data:0}),rp=nn(qb),Gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qb[e])?!!t[e]:!1}function Of(){return Jb}var Zb=Ke({},ia,{key:function(e){if(e.key){var t=Gb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Of,charCode:function(e){return e.type==="keypress"?ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),e2=nn(Zb),t2=Ke({},xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sp=nn(t2),n2=Ke({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Of}),r2=nn(n2),s2=Ke({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),i2=nn(s2),o2=Ke({},xc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a2=nn(o2),l2=[9,13,27,32],Lf=or&&"CompositionEvent"in window,po=null;or&&"documentMode"in document&&(po=document.documentMode);var c2=or&&"TextEvent"in window&&!po,ix=or&&(!Lf||po&&8<po&&11>=po),ip=" ",op=!1;function ox(e,t){switch(e){case"keyup":return l2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ax(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gs=!1;function u2(e,t){switch(e){case"compositionend":return ax(t);case"keypress":return t.which!==32?null:(op=!0,ip);case"textInput":return e=t.data,e===ip&&op?null:e;default:return null}}function d2(e,t){if(Gs)return e==="compositionend"||!Lf&&ox(e,t)?(e=sx(),al=Mf=jr=null,Gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ix&&t.locale!=="ko"?null:t.data;default:return null}}var f2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!f2[e.type]:t==="textarea"}function lx(e,t,n,r){z0(r),t=Dl(t,"onChange"),0<t.length&&(n=new Df("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mo=null,Lo=null;function h2(e){vx(e,0)}function yc(e){var t=Js(e);if(M0(t))return e}function p2(e,t){if(e==="change")return t}var cx=!1;if(or){var au;if(or){var lu="oninput"in document;if(!lu){var lp=document.createElement("div");lp.setAttribute("oninput","return;"),lu=typeof lp.oninput=="function"}au=lu}else au=!1;cx=au&&(!document.documentMode||9<document.documentMode)}function cp(){mo&&(mo.detachEvent("onpropertychange",ux),Lo=mo=null)}function ux(e){if(e.propertyName==="value"&&yc(Lo)){var t=[];lx(t,Lo,e,kf(e)),H0(h2,t)}}function m2(e,t,n){e==="focusin"?(cp(),mo=t,Lo=n,mo.attachEvent("onpropertychange",ux)):e==="focusout"&&cp()}function g2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yc(Lo)}function x2(e,t){if(e==="click")return yc(t)}function y2(e,t){if(e==="input"||e==="change")return yc(t)}function v2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:v2;function Ao(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xu.call(t,s)||!Nn(e[s],t[s]))return!1}return!0}function up(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dp(e,t){var n=up(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=up(n)}}function dx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fx(){for(var e=window,t=Nl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nl(e.document)}return t}function Af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function b2(e){var t=fx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dx(n.ownerDocument.documentElement,n)){if(r!==null&&Af(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=dp(n,i);var o=dp(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var w2=or&&"documentMode"in document&&11>=document.documentMode,Xs=null,md=null,go=null,gd=!1;function fp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gd||Xs==null||Xs!==Nl(r)||(r=Xs,"selectionStart"in r&&Af(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),go&&Ao(go,r)||(go=r,r=Dl(md,"onSelect"),0<r.length&&(t=new Df("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xs)))}function Ca(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qs={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionend:Ca("Transition","TransitionEnd")},cu={},hx={};or&&(hx=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function vc(e){if(cu[e])return cu[e];if(!Qs[e])return e;var t=Qs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hx)return cu[e]=t[n];return e}var px=vc("animationend"),mx=vc("animationiteration"),gx=vc("animationstart"),xx=vc("transitionend"),yx=new Map,hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(e,t){yx.set(e,t),As(t,[e])}for(var uu=0;uu<hp.length;uu++){var du=hp[uu],_2=du.toLowerCase(),S2=du[0].toUpperCase()+du.slice(1);Wr(_2,"on"+S2)}Wr(px,"onAnimationEnd");Wr(mx,"onAnimationIteration");Wr(gx,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(xx,"onTransitionEnd");pi("onMouseEnter",["mouseout","mouseover"]);pi("onMouseLeave",["mouseout","mouseover"]);pi("onPointerEnter",["pointerout","pointerover"]);pi("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E2=new Set("cancel close invalid load scroll toggle".split(" ").concat(so));function pp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_b(r,t,void 0,e),e.currentTarget=null}function vx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;pp(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;pp(s,a,c),i=l}}}if(Cl)throw e=dd,Cl=!1,dd=null,e}function Ie(e,t){var n=t[wd];n===void 0&&(n=t[wd]=new Set);var r=e+"__bubble";n.has(r)||(bx(t,e,2,!1),n.add(r))}function fu(e,t,n){var r=0;t&&(r|=4),bx(n,e,r,t)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function Io(e){if(!e[Ta]){e[Ta]=!0,k0.forEach(function(n){n!=="selectionchange"&&(E2.has(n)||fu(n,!1,e),fu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ta]||(t[Ta]=!0,fu("selectionchange",!1,t))}}function bx(e,t,n,r){switch(rx(t)){case 1:var s=Fb;break;case 4:s=zb;break;default:s=Pf}n=s.bind(null,t,n,e),s=void 0,!ud||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function hu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}H0(function(){var c=i,d=kf(n),f=[];e:{var h=yx.get(e);if(h!==void 0){var p=Df,x=e;switch(e){case"keypress":if(ll(n)===0)break e;case"keydown":case"keyup":p=e2;break;case"focusin":x="focus",p=ou;break;case"focusout":x="blur",p=ou;break;case"beforeblur":case"afterblur":p=ou;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ub;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=r2;break;case px:case mx:case gx:p=Wb;break;case xx:p=i2;break;case"scroll":p=Bb;break;case"wheel":p=a2;break;case"copy":case"cut":case"paste":p=Yb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sp}var g=(t&4)!==0,b=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var m=c,v;m!==null;){v=m;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=Po(m,y),S!=null&&g.push(Fo(m,S,v)))),b)break;m=m.return}0<g.length&&(h=new p(h,x,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==ld&&(x=n.relatedTarget||n.fromElement)&&(fs(x)||x[ar]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=c,x=x?fs(x):null,x!==null&&(b=Is(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(g=np,S="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=sp,S="onPointerLeave",y="onPointerEnter",m="pointer"),b=p==null?h:Js(p),v=x==null?h:Js(x),h=new g(S,m+"leave",p,n,d),h.target=b,h.relatedTarget=v,S=null,fs(d)===c&&(g=new g(y,m+"enter",x,n,d),g.target=v,g.relatedTarget=b,S=g),b=S,p&&x)t:{for(g=p,y=x,m=0,v=g;v;v=Us(v))m++;for(v=0,S=y;S;S=Us(S))v++;for(;0<m-v;)g=Us(g),m--;for(;0<v-m;)y=Us(y),v--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=Us(g),y=Us(y)}g=null}else g=null;p!==null&&mp(f,h,p,g,!1),x!==null&&b!==null&&mp(f,b,x,g,!0)}}e:{if(h=c?Js(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=p2;else if(ap(h))if(cx)E=y2;else{E=g2;var j=m2}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=x2);if(E&&(E=E(e,c))){lx(f,E,n,d);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&rd(h,"number",h.value)}switch(j=c?Js(c):window,e){case"focusin":(ap(j)||j.contentEditable==="true")&&(Xs=j,md=c,go=null);break;case"focusout":go=md=Xs=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,fp(f,n,d);break;case"selectionchange":if(w2)break;case"keydown":case"keyup":fp(f,n,d)}var w;if(Lf)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Gs?ox(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(ix&&n.locale!=="ko"&&(Gs||N!=="onCompositionStart"?N==="onCompositionEnd"&&Gs&&(w=sx()):(jr=d,Mf="value"in jr?jr.value:jr.textContent,Gs=!0)),j=Dl(c,N),0<j.length&&(N=new rp(N,e,null,n,d),f.push({event:N,listeners:j}),w?N.data=w:(w=ax(n),w!==null&&(N.data=w)))),(w=c2?u2(e,n):d2(e,n))&&(c=Dl(c,"onBeforeInput"),0<c.length&&(d=new rp("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=w))}vx(f,t)})}function Fo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Po(e,n),i!=null&&r.unshift(Fo(e,i,s)),i=Po(e,t),i!=null&&r.push(Fo(e,i,s))),e=e.return}return r}function Us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mp(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Po(n,i),l!=null&&o.unshift(Fo(n,l,a))):s||(l=Po(n,i),l!=null&&o.push(Fo(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var j2=/\r\n?/g,N2=/\u0000|\uFFFD/g;function gp(e){return(typeof e=="string"?e:""+e).replace(j2,`
`).replace(N2,"")}function Ra(e,t,n){if(t=gp(t),gp(e)!==t&&n)throw Error($(425))}function Ol(){}var xd=null,yd=null;function vd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bd=typeof setTimeout=="function"?setTimeout:void 0,k2=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,C2=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(e){return xp.resolve(null).then(e).catch(T2)}:bd;function T2(e){setTimeout(function(){throw e})}function pu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Oo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Oo(t)}function Dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ni=Math.random().toString(36).slice(2),An="__reactFiber$"+Ni,zo="__reactProps$"+Ni,ar="__reactContainer$"+Ni,wd="__reactEvents$"+Ni,R2="__reactListeners$"+Ni,P2="__reactHandles$"+Ni;function fs(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ar]||n[An]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yp(e);e!==null;){if(n=e[An])return n;e=yp(e)}return t}e=n,n=e.parentNode}return null}function oa(e){return e=e[An]||e[ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Js(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function bc(e){return e[zo]||null}var _d=[],Zs=-1;function Kr(e){return{current:e}}function Fe(e){0>Zs||(e.current=_d[Zs],_d[Zs]=null,Zs--)}function Le(e,t){Zs++,_d[Zs]=e.current,e.current=t}var $r={},Ct=Kr($r),Ht=Kr(!1),Ns=$r;function mi(e,t){var n=e.type.contextTypes;if(!n)return $r;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vt(e){return e=e.childContextTypes,e!=null}function Ll(){Fe(Ht),Fe(Ct)}function vp(e,t,n){if(Ct.current!==$r)throw Error($(168));Le(Ct,t),Le(Ht,n)}function wx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error($(108,mb(e)||"Unknown",s));return Ke({},n,r)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$r,Ns=Ct.current,Le(Ct,e),Le(Ht,Ht.current),!0}function bp(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=wx(e,t,Ns),r.__reactInternalMemoizedMergedChildContext=e,Fe(Ht),Fe(Ct),Le(Ct,e)):Fe(Ht),Le(Ht,n)}var Zn=null,wc=!1,mu=!1;function _x(e){Zn===null?Zn=[e]:Zn.push(e)}function M2(e){wc=!0,_x(e)}function Yr(){if(!mu&&Zn!==null){mu=!0;var e=0,t=Me;try{var n=Zn;for(Me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zn=null,wc=!1}catch(s){throw Zn!==null&&(Zn=Zn.slice(e+1)),Y0(Cf,Yr),s}finally{Me=t,mu=!1}}return null}var ei=[],ti=0,Il=null,Fl=0,ln=[],cn=0,ks=null,tr=1,nr="";function as(e,t){ei[ti++]=Fl,ei[ti++]=Il,Il=e,Fl=t}function Sx(e,t,n){ln[cn++]=tr,ln[cn++]=nr,ln[cn++]=ks,ks=e;var r=tr;e=nr;var s=32-Sn(r)-1;r&=~(1<<s),n+=1;var i=32-Sn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,tr=1<<32-Sn(t)+s|n<<s|r,nr=i+e}else tr=1<<i|n<<s|r,nr=e}function If(e){e.return!==null&&(as(e,1),Sx(e,1,0))}function Ff(e){for(;e===Il;)Il=ei[--ti],ei[ti]=null,Fl=ei[--ti],ei[ti]=null;for(;e===ks;)ks=ln[--cn],ln[cn]=null,nr=ln[--cn],ln[cn]=null,tr=ln[--cn],ln[cn]=null}var Jt=null,Qt=null,He=!1,_n=null;function Ex(e,t){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Qt=Dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ks!==null?{id:tr,overflow:nr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jt=e,Qt=null,!0):!1;default:return!1}}function Sd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ed(e){if(He){var t=Qt;if(t){var n=t;if(!wp(e,t)){if(Sd(e))throw Error($(418));t=Dr(n.nextSibling);var r=Jt;t&&wp(e,t)?Ex(r,n):(e.flags=e.flags&-4097|2,He=!1,Jt=e)}}else{if(Sd(e))throw Error($(418));e.flags=e.flags&-4097|2,He=!1,Jt=e}}}function _p(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function Pa(e){if(e!==Jt)return!1;if(!He)return _p(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vd(e.type,e.memoizedProps)),t&&(t=Qt)){if(Sd(e))throw jx(),Error($(418));for(;t;)Ex(e,t),t=Dr(t.nextSibling)}if(_p(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qt=Dr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qt=null}}else Qt=Jt?Dr(e.stateNode.nextSibling):null;return!0}function jx(){for(var e=Qt;e;)e=Dr(e.nextSibling)}function gi(){Qt=Jt=null,He=!1}function zf(e){_n===null?_n=[e]:_n.push(e)}var D2=hr.ReactCurrentBatchConfig;function Ui(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Ma(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sp(e){var t=e._init;return t(e._payload)}function Nx(e){function t(y,m){if(e){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Ir(y,m),y.index=0,y.sibling=null,y}function i(y,m,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,S){return m===null||m.tag!==6?(m=_u(v,y.mode,S),m.return=y,m):(m=s(m,v),m.return=y,m)}function l(y,m,v,S){var E=v.type;return E===qs?d(y,m,v.props.children,S,v.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vr&&Sp(E)===m.type)?(S=s(m,v.props),S.ref=Ui(y,m,v),S.return=y,S):(S=ml(v.type,v.key,v.props,null,y.mode,S),S.ref=Ui(y,m,v),S.return=y,S)}function c(y,m,v,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Su(v,y.mode,S),m.return=y,m):(m=s(m,v.children||[]),m.return=y,m)}function d(y,m,v,S,E){return m===null||m.tag!==7?(m=_s(v,y.mode,S,E),m.return=y,m):(m=s(m,v),m.return=y,m)}function f(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=_u(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case wa:return v=ml(m.type,m.key,m.props,null,y.mode,v),v.ref=Ui(y,null,m),v.return=y,v;case Ys:return m=Su(m,y.mode,v),m.return=y,m;case vr:var S=m._init;return f(y,S(m._payload),v)}if(no(m)||Ii(m))return m=_s(m,y.mode,v,null),m.return=y,m;Ma(y,m)}return null}function h(y,m,v,S){var E=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(y,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wa:return v.key===E?l(y,m,v,S):null;case Ys:return v.key===E?c(y,m,v,S):null;case vr:return E=v._init,h(y,m,E(v._payload),S)}if(no(v)||Ii(v))return E!==null?null:d(y,m,v,S,null);Ma(y,v)}return null}function p(y,m,v,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,a(m,y,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wa:return y=y.get(S.key===null?v:S.key)||null,l(m,y,S,E);case Ys:return y=y.get(S.key===null?v:S.key)||null,c(m,y,S,E);case vr:var j=S._init;return p(y,m,v,j(S._payload),E)}if(no(S)||Ii(S))return y=y.get(v)||null,d(m,y,S,E,null);Ma(m,S)}return null}function x(y,m,v,S){for(var E=null,j=null,w=m,N=m=0,M=null;w!==null&&N<v.length;N++){w.index>N?(M=w,w=null):M=w.sibling;var R=h(y,w,v[N],S);if(R===null){w===null&&(w=M);break}e&&w&&R.alternate===null&&t(y,w),m=i(R,m,N),j===null?E=R:j.sibling=R,j=R,w=M}if(N===v.length)return n(y,w),He&&as(y,N),E;if(w===null){for(;N<v.length;N++)w=f(y,v[N],S),w!==null&&(m=i(w,m,N),j===null?E=w:j.sibling=w,j=w);return He&&as(y,N),E}for(w=r(y,w);N<v.length;N++)M=p(w,y,N,v[N],S),M!==null&&(e&&M.alternate!==null&&w.delete(M.key===null?N:M.key),m=i(M,m,N),j===null?E=M:j.sibling=M,j=M);return e&&w.forEach(function(A){return t(y,A)}),He&&as(y,N),E}function g(y,m,v,S){var E=Ii(v);if(typeof E!="function")throw Error($(150));if(v=E.call(v),v==null)throw Error($(151));for(var j=E=null,w=m,N=m=0,M=null,R=v.next();w!==null&&!R.done;N++,R=v.next()){w.index>N?(M=w,w=null):M=w.sibling;var A=h(y,w,R.value,S);if(A===null){w===null&&(w=M);break}e&&w&&A.alternate===null&&t(y,w),m=i(A,m,N),j===null?E=A:j.sibling=A,j=A,w=M}if(R.done)return n(y,w),He&&as(y,N),E;if(w===null){for(;!R.done;N++,R=v.next())R=f(y,R.value,S),R!==null&&(m=i(R,m,N),j===null?E=R:j.sibling=R,j=R);return He&&as(y,N),E}for(w=r(y,w);!R.done;N++,R=v.next())R=p(w,y,N,R.value,S),R!==null&&(e&&R.alternate!==null&&w.delete(R.key===null?N:R.key),m=i(R,m,N),j===null?E=R:j.sibling=R,j=R);return e&&w.forEach(function(z){return t(y,z)}),He&&as(y,N),E}function b(y,m,v,S){if(typeof v=="object"&&v!==null&&v.type===qs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case wa:e:{for(var E=v.key,j=m;j!==null;){if(j.key===E){if(E=v.type,E===qs){if(j.tag===7){n(y,j.sibling),m=s(j,v.props.children),m.return=y,y=m;break e}}else if(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vr&&Sp(E)===j.type){n(y,j.sibling),m=s(j,v.props),m.ref=Ui(y,j,v),m.return=y,y=m;break e}n(y,j);break}else t(y,j);j=j.sibling}v.type===qs?(m=_s(v.props.children,y.mode,S,v.key),m.return=y,y=m):(S=ml(v.type,v.key,v.props,null,y.mode,S),S.ref=Ui(y,m,v),S.return=y,y=S)}return o(y);case Ys:e:{for(j=v.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(y,m.sibling),m=s(m,v.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=Su(v,y.mode,S),m.return=y,y=m}return o(y);case vr:return j=v._init,b(y,m,j(v._payload),S)}if(no(v))return x(y,m,v,S);if(Ii(v))return g(y,m,v,S);Ma(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,v),m.return=y,y=m):(n(y,m),m=_u(v,y.mode,S),m.return=y,y=m),o(y)):n(y,m)}return b}var xi=Nx(!0),kx=Nx(!1),zl=Kr(null),Bl=null,ni=null,Bf=null;function $f(){Bf=ni=Bl=null}function Uf(e){var t=zl.current;Fe(zl),e._currentValue=t}function jd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ui(e,t){Bl=e,Bf=ni=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function hn(e){var t=e._currentValue;if(Bf!==e)if(e={context:e,memoizedValue:t,next:null},ni===null){if(Bl===null)throw Error($(308));ni=e,Bl.dependencies={lanes:0,firstContext:e}}else ni=ni.next=e;return t}var hs=null;function Hf(e){hs===null?hs=[e]:hs.push(e)}function Cx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Hf(t)):(n.next=s.next,s.next=n),t.interleaved=n,lr(e,r)}function lr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var br=!1;function Vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Or(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,lr(e,n)}return s=r.interleaved,s===null?(t.next=t,Hf(r)):(t.next=s.next,s.next=t),r.interleaved=t,lr(e,n)}function cl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tf(e,n)}}function Ep(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $l(e,t,n,r){var s=e.updateQueue;br=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,g=a;switch(h=t,p=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(p,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(p,f,h):x,h==null)break e;f=Ke({},f,h);break e;case 2:br=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ts|=o,e.lanes=o,e.memoizedState=f}}function jp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var aa={},zn=Kr(aa),Bo=Kr(aa),$o=Kr(aa);function ps(e){if(e===aa)throw Error($(174));return e}function Wf(e,t){switch(Le($o,t),Le(Bo,e),Le(zn,aa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:id(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=id(t,e)}Fe(zn),Le(zn,t)}function yi(){Fe(zn),Fe(Bo),Fe($o)}function Rx(e){ps($o.current);var t=ps(zn.current),n=id(t,e.type);t!==n&&(Le(Bo,e),Le(zn,n))}function Kf(e){Bo.current===e&&(Fe(zn),Fe(Bo))}var Ve=Kr(0);function Ul(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gu=[];function Yf(){for(var e=0;e<gu.length;e++)gu[e]._workInProgressVersionPrimary=null;gu.length=0}var ul=hr.ReactCurrentDispatcher,xu=hr.ReactCurrentBatchConfig,Cs=0,We=null,at=null,dt=null,Hl=!1,xo=!1,Uo=0,O2=0;function wt(){throw Error($(321))}function qf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nn(e[n],t[n]))return!1;return!0}function Gf(e,t,n,r,s,i){if(Cs=i,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ul.current=e===null||e.memoizedState===null?F2:z2,e=n(r,s),xo){i=0;do{if(xo=!1,Uo=0,25<=i)throw Error($(301));i+=1,dt=at=null,t.updateQueue=null,ul.current=B2,e=n(r,s)}while(xo)}if(ul.current=Vl,t=at!==null&&at.next!==null,Cs=0,dt=at=We=null,Hl=!1,t)throw Error($(300));return e}function Xf(){var e=Uo!==0;return Uo=0,e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?We.memoizedState=dt=e:dt=dt.next=e,dt}function pn(){if(at===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=dt===null?We.memoizedState:dt.next;if(t!==null)dt=t,at=e;else{if(e===null)throw Error($(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},dt===null?We.memoizedState=dt=e:dt=dt.next=e}return dt}function Ho(e,t){return typeof t=="function"?t(e):t}function yu(e){var t=pn(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=at,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Cs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,We.lanes|=d,Ts|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Nn(r,t.memoizedState)||(Ut=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,We.lanes|=i,Ts|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vu(e){var t=pn(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Nn(i,t.memoizedState)||(Ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Px(){}function Mx(e,t){var n=We,r=pn(),s=t(),i=!Nn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ut=!0),r=r.queue,Qf(Lx.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Vo(9,Ox.bind(null,n,r,s,t),void 0,null),ft===null)throw Error($(349));Cs&30||Dx(n,t,s)}return s}function Dx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ox(e,t,n,r){t.value=n,t.getSnapshot=r,Ax(t)&&Ix(e)}function Lx(e,t,n){return n(function(){Ax(t)&&Ix(e)})}function Ax(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nn(e,n)}catch{return!0}}function Ix(e){var t=lr(e,1);t!==null&&En(t,e,1,-1)}function Np(e){var t=On();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t.queue=e,e=e.dispatch=I2.bind(null,We,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fx(){return pn().memoizedState}function dl(e,t,n,r){var s=On();We.flags|=e,s.memoizedState=Vo(1|t,n,void 0,r===void 0?null:r)}function _c(e,t,n,r){var s=pn();r=r===void 0?null:r;var i=void 0;if(at!==null){var o=at.memoizedState;if(i=o.destroy,r!==null&&qf(r,o.deps)){s.memoizedState=Vo(t,n,i,r);return}}We.flags|=e,s.memoizedState=Vo(1|t,n,i,r)}function kp(e,t){return dl(8390656,8,e,t)}function Qf(e,t){return _c(2048,8,e,t)}function zx(e,t){return _c(4,2,e,t)}function Bx(e,t){return _c(4,4,e,t)}function $x(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ux(e,t,n){return n=n!=null?n.concat([e]):null,_c(4,4,$x.bind(null,t,e),n)}function Jf(){}function Hx(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vx(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wx(e,t,n){return Cs&21?(Nn(n,t)||(n=X0(),We.lanes|=n,Ts|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=n)}function L2(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var r=xu.transition;xu.transition={};try{e(!1),t()}finally{Me=n,xu.transition=r}}function Kx(){return pn().memoizedState}function A2(e,t,n){var r=Ar(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yx(e))qx(t,n);else if(n=Cx(e,t,n,r),n!==null){var s=Mt();En(n,e,r,s),Gx(n,t,r)}}function I2(e,t,n){var r=Ar(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yx(e))qx(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Nn(a,o)){var l=t.interleaved;l===null?(s.next=s,Hf(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Cx(e,t,s,r),n!==null&&(s=Mt(),En(n,e,r,s),Gx(n,t,r))}}function Yx(e){var t=e.alternate;return e===We||t!==null&&t===We}function qx(e,t){xo=Hl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tf(e,n)}}var Vl={readContext:hn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},F2={readContext:hn,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:hn,useEffect:kp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,dl(4194308,4,$x.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return dl(4,2,e,t)},useMemo:function(e,t){var n=On();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=On();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=A2.bind(null,We,e),[r.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:Np,useDebugValue:Jf,useDeferredValue:function(e){return On().memoizedState=e},useTransition:function(){var e=Np(!1),t=e[0];return e=L2.bind(null,e[1]),On().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=We,s=On();if(He){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),ft===null)throw Error($(349));Cs&30||Dx(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,kp(Lx.bind(null,r,i,e),[e]),r.flags|=2048,Vo(9,Ox.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=On(),t=ft.identifierPrefix;if(He){var n=nr,r=tr;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Uo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=O2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},z2={readContext:hn,useCallback:Hx,useContext:hn,useEffect:Qf,useImperativeHandle:Ux,useInsertionEffect:zx,useLayoutEffect:Bx,useMemo:Vx,useReducer:yu,useRef:Fx,useState:function(){return yu(Ho)},useDebugValue:Jf,useDeferredValue:function(e){var t=pn();return Wx(t,at.memoizedState,e)},useTransition:function(){var e=yu(Ho)[0],t=pn().memoizedState;return[e,t]},useMutableSource:Px,useSyncExternalStore:Mx,useId:Kx,unstable_isNewReconciler:!1},B2={readContext:hn,useCallback:Hx,useContext:hn,useEffect:Qf,useImperativeHandle:Ux,useInsertionEffect:zx,useLayoutEffect:Bx,useMemo:Vx,useReducer:vu,useRef:Fx,useState:function(){return vu(Ho)},useDebugValue:Jf,useDeferredValue:function(e){var t=pn();return at===null?t.memoizedState=e:Wx(t,at.memoizedState,e)},useTransition:function(){var e=vu(Ho)[0],t=pn().memoizedState;return[e,t]},useMutableSource:Px,useSyncExternalStore:Mx,useId:Kx,unstable_isNewReconciler:!1};function vn(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sc={isMounted:function(e){return(e=e._reactInternals)?Is(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mt(),s=Ar(e),i=sr(r,s);i.payload=t,n!=null&&(i.callback=n),t=Or(e,i,s),t!==null&&(En(t,e,s,r),cl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mt(),s=Ar(e),i=sr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Or(e,i,s),t!==null&&(En(t,e,s,r),cl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mt(),r=Ar(e),s=sr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Or(e,s,r),t!==null&&(En(t,e,r,n),cl(t,e,r))}};function Cp(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ao(n,r)||!Ao(s,i):!0}function Xx(e,t,n){var r=!1,s=$r,i=t.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=Vt(t)?Ns:Ct.current,r=t.contextTypes,i=(r=r!=null)?mi(e,s):$r),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Tp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sc.enqueueReplaceState(t,t.state,null)}function kd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Vf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=Vt(t)?Ns:Ct.current,s.context=mi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Nd(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Sc.enqueueReplaceState(s,s.state,null),$l(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function vi(e,t){try{var n="",r=t;do n+=pb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function bu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $2=typeof WeakMap=="function"?WeakMap:Map;function Qx(e,t,n){n=sr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Fd=r),Cd(e,t)},n}function Jx(e,t,n){n=sr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Cd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cd(e,t),typeof r!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Rp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=tw.bind(null,e,t,n),t.then(e,e))}function Pp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sr(-1,1),t.tag=2,Or(n,t,1))),n.lanes|=1),e)}var U2=hr.ReactCurrentOwner,Ut=!1;function Rt(e,t,n,r){t.child=e===null?kx(t,null,n,r):xi(t,e.child,n,r)}function Dp(e,t,n,r,s){n=n.render;var i=t.ref;return ui(t,s),r=Gf(e,t,n,r,i,s),n=Xf(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cr(e,t,s)):(He&&n&&If(t),t.flags|=1,Rt(e,t,r,s),t.child)}function Op(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!oh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Zx(e,t,i,r,s)):(e=ml(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ao,n(o,r)&&e.ref===t.ref)return cr(e,t,s)}return t.flags|=1,e=Ir(i,r),e.ref=t.ref,e.return=t,t.child=e}function Zx(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ao(i,r)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,cr(e,t,s)}return Td(e,t,n,r,s)}function ey(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(si,Gt),Gt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(si,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(si,Gt),Gt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Le(si,Gt),Gt|=r;return Rt(e,t,s,n),t.child}function ty(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Td(e,t,n,r,s){var i=Vt(n)?Ns:Ct.current;return i=mi(t,i),ui(t,s),n=Gf(e,t,n,r,i,s),r=Xf(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cr(e,t,s)):(He&&r&&If(t),t.flags|=1,Rt(e,t,n,s),t.child)}function Lp(e,t,n,r,s){if(Vt(n)){var i=!0;Al(t)}else i=!1;if(ui(t,s),t.stateNode===null)fl(e,t),Xx(t,n,r),kd(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=Vt(n)?Ns:Ct.current,c=mi(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Tp(t,o,r,c),br=!1;var h=t.memoizedState;o.state=h,$l(t,r,o,s),l=t.memoizedState,a!==r||h!==l||Ht.current||br?(typeof d=="function"&&(Nd(t,n,d,r),l=t.memoizedState),(a=br||Cp(t,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Tx(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vn(t.type,a),o.props=c,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=hn(l):(l=Vt(n)?Ns:Ct.current,l=mi(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Tp(t,o,r,l),br=!1,h=t.memoizedState,o.state=h,$l(t,r,o,s);var x=t.memoizedState;a!==f||h!==x||Ht.current||br?(typeof p=="function"&&(Nd(t,n,p,r),x=t.memoizedState),(c=br||Cp(t,n,c,r,h,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Rd(e,t,n,r,i,s)}function Rd(e,t,n,r,s,i){ty(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&bp(t,n,!1),cr(e,t,i);r=t.stateNode,U2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,a,i)):Rt(e,t,a,i),t.memoizedState=r.state,s&&bp(t,n,!0),t.child}function ny(e){var t=e.stateNode;t.pendingContext?vp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vp(e,t.context,!1),Wf(e,t.containerInfo)}function Ap(e,t,n,r,s){return gi(),zf(s),t.flags|=256,Rt(e,t,n,r),t.child}var Pd={dehydrated:null,treeContext:null,retryLane:0};function Md(e){return{baseLanes:e,cachePool:null,transitions:null}}function ry(e,t,n){var r=t.pendingProps,s=Ve.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Le(Ve,s&1),e===null)return Ed(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nc(o,r,0,null),e=_s(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Md(n),t.memoizedState=Pd,e):Zf(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return H2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ir(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ir(a,i):(i=_s(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Md(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Pd,r}return i=e.child,e=i.sibling,r=Ir(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zf(e,t){return t=Nc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Da(e,t,n,r){return r!==null&&zf(r),xi(t,e.child,null,n),e=Zf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function H2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=bu(Error($(422))),Da(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Nc({mode:"visible",children:r.children},s,0,null),i=_s(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&xi(t,e.child,null,o),t.child.memoizedState=Md(o),t.memoizedState=Pd,i);if(!(t.mode&1))return Da(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=bu(i,r,void 0),Da(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ut||a){if(r=ft,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,lr(e,s),En(r,e,s,-1))}return ih(),r=bu(Error($(421))),Da(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=nw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Qt=Dr(s.nextSibling),Jt=t,He=!0,_n=null,e!==null&&(ln[cn++]=tr,ln[cn++]=nr,ln[cn++]=ks,tr=e.id,nr=e.overflow,ks=t),t=Zf(t,r.children),t.flags|=4096,t)}function Ip(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jd(e.return,t,n)}function wu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function sy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Rt(e,t,r.children,n),r=Ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ip(e,n,t);else if(e.tag===19)Ip(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le(Ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ul(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),wu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ul(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}wu(t,!0,n,null,i);break;case"together":wu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ts|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Ir(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ir(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function V2(e,t,n){switch(t.tag){case 3:ny(t),gi();break;case 5:Rx(t);break;case 1:Vt(t.type)&&Al(t);break;case 4:Wf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Le(zl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ve,Ve.current&1),t.flags|=128,null):n&t.child.childLanes?ry(e,t,n):(Le(Ve,Ve.current&1),e=cr(e,t,n),e!==null?e.sibling:null);Le(Ve,Ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Ve,Ve.current),r)break;return null;case 22:case 23:return t.lanes=0,ey(e,t,n)}return cr(e,t,n)}var iy,Dd,oy,ay;iy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dd=function(){};oy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ps(zn.current);var i=null;switch(n){case"input":s=td(e,s),r=td(e,r),i=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),i=[];break;case"textarea":s=sd(e,s),r=sd(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ol)}od(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(To.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(To.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ie("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};ay=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hi(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function W2(e,t,n){var r=t.pendingProps;switch(Ff(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Vt(t.type)&&Ll(),_t(t),null;case 3:return r=t.stateNode,yi(),Fe(Ht),Fe(Ct),Yf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_n!==null&&($d(_n),_n=null))),Dd(e,t),_t(t),null;case 5:Kf(t);var s=ps($o.current);if(n=t.type,e!==null&&t.stateNode!=null)oy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return _t(t),null}if(e=ps(zn.current),Pa(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[An]=t,r[zo]=i,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<so.length;s++)Ie(so[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Kh(r,i),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",r);break;case"textarea":qh(r,i),Ie("invalid",r)}od(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ra(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ra(r.textContent,a,e),s=["children",""+a]):To.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":_a(r),Yh(r,i,!0);break;case"textarea":_a(r),Gh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ol)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=L0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[An]=t,e[zo]=r,iy(e,t,!1,!1),t.stateNode=e;e:{switch(o=ad(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),s=r;break;case"iframe":case"object":case"embed":Ie("load",e),s=r;break;case"video":case"audio":for(s=0;s<so.length;s++)Ie(so[s],e);s=r;break;case"source":Ie("error",e),s=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),s=r;break;case"details":Ie("toggle",e),s=r;break;case"input":Kh(e,r),s=td(e,r),Ie("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":qh(e,r),s=sd(e,r),Ie("invalid",e);break;default:s=r}od(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?F0(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&A0(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ro(e,l):typeof l=="number"&&Ro(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(To.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ie("scroll",e):l!=null&&Sf(e,i,l,o))}switch(n){case"input":_a(e),Yh(e,r,!1);break;case"textarea":_a(e),Gh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Br(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?oi(e,!!r.multiple,i,!1):r.defaultValue!=null&&oi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)ay(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=ps($o.current),ps(zn.current),Pa(t)){if(r=t.stateNode,n=t.memoizedProps,r[An]=t,(i=r.nodeValue!==n)&&(e=Jt,e!==null))switch(e.tag){case 3:Ra(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ra(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[An]=t,t.stateNode=r}return _t(t),null;case 13:if(Fe(Ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Qt!==null&&t.mode&1&&!(t.flags&128))jx(),gi(),t.flags|=98560,i=!1;else if(i=Pa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[An]=t}else gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),i=!1}else _n!==null&&($d(_n),_n=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?lt===0&&(lt=3):ih())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return yi(),Dd(e,t),e===null&&Io(t.stateNode.containerInfo),_t(t),null;case 10:return Uf(t.type._context),_t(t),null;case 17:return Vt(t.type)&&Ll(),_t(t),null;case 19:if(Fe(Ve),i=t.memoizedState,i===null)return _t(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Hi(i,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ul(e),o!==null){for(t.flags|=128,Hi(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(Ve,Ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ze()>bi&&(t.flags|=128,r=!0,Hi(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ul(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return _t(t),null}else 2*Ze()-i.renderingStartTime>bi&&n!==1073741824&&(t.flags|=128,r=!0,Hi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ze(),t.sibling=null,n=Ve.current,Le(Ve,r?n&1|2:n&1),t):(_t(t),null);case 22:case 23:return sh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Gt&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function K2(e,t){switch(Ff(t),t.tag){case 1:return Vt(t.type)&&Ll(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yi(),Fe(Ht),Fe(Ct),Yf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kf(t),null;case 13:if(Fe(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(Ve),null;case 4:return yi(),null;case 10:return Uf(t.type._context),null;case 22:case 23:return sh(),null;case 24:return null;default:return null}}var Oa=!1,jt=!1,Y2=typeof WeakSet=="function"?WeakSet:Set,X=null;function ri(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(e,t,r)}else n.current=null}function Od(e,t,n){try{n()}catch(r){Xe(e,t,r)}}var Fp=!1;function q2(e,t){if(xd=Pl,e=fx(),Af(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yd={focusedElem:e,selectionRange:n},Pl=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,b=x.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vn(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(S){Xe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return x=Fp,Fp=!1,x}function yo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Od(t,n,i)}s=s.next}while(s!==r)}}function Ec(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ld(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ly(e){var t=e.alternate;t!==null&&(e.alternate=null,ly(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[An],delete t[zo],delete t[wd],delete t[R2],delete t[P2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cy(e){return e.tag===5||e.tag===3||e.tag===4}function zp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ad(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ol));else if(r!==4&&(e=e.child,e!==null))for(Ad(e,t,n),e=e.sibling;e!==null;)Ad(e,t,n),e=e.sibling}function Id(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Id(e,t,n),e=e.sibling;e!==null;)Id(e,t,n),e=e.sibling}var mt=null,bn=!1;function gr(e,t,n){for(n=n.child;n!==null;)uy(e,t,n),n=n.sibling}function uy(e,t,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(gc,n)}catch{}switch(n.tag){case 5:jt||ri(n,t);case 6:var r=mt,s=bn;mt=null,gr(e,t,n),mt=r,bn=s,mt!==null&&(bn?(e=mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(bn?(e=mt,n=n.stateNode,e.nodeType===8?pu(e.parentNode,n):e.nodeType===1&&pu(e,n),Oo(e)):pu(mt,n.stateNode));break;case 4:r=mt,s=bn,mt=n.stateNode.containerInfo,bn=!0,gr(e,t,n),mt=r,bn=s;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Od(n,t,o),s=s.next}while(s!==r)}gr(e,t,n);break;case 1:if(!jt&&(ri(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Xe(n,t,a)}gr(e,t,n);break;case 21:gr(e,t,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,gr(e,t,n),jt=r):gr(e,t,n);break;default:gr(e,t,n)}}function Bp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Y2),t.forEach(function(r){var s=rw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,bn=!1;break e;case 3:mt=a.stateNode.containerInfo,bn=!0;break e;case 4:mt=a.stateNode.containerInfo,bn=!0;break e}a=a.return}if(mt===null)throw Error($(160));uy(i,o,s),mt=null,bn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Xe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dy(t,e),t=t.sibling}function dy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(t,e),Rn(e),r&4){try{yo(3,e,e.return),Ec(3,e)}catch(g){Xe(e,e.return,g)}try{yo(5,e,e.return)}catch(g){Xe(e,e.return,g)}}break;case 1:yn(t,e),Rn(e),r&512&&n!==null&&ri(n,n.return);break;case 5:if(yn(t,e),Rn(e),r&512&&n!==null&&ri(n,n.return),e.flags&32){var s=e.stateNode;try{Ro(s,"")}catch(g){Xe(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&D0(s,i),ad(a,o);var c=ad(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?F0(s,f):d==="dangerouslySetInnerHTML"?A0(s,f):d==="children"?Ro(s,f):Sf(s,d,f,c)}switch(a){case"input":nd(s,i);break;case"textarea":O0(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?oi(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?oi(s,!!i.multiple,i.defaultValue,!0):oi(s,!!i.multiple,i.multiple?[]:"",!1))}s[zo]=i}catch(g){Xe(e,e.return,g)}}break;case 6:if(yn(t,e),Rn(e),r&4){if(e.stateNode===null)throw Error($(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Xe(e,e.return,g)}}break;case 3:if(yn(t,e),Rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oo(t.containerInfo)}catch(g){Xe(e,e.return,g)}break;case 4:yn(t,e),Rn(e);break;case 13:yn(t,e),Rn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nh=Ze())),r&4&&Bp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(jt=(c=jt)||d,yn(t,e),jt=c):yn(t,e),Rn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,p=h.child,h.tag){case 0:case 11:case 14:case 15:yo(4,h,h.return);break;case 1:ri(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Xe(r,n,g)}}break;case 5:ri(h,h.return);break;case 22:if(h.memoizedState!==null){Up(f);continue}}p!==null?(p.return=h,X=p):Up(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=I0("display",o))}catch(g){Xe(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Xe(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yn(t,e),Rn(e),r&4&&Bp(e);break;case 21:break;default:yn(t,e),Rn(e)}}function Rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cy(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ro(s,""),r.flags&=-33);var i=zp(e);Id(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=zp(e);Ad(e,a,o);break;default:throw Error($(161))}}catch(l){Xe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function G2(e,t,n){X=e,fy(e)}function fy(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Oa;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||jt;a=Oa;var c=jt;if(Oa=o,(jt=l)&&!c)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?Hp(s):l!==null?(l.return=o,X=l):Hp(s);for(;i!==null;)X=i,fy(i),i=i.sibling;X=s,Oa=a,jt=c}$p(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):$p(e)}}function $p(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jt||Ec(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!jt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:vn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&jp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Oo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}jt||t.flags&512&&Ld(t)}catch(h){Xe(t,t.return,h)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Up(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Hp(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ec(4,t)}catch(l){Xe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Xe(t,s,l)}}var i=t.return;try{Ld(t)}catch(l){Xe(t,i,l)}break;case 5:var o=t.return;try{Ld(t)}catch(l){Xe(t,o,l)}}}catch(l){Xe(t,t.return,l)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var X2=Math.ceil,Wl=hr.ReactCurrentDispatcher,eh=hr.ReactCurrentOwner,fn=hr.ReactCurrentBatchConfig,Ee=0,ft=null,st=null,yt=0,Gt=0,si=Kr(0),lt=0,Wo=null,Ts=0,jc=0,th=0,vo=null,Bt=null,nh=0,bi=1/0,Jn=null,Kl=!1,Fd=null,Lr=null,La=!1,Nr=null,Yl=0,bo=0,zd=null,hl=-1,pl=0;function Mt(){return Ee&6?Ze():hl!==-1?hl:hl=Ze()}function Ar(e){return e.mode&1?Ee&2&&yt!==0?yt&-yt:D2.transition!==null?(pl===0&&(pl=X0()),pl):(e=Me,e!==0||(e=window.event,e=e===void 0?16:rx(e.type)),e):1}function En(e,t,n,r){if(50<bo)throw bo=0,zd=null,Error($(185));sa(e,n,r),(!(Ee&2)||e!==ft)&&(e===ft&&(!(Ee&2)&&(jc|=n),lt===4&&Sr(e,yt)),Wt(e,r),n===1&&Ee===0&&!(t.mode&1)&&(bi=Ze()+500,wc&&Yr()))}function Wt(e,t){var n=e.callbackNode;Db(e,t);var r=Rl(e,e===ft?yt:0);if(r===0)n!==null&&Jh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Jh(n),t===1)e.tag===0?M2(Vp.bind(null,e)):_x(Vp.bind(null,e)),C2(function(){!(Ee&6)&&Yr()}),n=null;else{switch(Q0(r)){case 1:n=Cf;break;case 4:n=q0;break;case 16:n=Tl;break;case 536870912:n=G0;break;default:n=Tl}n=by(n,hy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hy(e,t){if(hl=-1,pl=0,Ee&6)throw Error($(327));var n=e.callbackNode;if(di()&&e.callbackNode!==n)return null;var r=Rl(e,e===ft?yt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ql(e,r);else{t=r;var s=Ee;Ee|=2;var i=my();(ft!==e||yt!==t)&&(Jn=null,bi=Ze()+500,ws(e,t));do try{Z2();break}catch(a){py(e,a)}while(!0);$f(),Wl.current=i,Ee=s,st!==null?t=0:(ft=null,yt=0,t=lt)}if(t!==0){if(t===2&&(s=fd(e),s!==0&&(r=s,t=Bd(e,s))),t===1)throw n=Wo,ws(e,0),Sr(e,r),Wt(e,Ze()),n;if(t===6)Sr(e,r);else{if(s=e.current.alternate,!(r&30)&&!Q2(s)&&(t=ql(e,r),t===2&&(i=fd(e),i!==0&&(r=i,t=Bd(e,i))),t===1))throw n=Wo,ws(e,0),Sr(e,r),Wt(e,Ze()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:ls(e,Bt,Jn);break;case 3:if(Sr(e,r),(r&130023424)===r&&(t=nh+500-Ze(),10<t)){if(Rl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Mt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bd(ls.bind(null,e,Bt,Jn),t);break}ls(e,Bt,Jn);break;case 4:if(Sr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Sn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*X2(r/1960))-r,10<r){e.timeoutHandle=bd(ls.bind(null,e,Bt,Jn),r);break}ls(e,Bt,Jn);break;case 5:ls(e,Bt,Jn);break;default:throw Error($(329))}}}return Wt(e,Ze()),e.callbackNode===n?hy.bind(null,e):null}function Bd(e,t){var n=vo;return e.current.memoizedState.isDehydrated&&(ws(e,t).flags|=256),e=ql(e,t),e!==2&&(t=Bt,Bt=n,t!==null&&$d(t)),e}function $d(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function Q2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sr(e,t){for(t&=~th,t&=~jc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Sn(t),r=1<<n;e[n]=-1,t&=~r}}function Vp(e){if(Ee&6)throw Error($(327));di();var t=Rl(e,0);if(!(t&1))return Wt(e,Ze()),null;var n=ql(e,t);if(e.tag!==0&&n===2){var r=fd(e);r!==0&&(t=r,n=Bd(e,r))}if(n===1)throw n=Wo,ws(e,0),Sr(e,t),Wt(e,Ze()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ls(e,Bt,Jn),Wt(e,Ze()),null}function rh(e,t){var n=Ee;Ee|=1;try{return e(t)}finally{Ee=n,Ee===0&&(bi=Ze()+500,wc&&Yr())}}function Rs(e){Nr!==null&&Nr.tag===0&&!(Ee&6)&&di();var t=Ee;Ee|=1;var n=fn.transition,r=Me;try{if(fn.transition=null,Me=1,e)return e()}finally{Me=r,fn.transition=n,Ee=t,!(Ee&6)&&Yr()}}function sh(){Gt=si.current,Fe(si)}function ws(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,k2(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(Ff(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ll();break;case 3:yi(),Fe(Ht),Fe(Ct),Yf();break;case 5:Kf(r);break;case 4:yi();break;case 13:Fe(Ve);break;case 19:Fe(Ve);break;case 10:Uf(r.type._context);break;case 22:case 23:sh()}n=n.return}if(ft=e,st=e=Ir(e.current,null),yt=Gt=t,lt=0,Wo=null,th=jc=Ts=0,Bt=vo=null,hs!==null){for(t=0;t<hs.length;t++)if(n=hs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}hs=null}return e}function py(e,t){do{var n=st;try{if($f(),ul.current=Vl,Hl){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hl=!1}if(Cs=0,dt=at=We=null,xo=!1,Uo=0,eh.current=null,n===null||n.return===null){lt=1,Wo=t,st=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Pp(o);if(p!==null){p.flags&=-257,Mp(p,o,a,i,t),p.mode&1&&Rp(i,c,t),t=p,l=c;var x=t.updateQueue;if(x===null){var g=new Set;g.add(l),t.updateQueue=g}else x.add(l);break e}else{if(!(t&1)){Rp(i,c,t),ih();break e}l=Error($(426))}}else if(He&&a.mode&1){var b=Pp(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Mp(b,o,a,i,t),zf(vi(l,a));break e}}i=l=vi(l,a),lt!==4&&(lt=2),vo===null?vo=[i]:vo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Qx(i,l,t);Ep(i,y);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Lr===null||!Lr.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Jx(i,a,t);Ep(i,S);break e}}i=i.return}while(i!==null)}xy(n)}catch(E){t=E,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function my(){var e=Wl.current;return Wl.current=Vl,e===null?Vl:e}function ih(){(lt===0||lt===3||lt===2)&&(lt=4),ft===null||!(Ts&268435455)&&!(jc&268435455)||Sr(ft,yt)}function ql(e,t){var n=Ee;Ee|=2;var r=my();(ft!==e||yt!==t)&&(Jn=null,ws(e,t));do try{J2();break}catch(s){py(e,s)}while(!0);if($f(),Ee=n,Wl.current=r,st!==null)throw Error($(261));return ft=null,yt=0,lt}function J2(){for(;st!==null;)gy(st)}function Z2(){for(;st!==null&&!Eb();)gy(st)}function gy(e){var t=vy(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?xy(e):st=t,eh.current=null}function xy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=K2(n,t),n!==null){n.flags&=32767,st=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,st=null;return}}else if(n=W2(n,t,Gt),n!==null){st=n;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);lt===0&&(lt=5)}function ls(e,t,n){var r=Me,s=fn.transition;try{fn.transition=null,Me=1,ew(e,t,n,r)}finally{fn.transition=s,Me=r}return null}function ew(e,t,n,r){do di();while(Nr!==null);if(Ee&6)throw Error($(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ob(e,i),e===ft&&(st=ft=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,by(Tl,function(){return di(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=fn.transition,fn.transition=null;var o=Me;Me=1;var a=Ee;Ee|=4,eh.current=null,q2(e,n),dy(n,e),b2(yd),Pl=!!xd,yd=xd=null,e.current=n,G2(n),jb(),Ee=a,Me=o,fn.transition=i}else e.current=n;if(La&&(La=!1,Nr=e,Yl=s),i=e.pendingLanes,i===0&&(Lr=null),Cb(n.stateNode),Wt(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kl)throw Kl=!1,e=Fd,Fd=null,e;return Yl&1&&e.tag!==0&&di(),i=e.pendingLanes,i&1?e===zd?bo++:(bo=0,zd=e):bo=0,Yr(),null}function di(){if(Nr!==null){var e=Q0(Yl),t=fn.transition,n=Me;try{if(fn.transition=null,Me=16>e?16:e,Nr===null)var r=!1;else{if(e=Nr,Nr=null,Yl=0,Ee&6)throw Error($(331));var s=Ee;for(Ee|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:yo(8,d,i)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,p=d.return;if(ly(d),d===c){X=null;break}if(h!==null){h.return=p,X=h;break}X=p}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yo(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,X=y;break e}X=i.return}}var m=e.current;for(X=m;X!==null;){o=X;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,X=v;else e:for(o=m;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ec(9,a)}}catch(E){Xe(a,a.return,E)}if(a===o){X=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,X=S;break e}X=a.return}}if(Ee=s,Yr(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(gc,e)}catch{}r=!0}return r}finally{Me=n,fn.transition=t}}return!1}function Wp(e,t,n){t=vi(n,t),t=Qx(e,t,1),e=Or(e,t,1),t=Mt(),e!==null&&(sa(e,1,t),Wt(e,t))}function Xe(e,t,n){if(e.tag===3)Wp(e,e,n);else for(;t!==null;){if(t.tag===3){Wp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lr===null||!Lr.has(r))){e=vi(n,e),e=Jx(t,e,1),t=Or(t,e,1),e=Mt(),t!==null&&(sa(t,1,e),Wt(t,e));break}}t=t.return}}function tw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(yt&n)===n&&(lt===4||lt===3&&(yt&130023424)===yt&&500>Ze()-nh?ws(e,0):th|=n),Wt(e,t)}function yy(e,t){t===0&&(e.mode&1?(t=ja,ja<<=1,!(ja&130023424)&&(ja=4194304)):t=1);var n=Mt();e=lr(e,t),e!==null&&(sa(e,t,n),Wt(e,n))}function nw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yy(e,n)}function rw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),yy(e,n)}var vy;vy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ut=!1,V2(e,t,n);Ut=!!(e.flags&131072)}else Ut=!1,He&&t.flags&1048576&&Sx(t,Fl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fl(e,t),e=t.pendingProps;var s=mi(t,Ct.current);ui(t,n),s=Gf(null,t,r,e,s,n);var i=Xf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vt(r)?(i=!0,Al(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vf(t),s.updater=Sc,t.stateNode=s,s._reactInternals=t,kd(t,r,e,n),t=Rd(null,t,r,!0,i,n)):(t.tag=0,He&&i&&If(t),Rt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=iw(r),e=vn(r,e),s){case 0:t=Td(null,t,r,e,n);break e;case 1:t=Lp(null,t,r,e,n);break e;case 11:t=Dp(null,t,r,e,n);break e;case 14:t=Op(null,t,r,vn(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),Td(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),Lp(e,t,r,s,n);case 3:e:{if(ny(t),e===null)throw Error($(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Tx(e,t),$l(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=vi(Error($(423)),t),t=Ap(e,t,r,n,s);break e}else if(r!==s){s=vi(Error($(424)),t),t=Ap(e,t,r,n,s);break e}else for(Qt=Dr(t.stateNode.containerInfo.firstChild),Jt=t,He=!0,_n=null,n=kx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gi(),r===s){t=cr(e,t,n);break e}Rt(e,t,r,n)}t=t.child}return t;case 5:return Rx(t),e===null&&Ed(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,vd(r,s)?o=null:i!==null&&vd(r,i)&&(t.flags|=32),ty(e,t),Rt(e,t,o,n),t.child;case 6:return e===null&&Ed(t),null;case 13:return ry(e,t,n);case 4:return Wf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xi(t,null,r,n):Rt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),Dp(e,t,r,s,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Le(zl,r._currentValue),r._currentValue=o,i!==null)if(Nn(i.value,o)){if(i.children===s.children&&!Ht.current){t=cr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=sr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),jd(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jd(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Rt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ui(t,n),s=hn(s),r=r(s),t.flags|=1,Rt(e,t,r,n),t.child;case 14:return r=t.type,s=vn(r,t.pendingProps),s=vn(r.type,s),Op(e,t,r,s,n);case 15:return Zx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),fl(e,t),t.tag=1,Vt(r)?(e=!0,Al(t)):e=!1,ui(t,n),Xx(t,r,s),kd(t,r,s,n),Rd(null,t,r,!0,e,n);case 19:return sy(e,t,n);case 22:return ey(e,t,n)}throw Error($(156,t.tag))};function by(e,t){return Y0(e,t)}function sw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,r){return new sw(e,t,n,r)}function oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iw(e){if(typeof e=="function")return oh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jf)return 11;if(e===Nf)return 14}return 2}function Ir(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ml(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")oh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qs:return _s(n.children,s,i,t);case Ef:o=8,s|=8;break;case Qu:return e=un(12,n,t,s|2),e.elementType=Qu,e.lanes=i,e;case Ju:return e=un(13,n,t,s),e.elementType=Ju,e.lanes=i,e;case Zu:return e=un(19,n,t,s),e.elementType=Zu,e.lanes=i,e;case R0:return Nc(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C0:o=10;break e;case T0:o=9;break e;case jf:o=11;break e;case Nf:o=14;break e;case vr:o=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=un(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function _s(e,t,n,r){return e=un(7,e,r,t),e.lanes=n,e}function Nc(e,t,n,r){return e=un(22,e,r,t),e.elementType=R0,e.lanes=n,e.stateNode={isHidden:!1},e}function _u(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function Su(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ow(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ru(0),this.expirationTimes=ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ru(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ah(e,t,n,r,s,i,o,a,l){return e=new ow(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=un(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vf(i),e}function aw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ys,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wy(e){if(!e)return $r;e=e._reactInternals;e:{if(Is(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Vt(n))return wx(e,n,t)}return t}function _y(e,t,n,r,s,i,o,a,l){return e=ah(n,r,!0,e,s,i,o,a,l),e.context=wy(null),n=e.current,r=Mt(),s=Ar(n),i=sr(r,s),i.callback=t??null,Or(n,i,s),e.current.lanes=s,sa(e,s,r),Wt(e,r),e}function kc(e,t,n,r){var s=t.current,i=Mt(),o=Ar(s);return n=wy(n),t.context===null?t.context=n:t.pendingContext=n,t=sr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Or(s,t,o),e!==null&&(En(e,s,o,i),cl(e,s,o)),o}function Gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lh(e,t){Kp(e,t),(e=e.alternate)&&Kp(e,t)}function lw(){return null}var Sy=typeof reportError=="function"?reportError:function(e){console.error(e)};function ch(e){this._internalRoot=e}Cc.prototype.render=ch.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));kc(e,t,null,null)};Cc.prototype.unmount=ch.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rs(function(){kc(null,e,null,null)}),t[ar]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ex();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_r.length&&t!==0&&t<_r[n].priority;n++);_r.splice(n,0,e),n===0&&nx(e)}};function uh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yp(){}function cw(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Gl(o);i.call(c)}}var o=_y(t,r,e,0,null,!1,!1,"",Yp);return e._reactRootContainer=o,e[ar]=o.current,Io(e.nodeType===8?e.parentNode:e),Rs(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Gl(l);a.call(c)}}var l=ah(e,0,!1,null,null,!1,!1,"",Yp);return e._reactRootContainer=l,e[ar]=l.current,Io(e.nodeType===8?e.parentNode:e),Rs(function(){kc(t,l,n,r)}),l}function Rc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Gl(o);a.call(l)}}kc(t,o,e,s)}else o=cw(n,t,e,s,r);return Gl(o)}J0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ro(t.pendingLanes);n!==0&&(Tf(t,n|1),Wt(t,Ze()),!(Ee&6)&&(bi=Ze()+500,Yr()))}break;case 13:Rs(function(){var r=lr(e,1);if(r!==null){var s=Mt();En(r,e,1,s)}}),lh(e,1)}};Rf=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var n=Mt();En(t,e,134217728,n)}lh(e,134217728)}};Z0=function(e){if(e.tag===13){var t=Ar(e),n=lr(e,t);if(n!==null){var r=Mt();En(n,e,t,r)}lh(e,t)}};ex=function(){return Me};tx=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}};cd=function(e,t,n){switch(t){case"input":if(nd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=bc(r);if(!s)throw Error($(90));M0(r),nd(r,s)}}}break;case"textarea":O0(e,n);break;case"select":t=n.value,t!=null&&oi(e,!!n.multiple,t,!1)}};$0=rh;U0=Rs;var uw={usingClientEntryPoint:!1,Events:[oa,Js,bc,z0,B0,rh]},Vi={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dw={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=W0(e),e===null?null:e.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||lw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{gc=Aa.inject(dw),Fn=Aa}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uw;tn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(t))throw Error($(200));return aw(e,t,null,n)};tn.createRoot=function(e,t){if(!uh(e))throw Error($(299));var n=!1,r="",s=Sy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ah(e,1,!1,null,null,n,!1,r,s),e[ar]=t.current,Io(e.nodeType===8?e.parentNode:e),new ch(t)};tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=W0(t),e=e===null?null:e.stateNode,e};tn.flushSync=function(e){return Rs(e)};tn.hydrate=function(e,t,n){if(!Tc(t))throw Error($(200));return Rc(null,e,t,!0,n)};tn.hydrateRoot=function(e,t,n){if(!uh(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Sy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=_y(t,null,e,1,n??null,s,!1,i,o),e[ar]=t.current,Io(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Cc(t)};tn.render=function(e,t,n){if(!Tc(t))throw Error($(200));return Rc(null,e,t,!1,n)};tn.unmountComponentAtNode=function(e){if(!Tc(e))throw Error($(40));return e._reactRootContainer?(Rs(function(){Rc(null,null,e,!1,function(){e._reactRootContainer=null,e[ar]=null})}),!0):!1};tn.unstable_batchedUpdates=rh;tn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tc(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Rc(e,t,n,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function Ey(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ey)}catch(e){console.error(e)}}Ey(),E0.exports=tn;var dh=E0.exports;const fw=gf(dh),hw=f0({__proto__:null,default:fw},[dh]);var jy,qp=dh;jy=qp.createRoot,qp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}var rt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rt||(rt={}));const Gp="popstate";function pw(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Ko("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ps(s)}return gw(t,n,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mw(){return Math.random().toString(36).substr(2,8)}function Xp(e,t){return{usr:e.state,key:e.key,idx:t}}function Ko(e,t,n,r){return n===void 0&&(n=null),Ue({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qr(t):t,{state:n,key:t&&t.key||r||mw()})}function Ps(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function qr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function gw(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=rt.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Ue({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=rt.Pop;let b=d(),y=b==null?null:b-c;c=b,l&&l({action:a,location:g.location,delta:y})}function h(b,y){a=rt.Push;let m=Ko(g.location,b,y);c=d()+1;let v=Xp(m,c),S=g.createHref(m);try{o.pushState(v,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(S)}i&&l&&l({action:a,location:g.location,delta:1})}function p(b,y){a=rt.Replace;let m=Ko(g.location,b,y);c=d();let v=Xp(m,c),S=g.createHref(m);o.replaceState(v,"",S),i&&l&&l({action:a,location:g.location,delta:0})}function x(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:Ps(b);return m=m.replace(/ $/,"%20"),xe(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Gp,f),l=b,()=>{s.removeEventListener(Gp,f),l=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(b){return o.go(b)}};return g}var Pe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pe||(Pe={}));const xw=new Set(["lazy","caseSensitive","path","id","index","children"]);function yw(e){return e.index===!0}function Xl(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(xe(s.index!==!0||!s.children,"Cannot specify children on an index route"),xe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),yw(s)){let l=Ue({},s,t(s),{id:a});return r[a]=l,l}else{let l=Ue({},s,t(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Xl(s.children,t,o,r)),l}})}function us(e,t,n){return n===void 0&&(n="/"),gl(e,t,n,!1)}function gl(e,t,n,r){let s=typeof t=="string"?qr(t):t,i=ki(s.pathname||"/",n);if(i==null)return null;let o=Ny(e);bw(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Pw(i);a=Tw(o[l],c,r)}return a}function vw(e,t){let{route:n,pathname:r,params:s}=e;return{id:n.id,pathname:r,params:s,data:t[n.id],handle:n.handle}}function Ny(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ir([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ny(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:kw(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ky(i.path))s(i,o,l)}),t}function ky(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ky(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function bw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Cw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ww=/^:[\w-]+$/,_w=3,Sw=2,Ew=1,jw=10,Nw=-2,Qp=e=>e==="*";function kw(e,t){let n=e.split("/"),r=n.length;return n.some(Qp)&&(r+=Nw),t&&(r+=Sw),n.filter(s=>!Qp(s)).reduce((s,i)=>s+(ww.test(i)?_w:i===""?Ew:jw),r)}function Cw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Tw(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Jp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Jp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ir([i,f.pathname]),pathnameBase:Ow(ir([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ir([i,f.pathnameBase]))}return o}function Jp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Rw(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=a[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=a[f];return p&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Rw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),wi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Pw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ki(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Mw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?qr(e):e;return{pathname:n?n.startsWith("/")?n:Dw(n,t):t,search:Lw(r),hash:Aw(s)}}function Dw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Eu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Pc(e,t){let n=Cy(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mc(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=qr(e):(s=Ue({},e),xe(!s.pathname||!s.pathname.includes("?"),Eu("?","pathname","search",s)),xe(!s.pathname||!s.pathname.includes("#"),Eu("#","pathname","hash",s)),xe(!s.search||!s.search.includes("#"),Eu("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=Mw(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ir=e=>e.join("/").replace(/\/\/+/g,"/"),Ow=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Aw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Ql{constructor(t,n,r,s){s===void 0&&(s=!1),this.status=t,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Yo(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ty=["post","put","patch","delete"],Iw=new Set(Ty),Fw=["get",...Ty],zw=new Set(Fw),Bw=new Set([301,302,303,307,308]),$w=new Set([307,308]),ju={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Uw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Wi={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hw=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Ry="remix-router-transitions";function Vw(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;xe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let k=e.detectErrorBoundary;s=C=>({hasErrorBoundary:k(C)})}else s=Hw;let i={},o=Xl(e.routes,s,void 0,i),a,l=e.basename||"/",c=e.dataStrategy||qw,d=e.patchRoutesOnNavigation,f=Ue({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,p=new Set,x=null,g=null,b=null,y=e.hydrationData!=null,m=us(o,e.history.location,l),v=!1,S=null;if(m==null&&!d){let k=zt(404,{pathname:e.history.location.pathname}),{matches:C,route:P}=cm(o);m=C,S={[P.id]:k}}m&&!e.hydrationData&&ga(m,o,e.history.location.pathname).active&&(m=null);let E;if(m)if(m.some(k=>k.route.lazy))E=!1;else if(!m.some(k=>k.route.loader))E=!0;else if(f.v7_partialHydration){let k=e.hydrationData?e.hydrationData.loaderData:null,C=e.hydrationData?e.hydrationData.errors:null;if(C){let P=m.findIndex(B=>C[B.route.id]!==void 0);E=m.slice(0,P+1).every(B=>!Hd(B.route,k,C))}else E=m.every(P=>!Hd(P.route,k,C))}else E=e.hydrationData!=null;else if(E=!1,m=[],f.v7_partialHydration){let k=ga(null,o,e.history.location.pathname);k.active&&k.matches&&(v=!0,m=k.matches)}let j,w={historyAction:e.history.action,location:e.history.location,matches:m,initialized:E,navigation:ju,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||S,fetchers:new Map,blockers:new Map},N=rt.Pop,M=!1,R,A=!1,z=new Map,G=null,re=!1,J=!1,q=[],ne=new Set,L=new Map,U=0,D=-1,Z=new Map,I=new Set,F=new Map,W=new Map,oe=new Set,se=new Map,fe=new Map,ze;function ht(){if(h=e.history.listen(k=>{let{action:C,location:P,delta:B}=k;if(ze){ze(),ze=void 0;return}wi(fe.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=Ah({currentLocation:w.location,nextLocation:P,historyAction:C});if(K&&B!=null){let ae=new Promise(he=>{ze=he});e.history.go(B*-1),ts(K,{state:"blocked",location:P,proceed(){ts(K,{state:"proceeding",proceed:void 0,reset:void 0,location:P}),ae.then(()=>e.history.go(B))},reset(){let he=new Map(w.blockers);he.set(K,Wi),H({blockers:he})}});return}return Ye(C,P)}),n){l_(t,z);let k=()=>c_(t,z);t.addEventListener("pagehide",k),G=()=>t.removeEventListener("pagehide",k)}return w.initialized||Ye(rt.Pop,w.location,{initialHydration:!0}),j}function bt(){h&&h(),G&&G(),p.clear(),R&&R.abort(),w.fetchers.forEach((k,C)=>ce(C)),w.blockers.forEach((k,C)=>Di(C))}function T(k){return p.add(k),()=>p.delete(k)}function H(k,C){C===void 0&&(C={}),w=Ue({},w,k);let P=[],B=[];f.v7_fetcherPersist&&w.fetchers.forEach((K,ae)=>{K.state==="idle"&&(oe.has(ae)?B.push(ae):P.push(ae))}),oe.forEach(K=>{!w.fetchers.has(K)&&!L.has(K)&&B.push(K)}),[...p].forEach(K=>K(w,{deletedFetchers:B,viewTransitionOpts:C.viewTransitionOpts,flushSync:C.flushSync===!0})),f.v7_fetcherPersist?(P.forEach(K=>w.fetchers.delete(K)),B.forEach(K=>ce(K))):B.forEach(K=>oe.delete(K))}function le(k,C,P){var B,K;let{flushSync:ae}=P===void 0?{}:P,he=w.actionData!=null&&w.navigation.formMethod!=null&&wn(w.navigation.formMethod)&&w.navigation.state==="loading"&&((B=k.state)==null?void 0:B._isRedirect)!==!0,ee;C.actionData?Object.keys(C.actionData).length>0?ee=C.actionData:ee=null:he?ee=w.actionData:ee=null;let te=C.loaderData?am(w.loaderData,C.loaderData,C.matches||[],C.errors):w.loaderData,Q=w.blockers;Q.size>0&&(Q=new Map(Q),Q.forEach((we,pt)=>Q.set(pt,Wi)));let ie=M===!0||w.navigation.formMethod!=null&&wn(w.navigation.formMethod)&&((K=k.state)==null?void 0:K._isRedirect)!==!0;a&&(o=a,a=void 0),re||N===rt.Pop||(N===rt.Push?e.history.push(k,k.state):N===rt.Replace&&e.history.replace(k,k.state));let ge;if(N===rt.Pop){let we=z.get(w.location.pathname);we&&we.has(k.pathname)?ge={currentLocation:w.location,nextLocation:k}:z.has(k.pathname)&&(ge={currentLocation:k,nextLocation:w.location})}else if(A){let we=z.get(w.location.pathname);we?we.add(k.pathname):(we=new Set([k.pathname]),z.set(w.location.pathname,we)),ge={currentLocation:w.location,nextLocation:k}}H(Ue({},C,{actionData:ee,loaderData:te,historyAction:N,location:k,initialized:!0,navigation:ju,revalidation:"idle",restoreScrollPosition:Fh(k,C.matches||w.matches),preventScrollReset:ie,blockers:Q}),{viewTransitionOpts:ge,flushSync:ae===!0}),N=rt.Pop,M=!1,A=!1,re=!1,J=!1,q=[]}async function tt(k,C){if(typeof k=="number"){e.history.go(k);return}let P=Ud(w.location,w.matches,l,f.v7_prependBasename,k,f.v7_relativeSplatPath,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:B,submission:K,error:ae}=Zp(f.v7_normalizeFormMethod,!1,P,C),he=w.location,ee=Ko(w.location,B,C&&C.state);ee=Ue({},ee,e.history.encodeLocation(ee));let te=C&&C.replace!=null?C.replace:void 0,Q=rt.Push;te===!0?Q=rt.Replace:te===!1||K!=null&&wn(K.formMethod)&&K.formAction===w.location.pathname+w.location.search&&(Q=rt.Replace);let ie=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,ge=(C&&C.flushSync)===!0,we=Ah({currentLocation:he,nextLocation:ee,historyAction:Q});if(we){ts(we,{state:"blocked",location:ee,proceed(){ts(we,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),tt(k,C)},reset(){let pt=new Map(w.blockers);pt.set(we,Wi),H({blockers:pt})}});return}return await Ye(Q,ee,{submission:K,pendingError:ae,preventScrollReset:ie,replace:C&&C.replace,enableViewTransition:C&&C.viewTransition,flushSync:ge})}function Re(){if(Wn(),H({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){Ye(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}Ye(N||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:A===!0})}}async function Ye(k,C,P){R&&R.abort(),R=null,N=k,re=(P&&P.startUninterruptedRevalidation)===!0,O1(w.location,w.matches),M=(P&&P.preventScrollReset)===!0,A=(P&&P.enableViewTransition)===!0;let B=a||o,K=P&&P.overrideNavigation,ae=P!=null&&P.initialHydration&&w.matches&&w.matches.length>0&&!v?w.matches:us(B,C,l),he=(P&&P.flushSync)===!0;if(ae&&w.initialized&&!J&&e_(w.location,C)&&!(P&&P.submission&&wn(P.submission.formMethod))){le(C,{matches:ae},{flushSync:he});return}let ee=ga(ae,B,C.pathname);if(ee.active&&ee.matches&&(ae=ee.matches),!ae){let{error:Oe,notFoundMatches:ke,route:qe}=Gc(C.pathname);le(C,{matches:ke,loaderData:{},errors:{[qe.id]:Oe}},{flushSync:he});return}R=new AbortController;let te=Hs(e.history,C,R.signal,P&&P.submission),Q;if(P&&P.pendingError)Q=[ds(ae).route.id,{type:Pe.error,error:P.pendingError}];else if(P&&P.submission&&wn(P.submission.formMethod)){let Oe=await Hn(te,C,P.submission,ae,ee.active,{replace:P.replace,flushSync:he});if(Oe.shortCircuited)return;if(Oe.pendingActionResult){let[ke,qe]=Oe.pendingActionResult;if(Xt(qe)&&Yo(qe.error)&&qe.error.status===404){R=null,le(C,{matches:Oe.matches,loaderData:{},errors:{[ke]:qe.error}});return}}ae=Oe.matches||ae,Q=Oe.pendingActionResult,K=Nu(C,P.submission),he=!1,ee.active=!1,te=Hs(e.history,te.url,te.signal)}let{shortCircuited:ie,matches:ge,loaderData:we,errors:pt}=await rn(te,C,ae,ee.active,K,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,P&&P.initialHydration===!0,he,Q);ie||(R=null,le(C,Ue({matches:ge||ae},lm(Q),{loaderData:we,errors:pt})))}async function Hn(k,C,P,B,K,ae){ae===void 0&&(ae={}),Wn();let he=o_(C,P);if(H({navigation:he},{flushSync:ae.flushSync===!0}),K){let Q=await xa(B,C.pathname,k.signal);if(Q.type==="aborted")return{shortCircuited:!0};if(Q.type==="error"){let ie=ds(Q.partialMatches).route.id;return{matches:Q.partialMatches,pendingActionResult:[ie,{type:Pe.error,error:Q.error}]}}else if(Q.matches)B=Q.matches;else{let{notFoundMatches:ie,error:ge,route:we}=Gc(C.pathname);return{matches:ie,pendingActionResult:[we.id,{type:Pe.error,error:ge}]}}}let ee,te=io(B,C);if(!te.route.action&&!te.route.lazy)ee={type:Pe.error,error:zt(405,{method:k.method,pathname:C.pathname,routeId:te.route.id})};else if(ee=(await xn("action",w,k,[te],B,null))[te.route.id],k.signal.aborted)return{shortCircuited:!0};if(ms(ee)){let Q;return ae&&ae.replace!=null?Q=ae.replace:Q=sm(ee.response.headers.get("Location"),new URL(k.url),l)===w.location.pathname+w.location.search,await qt(k,ee,!0,{submission:P,replace:Q}),{shortCircuited:!0}}if(kr(ee))throw zt(400,{type:"defer-action"});if(Xt(ee)){let Q=ds(B,te.route.id);return(ae&&ae.replace)!==!0&&(N=rt.Push),{matches:B,pendingActionResult:[Q.route.id,ee]}}return{matches:B,pendingActionResult:[te.route.id,ee]}}async function rn(k,C,P,B,K,ae,he,ee,te,Q,ie){let ge=K||Nu(C,ae),we=ae||he||dm(ge),pt=!re&&(!f.v7_partialHydration||!te);if(B){if(pt){let Ge=Vn(ie);H(Ue({navigation:ge},Ge!==void 0?{actionData:Ge}:{}),{flushSync:Q})}let Ne=await xa(P,C.pathname,k.signal);if(Ne.type==="aborted")return{shortCircuited:!0};if(Ne.type==="error"){let Ge=ds(Ne.partialMatches).route.id;return{matches:Ne.partialMatches,loaderData:{},errors:{[Ge]:Ne.error}}}else if(Ne.matches)P=Ne.matches;else{let{error:Ge,notFoundMatches:Bs,route:Ai}=Gc(C.pathname);return{matches:Bs,loaderData:{},errors:{[Ai.id]:Ge}}}}let Oe=a||o,[ke,qe]=tm(e.history,w,P,we,C,f.v7_partialHydration&&te===!0,f.v7_skipActionErrorRevalidation,J,q,ne,oe,F,I,Oe,l,ie);if(Xc(Ne=>!(P&&P.some(Ge=>Ge.route.id===Ne))||ke&&ke.some(Ge=>Ge.route.id===Ne)),D=++U,ke.length===0&&qe.length===0){let Ne=sn();return le(C,Ue({matches:P,loaderData:{},errors:ie&&Xt(ie[1])?{[ie[0]]:ie[1].error}:null},lm(ie),Ne?{fetchers:new Map(w.fetchers)}:{}),{flushSync:Q}),{shortCircuited:!0}}if(pt){let Ne={};if(!B){Ne.navigation=ge;let Ge=Vn(ie);Ge!==void 0&&(Ne.actionData=Ge)}qe.length>0&&(Ne.fetchers=Cn(qe)),H(Ne,{flushSync:Q})}qe.forEach(Ne=>{pe(Ne.key),Ne.controller&&L.set(Ne.key,Ne.controller)});let zs=()=>qe.forEach(Ne=>pe(Ne.key));R&&R.signal.addEventListener("abort",zs);let{loaderResults:Oi,fetcherResults:Kn}=await mr(w,P,ke,qe,k);if(k.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",zs),qe.forEach(Ne=>L.delete(Ne.key));let Tn=Ia(Oi);if(Tn)return await qt(k,Tn.result,!0,{replace:ee}),{shortCircuited:!0};if(Tn=Ia(Kn),Tn)return I.add(Tn.key),await qt(k,Tn.result,!0,{replace:ee}),{shortCircuited:!0};let{loaderData:Qc,errors:Li}=om(w,P,Oi,ie,qe,Kn,se);se.forEach((Ne,Ge)=>{Ne.subscribe(Bs=>{(Bs||Ne.done)&&se.delete(Ge)})}),f.v7_partialHydration&&te&&w.errors&&(Li=Ue({},w.errors,Li));let ns=sn(),ya=ut(D),va=ns||ya||qe.length>0;return Ue({matches:P,loaderData:Qc,errors:Li},va?{fetchers:new Map(w.fetchers)}:{})}function Vn(k){if(k&&!Xt(k[1]))return{[k[0]]:k[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function Cn(k){return k.forEach(C=>{let P=w.fetchers.get(C.key),B=Ki(void 0,P?P.data:void 0);w.fetchers.set(C.key,B)}),new Map(w.fetchers)}function gn(k,C,P,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");pe(k);let K=(B&&B.flushSync)===!0,ae=a||o,he=Ud(w.location,w.matches,l,f.v7_prependBasename,P,f.v7_relativeSplatPath,C,B==null?void 0:B.relative),ee=us(ae,he,l),te=ga(ee,ae,he);if(te.active&&te.matches&&(ee=te.matches),!ee){Tt(k,C,zt(404,{pathname:he}),{flushSync:K});return}let{path:Q,submission:ie,error:ge}=Zp(f.v7_normalizeFormMethod,!0,he,B);if(ge){Tt(k,C,ge,{flushSync:K});return}let we=io(ee,Q),pt=(B&&B.preventScrollReset)===!0;if(ie&&wn(ie.formMethod)){Jr(k,C,Q,we,ee,te.active,K,pt,ie);return}F.set(k,{routeId:C,path:Q}),Zr(k,C,Q,we,ee,te.active,K,pt,ie)}async function Jr(k,C,P,B,K,ae,he,ee,te){Wn(),F.delete(k);function Q(nt){if(!nt.route.action&&!nt.route.lazy){let $s=zt(405,{method:te.formMethod,pathname:P,routeId:C});return Tt(k,C,$s,{flushSync:he}),!0}return!1}if(!ae&&Q(B))return;let ie=w.fetchers.get(k);Lt(k,a_(te,ie),{flushSync:he});let ge=new AbortController,we=Hs(e.history,P,ge.signal,te);if(ae){let nt=await xa(K,new URL(we.url).pathname,we.signal,k);if(nt.type==="aborted")return;if(nt.type==="error"){Tt(k,C,nt.error,{flushSync:he});return}else if(nt.matches){if(K=nt.matches,B=io(K,P),Q(B))return}else{Tt(k,C,zt(404,{pathname:P}),{flushSync:he});return}}L.set(k,ge);let pt=U,ke=(await xn("action",w,we,[B],K,k))[B.route.id];if(we.signal.aborted){L.get(k)===ge&&L.delete(k);return}if(f.v7_fetcherPersist&&oe.has(k)){if(ms(ke)||Xt(ke)){Lt(k,yr(void 0));return}}else{if(ms(ke))if(L.delete(k),D>pt){Lt(k,yr(void 0));return}else return I.add(k),Lt(k,Ki(te)),qt(we,ke,!1,{fetcherSubmission:te,preventScrollReset:ee});if(Xt(ke)){Tt(k,C,ke.error);return}}if(kr(ke))throw zt(400,{type:"defer-action"});let qe=w.navigation.location||w.location,zs=Hs(e.history,qe,ge.signal),Oi=a||o,Kn=w.navigation.state!=="idle"?us(Oi,w.navigation.location,l):w.matches;xe(Kn,"Didn't find any matches after fetcher action");let Tn=++U;Z.set(k,Tn);let Qc=Ki(te,ke.data);w.fetchers.set(k,Qc);let[Li,ns]=tm(e.history,w,Kn,te,qe,!1,f.v7_skipActionErrorRevalidation,J,q,ne,oe,F,I,Oi,l,[B.route.id,ke]);ns.filter(nt=>nt.key!==k).forEach(nt=>{let $s=nt.key,zh=w.fetchers.get($s),I1=Ki(void 0,zh?zh.data:void 0);w.fetchers.set($s,I1),pe($s),nt.controller&&L.set($s,nt.controller)}),H({fetchers:new Map(w.fetchers)});let ya=()=>ns.forEach(nt=>pe(nt.key));ge.signal.addEventListener("abort",ya);let{loaderResults:va,fetcherResults:Ne}=await mr(w,Kn,Li,ns,zs);if(ge.signal.aborted)return;ge.signal.removeEventListener("abort",ya),Z.delete(k),L.delete(k),ns.forEach(nt=>L.delete(nt.key));let Ge=Ia(va);if(Ge)return qt(zs,Ge.result,!1,{preventScrollReset:ee});if(Ge=Ia(Ne),Ge)return I.add(Ge.key),qt(zs,Ge.result,!1,{preventScrollReset:ee});let{loaderData:Bs,errors:Ai}=om(w,Kn,va,void 0,ns,Ne,se);if(w.fetchers.has(k)){let nt=yr(ke.data);w.fetchers.set(k,nt)}ut(Tn),w.navigation.state==="loading"&&Tn>D?(xe(N,"Expected pending action"),R&&R.abort(),le(w.navigation.location,{matches:Kn,loaderData:Bs,errors:Ai,fetchers:new Map(w.fetchers)})):(H({errors:Ai,loaderData:am(w.loaderData,Bs,Kn,Ai),fetchers:new Map(w.fetchers)}),J=!1)}async function Zr(k,C,P,B,K,ae,he,ee,te){let Q=w.fetchers.get(k);Lt(k,Ki(te,Q?Q.data:void 0),{flushSync:he});let ie=new AbortController,ge=Hs(e.history,P,ie.signal);if(ae){let ke=await xa(K,new URL(ge.url).pathname,ge.signal,k);if(ke.type==="aborted")return;if(ke.type==="error"){Tt(k,C,ke.error,{flushSync:he});return}else if(ke.matches)K=ke.matches,B=io(K,P);else{Tt(k,C,zt(404,{pathname:P}),{flushSync:he});return}}L.set(k,ie);let we=U,Oe=(await xn("loader",w,ge,[B],K,k))[B.route.id];if(kr(Oe)&&(Oe=await hh(Oe,ge.signal,!0)||Oe),L.get(k)===ie&&L.delete(k),!ge.signal.aborted){if(oe.has(k)){Lt(k,yr(void 0));return}if(ms(Oe))if(D>we){Lt(k,yr(void 0));return}else{I.add(k),await qt(ge,Oe,!1,{preventScrollReset:ee});return}if(Xt(Oe)){Tt(k,C,Oe.error);return}xe(!kr(Oe),"Unhandled fetcher deferred data"),Lt(k,yr(Oe.data))}}async function qt(k,C,P,B){let{submission:K,fetcherSubmission:ae,preventScrollReset:he,replace:ee}=B===void 0?{}:B;C.response.headers.has("X-Remix-Revalidate")&&(J=!0);let te=C.response.headers.get("Location");xe(te,"Expected a Location header on the redirect Response"),te=sm(te,new URL(k.url),l);let Q=Ko(w.location,te,{_isRedirect:!0});if(n){let ke=!1;if(C.response.headers.has("X-Remix-Reload-Document"))ke=!0;else if(fh.test(te)){const qe=e.history.createURL(te);ke=qe.origin!==t.location.origin||ki(qe.pathname,l)==null}if(ke){ee?t.location.replace(te):t.location.assign(te);return}}R=null;let ie=ee===!0||C.response.headers.has("X-Remix-Replace")?rt.Replace:rt.Push,{formMethod:ge,formAction:we,formEncType:pt}=w.navigation;!K&&!ae&&ge&&we&&pt&&(K=dm(w.navigation));let Oe=K||ae;if($w.has(C.response.status)&&Oe&&wn(Oe.formMethod))await Ye(ie,Q,{submission:Ue({},Oe,{formAction:te}),preventScrollReset:he||M,enableViewTransition:P?A:void 0});else{let ke=Nu(Q,K);await Ye(ie,Q,{overrideNavigation:ke,fetcherSubmission:ae,preventScrollReset:he||M,enableViewTransition:P?A:void 0})}}async function xn(k,C,P,B,K,ae){let he,ee={};try{he=await Gw(c,k,C,P,B,K,ae,i,s)}catch(te){return B.forEach(Q=>{ee[Q.route.id]={type:Pe.error,error:te}}),ee}for(let[te,Q]of Object.entries(he))if(t_(Q)){let ie=Q.result;ee[te]={type:Pe.redirect,response:Jw(ie,P,te,K,l,f.v7_relativeSplatPath)}}else ee[te]=await Qw(Q);return ee}async function mr(k,C,P,B,K){let ae=k.matches,he=xn("loader",k,K,P,C,null),ee=Promise.all(B.map(async ie=>{if(ie.matches&&ie.match&&ie.controller){let we=(await xn("loader",k,Hs(e.history,ie.path,ie.controller.signal),[ie.match],ie.matches,ie.key))[ie.match.route.id];return{[ie.key]:we}}else return Promise.resolve({[ie.key]:{type:Pe.error,error:zt(404,{pathname:ie.path})}})})),te=await he,Q=(await ee).reduce((ie,ge)=>Object.assign(ie,ge),{});return await Promise.all([s_(C,te,K.signal,ae,k.loaderData),i_(C,Q,B)]),{loaderResults:te,fetcherResults:Q}}function Wn(){J=!0,q.push(...Xc()),F.forEach((k,C)=>{L.has(C)&&ne.add(C),pe(C)})}function Lt(k,C,P){P===void 0&&(P={}),w.fetchers.set(k,C),H({fetchers:new Map(w.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function Tt(k,C,P,B){B===void 0&&(B={});let K=ds(w.matches,C);ce(k),H({errors:{[K.route.id]:P},fetchers:new Map(w.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function V(k){return W.set(k,(W.get(k)||0)+1),oe.has(k)&&oe.delete(k),w.fetchers.get(k)||Uw}function ce(k){let C=w.fetchers.get(k);L.has(k)&&!(C&&C.state==="loading"&&Z.has(k))&&pe(k),F.delete(k),Z.delete(k),I.delete(k),f.v7_fetcherPersist&&oe.delete(k),ne.delete(k),w.fetchers.delete(k)}function de(k){let C=(W.get(k)||0)-1;C<=0?(W.delete(k),oe.add(k),f.v7_fetcherPersist||ce(k)):W.set(k,C),H({fetchers:new Map(w.fetchers)})}function pe(k){let C=L.get(k);C&&(C.abort(),L.delete(k))}function Be(k){for(let C of k){let P=V(C),B=yr(P.data);w.fetchers.set(C,B)}}function sn(){let k=[],C=!1;for(let P of I){let B=w.fetchers.get(P);xe(B,"Expected fetcher: "+P),B.state==="loading"&&(I.delete(P),k.push(P),C=!0)}return Be(k),C}function ut(k){let C=[];for(let[P,B]of Z)if(B<k){let K=w.fetchers.get(P);xe(K,"Expected fetcher: "+P),K.state==="loading"&&(pe(P),Z.delete(P),C.push(P))}return Be(C),C.length>0}function es(k,C){let P=w.blockers.get(k)||Wi;return fe.get(k)!==C&&fe.set(k,C),P}function Di(k){w.blockers.delete(k),fe.delete(k)}function ts(k,C){let P=w.blockers.get(k)||Wi;xe(P.state==="unblocked"&&C.state==="blocked"||P.state==="blocked"&&C.state==="blocked"||P.state==="blocked"&&C.state==="proceeding"||P.state==="blocked"&&C.state==="unblocked"||P.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+P.state+" -> "+C.state);let B=new Map(w.blockers);B.set(k,C),H({blockers:B})}function Ah(k){let{currentLocation:C,nextLocation:P,historyAction:B}=k;if(fe.size===0)return;fe.size>1&&wi(!1,"A router only supports one blocker at a time");let K=Array.from(fe.entries()),[ae,he]=K[K.length-1],ee=w.blockers.get(ae);if(!(ee&&ee.state==="proceeding")&&he({currentLocation:C,nextLocation:P,historyAction:B}))return ae}function Gc(k){let C=zt(404,{pathname:k}),P=a||o,{matches:B,route:K}=cm(P);return Xc(),{notFoundMatches:B,route:K,error:C}}function Xc(k){let C=[];return se.forEach((P,B)=>{(!k||k(B))&&(P.cancel(),C.push(B),se.delete(B))}),C}function D1(k,C,P){if(x=k,b=C,g=P||null,!y&&w.navigation===ju){y=!0;let B=Fh(w.location,w.matches);B!=null&&H({restoreScrollPosition:B})}return()=>{x=null,b=null,g=null}}function Ih(k,C){return g&&g(k,C.map(B=>vw(B,w.loaderData)))||k.key}function O1(k,C){if(x&&b){let P=Ih(k,C);x[P]=b()}}function Fh(k,C){if(x){let P=Ih(k,C),B=x[P];if(typeof B=="number")return B}return null}function ga(k,C,P){if(d)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:gl(C,P,l,!0)}}else return{active:!0,matches:gl(C,P,l,!0)||[]};return{active:!1,matches:null}}async function xa(k,C,P,B){if(!d)return{type:"success",matches:k};let K=k;for(;;){let ae=a==null,he=a||o,ee=i;try{await d({signal:P,path:C,matches:K,fetcherKey:B,patch:(ie,ge)=>{P.aborted||rm(ie,ge,he,ee,s)}})}catch(ie){return{type:"error",error:ie,partialMatches:K}}finally{ae&&!P.aborted&&(o=[...o])}if(P.aborted)return{type:"aborted"};let te=us(he,C,l);if(te)return{type:"success",matches:te};let Q=gl(he,C,l,!0);if(!Q||K.length===Q.length&&K.every((ie,ge)=>ie.route.id===Q[ge].route.id))return{type:"success",matches:null};K=Q}}function L1(k){i={},a=Xl(k,s,void 0,i)}function A1(k,C){let P=a==null;rm(k,C,a||o,i,s),P&&(o=[...o],H({}))}return j={get basename(){return l},get future(){return f},get state(){return w},get routes(){return o},get window(){return t},initialize:ht,subscribe:T,enableScrollRestoration:D1,navigate:tt,fetch:gn,revalidate:Re,createHref:k=>e.history.createHref(k),encodeLocation:k=>e.history.encodeLocation(k),getFetcher:V,deleteFetcher:de,dispose:bt,getBlocker:es,deleteBlocker:Di,patchRoutes:A1,_internalFetchControllers:L,_internalActiveDeferreds:se,_internalSetRoutes:L1},j}function Ww(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Ud(e,t,n,r,s,i,o,a){let l,c;if(o){l=[];for(let f of t)if(l.push(f),f.route.id===o){c=f;break}}else l=t,c=t[t.length-1];let d=Mc(s||".",Pc(l,i),ki(e.pathname,n)||e.pathname,a==="path");if(s==null&&(d.search=e.search,d.hash=e.hash),(s==null||s===""||s===".")&&c){let f=ph(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let h=new URLSearchParams(d.search),p=h.getAll("index");h.delete("index"),p.filter(g=>g).forEach(g=>h.append("index",g));let x=h.toString();d.search=x?"?"+x:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:ir([n,d.pathname])),Ps(d)}function Zp(e,t,n,r){if(!r||!Ww(r))return{path:n};if(r.formMethod&&!r_(r.formMethod))return{path:n,error:zt(405,{method:r.formMethod})};let s=()=>({path:n,error:zt(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),a=Dy(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!wn(o))return s();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,x)=>{let[g,b]=x;return""+p+g+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!wn(o))return s();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}xe(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Vd(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Vd(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=im(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=im(l)}catch{return s()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(wn(d.formMethod))return{path:n,submission:d};let f=qr(n);return t&&f.search&&ph(f.search)&&l.append("index",""),f.search="?"+l,{path:Ps(f),submission:d}}function em(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(s=>s.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function tm(e,t,n,r,s,i,o,a,l,c,d,f,h,p,x,g){let b=g?Xt(g[1])?g[1].error:g[1].data:void 0,y=e.createURL(t.location),m=e.createURL(s),v=n;i&&t.errors?v=em(n,Object.keys(t.errors)[0],!0):g&&Xt(g[1])&&(v=em(n,g[0]));let S=g?g[1].statusCode:void 0,E=o&&S&&S>=400,j=v.filter((N,M)=>{let{route:R}=N;if(R.lazy)return!0;if(R.loader==null)return!1;if(i)return Hd(R,t.loaderData,t.errors);if(Kw(t.loaderData,t.matches[M],N)||l.some(G=>G===N.route.id))return!0;let A=t.matches[M],z=N;return nm(N,Ue({currentUrl:y,currentParams:A.params,nextUrl:m,nextParams:z.params},r,{actionResult:b,actionStatus:S,defaultShouldRevalidate:E?!1:a||y.pathname+y.search===m.pathname+m.search||y.search!==m.search||Py(A,z)}))}),w=[];return f.forEach((N,M)=>{if(i||!n.some(re=>re.route.id===N.routeId)||d.has(M))return;let R=us(p,N.path,x);if(!R){w.push({key:M,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let A=t.fetchers.get(M),z=io(R,N.path),G=!1;h.has(M)?G=!1:c.has(M)?(c.delete(M),G=!0):A&&A.state!=="idle"&&A.data===void 0?G=a:G=nm(z,Ue({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:S,defaultShouldRevalidate:E?!1:a})),G&&w.push({key:M,routeId:N.routeId,path:N.path,matches:R,match:z,controller:new AbortController})}),[j,w]}function Hd(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,s=n!=null&&n[e.id]!==void 0;return!r&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!s}function Kw(e,t,n){let r=!t||n.route.id!==t.route.id,s=e[n.route.id]===void 0;return r||s}function Py(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function nm(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function rm(e,t,n,r,s){var i;let o;if(e){let c=r[e];xe(c,"No route found to patch children into: routeId = "+e),c.children||(c.children=[]),o=c.children}else o=n;let a=t.filter(c=>!o.some(d=>My(c,d))),l=Xl(a,s,[e||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...l)}function My(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var s;return(s=t.children)==null?void 0:s.some(i=>My(n,i))}):!1}async function Yw(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let s=n[e.id];xe(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";wi(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!xw.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Ue({},t(s),{lazy:void 0}))}async function qw(e){let{matches:t}=e,n=t.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function Gw(e,t,n,r,s,i,o,a,l,c){let d=i.map(p=>p.route.lazy?Yw(p.route,l,a):void 0),f=i.map((p,x)=>{let g=d[x],b=s.some(m=>m.route.id===p.route.id);return Ue({},p,{shouldLoad:b,resolve:async m=>(m&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(b=!0),b?Xw(t,r,p,g,m,c):Promise.resolve({type:Pe.data,result:void 0}))})}),h=await e({matches:f,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(d)}catch{}return h}async function Xw(e,t,n,r,s,i){let o,a,l=c=>{let d,f=new Promise((x,g)=>d=g);a=()=>d(),t.signal.addEventListener("abort",a);let h=x=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):c({request:t,params:n.params,context:i},...x!==void 0?[x]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(g=>h(g)):h())}}catch(x){return{type:"error",result:x}}})();return Promise.race([p,f])};try{let c=n.route[e];if(r)if(c){let d,[f]=await Promise.all([l(c).catch(h=>{d=h}),r]);if(d!==void 0)throw d;o=f}else if(await r,c=n.route[e],c)o=await l(c);else if(e==="action"){let d=new URL(t.url),f=d.pathname+d.search;throw zt(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:Pe.data,result:void 0};else if(c)o=await l(c);else{let d=new URL(t.url),f=d.pathname+d.search;throw zt(404,{pathname:f})}xe(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Pe.error,result:c}}finally{a&&t.signal.removeEventListener("abort",a)}return o}async function Qw(e){let{result:t,type:n}=e;if(Oy(t)){let f;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(h){return{type:Pe.error,error:h}}return n===Pe.error?{type:Pe.error,error:new Ql(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:Pe.data,data:f,statusCode:t.status,headers:t.headers}}if(n===Pe.error){if(um(t)){var r,s;if(t.data instanceof Error){var i,o;return{type:Pe.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:Pe.error,error:new Ql(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:Yo(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:Pe.error,error:t,statusCode:Yo(t)?t.status:void 0}}if(n_(t)){var a,l;return{type:Pe.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(um(t)){var c,d;return{type:Pe.data,data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}}return{type:Pe.data,data:t}}function Jw(e,t,n,r,s,i){let o=e.headers.get("Location");if(xe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!fh.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Ud(new URL(t.url),a,s,!0,o,i),e.headers.set("Location",o)}return e}function sm(e,t,n){if(fh.test(e)){let r=e,s=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=ki(s.pathname,n)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function Hs(e,t,n,r){let s=e.createURL(Dy(t)).toString(),i={signal:n};if(r&&wn(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=Vd(r.formData):i.body=r.formData}return new Request(s,i)}function Vd(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function im(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Zw(e,t,n,r,s){let i={},o=null,a,l=!1,c={},d=n&&Xt(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,p=t[h];if(xe(!ms(p),"Cannot handle redirect results in processLoaderData"),Xt(p)){let x=p.error;d!==void 0&&(x=d,d=void 0),o=o||{};{let g=ds(e,h);o[g.route.id]==null&&(o[g.route.id]=x)}i[h]=void 0,l||(l=!0,a=Yo(p.error)?p.error.status:500),p.headers&&(c[h]=p.headers)}else kr(p)?(r.set(h,p.deferredData),i[h]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers)):(i[h]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers))}),d!==void 0&&n&&(o={[n[0]]:d},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function om(e,t,n,r,s,i,o){let{loaderData:a,errors:l}=Zw(t,n,r,o);return s.forEach(c=>{let{key:d,match:f,controller:h}=c,p=i[d];if(xe(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Xt(p)){let x=ds(e.matches,f==null?void 0:f.route.id);l&&l[x.route.id]||(l=Ue({},l,{[x.route.id]:p.error})),e.fetchers.delete(d)}else if(ms(p))xe(!1,"Unhandled fetcher revalidation redirect");else if(kr(p))xe(!1,"Unhandled fetcher deferred data");else{let x=yr(p.data);e.fetchers.set(d,x)}}),{loaderData:a,errors:l}}function am(e,t,n,r){let s=Ue({},t);for(let i of n){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(s[o]=t[o]):e[o]!==void 0&&i.route.loader&&(s[o]=e[o]),r&&r.hasOwnProperty(o))break}return s}function lm(e){return e?Xt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ds(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function cm(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function zt(e,t){let{pathname:n,routeId:r,method:s,type:i,message:o}=t===void 0?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",l='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Ql(e||500,a,new Error(l),!0)}function Ia(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,s]=t[n];if(ms(s))return{key:r,result:s}}}function Dy(e){let t=typeof e=="string"?qr(e):e;return Ps(Ue({},t,{hash:""}))}function e_(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function t_(e){return Oy(e.result)&&Bw.has(e.result.status)}function kr(e){return e.type===Pe.deferred}function Xt(e){return e.type===Pe.error}function ms(e){return(e&&e.type)===Pe.redirect}function um(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function n_(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Oy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function r_(e){return zw.has(e.toLowerCase())}function wn(e){return Iw.has(e.toLowerCase())}async function s_(e,t,n,r,s){let i=Object.entries(t);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=e.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let d=r.find(h=>h.route.id===c.route.id),f=d!=null&&!Py(d,c)&&(s&&s[c.route.id])!==void 0;kr(l)&&f&&await hh(l,n,!1).then(h=>{h&&(t[a]=h)})}}async function i_(e,t,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=t[s];e.find(c=>(c==null?void 0:c.route.id)===i)&&kr(a)&&(xe(o,"Expected an AbortController for revalidating fetcher deferred result"),await hh(a,o.signal,!0).then(c=>{c&&(t[s]=c)}))}}async function hh(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Pe.data,data:e.deferredData.unwrappedData}}catch(s){return{type:Pe.error,error:s}}return{type:Pe.data,data:e.deferredData.data}}}function ph(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function io(e,t){let n=typeof t=="string"?qr(t).search:t.search;if(e[e.length-1].route.index&&ph(n||""))return e[e.length-1];let r=Cy(e);return r[r.length-1]}function dm(e){let{formMethod:t,formAction:n,formEncType:r,text:s,formData:i,json:o}=e;if(!(!t||!n||!r)){if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Nu(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function o_(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ki(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function a_(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function yr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function l_(e,t){try{let n=e.sessionStorage.getItem(Ry);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function c_(e,t){if(t.size>0){let n={};for(let[r,s]of t)n[r]=[...s];try{e.sessionStorage.setItem(Ry,JSON.stringify(n))}catch(r){wi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jl.apply(this,arguments)}const Dc=_.createContext(null),Ly=_.createContext(null),Gr=_.createContext(null),mh=_.createContext(null),pr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Ay=_.createContext(null);function u_(e,t){let{relative:n}=t===void 0?{}:t;Ci()||xe(!1);let{basename:r,navigator:s}=_.useContext(Gr),{hash:i,pathname:o,search:a}=zy(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ir([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Ci(){return _.useContext(mh)!=null}function Xr(){return Ci()||xe(!1),_.useContext(mh).location}function Iy(e){_.useContext(Gr).static||_.useLayoutEffect(e)}function Un(){let{isDataRoute:e}=_.useContext(pr);return e?__():d_()}function d_(){Ci()||xe(!1);let e=_.useContext(Dc),{basename:t,future:n,navigator:r}=_.useContext(Gr),{matches:s}=_.useContext(pr),{pathname:i}=Xr(),o=JSON.stringify(Pc(s,n.v7_relativeSplatPath)),a=_.useRef(!1);return Iy(()=>{a.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Mc(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ir([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}function Fy(){let{matches:e}=_.useContext(pr),t=e[e.length-1];return t?t.params:{}}function zy(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=_.useContext(Gr),{matches:s}=_.useContext(pr),{pathname:i}=Xr(),o=JSON.stringify(Pc(s,r.v7_relativeSplatPath));return _.useMemo(()=>Mc(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function f_(e,t,n,r){Ci()||xe(!1);let{navigator:s,static:i}=_.useContext(Gr),{matches:o}=_.useContext(pr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Xr(),f;f=d;let h=f.pathname||"/",p=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=!i&&n&&n.matches&&n.matches.length>0?n.matches:us(e,{pathname:p});return x_(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ir([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ir([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r)}function h_(){let e=w_(),t=Yo(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:s},n):null,null)}const p_=_.createElement(h_,null);class m_ extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(pr.Provider,{value:this.props.routeContext},_.createElement(Ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g_(e){let{routeContext:t,match:n,children:r}=e,s=_.useContext(Dc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(pr.Provider,{value:t},r)}function x_(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||xe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,x=!1,g=null,b=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||p_,l&&(c<0&&h===0?(S_("route-fallback"),x=!0,b=null):c===h&&(x=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),m=()=>{let v;return p?v=g:x?v=b:f.route.Component?v=_.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,_.createElement(g_,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(m_,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var By=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(By||{}),$y=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($y||{});function y_(e){let t=_.useContext(Dc);return t||xe(!1),t}function v_(e){let t=_.useContext(Ly);return t||xe(!1),t}function b_(e){let t=_.useContext(pr);return t||xe(!1),t}function Uy(e){let t=b_(),n=t.matches[t.matches.length-1];return n.route.id||xe(!1),n.route.id}function w_(){var e;let t=_.useContext(Ay),n=v_($y.UseRouteError),r=Uy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function __(){let{router:e}=y_(By.UseNavigateStable),t=Uy(),n=_.useRef(!1);return Iy(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Jl({fromRouteId:t},i)))},[e,t])}const fm={};function S_(e,t,n){fm[e]||(fm[e]=!0)}function E_(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Hy(e){let{to:t,replace:n,state:r,relative:s}=e;Ci()||xe(!1);let{future:i,static:o}=_.useContext(Gr),{matches:a}=_.useContext(pr),{pathname:l}=Xr(),c=Un(),d=Mc(t,Pc(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return _.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function j_(e){let{basename:t="/",children:n=null,location:r,navigationType:s=rt.Pop,navigator:i,static:o=!1,future:a}=e;Ci()&&xe(!1);let l=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:i,static:o,future:Jl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=qr(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:x="default"}=r,g=_.useMemo(()=>{let b=ki(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:x},navigationType:s}},[l,d,f,h,p,x,s]);return g==null?null:_.createElement(Gr.Provider,{value:c},_.createElement(mh.Provider,{children:n,value:g}))}new Promise(()=>{});function N_(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:_.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:_.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:_.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qo.apply(this,arguments)}function k_(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function C_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T_(e,t){return e.button===0&&(!t||t==="_self")&&!C_(e)}function Wd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function R_(e,t){let n=Wd(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const P_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M_="6";try{window.__reactRouterVersion=M_}catch{}function D_(e,t){return Vw({basename:void 0,future:qo({},void 0,{v7_prependBasename:!0}),history:pw({window:void 0}),hydrationData:O_(),routes:e,mapRouteProperties:N_,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function O_(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=qo({},t,{errors:L_(t.errors)})),t}function L_(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,s]of t)if(s&&s.__type==="RouteErrorResponse")n[r]=new Ql(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const A_=_.createContext({isTransitioning:!1}),I_=_.createContext(new Map),F_="startTransition",hm=tb[F_],z_="flushSync",pm=hw[z_];function B_(e){hm?hm(e):e()}function Yi(e){pm?pm(e):e()}class $_{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function U_(e){let{fallbackElement:t,router:n,future:r}=e,[s,i]=_.useState(n.state),[o,a]=_.useState(),[l,c]=_.useState({isTransitioning:!1}),[d,f]=_.useState(),[h,p]=_.useState(),[x,g]=_.useState(),b=_.useRef(new Map),{v7_startTransition:y}=r||{},m=_.useCallback(N=>{y?B_(N):N()},[y]),v=_.useCallback((N,M)=>{let{deletedFetchers:R,flushSync:A,viewTransitionOpts:z}=M;N.fetchers.forEach((re,J)=>{re.data!==void 0&&b.current.set(J,re.data)}),R.forEach(re=>b.current.delete(re));let G=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!z||G){A?Yi(()=>i(N)):m(()=>i(N));return}if(A){Yi(()=>{h&&(d&&d.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let re=n.window.document.startViewTransition(()=>{Yi(()=>i(N))});re.finished.finally(()=>{Yi(()=>{f(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),Yi(()=>p(re));return}h?(d&&d.resolve(),h.skipTransition(),g({state:N,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(a(N),c({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,h,d,b,m]);_.useLayoutEffect(()=>n.subscribe(v),[n,v]),_.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new $_)},[l]),_.useEffect(()=>{if(d&&o&&n.window){let N=o,M=d.promise,R=n.window.document.startViewTransition(async()=>{m(()=>i(N)),await M});R.finished.finally(()=>{f(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(R)}},[m,o,d,n.window]),_.useEffect(()=>{d&&o&&s.location.key===o.location.key&&d.resolve()},[d,h,s.location,o]),_.useEffect(()=>{!l.isTransitioning&&x&&(a(x.state),c({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),g(void 0))},[l.isTransitioning,x]),_.useEffect(()=>{},[]);let S=_.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:N=>n.navigate(N),push:(N,M,R)=>n.navigate(N,{state:M,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(N,M,R)=>n.navigate(N,{replace:!0,state:M,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),E=n.basename||"/",j=_.useMemo(()=>({router:n,navigator:S,static:!1,basename:E}),[n,S,E]),w=_.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return _.useEffect(()=>E_(r,n.future),[r,n.future]),_.createElement(_.Fragment,null,_.createElement(Dc.Provider,{value:j},_.createElement(Ly.Provider,{value:s},_.createElement(I_.Provider,{value:b.current},_.createElement(A_.Provider,{value:l},_.createElement(j_,{basename:E,location:s.location,navigationType:s.historyAction,navigator:S,future:w},s.initialized||n.future.v7_partialHydration?_.createElement(H_,{routes:n.routes,future:n.future,state:s}):t))))),null)}const H_=_.memo(V_);function V_(e){let{routes:t,future:n,state:r}=e;return f_(t,void 0,r,n)}const W_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ur=_.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,h=k_(t,P_),{basename:p}=_.useContext(Gr),x,g=!1;if(typeof c=="string"&&K_.test(c)&&(x=c,W_))try{let v=new URL(window.location.href),S=c.startsWith("//")?new URL(v.protocol+c):new URL(c),E=ki(S.pathname,p);S.origin===v.origin&&E!=null?c=E+S.search+S.hash:g=!0}catch{}let b=u_(c,{relative:s}),y=Y_(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function m(v){r&&r(v),v.defaultPrevented||y(v)}return _.createElement("a",qo({},h,{href:x||b,onClick:g||i?r:m,ref:n,target:l}))});var mm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mm||(mm={}));var gm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gm||(gm={}));function Y_(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Un(),c=Xr(),d=zy(e,{relative:o});return _.useCallback(f=>{if(T_(f,n)){f.preventDefault();let h=r!==void 0?r:Ps(c)===Ps(d);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,e,i,o,a])}function q_(e){let t=_.useRef(Wd(e)),n=_.useRef(!1),r=Xr(),s=_.useMemo(()=>R_(r.search,n.current?null:t.current),[r.search]),i=Un(),o=_.useCallback((a,l)=>{const c=Wd(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}function Vy(e,t){return function(){return e.apply(t,arguments)}}const{toString:G_}=Object.prototype,{getPrototypeOf:gh}=Object,{iterator:Oc,toStringTag:Wy}=Symbol,Lc=(e=>t=>{const n=G_.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kn=e=>(e=e.toLowerCase(),t=>Lc(t)===e),Ac=e=>t=>typeof t===e,{isArray:Ti}=Array,Go=Ac("undefined");function X_(e){return e!==null&&!Go(e)&&e.constructor!==null&&!Go(e.constructor)&&Kt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ky=kn("ArrayBuffer");function Q_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ky(e.buffer),t}const J_=Ac("string"),Kt=Ac("function"),Yy=Ac("number"),Ic=e=>e!==null&&typeof e=="object",Z_=e=>e===!0||e===!1,xl=e=>{if(Lc(e)!=="object")return!1;const t=gh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Wy in e)&&!(Oc in e)},eS=kn("Date"),tS=kn("File"),nS=kn("Blob"),rS=kn("FileList"),sS=e=>Ic(e)&&Kt(e.pipe),iS=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Kt(e.append)&&((t=Lc(e))==="formdata"||t==="object"&&Kt(e.toString)&&e.toString()==="[object FormData]"))},oS=kn("URLSearchParams"),[aS,lS,cS,uS]=["ReadableStream","Request","Response","Headers"].map(kn),dS=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function la(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Ti(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function qy(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const gs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Gy=e=>!Go(e)&&e!==gs;function Kd(){const{caseless:e}=Gy(this)&&this||{},t={},n=(r,s)=>{const i=e&&qy(t,s)||s;xl(t[i])&&xl(r)?t[i]=Kd(t[i],r):xl(r)?t[i]=Kd({},r):Ti(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&la(arguments[r],n);return t}const fS=(e,t,n,{allOwnKeys:r}={})=>(la(t,(s,i)=>{n&&Kt(s)?e[i]=Vy(s,n):e[i]=s},{allOwnKeys:r}),e),hS=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),pS=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},mS=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&gh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},gS=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},xS=e=>{if(!e)return null;if(Ti(e))return e;let t=e.length;if(!Yy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},yS=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gh(Uint8Array)),vS=(e,t)=>{const r=(e&&e[Oc]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},bS=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},wS=kn("HTMLFormElement"),_S=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),xm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),SS=kn("RegExp"),Xy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};la(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},ES=e=>{Xy(e,(t,n)=>{if(Kt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Kt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},jS=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ti(e)?r(e):r(String(e).split(t)),n},NS=()=>{},kS=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function CS(e){return!!(e&&Kt(e.append)&&e[Wy]==="FormData"&&e[Oc])}const TS=e=>{const t=new Array(10),n=(r,s)=>{if(Ic(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const i=Ti(r)?[]:{};return la(r,(o,a)=>{const l=n(o,s+1);!Go(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},RS=kn("AsyncFunction"),PS=e=>e&&(Ic(e)||Kt(e))&&Kt(e.then)&&Kt(e.catch),Qy=((e,t)=>e?setImmediate:t?((n,r)=>(gs.addEventListener("message",({source:s,data:i})=>{s===gs&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),gs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Kt(gs.postMessage)),MS=typeof queueMicrotask<"u"?queueMicrotask.bind(gs):typeof process<"u"&&process.nextTick||Qy,DS=e=>e!=null&&Kt(e[Oc]),O={isArray:Ti,isArrayBuffer:Ky,isBuffer:X_,isFormData:iS,isArrayBufferView:Q_,isString:J_,isNumber:Yy,isBoolean:Z_,isObject:Ic,isPlainObject:xl,isReadableStream:aS,isRequest:lS,isResponse:cS,isHeaders:uS,isUndefined:Go,isDate:eS,isFile:tS,isBlob:nS,isRegExp:SS,isFunction:Kt,isStream:sS,isURLSearchParams:oS,isTypedArray:yS,isFileList:rS,forEach:la,merge:Kd,extend:fS,trim:dS,stripBOM:hS,inherits:pS,toFlatObject:mS,kindOf:Lc,kindOfTest:kn,endsWith:gS,toArray:xS,forEachEntry:vS,matchAll:bS,isHTMLForm:wS,hasOwnProperty:xm,hasOwnProp:xm,reduceDescriptors:Xy,freezeMethods:ES,toObjectSet:jS,toCamelCase:_S,noop:NS,toFiniteNumber:kS,findKey:qy,global:gs,isContextDefined:Gy,isSpecCompliantForm:CS,toJSONObject:TS,isAsyncFn:RS,isThenable:PS,setImmediate:Qy,asap:MS,isIterable:DS};function me(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}O.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const Jy=me.prototype,Zy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Zy[e]={value:e}});Object.defineProperties(me,Zy);Object.defineProperty(Jy,"isAxiosError",{value:!0});me.from=(e,t,n,r,s,i)=>{const o=Object.create(Jy);return O.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),me.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const OS=null;function Yd(e){return O.isPlainObject(e)||O.isArray(e)}function ev(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function ym(e,t,n){return e?e.concat(t).map(function(s,i){return s=ev(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function LS(e){return O.isArray(e)&&!e.some(Yd)}const AS=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function Fc(e,t,n){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!O.isUndefined(b[g])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(s))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(O.isDate(x))return x.toISOString();if(!l&&O.isBlob(x))throw new me("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(x)||O.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,g,b){let y=x;if(x&&!b&&typeof x=="object"){if(O.endsWith(g,"{}"))g=r?g:g.slice(0,-2),x=JSON.stringify(x);else if(O.isArray(x)&&LS(x)||(O.isFileList(x)||O.endsWith(g,"[]"))&&(y=O.toArray(x)))return g=ev(g),y.forEach(function(v,S){!(O.isUndefined(v)||v===null)&&t.append(o===!0?ym([g],S,i):o===null?g:g+"[]",c(v))}),!1}return Yd(x)?!0:(t.append(ym(b,g,i),c(x)),!1)}const f=[],h=Object.assign(AS,{defaultVisitor:d,convertValue:c,isVisitable:Yd});function p(x,g){if(!O.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(x),O.forEach(x,function(y,m){(!(O.isUndefined(y)||y===null)&&s.call(t,y,O.isString(m)?m.trim():m,g,h))===!0&&p(y,g?g.concat(m):[m])}),f.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return p(e),t}function vm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function xh(e,t){this._pairs=[],e&&Fc(e,this,t)}const tv=xh.prototype;tv.append=function(t,n){this._pairs.push([t,n])};tv.toString=function(t){const n=t?function(r){return t.call(this,r,vm)}:vm;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function IS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nv(e,t,n){if(!t)return e;const r=n&&n.encode||IS;O.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=O.isURLSearchParams(t)?t.toString():new xh(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class bm{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(r){r!==null&&t(r)})}}const rv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},FS=typeof URLSearchParams<"u"?URLSearchParams:xh,zS=typeof FormData<"u"?FormData:null,BS=typeof Blob<"u"?Blob:null,$S={isBrowser:!0,classes:{URLSearchParams:FS,FormData:zS,Blob:BS},protocols:["http","https","file","blob","url","data"]},yh=typeof window<"u"&&typeof document<"u",qd=typeof navigator=="object"&&navigator||void 0,US=yh&&(!qd||["ReactNative","NativeScript","NS"].indexOf(qd.product)<0),HS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",VS=yh&&window.location.href||"http://localhost",WS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yh,hasStandardBrowserEnv:US,hasStandardBrowserWebWorkerEnv:HS,navigator:qd,origin:VS},Symbol.toStringTag,{value:"Module"})),Nt={...WS,...$S};function KS(e,t){return Fc(e,new Nt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Nt.isNode&&O.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function YS(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function qS(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function sv(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&O.isArray(s)?s.length:o,l?(O.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!O.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&O.isArray(s[o])&&(s[o]=qS(s[o])),!a)}if(O.isFormData(e)&&O.isFunction(e.entries)){const n={};return O.forEachEntry(e,(r,s)=>{t(YS(r),s,n,0)}),n}return null}function GS(e,t,n){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ca={transitional:rv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=O.isObject(t);if(i&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return s?JSON.stringify(sv(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return KS(t,this.formSerializer).toString();if((a=O.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Fc(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),GS(t)):t}],transformResponse:[function(t){const n=this.transitional||ca.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?me.from(a,me.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nt.classes.FormData,Blob:Nt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{ca.headers[e]={}});const XS=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QS=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&XS[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},wm=Symbol("internals");function qi(e){return e&&String(e).trim().toLowerCase()}function yl(e){return e===!1||e==null?e:O.isArray(e)?e.map(yl):String(e)}function JS(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ZS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ku(e,t,n,r,s){if(O.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!O.isString(t)){if(O.isString(r))return t.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(t)}}function e4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function t4(e,t){const n=O.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let Yt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,c){const d=qi(l);if(!d)throw new Error("header name must be a non-empty string");const f=O.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||l]=yl(a))}const o=(a,l)=>O.forEach(a,(c,d)=>i(c,d,l));if(O.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(O.isString(t)&&(t=t.trim())&&!ZS(t))o(QS(t),n);else if(O.isObject(t)&&O.isIterable(t)){let a={},l,c;for(const d of t){if(!O.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?O.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=qi(t),t){const r=O.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return JS(s);if(O.isFunction(n))return n.call(this,s,r);if(O.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=qi(t),t){const r=O.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ku(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=qi(o),o){const a=O.findKey(r,o);a&&(!n||ku(r,r[a],a,n))&&(delete r[a],s=!0)}}return O.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||ku(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return O.forEach(this,(s,i)=>{const o=O.findKey(r,i);if(o){n[o]=yl(s),delete n[i];return}const a=t?e4(i):String(i).trim();a!==i&&delete n[i],n[a]=yl(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return O.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&O.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[wm]=this[wm]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=qi(o);r[a]||(t4(s,o),r[a]=!0)}return O.isArray(t)?t.forEach(i):i(t),this}};Yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Yt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});O.freezeMethods(Yt);function Cu(e,t){const n=this||ca,r=t||n,s=Yt.from(r.headers);let i=r.data;return O.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function iv(e){return!!(e&&e.__CANCEL__)}function Ri(e,t,n){me.call(this,e??"canceled",me.ERR_CANCELED,t,n),this.name="CanceledError"}O.inherits(Ri,me,{__CANCEL__:!0});function ov(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new me("Request failed with status code "+n.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function n4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function r4(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=r[i];o||(o=c),n[s]=l,r[s]=c;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const p=d&&c-d;return p?Math.round(h*1e3/p):void 0}}function s4(e,t){let n=0,r=1e3/t,s,i;const o=(c,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const Zl=(e,t,n=3)=>{let r=0;const s=r4(50,250);return s4(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},_m=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Sm=e=>(...t)=>O.asap(()=>e(...t)),i4=Nt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Nt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Nt.origin),Nt.navigator&&/(msie|trident)/i.test(Nt.navigator.userAgent)):()=>!0,o4=Nt.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];O.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),O.isString(r)&&o.push("path="+r),O.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function a4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function l4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function av(e,t,n){let r=!a4(t);return e&&(r||n==!1)?l4(e,t):t}const Em=e=>e instanceof Yt?{...e}:e;function Ms(e,t){t=t||{};const n={};function r(c,d,f,h){return O.isPlainObject(c)&&O.isPlainObject(d)?O.merge.call({caseless:h},c,d):O.isPlainObject(d)?O.merge({},d):O.isArray(d)?d.slice():d}function s(c,d,f,h){if(O.isUndefined(d)){if(!O.isUndefined(c))return r(void 0,c,f,h)}else return r(c,d,f,h)}function i(c,d){if(!O.isUndefined(d))return r(void 0,d)}function o(c,d){if(O.isUndefined(d)){if(!O.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,f)=>s(Em(c),Em(d),f,!0)};return O.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=l[d]||s,h=f(e[d],t[d],d);O.isUndefined(h)&&f!==a||(n[d]=h)}),n}const lv=e=>{const t=Ms({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=Yt.from(o),t.url=nv(av(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(O.isFormData(n)){if(Nt.hasStandardBrowserEnv||Nt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Nt.hasStandardBrowserEnv&&(r&&O.isFunction(r)&&(r=r(t)),r||r!==!1&&i4(t.url))){const c=s&&i&&o4.read(i);c&&o.set(s,c)}return t},c4=typeof XMLHttpRequest<"u",u4=c4&&function(e){return new Promise(function(n,r){const s=lv(e);let i=s.data;const o=Yt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,d,f,h,p,x;function g(){p&&p(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function y(){if(!b)return;const v=Yt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:e,request:b};ov(function(w){n(w),g()},function(w){r(w),g()},E),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(r(new me("Request aborted",me.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new me("Network Error",me.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||rv;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new me(S,E.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&O.forEach(o.toJSON(),function(S,E){b.setRequestHeader(E,S)}),O.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),a&&a!=="json"&&(b.responseType=s.responseType),c&&([h,x]=Zl(c,!0),b.addEventListener("progress",h)),l&&b.upload&&([f,p]=Zl(l),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=v=>{b&&(r(!v||v.type?new Ri(null,e,b):v),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const m=n4(s.url);if(m&&Nt.protocols.indexOf(m)===-1){r(new me("Unsupported protocol "+m+":",me.ERR_BAD_REQUEST,e));return}b.send(i||null)})},d4=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof me?d:new Ri(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new me(`timeout ${t} of ms exceeded`,me.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>O.asap(a),l}},f4=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},h4=async function*(e,t){for await(const n of p4(e))yield*f4(n,t)},p4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},jm=(e,t,n,r)=>{const s=h4(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await s.next();if(c){a(),l.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},zc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cv=zc&&typeof ReadableStream=="function",m4=zc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),uv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},g4=cv&&uv(()=>{let e=!1;const t=new Request(Nt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Nm=64*1024,Gd=cv&&uv(()=>O.isReadableStream(new Response("").body)),ec={stream:Gd&&(e=>e.body)};zc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ec[t]&&(ec[t]=O.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new me(`Response type '${t}' is not supported`,me.ERR_NOT_SUPPORT,r)})})})(new Response);const x4=async e=>{if(e==null)return 0;if(O.isBlob(e))return e.size;if(O.isSpecCompliantForm(e))return(await new Request(Nt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(O.isArrayBufferView(e)||O.isArrayBuffer(e))return e.byteLength;if(O.isURLSearchParams(e)&&(e=e+""),O.isString(e))return(await m4(e)).byteLength},y4=async(e,t)=>{const n=O.toFiniteNumber(e.getContentLength());return n??x4(t)},v4=zc&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:h}=lv(e);c=c?(c+"").toLowerCase():"text";let p=d4([s,i&&i.toAbortSignal()],o),x;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(l&&g4&&n!=="get"&&n!=="head"&&(b=await y4(d,r))!==0){let E=new Request(t,{method:"POST",body:r,duplex:"half"}),j;if(O.isFormData(r)&&(j=E.headers.get("content-type"))&&d.setContentType(j),E.body){const[w,N]=_m(b,Zl(Sm(l)));r=jm(E.body,Nm,w,N)}}O.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;x=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:y?f:void 0});let m=await fetch(x);const v=Gd&&(c==="stream"||c==="response");if(Gd&&(a||v&&g)){const E={};["status","statusText","headers"].forEach(M=>{E[M]=m[M]});const j=O.toFiniteNumber(m.headers.get("content-length")),[w,N]=a&&_m(j,Zl(Sm(a),!0))||[];m=new Response(jm(m.body,Nm,w,()=>{N&&N(),g&&g()}),E)}c=c||"text";let S=await ec[O.findKey(ec,c)||"text"](m,e);return!v&&g&&g(),await new Promise((E,j)=>{ov(E,j,{data:S,headers:Yt.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:x})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new me("Network Error",me.ERR_NETWORK,e,x),{cause:y.cause||y}):me.from(y,y&&y.code,e,x)}}),Xd={http:OS,xhr:u4,fetch:v4};O.forEach(Xd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const km=e=>`- ${e}`,b4=e=>O.isFunction(e)||e===null||e===!1,dv={getAdapter:e=>{e=O.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!b4(n)&&(r=Xd[(o=String(n)).toLowerCase()],r===void 0))throw new me(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(km).join(`
`):" "+km(i[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Xd};function Tu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ri(null,e)}function Cm(e){return Tu(e),e.headers=Yt.from(e.headers),e.data=Cu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dv.getAdapter(e.adapter||ca.adapter)(e).then(function(r){return Tu(e),r.data=Cu.call(e,e.transformResponse,r),r.headers=Yt.from(r.headers),r},function(r){return iv(r)||(Tu(e),r&&r.response&&(r.response.data=Cu.call(e,e.transformResponse,r.response),r.response.headers=Yt.from(r.response.headers))),Promise.reject(r)})}const fv="1.9.0",Bc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Bc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Tm={};Bc.transitional=function(t,n,r){function s(i,o){return"[Axios v"+fv+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new me(s(o," has been removed"+(n?" in "+n:"")),me.ERR_DEPRECATED);return n&&!Tm[o]&&(Tm[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Bc.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function w4(e,t,n){if(typeof e!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new me("option "+i+" must be "+l,me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new me("Unknown option "+i,me.ERR_BAD_OPTION)}}const vl={assertOptions:w4,validators:Bc},Pn=vl.validators;let Ss=class{constructor(t){this.defaults=t||{},this.interceptors={request:new bm,response:new bm}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ms(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&vl.assertOptions(r,{silentJSONParsing:Pn.transitional(Pn.boolean),forcedJSONParsing:Pn.transitional(Pn.boolean),clarifyTimeoutError:Pn.transitional(Pn.boolean)},!1),s!=null&&(O.isFunction(s)?n.paramsSerializer={serialize:s}:vl.assertOptions(s,{encode:Pn.function,serialize:Pn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),vl.assertOptions(n,{baseUrl:Pn.spelling("baseURL"),withXsrfToken:Pn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&O.merge(i.common,i[n.method]);i&&O.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=Yt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!l){const x=[Cm.bind(this),void 0];for(x.unshift.apply(x,a),x.push.apply(x,c),h=x.length,d=Promise.resolve(n);f<h;)d=d.then(x[f++],x[f++]);return d}h=a.length;let p=n;for(f=0;f<h;){const x=a[f++],g=a[f++];try{p=x(p)}catch(b){g.call(this,b);break}}try{d=Cm.call(this,p)}catch(x){return Promise.reject(x)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Ms(this.defaults,t);const n=av(t.baseURL,t.url,t.allowAbsoluteUrls);return nv(n,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){Ss.prototype[t]=function(n,r){return this.request(Ms(r||{},{method:t,url:n,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Ms(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ss.prototype[t]=n(),Ss.prototype[t+"Form"]=n(!0)});let _4=class hv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new Ri(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new hv(function(s){t=s}),cancel:t}}};function S4(e){return function(n){return e.apply(null,n)}}function E4(e){return O.isObject(e)&&e.isAxiosError===!0}const Qd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qd).forEach(([e,t])=>{Qd[t]=e});function pv(e){const t=new Ss(e),n=Vy(Ss.prototype.request,t);return O.extend(n,Ss.prototype,t,{allOwnKeys:!0}),O.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return pv(Ms(e,s))},n}const Ce=pv(ca);Ce.Axios=Ss;Ce.CanceledError=Ri;Ce.CancelToken=_4;Ce.isCancel=iv;Ce.VERSION=fv;Ce.toFormData=Fc;Ce.AxiosError=me;Ce.Cancel=Ce.CanceledError;Ce.all=function(t){return Promise.all(t)};Ce.spread=S4;Ce.isAxiosError=E4;Ce.mergeConfig=Ms;Ce.AxiosHeaders=Yt;Ce.formToJSON=e=>sv(O.isHTMLForm(e)?new FormData(e):e);Ce.getAdapter=dv.getAdapter;Ce.HttpStatusCode=Qd;Ce.default=Ce;const{Axios:CC,AxiosError:TC,CanceledError:RC,isCancel:PC,CancelToken:MC,VERSION:DC,all:OC,Cancel:LC,isAxiosError:AC,spread:IC,toFormData:FC,AxiosHeaders:zC,HttpStatusCode:BC,formToJSON:$C,getAdapter:UC,mergeConfig:HC}=Ce,j4=()=>window.location.origin,mv=j4();console.log("API URL:",mv);const ue=Ce.create({baseURL:mv,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0}),N4=async()=>{try{const e=await ue.get("/sanctum/csrf-cookie");return console.log("CSRF Token Response:",e),e}catch(e){console.error("Erreur lors de la rcupration du token CSRF:",e);return}};ue.interceptors.request.use(async function(e){const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.data instanceof FormData?delete e.headers["Content-Type"]:e.headers["Content-Type"]="application/json",console.log("Request Config:",{url:e.url,method:e.method,headers:e.headers,data:e.data instanceof FormData?"FormData":e.data}),e});ue.interceptors.response.use(e=>e,async e=>{var n,r,s,i;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!t._retry){if(t._retry=!0,((r=e.response.data)==null?void 0:r.message)==="Unauthenticated.")return localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",Promise.reject(e);if(((s=e.response.data)==null?void 0:s.message)==="CSRF token mismatch.")return await N4(),ue(t)}return((i=e.response)==null?void 0:i.status)===404&&console.error("Route non trouve:",t.url),Promise.reject(e)});var gv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rm=je.createContext&&je.createContext(gv),k4=["attr","size","title"];function C4(e,t){if(e==null)return{};var n=T4(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function T4(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tc.apply(this,arguments)}function Pm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function nc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pm(Object(n),!0).forEach(function(r){R4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R4(e,t,n){return t=P4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P4(e){var t=M4(e,"string");return typeof t=="symbol"?t:t+""}function M4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xv(e){return e&&e.map((t,n)=>je.createElement(t.tag,nc({key:n},t.attr),xv(t.child)))}function Je(e){return t=>je.createElement(D4,tc({attr:nc({},e.attr)},t),xv(e.child))}function D4(e){var t=n=>{var{attr:r,size:s,title:i}=e,o=C4(e,k4),a=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),je.createElement("svg",tc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:nc(nc({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&je.createElement("title",null,i),e.children)};return Rm!==void 0?je.createElement(Rm.Consumer,null,n=>t(n)):t(gv)}function O4(e){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function L4(e){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function A4(e){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function oo(e){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function I4(e){return Je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(e)}function F4(e){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function z4(e){return Je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function yv(e){return Je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function vv(e){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function Fa(e){return Je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function B4(e){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Mm(e){return Je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function $4(e){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function U4(e){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Ur(e){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function za(e){return Je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(e)}function bl(e){return Je({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function H4(e){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Dm(e){return Je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function V4(e){return Je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function xs(e){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function W4(e){return Je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}const K4=()=>{const[e,t]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(""),[o,a]=_.useState(!1),l=Un();_.useEffect(()=>{(async()=>{try{await ue.get("/sanctum/csrf-cookie")}catch(f){console.error("Erreur lors de la rcupration du token CSRF:",f)}})()},[]);const c=async d=>{var f,h;d.preventDefault(),i(""),a(!0);try{const p=await ue.post("/api/login",{email:e,password:n});p.data.token&&(localStorage.setItem("token",p.data.token),localStorage.setItem("user",JSON.stringify(p.data.user)),l("/dashboard",{replace:!0}))}catch(p){console.error("Erreur de connexion:",p),i(((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.message)||"Une erreur est survenue lors de la connexion. Veuillez ressayer.")}finally{a(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-indigo-500 to-purple-600 p-4",children:u.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Connexion"}),u.jsx("p",{className:"text-gray-600",children:"Bienvenue sur la plateforme de gestion des tickets"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:s}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(xs,{className:"text-gray-400"})}),u.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:d=>t(d.target.value),required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:o})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(B4,{className:"text-gray-400"})}),u.jsx("input",{type:"password",placeholder:"Mot de passe",value:n,onChange:d=>r(d.target.value),required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:o})]}),u.jsx("button",{type:"submit",className:`w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors ${o?"opacity-50 cursor-not-allowed":""}`,disabled:o,children:o?u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-white rounded-full animate-spin mr-2"}),"Connexion en cours..."]}):"Se connecter"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-gray-600",children:["Vous n'avez pas de compte ?"," ",u.jsx(ur,{to:"/register",className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Demander un compte"})]})})]})})},Y4="modulepreload",q4=function(e){return"/"+e},Om={},bv=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=q4(l),l in Om)return;Om[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Y4,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};Ce.defaults.baseURL="http://localhost:8000";const G4=()=>{const e=Xr(),t=Un(),[n,r]=_.useState(!1),[s,i]=_.useState(0),[o,a]=_.useState(0),[l,c]=_.useState(0);let d=null;try{d=JSON.parse(localStorage.getItem("user"))}catch{d=null}const f=d==null?void 0:d.niveau;_.useEffect(()=>{const g=async()=>{try{const m={Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"};if(f===1){const E=await Ce.get("/api/admin/register-requests/count",{headers:m});i(E.data.count)}const v=await Ce.get("/api/tickets/pending/count",{headers:m});a(v.data.count);const S=await Ce.get("/api/tickets/completed/count",{headers:m});c(S.data.count)}catch(y){console.error("Error fetching counts:",y)}};g();const b=setInterval(g,3e4);return()=>clearInterval(b)},[f]);const h=g=>e.pathname===g,p=async()=>{r(!0);try{const g=localStorage.getItem("token");if(!g){t("/login");return}await Ce.post("/api/logout",{},{headers:{Authorization:`Bearer ${g}`,Accept:"application/json","Content-Type":"application/json"}}),localStorage.removeItem("token"),localStorage.removeItem("user"),t("/login")}catch(g){console.error("Erreur lors de la dconnexion:",g),localStorage.removeItem("token"),localStorage.removeItem("user")}finally{r(!1),t("/login")}};let x=[{path:"/dashboard",icon:u.jsx(Fa,{}),text:"Tableau de bord"},{path:"/tickets",icon:u.jsx(za,{}),text:"Tickets"},{path:"/admin/pending-tickets",icon:u.jsx(oo,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/admin/register-requests",icon:u.jsx(Dm,{}),text:"Demandes d'inscription",badge:s>0?s:null},{path:"/create-user",icon:u.jsx(Dm,{}),text:"Crer un utilisateur"},{path:"/users",icon:u.jsx(W4,{}),text:"Liste des utilisateurs"},{path:"/admin/entities",icon:u.jsx(I4,{}),text:"Gestion des rfrentiels"},{path:"/profile",icon:u.jsx(xs,{}),text:"Mon Profil"}];return f==="2"||f===2?x=[{path:"/dashboard",icon:u.jsx(Fa,{}),text:"Tableau de bord"},{path:"/tickets",icon:u.jsx(za,{}),text:"Tickets"},{path:"/admin/pending-tickets",icon:u.jsx(oo,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/profile",icon:u.jsx(xs,{}),text:"Mon Profil"}]:f==="3"||f===3?x=[{path:"/dashboard",icon:u.jsx(Fa,{}),text:"Tableau de bord"},{path:"/tickets",icon:u.jsx(za,{}),text:"Tickets"},{path:"/admin/pending-tickets",icon:u.jsx(oo,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/create-ticket",icon:u.jsx(Mm,{}),text:"Crer un ticket (IA)"},{path:"/profile",icon:u.jsx(xs,{}),text:"Mon Profil"}]:(f==="4"||f===4)&&(x=[{path:"/dashboard",icon:u.jsx(Fa,{}),text:"Tableau de bord"},{path:"/create-ticket",icon:u.jsx(Mm,{}),text:"Crer un ticket (IA)"},{path:"/tickets",icon:u.jsx(za,{}),text:"Mes Tickets"},{path:"/admin/pending-tickets",icon:u.jsx(oo,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/completed-tickets",icon:u.jsx(L4,{}),text:"Tickets termins",badge:l>0?l:null},{path:"/profile",icon:u.jsx(xs,{}),text:"Mon Profil"}]),u.jsxs("div",{className:"bg-gray-800 text-white w-64 min-h-screen p-4 flex flex-col",children:[u.jsx("div",{className:"mb-8",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Gestion Tickets"})}),u.jsx("nav",{children:u.jsxs("ul",{className:"space-y-2",children:[x.map(g=>u.jsx("li",{children:u.jsxs(ur,{to:g.path,className:`flex items-center space-x-2 p-2 rounded-lg transition-colors ${h(g.path)?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[u.jsx("span",{className:"text-lg",children:g.icon}),u.jsx("span",{className:"flex-1",children:g.text}),g.badge&&u.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:g.badge})]})},g.path)),u.jsx("li",{children:u.jsxs("button",{onClick:p,className:"flex items-center space-x-2 p-2 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white w-full",disabled:n,children:[u.jsx("span",{className:"text-lg",children:n?u.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.908l2-2.617zm10 0l2 2.617A7.962 7.962 0 0020 12h-4a8 8 0 01-2 5.291z"})]}):u.jsx(U4,{})}),u.jsx("span",{children:n?"Dconnexion...":"Dconnexion"})]})})]})})]})},Ae=({children:e})=>u.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[u.jsx(G4,{}),u.jsx("main",{className:"flex-1 p-8",children:e})]});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ua(e){return e+.5|0}const Cr=(e,t,n)=>Math.max(Math.min(e,n),t);function ao(e){return Cr(ua(e*2.55),0,255)}function Fr(e){return Cr(ua(e*255),0,255)}function er(e){return Cr(ua(e/2.55)/100,0,1)}function Lm(e){return Cr(ua(e*100),0,100)}const on={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Jd=[..."0123456789ABCDEF"],X4=e=>Jd[e&15],Q4=e=>Jd[(e&240)>>4]+Jd[e&15],Ba=e=>(e&240)>>4===(e&15),J4=e=>Ba(e.r)&&Ba(e.g)&&Ba(e.b)&&Ba(e.a);function Z4(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&on[e[1]]*17,g:255&on[e[2]]*17,b:255&on[e[3]]*17,a:t===5?on[e[4]]*17:255}:(t===7||t===9)&&(n={r:on[e[1]]<<4|on[e[2]],g:on[e[3]]<<4|on[e[4]],b:on[e[5]]<<4|on[e[6]],a:t===9?on[e[7]]<<4|on[e[8]]:255})),n}const eE=(e,t)=>e<255?t(e):"";function tE(e){var t=J4(e)?X4:Q4;return e?"#"+t(e.r)+t(e.g)+t(e.b)+eE(e.a,t):void 0}const nE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function wv(e,t,n){const r=t*Math.min(n,1-n),s=(i,o=(i+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function rE(e,t,n){const r=(s,i=(s+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function sE(e,t,n){const r=wv(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function iE(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}function vh(e){const n=e.r/255,r=e.g/255,s=e.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,c,d;return i!==o&&(d=i-o,c=a>.5?d/(2-i-o):d/(i+o),l=iE(n,r,s,d,i),l=l*60+.5),[l|0,c||0,a]}function bh(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Fr)}function wh(e,t,n){return bh(wv,e,t,n)}function oE(e,t,n){return bh(sE,e,t,n)}function aE(e,t,n){return bh(rE,e,t,n)}function _v(e){return(e%360+360)%360}function lE(e){const t=nE.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?ao(+t[5]):Fr(+t[5]));const s=_v(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=oE(s,i,o):t[1]==="hsv"?r=aE(s,i,o):r=wh(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function cE(e,t){var n=vh(e);n[0]=_v(n[0]+t),n=wh(n),e.r=n[0],e.g=n[1],e.b=n[2]}function uE(e){if(!e)return;const t=vh(e),n=t[0],r=Lm(t[1]),s=Lm(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${er(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const Am={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Im={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dE(){const e={},t=Object.keys(Im),n=Object.keys(Am);let r,s,i,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,Am[i]);i=parseInt(Im[o],16),e[a]=[i>>16&255,i>>8&255,i&255]}return e}let $a;function fE(e){$a||($a=dE(),$a.transparent=[0,0,0,0]);const t=$a[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const hE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function pE(e){const t=hE.exec(e);let n=255,r,s,i;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?ao(o):Cr(o*255,0,255)}return r=+t[1],s=+t[3],i=+t[5],r=255&(t[2]?ao(r):Cr(r,0,255)),s=255&(t[4]?ao(s):Cr(s,0,255)),i=255&(t[6]?ao(i):Cr(i,0,255)),{r,g:s,b:i,a:n}}}function mE(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${er(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Ru=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Vs=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function gE(e,t,n){const r=Vs(er(e.r)),s=Vs(er(e.g)),i=Vs(er(e.b));return{r:Fr(Ru(r+n*(Vs(er(t.r))-r))),g:Fr(Ru(s+n*(Vs(er(t.g))-s))),b:Fr(Ru(i+n*(Vs(er(t.b))-i))),a:e.a+n*(t.a-e.a)}}function Ua(e,t,n){if(e){let r=vh(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=wh(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Sv(e,t){return e&&Object.assign(t||{},e)}function Fm(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Fr(e[3]))):(t=Sv(e,{r:0,g:0,b:0,a:1}),t.a=Fr(t.a)),t}function xE(e){return e.charAt(0)==="r"?pE(e):lE(e)}class Xo{constructor(t){if(t instanceof Xo)return t;const n=typeof t;let r;n==="object"?r=Fm(t):n==="string"&&(r=Z4(t)||fE(t)||xE(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Sv(this._rgb);return t&&(t.a=er(t.a)),t}set rgb(t){this._rgb=Fm(t)}rgbString(){return this._valid?mE(this._rgb):void 0}hexString(){return this._valid?tE(this._rgb):void 0}hslString(){return this._valid?uE(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,s=t.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=gE(this._rgb,t._rgb,n)),this}clone(){return new Xo(this.rgb)}alpha(t){return this._rgb.a=Fr(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=ua(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ua(this._rgb,2,t),this}darken(t){return Ua(this._rgb,2,-t),this}saturate(t){return Ua(this._rgb,1,t),this}desaturate(t){return Ua(this._rgb,1,-t),this}rotate(t){return cE(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Yn(){}const yE=(()=>{let e=0;return()=>e++})();function ve(e){return e==null}function it(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function _e(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function mn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Mn(e,t){return mn(e)?e:t}function be(e,t){return typeof e>"u"?t:e}const vE=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Ev=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function De(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Te(e,t,n,r){let s,i,o;if(it(e))for(i=e.length,s=0;s<i;s++)t.call(n,e[s],s);else if(_e(e))for(o=Object.keys(e),i=o.length,s=0;s<i;s++)t.call(n,e[o[s]],o[s])}function rc(e,t){let n,r,s,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],i=t[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function sc(e){if(it(e))return e.map(sc);if(_e(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=sc(e[n[s]]);return t}return e}function jv(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function bE(e,t,n,r){if(!jv(e))return;const s=t[e],i=n[e];_e(s)&&_e(i)?Bn(s,i,r):t[e]=sc(i)}function Bn(e,t,n){const r=it(t)?t:[t],s=r.length;if(!_e(e))return e;n=n||{};const i=n.merger||bE;let o;for(let a=0;a<s;++a){if(o=r[a],!_e(o))continue;const l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)i(l[c],e,o,n)}return e}function wo(e,t){return Bn(e,t,{merger:wE})}function wE(e,t,n){if(!jv(e))return;const r=t[e],s=n[e];_e(r)&&_e(s)?wo(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=sc(s))}const zm={"":e=>e,x:e=>e.x,y:e=>e.y};function _E(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function SE(e){const t=_E(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Hr(e,t){return(zm[t]||(zm[t]=SE(t)))(e)}function _h(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Qo=e=>typeof e<"u",Vr=e=>typeof e=="function",Bm=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function EE(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const et=Math.PI,ot=2*et,ic=Number.POSITIVE_INFINITY,jE=et/180,ct=et/2,rs=et/4,$m=et*2/3,Nv=Math.log10,zr=Math.sign;function wl(e,t,n){return Math.abs(e-t)<n}function Um(e){const t=Math.round(e);e=wl(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Nv(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function NE(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((s,i)=>s-i).pop(),t}function kE(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function _i(e){return!kE(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function CE(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function TE(e,t,n){let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function In(e){return e*(et/180)}function RE(e){return e*(180/et)}function Hm(e){if(!mn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function kv(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*et&&(i+=ot),{angle:i,distance:s}}function PE(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ss(e){return(e%ot+ot)%ot}function oc(e,t,n,r){const s=ss(e),i=ss(t),o=ss(n),a=ss(i-s),l=ss(o-s),c=ss(s-i),d=ss(s-o);return s===i||s===o||r&&i===o||a>l&&c<d}function kt(e,t,n){return Math.max(t,Math.min(n,e))}function ME(e){return kt(e,-32768,32767)}function ys(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Sh(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const vs=(e,t,n,r)=>Sh(e,n,r?s=>{const i=e[s][t];return i<n||i===n&&e[s+1][t]===n}:s=>e[s][t]<n),DE=(e,t,n)=>Sh(e,n,r=>e[r][t]>=n);function OE(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}const Cv=["push","pop","shift","splice","unshift"];function LE(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Cv.forEach(n=>{const r="_onData"+_h(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function Vm(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);s!==-1&&r.splice(s,1),!(r.length>0)&&(Cv.forEach(i=>{delete e[i]}),delete e._chartjs)}function Tv(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Rv=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Pv(e,t){let n=[],r=!1;return function(...s){n=s,r||(r=!0,Rv.call(window,()=>{r=!1,e.apply(t,n)}))}}function AE(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Eh=e=>e==="start"?"left":e==="end"?"right":"center",St=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,IE=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function Mv(e,t,n){const r=t.length;let s=0,i=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=o.axis,{min:f,max:h,minDefined:p,maxDefined:x}=o.getUserBounds();if(p){if(s=Math.min(vs(l,d,f).lo,n?r:vs(t,d,o.getPixelForValue(f)).lo),c){const g=l.slice(0,s+1).reverse().findIndex(b=>!ve(b[a.axis]));s-=Math.max(0,g)}s=kt(s,0,r-1)}if(x){let g=Math.max(vs(l,o.axis,h,!0).hi+1,n?0:vs(t,d,o.getPixelForValue(h),!0).hi+1);if(c){const b=l.slice(g-1).findIndex(y=>!ve(y[a.axis]));g+=Math.max(0,b)}i=kt(g,s,r)-s}else i=r-s}return{start:s,count:i}}function Dv(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=s,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Ha=e=>e===0||e===1,Wm=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ot/n)),Km=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*ot/n)+1,_o={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ct)+1,easeOutSine:e=>Math.sin(e*ct),easeInOutSine:e=>-.5*(Math.cos(et*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ha(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ha(e)?e:Wm(e,.075,.3),easeOutElastic:e=>Ha(e)?e:Km(e,.075,.3),easeInOutElastic(e){return Ha(e)?e:e<.5?.5*Wm(e*2,.1125,.45):.5+.5*Km(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-_o.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?_o.easeInBounce(e*2)*.5:_o.easeOutBounce(e*2-1)*.5+.5};function Ov(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ym(e){return Ov(e)?e:new Xo(e)}function Pu(e){return Ov(e)?e:new Xo(e).saturate(.5).darken(.1).hexString()}const FE=["x","y","borderWidth","radius","tension"],zE=["color","borderColor","backgroundColor"];function BE(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:zE},numbers:{type:"number",properties:FE}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function $E(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const qm=new Map;function UE(e,t){t=t||{};const n=e+JSON.stringify(t);let r=qm.get(n);return r||(r=new Intl.NumberFormat(e,t),qm.set(n,r)),r}function $c(e,t,n){return UE(t,n).format(e)}const HE={values(e){return it(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let s,i=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=VE(e,n)}const o=Nv(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),$c(e,r,l)}};function VE(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Lv={formatters:HE};function WE(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Lv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ds=Object.create(null),Zd=Object.create(null);function So(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];e=e[i]||(e[i]=Object.create(null))}return e}function Mu(e,t,n){return typeof t=="string"?Bn(So(e,t),n):Bn(So(e,""),t)}class KE{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Pu(s.backgroundColor),this.hoverBorderColor=(r,s)=>Pu(s.borderColor),this.hoverColor=(r,s)=>Pu(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Mu(this,t,n)}get(t){return So(this,t)}describe(t,n){return Mu(Zd,t,n)}override(t,n){return Mu(Ds,t,n)}route(t,n,r,s){const i=So(this,t),o=So(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return _e(l)?Object.assign({},c,l):be(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Qe=new KE({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BE,$E,WE]);function YE(e){return!e||ve(e.size)||ve(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Gm(e,t,n,r,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,n.push(s)),i>r&&(r=i),r}function is(e,t,n){const r=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function Xm(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function ef(e,t,n,r){Av(e,t,n,r,null)}function Av(e,t,n,r,s){let i,o,a,l,c,d,f,h;const p=t.pointStyle,x=t.rotation,g=t.radius;let b=(x||0)*jE;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,r,s/2,g,0,0,ot):e.arc(n,r,g,0,ot),e.closePath();break;case"triangle":d=s?s/2:g,e.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*g),b+=$m,e.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*g),b+=$m,e.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(b+rs)*l,f=Math.cos(b+rs)*(s?s/2-c:l),a=Math.sin(b+rs)*l,h=Math.sin(b+rs)*(s?s/2-c:l),e.arc(n-f,r-a,c,b-et,b-ct),e.arc(n+h,r-o,c,b-ct,b),e.arc(n+f,r+a,c,b,b+ct),e.arc(n-h,r+o,c,b+ct,b+et),e.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*g,d=s?s/2:l,e.rect(n-d,r-l,2*d,2*l);break}b+=rs;case"rectRot":f=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,h=Math.sin(b)*(s?s/2:g),e.moveTo(n-f,r-a),e.lineTo(n+h,r-o),e.lineTo(n+f,r+a),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":b+=rs;case"cross":f=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,h=Math.sin(b)*(s?s/2:g),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":f=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,h=Math.sin(b)*(s?s/2:g),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),b+=rs,f=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,h=Math.sin(b)*(s?s/2:g),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=s?s/2:Math.cos(b)*g,a=Math.sin(b)*g,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(b)*(s?s/2:g),r+Math.sin(b)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function jh(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Nh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function kh(e){e.restore()}function qE(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ve(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function GE(e,t,n,r,s){if(s.strikethrough||s.underline){const i=e.measureText(r),o=t-i.actualBoundingBoxLeft,a=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,d),e.lineTo(a,d),e.stroke()}}function XE(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Jo(e,t,n,r,s,i={}){const o=it(t)?t:[t],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,qE(e,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&XE(e,i.backdrop),a&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),ve(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,n,r,i.maxWidth)),e.fillText(c,n,r,i.maxWidth),GE(e,n,r,c,i),r+=Number(s.lineHeight);e.restore()}function ac(e,t){const{x:n,y:r,w:s,h:i,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*et,et,!0),e.lineTo(n,r+i-o.bottomLeft),e.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,et,ct,!0),e.lineTo(n+s-o.bottomRight,r+i),e.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,ct,0,!0),e.lineTo(n+s,r+o.topRight),e.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-ct,!0),e.lineTo(n+o.topLeft,r)}const QE=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZE(e,t){const n=(""+e).match(QE);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const ej=e=>+e||0;function Ch(e,t){const n={},r=_e(t),s=r?Object.keys(t):t,i=_e(e)?r?o=>be(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=ej(i(o));return n}function Iv(e){return Ch(e,{top:"y",right:"x",bottom:"y",left:"x"})}function fi(e){return Ch(e,["topLeft","topRight","bottomLeft","bottomRight"])}function en(e){const t=Iv(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function xt(e,t){e=e||{},t=t||Qe.font;let n=be(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=be(e.style,t.style);r&&!(""+r).match(JE)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:be(e.family,t.family),lineHeight:ZE(be(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:be(e.weight,t.weight),string:""};return s.string=YE(s),s}function $e(e,t,n,r){let s,i,o;for(s=0,i=e.length;s<i;++s)if(o=e[s],o!==void 0&&(t!==void 0&&typeof o=="function"&&(o=o(t)),n!==void 0&&it(o)&&(o=o[n%o.length]),o!==void 0))return o}function tj(e,t,n){const{min:r,max:s}=e,i=Ev(t,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Pi(e,t){return Object.assign(Object.create(e),t)}function Th(e,t=[""],n,r,s=()=>e[0]){const i=n||e;typeof r>"u"&&(r=$v("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>Th([a,...e],t,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return zv(a,l,()=>cj(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Jm(a).includes(l)},ownKeys(a){return Jm(a)},set(a,l,c){const d=a._storage||(a._storage=s());return a[l]=d[l]=c,delete a._keys,!0}})}function Si(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Fv(e,r),setContext:i=>Si(e,i,n,r),override:i=>Si(e.override(i),t,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,a){return zv(i,o,()=>rj(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,a){return e[o]=a,delete i[o],!0}})}function Fv(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Vr(n)?n:()=>n,isIndexable:Vr(r)?r:()=>r}}const nj=(e,t)=>e?e+_h(t):t,Rh=(e,t)=>_e(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function zv(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function rj(e,t,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=e;let a=r[t];return Vr(a)&&o.isScriptable(t)&&(a=sj(t,a,e,n)),it(a)&&a.length&&(a=ij(t,a,e,o.isIndexable)),Rh(t,a)&&(a=Si(a,s,i&&i[t],o)),a}function sj(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(i,o||r);return a.delete(e),Rh(e,l)&&(l=Ph(s._scopes,s,e,l)),l}function ij(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(_e(t[0])){const l=t,c=s._scopes.filter(d=>d!==l);t=[];for(const d of l){const f=Ph(c,s,e,d);t.push(Si(f,i,o&&o[e],a))}}return t}function Bv(e,t,n){return Vr(e)?e(t,n):e}const oj=(e,t)=>e===!0?t:typeof e=="string"?Hr(t,e):void 0;function aj(e,t,n,r,s){for(const i of t){const o=oj(n,i);if(o){e.add(o);const a=Bv(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Ph(e,t,n,r){const s=t._rootScopes,i=Bv(t._fallback,n,r),o=[...e,...s],a=new Set;a.add(r);let l=Qm(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=Qm(a,o,i,l,r),l===null)?!1:Th(Array.from(a),[""],s,i,()=>lj(t,n,r))}function Qm(e,t,n,r,s){for(;n;)n=aj(e,t,n,r,s);return n}function lj(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];return it(s)&&_e(n)?n:s||{}}function cj(e,t,n,r){let s;for(const i of t)if(s=$v(nj(i,e),n),typeof s<"u")return Rh(e,s)?Ph(n,r,e,s):s}function $v(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function Jm(e){let t=e._keys;return t||(t=e._keys=uj(e._scopes)),t}function uj(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(r);return Array.from(t)}function Uv(e,t,n,r){const{iScale:s}=e,{key:i="r"}=this._parsing,o=new Array(r);let a,l,c,d;for(a=0,l=r;a<l;++a)c=a+n,d=t[c],o[a]={r:s.parse(Hr(d,i),c)};return o}function Mh(){return typeof window<"u"&&typeof document<"u"}function Dh(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function lc(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Uc=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function dj(e,t){return Uc(e).getPropertyValue(t)}const fj=["top","right","bottom","left"];function Es(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=fj[s];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const hj=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function pj(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(hj(s,i,e.target))a=s,l=i;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function cs(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=Uc(n),i=s.boxSizing==="border-box",o=Es(s,"padding"),a=Es(s,"border","width"),{x:l,y:c,box:d}=pj(e,n),f=o.left+(d&&a.left),h=o.top+(d&&a.top);let{width:p,height:x}=t;return i&&(p-=o.width+a.width,x-=o.height+a.height),{x:Math.round((l-f)/p*n.width/r),y:Math.round((c-h)/x*n.height/r)}}function mj(e,t,n){let r,s;if(t===void 0||n===void 0){const i=e&&Dh(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const o=i.getBoundingClientRect(),a=Uc(i),l=Es(a,"border","width"),c=Es(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,r=lc(a.maxWidth,i,"clientWidth"),s=lc(a.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:r||ic,maxHeight:s||ic}}const Va=e=>Math.round(e*10)/10;function gj(e,t,n,r){const s=Uc(e),i=Es(s,"margin"),o=lc(s.maxWidth,e,"clientWidth")||ic,a=lc(s.maxHeight,e,"clientHeight")||ic,l=mj(e,t,n);let{width:c,height:d}=l;if(s.boxSizing==="content-box"){const h=Es(s,"border","width"),p=Es(s,"padding");c-=p.width+h.width,d-=p.height+h.height}return c=Math.max(0,c-i.width),d=Math.max(0,r?c/r:d-i.height),c=Va(Math.min(c,o,l.maxWidth)),d=Va(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Va(c/2)),(t!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,c=Va(Math.floor(d*r))),{width:c,height:d}}function Zm(e,t,n){const r=t||1,s=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(e.currentDevicePixelRatio=r,o.height=s,o.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const xj=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Mh()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function eg(e,t){const n=dj(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const yj=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},vj=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function hi(e,t,n){return e?yj(t,n):vj()}function Hv(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Vv(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Wa(e,t,n){return e.options.clip?e[n]:t[n]}function bj(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Wa(n,t,"left"),right:Wa(n,t,"right"),top:Wa(r,t,"top"),bottom:Wa(r,t,"bottom")}:t}function wj(e,t){const n=t._clip;if(n.disabled)return!1;const r=bj(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class _j{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Rv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,t,"progress")),i.length||(r.running=!1,this._notify(s,r,t,"complete"),r.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Xn=new _j;const tg="transparent",Sj={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=Ym(e||tg),s=r.valid&&Ym(t||tg);return s&&s.valid?s.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class Ej{constructor(t,n,r,s){const i=n[r];s=$e([t.to,s,i,t.from]);const o=$e([t.from,i,s]);this._active=!0,this._fn=t.fn||Sj[t.type||typeof o],this._easing=_o[t.easing]||_o.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=$e([t.to,n,s,t.from]),this._from=$e([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class Wv{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!_e(t))return;const n=Object.keys(Qe.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const i=t[s];if(!_e(i))return;const o={};for(const a of n)o[a]=i[a];(it(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,s=Nj(t,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&jj(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,n){const r=this._properties,s=[],i=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const d=n[c];let f=i[c];const h=r.get(c);if(f)if(h&&f.active()){f.update(h,d,a);continue}else f.cancel();if(!h||!h.duration){t[c]=d;continue}i[c]=f=new Ej(h,t,c,d),s.push(f)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Xn.add(this._chart,r),!0}}function jj(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const i=e[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function Nj(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ng(e,t){const n=e&&e.options||{},r=n.reverse,s=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:r?i:s,end:r?s:i}}function kj(e,t,n){if(n===!1)return!1;const r=ng(e,n),s=ng(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function Cj(e){let t,n,r,s;return _e(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:e===!1}}function Kv(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function rg(e,t,n,r={}){const s=e.keys,i=r.mode==="single";let o,a,l,c;if(t===null)return;let d=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(d=!0,r.all)continue;break}c=e.values[l],mn(c)&&(i||t===0||zr(t)===zr(c))&&(t+=c)}return!d&&!r.all?0:t}function Tj(e,t){const{iScale:n,vScale:r}=t,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],a[l]={[s]:d,[i]:e[d]};return a}function Du(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Rj(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Pj(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Mj(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function sg(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const i=e[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function ig(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,d=Rj(i,o,r),f=t.length;let h;for(let p=0;p<f;++p){const x=t[p],{[l]:g,[c]:b}=x,y=x._stacks||(x._stacks={});h=y[c]=Mj(s,d,g),h[a]=b,h._top=sg(h,o,!0,r.type),h._bottom=sg(h,o,!1,r.type);const m=h._visualValues||(h._visualValues={});m[a]=b}}function Ou(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function Dj(e,t){return Pi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Oj(e,t,n){return Pi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Gi(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const s of t){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Lu=e=>e==="reset"||e==="none",og=(e,t)=>t?e:Object.assign({},e),Lj=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Kv(n,!0),values:null};class jn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Du(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Gi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,h,p,x)=>f==="x"?h:f==="r"?x:p,i=n.xAxisID=be(r.xAxisID,Ou(t,"x")),o=n.yAxisID=be(r.yAxisID,Ou(t,"y")),a=n.rAxisID=be(r.rAxisID,Ou(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,o,a),d=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Vm(this._data,this),t._stacked&&Gi(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(_e(n)){const s=this._cachedMeta;this._data=Tj(n,s)}else if(r!==n){if(r){Vm(r,this);const s=this._cachedMeta;Gi(s),s._parsed=[]}n&&Object.isExtensible(n)&&LE(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Du(n.vScale,n),n.stack!==r.stack&&(s=!0,Gi(n),n.stack=r.stack),this._resyncElements(t),(s||i!==n._stacked)&&(ig(this,n._parsed),n._stacked=Du(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=t===0&&n===s.length?!0:r._sorted,c=t>0&&r._parsed[t-1],d,f,h;if(this._parsing===!1)r._parsed=s,r._sorted=!0,h=s;else{it(s[t])?h=this.parseArrayData(r,s,t,n):_e(s[t])?h=this.parseObjectData(r,s,t,n):h=this.parsePrimitiveData(r,s,t,n);const p=()=>f[a]===null||c&&f[a]<c[a];for(d=0;d<n;++d)r._parsed[d+t]=f=h[d],l&&(p()&&(l=!1),c=f);r._sorted=l}o&&ig(this,h)}parsePrimitiveData(t,n,r,s){const{iScale:i,vScale:o}=t,a=i.axis,l=o.axis,c=i.getLabels(),d=i===o,f=new Array(s);let h,p,x;for(h=0,p=s;h<p;++h)x=h+r,f[h]={[a]:d||i.parse(c[x],x),[l]:o.parse(n[x],x)};return f}parseArrayData(t,n,r,s){const{xScale:i,yScale:o}=t,a=new Array(s);let l,c,d,f;for(l=0,c=s;l<c;++l)d=l+r,f=n[d],a[l]={x:i.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(t,n,r,s){const{xScale:i,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let d,f,h,p;for(d=0,f=s;d<f;++d)h=d+r,p=n[h],c[d]={x:i.parse(Hr(p,a),h),y:o.parse(Hr(p,l),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const s=this.chart,i=this._cachedMeta,o=n[t.axis],a={keys:Kv(s,!0),values:n._stacks[t.axis]._visualValues};return rg(a,o,i.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=rg(s,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&t===r.iScale,o=s.length,a=this._getOtherScale(t),l=Lj(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=Pj(a);let h,p;function x(){p=s[h];const g=p[a.axis];return!mn(p[t.axis])||d>g||f<g}for(h=0;h<o&&!(!x()&&(this.updateRangeFromParsed(c,t,p,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!x()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][t.axis],mn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Cj(be(this.options.clip,kj(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(t,i,a,l),d=a;d<a+l;++d){const f=s[d];f.hidden||(f.active&&c?o.push(f):f.draw(t,i))}for(d=0;d<o.length;++d)o[d].draw(t,i)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=Oj(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=s.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Dj(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=t+"-"+n,a=i[o],l=this.enableOptionSharing&&Qo(r);if(a)return og(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),d),p=Object.keys(Qe.elements[t]),x=()=>this.getContext(r,s,n),g=c.resolveNamedOptions(h,p,x,f);return g.$shared&&(g.$shared=l,i[o]=Object.freeze(og(g,l))),g}_resolveAnimations(t,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(t,r,n))}const c=new Wv(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Lu(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(t,n,r,s){Lu(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!Lu(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,t):i<s&&this._removeElements(i,s-i)}_insertElements(t,n,r=!0){const s=this._cachedMeta,i=s.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=t;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),r&&this.updateElements(i,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&Gi(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Y(jn,"defaults",{}),Y(jn,"datasetElementType",null),Y(jn,"dataElementType",null);function Aj(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=Tv(r.sort((s,i)=>s-i))}return e._cache.$bar}function Ij(e){const t=e.iScale,n=Aj(t,e.type);let r=t._length,s,i,o,a;const l=()=>{o===32767||o===-32768||(Qo(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,i=n.length;s<i;++s)o=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,i=t.ticks.length;s<i;++s)o=t.getPixelForTick(s),l();return r}function Fj(e,t,n,r){const s=n.barThickness;let i,o;return ve(s)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:t.pixels[e]-i/2}}function zj(e,t,n,r){const s=t.pixels,i=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?t.end-t.start:a-i)),a===null&&(a=i+i-o);const c=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function Bj(e,t,n,r){const s=n.parse(e[0],r),i=n.parse(e[1],r),o=Math.min(s,i),a=Math.max(s,i);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:i,min:o,max:a}}function Yv(e,t,n,r){return it(e)?Bj(e,t,n,r):t[n.axis]=n.parse(e,r),t}function ag(e,t,n,r){const s=e.iScale,i=e.vScale,o=s.getLabels(),a=s===i,l=[];let c,d,f,h;for(c=n,d=n+r;c<d;++c)h=t[c],f={},f[s.axis]=a||s.parse(o[c],c),l.push(Yv(h,f,i,c));return l}function Au(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function $j(e,t,n){return e!==0?zr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function Uj(e){let t,n,r,s,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:t,top:s,bottom:i}}function Hj(e,t,n,r){let s=t.borderSkipped;const i={};if(!s){e.borderSkipped=i;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:d}=Uj(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=c:(n._bottom||0)===r?s=d:(i[lg(d,o,a,l)]=!0,s=c)),i[lg(s,o,a,l)]=!0,e.borderSkipped=i}function lg(e,t,n,r){return r?(e=Vj(e,t,n),e=cg(e,n,t)):e=cg(e,t,n),e}function Vj(e,t,n){return e===t?n:e===n?t:e}function cg(e,t,n){return e==="start"?t:e==="end"?n:e}function Wj(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Iu extends jn{parsePrimitiveData(t,n,r,s){return ag(t,n,r,s)}parseArrayData(t,n,r,s){return ag(t,n,r,s)}parseObjectData(t,n,r,s){const{iScale:i,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?a:l,d=o.axis==="x"?a:l,f=[];let h,p,x,g;for(h=r,p=r+s;h<p;++h)g=n[h],x={},x[i.axis]=i.parse(Hr(g,c),h),f.push(Yv(Hr(g,d),x,o,h));return f}updateRangeFromParsed(t,n,r,s){super.updateRangeFromParsed(t,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(t),o=i._custom,a=Au(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,s);for(let p=n;p<n+r;p++){const x=this.getParsed(p),g=i||ve(x[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,d),y=(x._stacks||{})[a.axis],m={horizontal:c,base:g.base,enableBorderRadius:!y||Au(x._custom)||o===y._top||o===y._bottom,x:c?g.head:b.center,y:c?b.center:g.head,height:c?b.size:Math.abs(g.size),width:c?Math.abs(g.size):b.size};h&&(m.options=f||this.resolveDataElementOptions(p,t[p].active?"active":s));const v=m.options||t[p].options;Hj(m,v,y,o),Wj(m,v,d.ratio),this.updateElement(t[p],p,m,s)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=d=>{const f=d._parsed.find(p=>p[r.axis]===l),h=f&&f[d.vScale.axis];if(ve(h)||isNaN(h))return!0};for(const d of s)if(!(n!==void 0&&c(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,r){const s=this._getStacks(t,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const a=t.barThickness;return{min:a||Ij(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(t),c=l._custom,d=Au(c);let f=l[n.axis],h=0,p=r?this.applyStack(n,l,r):f,x,g;p!==f&&(h=p-f,p=f),d&&(f=c.barStart,p=c.barEnd-c.barStart,f!==0&&zr(f)!==zr(c.barEnd)&&(h=0),h+=f);const b=!ve(i)&&!d?i:h;let y=n.getPixelForValue(b);if(this.chart.getDataVisibility(t)?x=n.getPixelForValue(h+p):x=y,g=x-y,Math.abs(g)<o){g=$j(g,n,a)*o,f===a&&(y-=g/2);const m=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),S=Math.min(m,v),E=Math.max(m,v);y=Math.max(Math.min(y,E),S),x=y+g,r&&!d&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(x)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const m=zr(g)*n.getLineWidthForValue(a)/2;y+=m,g-=m}return{size:g,base:y,head:x,center:x+g/2}}_calculateBarIndexPixels(t,n){const r=n.scale,s=this.options,i=s.skipNull,o=be(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=i?this._getStackCount(t):n.stackCount,d=s.barThickness==="flex"?zj(t,n,s,c):Fj(t,n,s,c),f=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);a=d.start+d.chunk*f+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}Y(Iu,"id","bar"),Y(Iu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Y(Iu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Fu extends jn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,s){const i=super.parsePrimitiveData(t,n,r,s);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+r).radius;return i}parseArrayData(t,n,r,s){const i=super.parseArrayData(t,n,r,s);for(let o=0;o<i.length;o++){const a=n[r+o];i[o]._custom=be(a[2],this.resolveDataElementOptions(o+r).radius)}return i}parseObjectData(t,n,r,s){const i=super.parseObjectData(t,n,r,s);for(let o=0;o<i.length;o++){const a=n[r+o];i[o]._custom=be(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=i.getLabelForValue(o.y),c=o._custom;return{label:r[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,s){const i=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),d=o.axis,f=a.axis;for(let h=n;h<n+r;h++){const p=t[h],x=!i&&this.getParsed(h),g={},b=g[d]=i?o.getPixelForDecimal(.5):o.getPixelForValue(x[d]),y=g[f]=i?a.getBasePixel():a.getPixelForValue(x[f]);g.skip=isNaN(b)||isNaN(y),c&&(g.options=l||this.resolveDataElementOptions(h,p.active?"active":s),i&&(g.options.radius=0)),this.updateElement(p,h,g,s)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const i=s.radius;return n!=="active"&&(s.radius=0),s.radius+=be(r&&r._custom,i),s}}Y(Fu,"id","bubble"),Y(Fu,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Y(Fu,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Kj(e,t,n){let r=1,s=1,i=0,o=0;if(t<ot){const a=e,l=a+t,c=Math.cos(a),d=Math.sin(a),f=Math.cos(l),h=Math.sin(l),p=(v,S,E)=>oc(v,a,l,!0)?1:Math.max(S,S*n,E,E*n),x=(v,S,E)=>oc(v,a,l,!0)?-1:Math.min(S,S*n,E,E*n),g=p(0,c,f),b=p(ct,d,h),y=x(et,c,f),m=x(et+ct,d,h);r=(g-y)/2,s=(b-m)/2,i=-(g+y)/2,o=-(b+m)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class lo extends jn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if(_e(r[t])){const{key:l="value"}=this._parsing;i=c=>+Hr(r[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return In(this.options.rotation-90)}_getCircumference(){return In(this.options.circumference)}_getRotationExtents(){let t=ot,n=-ot;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();t=Math.min(t,i),n=Math.max(n,i+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(vE(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:x,offsetY:g}=Kj(f,d,l),b=(r.width-o)/h,y=(r.height-o)/p,m=Math.max(Math.min(b,y)/2,0),v=Ev(this.options.radius,m),S=Math.max(v*l,0),E=(v-S)/this._getVisibleDatasetWeightTotal();this.offsetX=x*v,this.offsetY=g*v,s.total=this.calculateTotal(),this.outerRadius=v-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*c,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*i/ot)}updateElements(t,n,r,s){const i=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,d=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=i&&c.animateScale,p=h?0:this.innerRadius,x=h?0:this.outerRadius,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(n,s);let y=this._getRotation(),m;for(m=0;m<n;++m)y+=this._circumference(m,i);for(m=n;m<n+r;++m){const v=this._circumference(m,i),S=t[m],E={x:d+this.offsetX,y:f+this.offsetY,startAngle:y,endAngle:y+v,circumference:v,outerRadius:x,innerRadius:p};b&&(E.options=g||this.resolveDataElementOptions(m,S.active?"active":s)),y+=v,this.updateElement(S,m,E,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,s;for(s=0;s<n.length;s++){const i=t._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?ot*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=$c(n._parsed[t],r.options.locale);return{label:s[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const r=this.chart;let s,i,o,a,l;if(!t){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,i=t.length;s<i;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,s=t.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(be(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Y(lo,"id","doughnut"),Y(lo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Y(lo,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Y(lo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class zu extends jn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Mv(n,s,o);this._drawStart=a,this._drawCount=l,Dv(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s),h=o.axis,p=a.axis,{spanGaps:x,segment:g}=this.options,b=_i(x)?x:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||s==="none",m=n+r,v=t.length;let S=n>0&&this.getParsed(n-1);for(let E=0;E<v;++E){const j=t[E],w=y?j:{};if(E<n||E>=m){w.skip=!0;continue}const N=this.getParsed(E),M=ve(N[p]),R=w[h]=o.getPixelForValue(N[h],E),A=w[p]=i||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,N,l):N[p],E);w.skip=isNaN(R)||isNaN(A)||M,w.stop=E>0&&Math.abs(N[h]-S[h])>b,g&&(w.parsed=N,w.raw=c.data[E]),f&&(w.options=d||this.resolveDataElementOptions(E,j.active?"active":s)),y||this.updateElement(j,E,w,s),S=N}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Y(zu,"id","line"),Y(zu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Y(zu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Bu extends jn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=$c(n._parsed[t].r,r.options.locale);return{label:s[t]||"",value:i}}parseObjectData(t,n,r,s){return Uv.bind(this)(t,n,r,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,s)=>{const i=this.getParsed(s).r;!isNaN(i)&&this.chart.getDataVisibility(s)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),i=Math.max(s/2,0),o=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),a=(i-o)/t.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,s){const i=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,f=c.yCenter,h=c.getIndexAngle(0)-.5*et;let p=h,x;const g=360/this.countVisibleElements();for(x=0;x<n;++x)p+=this._computeAngle(x,s,g);for(x=n;x<n+r;x++){const b=t[x];let y=p,m=p+this._computeAngle(x,s,g),v=o.getDataVisibility(x)?c.getDistanceFromCenterForValue(this.getParsed(x).r):0;p=m,i&&(l.animateScale&&(v=0),l.animateRotate&&(y=m=h));const S={x:d,y:f,innerRadius:0,outerRadius:v,startAngle:y,endAngle:m,options:this.resolveDataElementOptions(x,b.active?"active":s)};this.updateElement(b,x,S,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?In(this.resolveDataElementOptions(t,n).angle||r):0}}Y(Bu,"id","polarArea"),Y(Bu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Y(Bu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ug extends lo{}Y(ug,"id","pie"),Y(ug,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class $u extends jn{getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,s){return Uv.bind(this)(t,n,r,s)}update(t){const n=this._cachedMeta,r=n.dataset,s=n.data||[],i=n.iScale.getLabels();if(r.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:i.length===s.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,r,s){const i=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+r;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),d=i.getPointPositionForValue(a,this.getParsed(a).r),f=o?i.xCenter:d.x,h=o?i.yCenter:d.y,p={x:f,y:h,angle:d.angle,skip:isNaN(f)||isNaN(h),options:c};this.updateElement(l,a,p,s)}}}Y($u,"id","radar"),Y($u,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Y($u,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Uu extends jn{getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=i.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled;let{start:i,count:o}=Mv(n,r,s);if(this._drawStart=i,this._drawCount=o,Dv(n)&&(i=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(n,s),f=this.getSharedOptions(d),h=this.includeOptions(s,f),p=o.axis,x=a.axis,{spanGaps:g,segment:b}=this.options,y=_i(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||s==="none";let v=n>0&&this.getParsed(n-1);for(let S=n;S<n+r;++S){const E=t[S],j=this.getParsed(S),w=m?E:{},N=ve(j[x]),M=w[p]=o.getPixelForValue(j[p],S),R=w[x]=i||N?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,j,l):j[x],S);w.skip=isNaN(M)||isNaN(R)||N,w.stop=S>0&&Math.abs(j[p]-v[p])>y,b&&(w.parsed=j,w.raw=c.data[S]),h&&(w.options=f||this.resolveDataElementOptions(S,E.active?"active":s)),m||this.updateElement(E,S,w,s),v=j}this.updateSharedOptions(f,s,d)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;const i=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,i,o)/2}}Y(Uu,"id","scatter"),Y(Uu,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Y(Uu,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function os(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Oh{constructor(t){Y(this,"options");this.options=t||{}}static override(t){Object.assign(Oh.prototype,t)}init(){}formats(){return os()}parse(){return os()}format(){return os()}add(){return os()}diff(){return os()}startOf(){return os()}endOf(){return os()}}var Yj={_date:Oh};function qj(e,t,n,r){const{controller:s,data:i,_sorted:o}=e,a=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&i.length){const c=a._reversePixels?DE:vs;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const h=c(i,t,n-f),p=c(i,t,n+f);return{lo:h.lo,hi:p.hi}}}}else{const d=c(i,t,n);if(l){const{vScale:f}=s._cachedMeta,{_parsed:h}=e,p=h.slice(0,d.lo+1).reverse().findIndex(g=>!ve(g[f.axis]));d.lo-=Math.max(0,p);const x=h.slice(d.hi).findIndex(g=>!ve(g[f.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:i.length-1}}function Hc(e,t,n,r,s){const i=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=i.length;a<l;++a){const{index:c,data:d}=i[a],{lo:f,hi:h}=qj(i[a],t,o,s);for(let p=f;p<=h;++p){const x=d[p];x.skip||r(x,c,p)}}}function Gj(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,s){const i=t?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Hu(e,t,n,r,s){const i=[];return!s&&!e.isPointInArea(t)||Hc(e,n,t,function(a,l,c){!s&&!jh(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function Xj(e,t,n,r){let s=[];function i(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:f}=kv(o,{x:t.x,y:t.y});oc(f,c,d)&&s.push({element:o,datasetIndex:a,index:l})}return Hc(e,n,t,i),s}function Qj(e,t,n,r,s,i){let o=[];const a=Gj(n);let l=Number.POSITIVE_INFINITY;function c(d,f,h){const p=d.inRange(t.x,t.y,s);if(r&&!p)return;const x=d.getCenterPoint(s);if(!(!!i||e.isPointInArea(x))&&!p)return;const b=a(t,x);b<l?(o=[{element:d,datasetIndex:f,index:h}],l=b):b===l&&o.push({element:d,datasetIndex:f,index:h})}return Hc(e,n,t,c),o}function Vu(e,t,n,r,s,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!r?Xj(e,t,n,s):Qj(e,t,n,r,s,i)}function dg(e,t,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Hc(e,n,t,(l,c,d)=>{l[o]&&l[o](t[n],s)&&(i.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(t.x,t.y,s))}),r&&!a?[]:i}var Jj={modes:{index(e,t,n,r){const s=cs(t,e),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Hu(e,s,i,r,o):Vu(e,s,i,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,f=c.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:d})}),l):[]},dataset(e,t,n,r){const s=cs(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Hu(e,s,i,r,o):Vu(e,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(e,t,n,r){const s=cs(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return Hu(e,s,i,r,o)},nearest(e,t,n,r){const s=cs(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return Vu(e,s,i,n.intersect,r,o)},x(e,t,n,r){const s=cs(t,e);return dg(e,s,"x",n.intersect,r)},y(e,t,n,r){const s=cs(t,e);return dg(e,s,"y",n.intersect,r)}}};const qv=["left","top","right","bottom"];function Xi(e,t){return e.filter(n=>n.pos===t)}function fg(e,t){return e.filter(n=>qv.indexOf(n.pos)===-1&&n.box.axis===t)}function Qi(e,t){return e.sort((n,r)=>{const s=t?r:n,i=t?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function Zj(e){const t=[];let n,r,s,i,o,a;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return t}function eN(e){const t={};for(const n of e){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!qv.includes(s))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function tN(e,t){const n=eN(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let i,o,a;for(i=0,o=e.length;i<o;++i){a=e[i];const{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*r:l&&t.availableWidth,a.height=s):(a.width=r,a.height=d?d*s:l&&t.availableHeight)}return n}function nN(e){const t=Zj(e),n=Qi(t.filter(c=>c.box.fullSize),!0),r=Qi(Xi(t,"left"),!0),s=Qi(Xi(t,"right")),i=Qi(Xi(t,"top"),!0),o=Qi(Xi(t,"bottom")),a=fg(t,"x"),l=fg(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Xi(t,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function hg(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Gv(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function rN(e,t,n,r){const{pos:s,box:i}=n,o=e.maxPadding;if(!_e(s)){n.size&&(e[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,e[s]+=n.size}i.getPadding&&Gv(o,i.getPadding());const a=Math.max(0,t.outerWidth-hg(o,e,"left","right")),l=Math.max(0,t.outerHeight-hg(o,e,"top","bottom")),c=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function sN(e){const t=e.maxPadding;function n(r){const s=Math.max(t[r]-e[r],0);return e[r]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function iN(e,t){const n=t.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(t[o],n[o])}),i}return r(e?["left","right"]:["top","bottom"])}function co(e,t,n,r){const s=[];let i,o,a,l,c,d;for(i=0,o=e.length,c=0;i<o;++i){a=e[i],l=a.box,l.update(a.width||t.w,a.height||t.h,iN(a.horizontal,t));const{same:f,other:h}=rN(t,n,a,r);c|=f&&s.length,d=d||h,l.fullSize||s.push(a)}return c&&co(s,t,n,r)||d}function Ka(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function pg(e,t,n,r){const s=n.padding;let{x:i,y:o}=t;for(const a of e){const l=a.box,c=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const f=t.w*d,h=c.size||l.height;Qo(c.start)&&(o=c.start),l.fullSize?Ka(l,s.left,o,n.outerWidth-s.right-s.left,h):Ka(l,t.left+c.placed,o,f,h),c.start=o,c.placed+=f,o=l.bottom}else{const f=t.h*d,h=c.size||l.width;Qo(c.start)&&(i=c.start),l.fullSize?Ka(l,i,s.top,h,n.outerHeight-s.bottom-s.top):Ka(l,i,t.top+c.placed,h,f),c.start=i,c.placed+=f,i=l.right}}t.x=i,t.y=o}var dn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=en(e.options.layout.padding),i=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=nN(e.boxes),l=a.vertical,c=a.horizontal;Te(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=l.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},s);Gv(h,en(r));const p=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),x=tN(l.concat(c),f);co(a.fullSize,p,f,x),co(l,p,f,x),co(c,p,f,x)&&co(l,p,f,x),sN(p),pg(a.leftAndTop,p,f,x),p.x+=p.w,p.y+=p.h,pg(a.rightAndBottom,p,f,x),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Te(a.chartArea,g=>{const b=g.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Xv{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,s){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(t){return!0}updateConfig(t){}}class oN extends Xv{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const _l="$chartjs",aN={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mg=e=>e===null||e==="";function lN(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[_l]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",mg(s)){const i=eg(e,"width");i!==void 0&&(e.width=i)}if(mg(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=eg(e,"height");i!==void 0&&(e.height=i)}return e}const Qv=xj?{passive:!0}:!1;function cN(e,t,n){e&&e.addEventListener(t,n,Qv)}function uN(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Qv)}function dN(e,t){const n=aN[e.type]||e.type,{x:r,y:s}=cs(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:s!==void 0?s:null}}function cc(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function fN(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||cc(a.addedNodes,r),o=o&&!cc(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function hN(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||cc(a.removedNodes,r),o=o&&!cc(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Zo=new Map;let gg=0;function Jv(){const e=window.devicePixelRatio;e!==gg&&(gg=e,Zo.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function pN(e,t){Zo.size||window.addEventListener("resize",Jv),Zo.set(e,t)}function mN(e){Zo.delete(e),Zo.size||window.removeEventListener("resize",Jv)}function gN(e,t,n){const r=e.canvas,s=r&&Dh(r);if(!s)return;const i=Pv((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||i(c,d)});return o.observe(s),pN(e,i),o}function Wu(e,t,n){n&&n.disconnect(),t==="resize"&&mN(e)}function xN(e,t,n){const r=e.canvas,s=Pv(i=>{e.ctx!==null&&n(dN(i,e))},e);return cN(r,t,s),s}class yN extends Xv{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(lN(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[_l])return!1;const r=n[_l].initial;["height","width"].forEach(i=>{const o=r[i];ve(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[_l],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:fN,detach:hN,resize:gN}[n]||xN;s[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),s=r[n];if(!s)return;({attach:Wu,detach:Wu,resize:Wu}[n]||uN)(t,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,s){return gj(t,n,r,s)}isAttached(t){const n=t&&Dh(t);return!!(n&&n.isConnected)}}function vN(e){return!Mh()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?oN:yN}class $n{constructor(){Y(this,"x");Y(this,"y");Y(this,"active",!1);Y(this,"options");Y(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return _i(this.x)&&_i(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const s={};return t.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}Y($n,"defaults",{}),Y($n,"defaultRoutes");function bN(e,t){const n=e.options.ticks,r=wN(e),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?SN(t):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return EN(t,c,i,o/s),c;const d=_N(i,t,s);if(o>0){let f,h;const p=o>1?Math.round((l-a)/(o-1)):null;for(Ya(t,c,d,ve(p)?0:a-p,a),f=0,h=o-1;f<h;f++)Ya(t,c,d,i[f],i[f+1]);return Ya(t,c,d,l,ve(p)?t.length:l+p),c}return Ya(t,c,d),c}function wN(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}function _N(e,t,n){const r=jN(e),s=t.length/n;if(!r)return Math.max(s,1);const i=NE(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function SN(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function EN(e,t,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===i&&(t.push(e[o]),s++,i=n[s*r])}function Ya(e,t,n,r,s){const i=be(r,0),o=Math.min(be(s,e.length),e.length);let a=0,l,c,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===d&&(t.push(e[c]),a++,d=Math.round(i+a*n))}function jN(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const NN=e=>e==="left"?"right":e==="right"?"left":e,xg=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,yg=(e,t)=>Math.min(t||e,e);function vg(e,t){const n=[],r=e.length/t,s=e.length;let i=0;for(;i<s;i+=r)n.push(e[Math.floor(i)]);return n}function kN(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),i=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<i-a||l>o+a)))return l}function CN(e,t){Te(e,n=>{const r=n.gc,s=r.length/2;let i;if(s>t){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Ji(e){return e.drawTicks?e.tickLength:0}function bg(e,t){if(!e.display)return 0;const n=xt(e.font,t),r=en(e.padding);return(it(e.text)?e.text.length:1)*n.lineHeight+r.height}function TN(e,t){return Pi(e,{scale:t,type:"scale"})}function RN(e,t,n){return Pi(e,{tick:n,index:t,type:"tick"})}function PN(e,t,n){let r=Eh(e);return(n&&t!=="right"||!n&&t==="right")&&(r=NN(r)),r}function MN(e,t,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:d}=l;let f=0,h,p,x;const g=o-s,b=a-i;if(e.isHorizontal()){if(p=St(r,i,a),_e(n)){const y=Object.keys(n)[0],m=n[y];x=d[y].getPixelForValue(m)+g-t}else n==="center"?x=(c.bottom+c.top)/2+g-t:x=xg(e,n,t);h=a-i}else{if(_e(n)){const y=Object.keys(n)[0],m=n[y];p=d[y].getPixelForValue(m)-b+t}else n==="center"?p=(c.left+c.right)/2-b+t:p=xg(e,n,t);x=St(r,o,s),f=n==="left"?-ct:ct}return{titleX:p,titleY:x,maxWidth:h,rotation:f}}class Mi extends $n{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return t=Mn(t,Number.POSITIVE_INFINITY),n=Mn(n,Number.NEGATIVE_INFINITY),r=Mn(r,Number.POSITIVE_INFINITY),s=Mn(s,Number.NEGATIVE_INFINITY),{min:Mn(t,r),max:Mn(n,s),minDefined:mn(t),maxDefined:mn(n)}}getMinMax(t){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Mn(n,Mn(r,n)),max:Mn(r,Mn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){De(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tj(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?vg(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=bN(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){De(this.options.afterUpdate,[this])}beforeSetDimensions(){De(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){De(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),De(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){De(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r],i.label=De(n.callback,[i.value,r,t],this)}afterTickToLabelConversion(){De(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){De(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=yg(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,p=kt(this.chart.width-f,0,this.maxWidth);a=t.offset?this.maxWidth/r:p/(r-1),f+6>a&&(a=p/(r-(t.offset?.5:1)),l=this.maxHeight-Ji(t.grid)-n.padding-bg(t.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),o=RE(Math.min(Math.asin(kt((d.highest.height+6)/a,-1,1)),Math.asin(kt(l/c,-1,1))-Math.asin(kt(h/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){De(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){De(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=bg(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=Ji(i)+l):(t.height=this.maxHeight,t.width=Ji(i)+l),r.display&&this.ticks.length){const{first:c,last:d,widest:f,highest:h}=this._getLabelSizes(),p=r.padding*2,x=In(this.labelRotation),g=Math.cos(x),b=Math.sin(x);if(a){const y=r.mirror?0:b*f.width+g*h.height;t.height=Math.min(this.maxHeight,t.height+y+p)}else{const y=r.mirror?0:g*f.width+b*h.height;t.width=Math.min(this.maxWidth,t.width+y+p)}this._calculatePadding(c,d,b,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?c?(h=s*t.width,p=r*n.height):(h=r*t.height,p=s*n.width):i==="start"?p=n.width:i==="end"?h=t.width:i!=="inner"&&(h=t.width/2,p=n.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=t.height/2;i==="start"?(d=0,f=t.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){De(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)ve(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=vg(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/yg(n,r));let c=0,d=0,f,h,p,x,g,b,y,m,v,S,E;for(f=0;f<n;f+=l){if(x=t[f].label,g=this._resolveTickFontOptions(f),s.font=b=g.string,y=i[b]=i[b]||{data:{},gc:[]},m=g.lineHeight,v=S=0,!ve(x)&&!it(x))v=Gm(s,y.data,y.gc,v,x),S=m;else if(it(x))for(h=0,p=x.length;h<p;++h)E=x[h],!ve(E)&&!it(E)&&(v=Gm(s,y.data,y.gc,v,E),S+=m);o.push(v),a.push(S),c=Math.max(v,c),d=Math.max(S,d)}CN(i,n);const j=o.indexOf(c),w=a.indexOf(d),N=M=>({width:o[M]||0,height:a[M]||0});return{first:N(0),last:N(n-1),widest:N(j),highest:N(w),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return ME(this._alignToPixels?is(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=RN(this.getContext(),t,r))}return this.$context||(this.$context=TN(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=In(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=Ji(i),p=[],x=a.setContext(this.getContext()),g=x.display?x.width:0,b=g/2,y=function(q){return is(r,q,g)};let m,v,S,E,j,w,N,M,R,A,z,G;if(o==="top")m=y(this.bottom),w=this.bottom-h,M=m-b,A=y(t.top)+b,G=t.bottom;else if(o==="bottom")m=y(this.top),A=t.top,G=y(t.bottom)-b,w=m+b,M=this.top+h;else if(o==="left")m=y(this.right),j=this.right-h,N=m-b,R=y(t.left)+b,z=t.right;else if(o==="right")m=y(this.left),R=t.left,z=y(t.right)-b,j=m+b,N=this.left+h;else if(n==="x"){if(o==="center")m=y((t.top+t.bottom)/2+.5);else if(_e(o)){const q=Object.keys(o)[0],ne=o[q];m=y(this.chart.scales[q].getPixelForValue(ne))}A=t.top,G=t.bottom,w=m+b,M=w+h}else if(n==="y"){if(o==="center")m=y((t.left+t.right)/2);else if(_e(o)){const q=Object.keys(o)[0],ne=o[q];m=y(this.chart.scales[q].getPixelForValue(ne))}j=m-b,N=j-h,R=t.left,z=t.right}const re=be(s.ticks.maxTicksLimit,f),J=Math.max(1,Math.ceil(f/re));for(v=0;v<f;v+=J){const q=this.getContext(v),ne=i.setContext(q),L=a.setContext(q),U=ne.lineWidth,D=ne.color,Z=L.dash||[],I=L.dashOffset,F=ne.tickWidth,W=ne.tickColor,oe=ne.tickBorderDash||[],se=ne.tickBorderDashOffset;S=kN(this,v,l),S!==void 0&&(E=is(r,S,U),c?j=N=R=z=E:w=M=A=G=E,p.push({tx1:j,ty1:w,tx2:N,ty2:M,x1:R,y1:A,x2:z,y2:G,width:U,color:D,borderDash:Z,borderDashOffset:I,tickWidth:F,tickColor:W,tickBorderDash:oe,tickBorderDashOffset:se}))}return this._ticksLength=f,this._borderValue=m,p}_computeLabelItems(t){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:f}=i,h=Ji(r.grid),p=h+d,x=f?-d:p,g=-In(this.labelRotation),b=[];let y,m,v,S,E,j,w,N,M,R,A,z,G="middle";if(s==="top")j=this.bottom-x,w=this._getXAxisLabelAlignment();else if(s==="bottom")j=this.top+x,w=this._getXAxisLabelAlignment();else if(s==="left"){const J=this._getYAxisLabelAlignment(h);w=J.textAlign,E=J.x}else if(s==="right"){const J=this._getYAxisLabelAlignment(h);w=J.textAlign,E=J.x}else if(n==="x"){if(s==="center")j=(t.top+t.bottom)/2+p;else if(_e(s)){const J=Object.keys(s)[0],q=s[J];j=this.chart.scales[J].getPixelForValue(q)+p}w=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")E=(t.left+t.right)/2-p;else if(_e(s)){const J=Object.keys(s)[0],q=s[J];E=this.chart.scales[J].getPixelForValue(q)}w=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?G="top":l==="end"&&(G="bottom"));const re=this._getLabelSizes();for(y=0,m=a.length;y<m;++y){v=a[y],S=v.label;const J=i.setContext(this.getContext(y));N=this.getPixelForTick(y)+i.labelOffset,M=this._resolveTickFontOptions(y),R=M.lineHeight,A=it(S)?S.length:1;const q=A/2,ne=J.color,L=J.textStrokeColor,U=J.textStrokeWidth;let D=w;o?(E=N,w==="inner"&&(y===m-1?D=this.options.reverse?"left":"right":y===0?D=this.options.reverse?"right":"left":D="center"),s==="top"?c==="near"||g!==0?z=-A*R+R/2:c==="center"?z=-re.highest.height/2-q*R+R:z=-re.highest.height+R/2:c==="near"||g!==0?z=R/2:c==="center"?z=re.highest.height/2-q*R:z=re.highest.height-A*R,f&&(z*=-1),g!==0&&!J.showLabelBackdrop&&(E+=R/2*Math.sin(g))):(j=N,z=(1-A)*R/2);let Z;if(J.showLabelBackdrop){const I=en(J.backdropPadding),F=re.heights[y],W=re.widths[y];let oe=z-I.top,se=0-I.left;switch(G){case"middle":oe-=F/2;break;case"bottom":oe-=F;break}switch(w){case"center":se-=W/2;break;case"right":se-=W;break;case"inner":y===m-1?se-=W:y>0&&(se-=W/2);break}Z={left:se,top:oe,width:W+I.width,height:F+I.height,color:J.backdropColor}}b.push({label:S,font:M,textOffset:z,options:{rotation:g,color:ne,strokeColor:L,strokeWidth:U,textAlign:D,textBaseline:G,translation:[E,j],backdrop:Z}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-In(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=t+i,l=o.widest.width;let c,d;return n==="left"?s?(d=this.right+i,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,s,i,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const a=(l,c,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,f,h;this.isHorizontal()?(c=is(t,this.left,o)-o/2,d=is(t,this.right,a)+a/2,f=h=l):(f=is(t,this.top,o)-o/2,h=is(t,this.bottom,a)+a/2,c=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Nh(r,s);const i=this.getLabelItems(t);for(const o of i){const a=o.options,l=o.font,c=o.label,d=o.textOffset;Jo(r,c,0,d,l,a)}s&&kh(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=xt(r.font),o=en(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||_e(n)?(l+=o.bottom,it(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:f,rotation:h}=MN(this,l,n,a);Jo(t,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:h,textAlign:PN(a,n,s),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=be(t.grid&&t.grid.z,-1),s=be(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Mi.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return xt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class qa{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;LN(n)&&(r=this.register(n));const s=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in s||(s[i]=t,DN(t,o,r),this.override&&Qe.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,s=this.scope;r in n&&delete n[r],s&&r in Qe[s]&&(delete Qe[s][r],this.override&&delete Ds[r])}}function DN(e,t,n){const r=Bn(Object.create(null),[n?Qe.get(n):{},Qe.get(t),e.defaults]);Qe.set(t,r),e.defaultRoutes&&ON(t,e.defaultRoutes),e.descriptors&&Qe.describe(t,e.descriptors)}function ON(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),s=r.pop(),i=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Qe.route(i,s,l,a)})}function LN(e){return"id"in e&&"defaults"in e}class AN{constructor(){this.controllers=new qa(jn,"datasets",!0),this.elements=new qa($n,"elements"),this.plugins=new qa(Object,"plugins"),this.scales=new qa(Mi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(t,i,s):Te(s,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const s=_h(t);De(r["before"+s],[],r),n[t](r),De(r["after"+s],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return s}}var Ln=new AN;class IN{constructor(){this._init=[]}notify(t,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(i,t,n,r);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,s){s=s||{};for(const i of t){const o=i.plugin,a=o[r],l=[n,s,i.options];if(De(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){ve(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,s=be(r.options&&r.options.plugins,{}),i=FN(r);return s===!1&&!n?[]:BN(t,i,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),t,"stop"),this._notify(s(r,n),t,"start")}}function FN(e){const t={},n=[],r=Object.keys(Ln.plugins.items);for(let i=0;i<r.length;i++)n.push(Ln.getPlugin(r[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function zN(e,t){return!t&&e===!1?null:e===!0?{}:e}function BN(e,{plugins:t,localIds:n},r,s){const i=[],o=e.getContext();for(const a of t){const l=a.id,c=zN(r[l],s);c!==null&&i.push({plugin:a,options:$N(e.config,{plugin:a,local:n[l]},c,o)})}return i}function $N(e,{plugin:t,local:n},r,s){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(r,i);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function tf(e,t){const n=Qe.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function UN(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function HN(e,t){return e===t?"_index_":"_value_"}function wg(e){if(e==="x"||e==="y"||e==="r")return e}function VN(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function nf(e,...t){if(wg(e))return e;for(const n of t){const r=n.axis||VN(n.position)||e.length>1&&wg(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function _g(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function WN(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return _g(e,"x",n[0])||_g(e,"y",n[0])}return{}}function KN(e,t){const n=Ds[e.type]||{scales:{}},r=t.scales||{},s=tf(e.type,t),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!_e(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=nf(o,a,WN(o,e),Qe.scales[a.type]),c=HN(l,s),d=n.scales||{};i[o]=wo(Object.create(null),[{axis:l},a,d[l],d[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||tf(a,t),d=(Ds[a]||{}).scales||{};Object.keys(d).forEach(f=>{const h=UN(f,l),p=o[h+"AxisID"]||h;i[p]=i[p]||Object.create(null),wo(i[p],[{axis:h},r[p],d[f]])})}),Object.keys(i).forEach(o=>{const a=i[o];wo(a,[Qe.scales[a.type],Qe.scale])}),i}function Zv(e){const t=e.options||(e.options={});t.plugins=be(t.plugins,{}),t.scales=KN(e,t)}function e1(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function YN(e){return e=e||{},e.data=e1(e.data),Zv(e),e}const Sg=new Map,t1=new Set;function Ga(e,t){let n=Sg.get(e);return n||(n=t(),Sg.set(e,n),t1.add(n)),n}const Zi=(e,t,n)=>{const r=Hr(t,n);r!==void 0&&e.add(r)};class qN{constructor(t){this._config=YN(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=e1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Zv(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ga(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Ga(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Ga(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Ga(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let s=r.get(t);return(!s||n)&&(s=new Map,r.set(t,s)),s}getOptionScopes(t,n,r){const{options:s,type:i}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{t&&(l.add(t),d.forEach(f=>Zi(l,t,f))),d.forEach(f=>Zi(l,s,f)),d.forEach(f=>Zi(l,Ds[i]||{},f)),d.forEach(f=>Zi(l,Qe,f)),d.forEach(f=>Zi(l,Zd,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),t1.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ds[n]||{},Qe.datasets[n]||{},{type:n},Qe,Zd]}resolveNamedOptions(t,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Eg(this._resolverCache,t,s);let l=o;if(XN(o,n)){i.$shared=!1,r=Vr(r)?r():r;const c=this.createResolver(t,r,a);l=Si(o,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(t,n,r=[""],s){const{resolver:i}=Eg(this._resolverCache,t,r);return _e(n)?Si(i,n,void 0,s):i}}function Eg(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let i=r.get(s);return i||(i={resolver:Th(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const GN=e=>_e(e)&&Object.getOwnPropertyNames(e).some(t=>Vr(e[t]));function XN(e,t){const{isScriptable:n,isIndexable:r}=Fv(e);for(const s of t){const i=n(s),o=r(s),a=(o||i)&&e[s];if(i&&(Vr(a)||GN(a))||o&&it(a))return!0}return!1}var QN="4.4.9";const JN=["top","bottom","left","right","chartArea"];function jg(e,t){return e==="top"||e==="bottom"||JN.indexOf(e)===-1&&t==="x"}function Ng(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function kg(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),De(n&&n.onComplete,[e],t)}function ZN(e){const t=e.chart,n=t.options.animation;De(n&&n.onProgress,[e],t)}function n1(e){return Mh()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Sl={},Cg=e=>{const t=n1(e);return Object.values(Sl).filter(n=>n.canvas===t).pop()};function ek(e,t,n){const r=Object.keys(e);for(const s of r){const i=+s;if(i>=t){const o=e[s];delete e[s],(n>0||i>t)&&(e[i+n]=o)}}}function tk(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}class wr{static register(...t){Ln.add(...t),Tg()}static unregister(...t){Ln.remove(...t),Tg()}constructor(t,n){const r=this.config=new qN(n),s=n1(t),i=Cg(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||vN(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=yE(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new IN,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=AE(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Sl[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Xn.listen(this,"complete",kg),Xn.listen(this,"progress",ZN),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return ve(t)?n&&i?i:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ln}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Zm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xm(this.canvas,this.ctx),this}stop(){return Xn.stop(this),this}resize(t,n){Xn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Zm(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),De(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Te(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=nf(o,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),Te(i,o=>{const a=o.options,l=a.id,c=nf(l,a),d=be(a.type,o.dtype);(a.position===void 0||jg(a.position,c)!==jg(o.dposition))&&(a.position=o.dposition),s[l]=!0;let f=null;if(l in r&&r[l].type===d)f=r[l];else{const h=Ln.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,t)}),Te(s,(o,a)=>{o||delete r[a]}),Te(r,o=>{dn.configure(this,o,o.options),dn.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(Ng("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||tf(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Ln.getController(a),{datasetElementType:c,dataElementType:d}=Qe.datasets[a];Object.assign(l,{dataElementType:Ln.getElement(d),datasetElementType:c&&Ln.getElement(c)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Te(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:f}=this.getDatasetMeta(c),h=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||Te(i,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ng("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Te(this.scales,t=>{dn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Bm(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;ek(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(t.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!Bm(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;dn.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Te(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Vr(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Xn.has(this)?this.attached&&!Xn.running(this)&&Xn.start(this):(this.draw(),kg({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=wj(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Nh(n,s),t.controller.draw(),s&&kh(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return jh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const i=Jj.modes[n];return typeof i=="function"?i(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Pi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,s);Qo(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Xn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Xm(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Sl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),t[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};Te(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Te(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Te(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!rc(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const s=this.options.hover,i=(l,c)=>l.filter(d=>!c.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=i(n,t),a=r?t:i(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(t,s,r,o),l=EE(t),c=tk(t,this._lastEvent,r,l);r&&(this._lastEvent=null,De(i.onHover,[t,a,this],this),l&&De(i.onClick,[t,a,this],this));const d=!rc(a,s);return(d||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,d}_getActiveElements(t,n,r,s){if(t.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,s)}}Y(wr,"defaults",Qe),Y(wr,"instances",Sl),Y(wr,"overrides",Ds),Y(wr,"registry",Ln),Y(wr,"version",QN),Y(wr,"getChart",Cg);function Tg(){return Te(wr.instances,e=>e._plugins.invalidate())}function nk(e,t,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(i,o,a,r-c,n+c),l>s?(c=s/l,e.arc(i,o,l,n+c,r-c,!0)):e.arc(i,o,s,n+ct,r-ct),e.closePath(),e.clip()}function rk(e){return Ch(e,["outerStart","outerEnd","innerStart","innerEnd"])}function sk(e,t,n,r){const s=rk(e.options.borderRadius),i=(n-t)/2,o=Math.min(i,r*t/2),a=l=>{const c=(n-Math.min(i,l))*r/2;return kt(l,0,Math.min(i,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:kt(s.innerStart,0,o),innerEnd:kt(s.innerEnd,0,o)}}function Ws(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function uc(e,t,n,r,s,i){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,f=Math.max(t.outerRadius+r+n-c,0),h=d>0?d+r+n+c:0;let p=0;const x=s-l;if(r){const J=d>0?d-r:0,q=f>0?f-r:0,ne=(J+q)/2,L=ne!==0?x*ne/(ne+r):x;p=(x-L)/2}const g=Math.max(.001,x*f-n/et)/f,b=(x-g)/2,y=l+b+p,m=s-b-p,{outerStart:v,outerEnd:S,innerStart:E,innerEnd:j}=sk(t,h,f,m-y),w=f-v,N=f-S,M=y+v/w,R=m-S/N,A=h+E,z=h+j,G=y+E/A,re=m-j/z;if(e.beginPath(),i){const J=(M+R)/2;if(e.arc(o,a,f,M,J),e.arc(o,a,f,J,R),S>0){const U=Ws(N,R,o,a);e.arc(U.x,U.y,S,R,m+ct)}const q=Ws(z,m,o,a);if(e.lineTo(q.x,q.y),j>0){const U=Ws(z,re,o,a);e.arc(U.x,U.y,j,m+ct,re+Math.PI)}const ne=(m-j/h+(y+E/h))/2;if(e.arc(o,a,h,m-j/h,ne,!0),e.arc(o,a,h,ne,y+E/h,!0),E>0){const U=Ws(A,G,o,a);e.arc(U.x,U.y,E,G+Math.PI,y-ct)}const L=Ws(w,y,o,a);if(e.lineTo(L.x,L.y),v>0){const U=Ws(w,M,o,a);e.arc(U.x,U.y,v,y-ct,M)}}else{e.moveTo(o,a);const J=Math.cos(M)*f+o,q=Math.sin(M)*f+a;e.lineTo(J,q);const ne=Math.cos(R)*f+o,L=Math.sin(R)*f+a;e.lineTo(ne,L)}e.closePath()}function ik(e,t,n,r,s){const{fullCircles:i,startAngle:o,circumference:a}=t;let l=t.endAngle;if(i){uc(e,t,n,r,l,s);for(let c=0;c<i;++c)e.fill();isNaN(a)||(l=o+(a%ot||ot))}return uc(e,t,n,r,l,s),e.fill(),l}function ok(e,t,n,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:f,borderDashOffset:h}=l,p=l.borderAlign==="inner";if(!c)return;e.setLineDash(f||[]),e.lineDashOffset=h,p?(e.lineWidth=c*2,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let x=t.endAngle;if(i){uc(e,t,n,r,x,s);for(let g=0;g<i;++g)e.stroke();isNaN(a)||(x=o+(a%ot||ot))}p&&nk(e,t,x),i||(uc(e,t,n,r,x,s),e.stroke())}class ii extends $n{constructor(n){super();Y(this,"circumference");Y(this,"endAngle");Y(this,"fullCircles");Y(this,"innerRadius");Y(this,"outerRadius");Y(this,"pixelMargin");Y(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=kv(i,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,x=be(h,c-l),g=oc(o,l,c)&&l!==c,b=x>=ot||g,y=ys(a,d+p,f+p);return b&&y}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:d}=this.options,f=(i+o)/2,h=(a+l+d+c)/2;return{x:r+Math.cos(f)*h,y:s+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>ot?Math.floor(s/ot):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(et,s||0)),d=i*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,ik(n,this,d,o,a),ok(n,this,d,o,a),n.restore()}}Y(ii,"id","arc"),Y(ii,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Y(ii,"defaultRoutes",{backgroundColor:"backgroundColor"}),Y(ii,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Rg(e,t,n,r){const s=e.options,{[n]:i}=e.getProps([n],r);return Math.abs(t-i)<s.radius+s.hitRadius}class El extends $n{constructor(n){super();Y(this,"parsed");Y(this,"skip");Y(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return Rg(this,n,"x",r)}inYRange(n,r){return Rg(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!jh(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,ef(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Y(El,"id","point"),Y(El,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Y(El,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function r1(e,t){const{x:n,y:r,base:s,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,d,f;return e.horizontal?(f=o/2,a=Math.min(n,s),l=Math.max(n,s),c=r-f,d=r+f):(f=i/2,a=n-f,l=n+f,c=Math.min(r,s),d=Math.max(r,s)),{left:a,top:c,right:l,bottom:d}}function Tr(e,t,n,r){return e?0:kt(t,n,r)}function ak(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,i=Iv(r);return{t:Tr(s.top,i.top,0,n),r:Tr(s.right,i.right,0,t),b:Tr(s.bottom,i.bottom,0,n),l:Tr(s.left,i.left,0,t)}}function lk(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=fi(s),o=Math.min(t,n),a=e.borderSkipped,l=r||_e(s);return{topLeft:Tr(!l||a.top||a.left,i.topLeft,0,o),topRight:Tr(!l||a.top||a.right,i.topRight,0,o),bottomLeft:Tr(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:Tr(!l||a.bottom||a.right,i.bottomRight,0,o)}}function ck(e){const t=r1(e),n=t.right-t.left,r=t.bottom-t.top,s=ak(e,n/2,r/2),i=lk(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Ku(e,t,n,r){const s=t===null,i=n===null,a=e&&!(s&&i)&&r1(e,r);return a&&(s||ys(t,a.left,a.right))&&(i||ys(n,a.top,a.bottom))}function uk(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function dk(e,t){e.rect(t.x,t.y,t.w,t.h)}function Yu(e,t,n={}){const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+i,h:e.h+o,radius:e.radius}}class Eo extends $n{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=ck(this),a=uk(o.radius)?ac:dk;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),a(t,Yu(o,n,i)),t.clip(),a(t,Yu(i,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,Yu(i,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,r){return Ku(this,t,n,r)}inXRange(t,n){return Ku(this,t,null,n)}inYRange(t,n){return Ku(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Y(Eo,"id","bar"),Y(Eo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Y(Eo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Pg=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},fk=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Mg extends $n{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=De(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,s)=>t.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,s=xt(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Pg(r,i);let c,d;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=s+a;let f=t;i.textAlign="left",i.textBaseline="middle";let h=-1,p=-d;return this.legendItems.forEach((x,g)=>{const b=r+n/2+i.measureText(x.text).width;(g===0||c[c.length-1]+b+2*a>o)&&(f+=d,c[c.length-(g>0?0:1)]=0,p+=d,h++),l[g]={left:0,top:p,row:h,width:b,height:s},c[c.length-1]+=b+a}),f}_fitCols(t,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-t;let f=a,h=0,p=0,x=0,g=0;return this.legendItems.forEach((b,y)=>{const{itemWidth:m,itemHeight:v}=hk(r,n,i,b,s);y>0&&p+v+2*a>d&&(f+=h+a,c.push({width:h,height:p}),x+=h+a,g++,h=p=0),l[y]={left:x,top:p,col:g,width:m,height:v},h=Math.max(h,m),p+=v+a}),f+=h,c.push({width:h,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=hi(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=St(r,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=St(r,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=St(r,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=St(r,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Nh(t,this),this._draw(),kh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=t,a=Qe.color,l=hi(t.rtl,this.left,this.width),c=xt(o.font),{padding:d}=o,f=c.size,h=f/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:x,boxHeight:g,itemHeight:b}=Pg(o,f),y=function(j,w,N){if(isNaN(x)||x<=0||isNaN(g)||g<0)return;s.save();const M=be(N.lineWidth,1);if(s.fillStyle=be(N.fillStyle,a),s.lineCap=be(N.lineCap,"butt"),s.lineDashOffset=be(N.lineDashOffset,0),s.lineJoin=be(N.lineJoin,"miter"),s.lineWidth=M,s.strokeStyle=be(N.strokeStyle,a),s.setLineDash(be(N.lineDash,[])),o.usePointStyle){const R={radius:g*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:M},A=l.xPlus(j,x/2),z=w+h;Av(s,R,A,z,o.pointStyleWidth&&x)}else{const R=w+Math.max((f-g)/2,0),A=l.leftForLtr(j,x),z=fi(N.borderRadius);s.beginPath(),Object.values(z).some(G=>G!==0)?ac(s,{x:A,y:R,w:x,h:g,radius:z}):s.rect(A,R,x,g),s.fill(),M!==0&&s.stroke()}s.restore()},m=function(j,w,N){Jo(s,N.text,j,w+b/2,c,{strikethrough:N.hidden,textAlign:l.textAlign(N.textAlign)})},v=this.isHorizontal(),S=this._computeTitleHeight();v?p={x:St(i,this.left+d,this.right-r[0]),y:this.top+d+S,line:0}:p={x:this.left+d,y:St(i,this.top+S+d,this.bottom-n[0].height),line:0},Hv(this.ctx,t.textDirection);const E=b+d;this.legendItems.forEach((j,w)=>{s.strokeStyle=j.fontColor,s.fillStyle=j.fontColor;const N=s.measureText(j.text).width,M=l.textAlign(j.textAlign||(j.textAlign=o.textAlign)),R=x+h+N;let A=p.x,z=p.y;l.setWidth(this.width),v?w>0&&A+R+d>this.right&&(z=p.y+=E,p.line++,A=p.x=St(i,this.left+d,this.right-r[p.line])):w>0&&z+E>this.bottom&&(A=p.x=A+n[p.line].width+d,p.line++,z=p.y=St(i,this.top+S+d,this.bottom-n[p.line].height));const G=l.x(A);if(y(G,z,j),A=IE(M,A+x+h,v?A+R:this.right,t.rtl),m(l.x(A),z,j),v)p.x+=R+d;else if(typeof j.text!="string"){const re=c.lineHeight;p.y+=s1(j,re)+d}else p.y+=E}),Vv(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=xt(n.font),s=en(n.padding);if(!n.display)return;const i=hi(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=s.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,f=St(t.align,f,this.right-h);else{const x=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);d=c+St(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const p=St(a,f,f+h);o.textAlign=i.textAlign(Eh(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Jo(o,n.text,p,d,r)}_computeTitleHeight(){const t=this.options.title,n=xt(t.font),r=en(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,s,i;if(ys(t,this.left,this.right)&&ys(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],ys(t,s.left,s.left+s.width)&&ys(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!gk(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,i=fk(s,r);s&&!i&&De(n.onLeave,[t,s,this],this),this._hoveredItem=r,r&&!i&&De(n.onHover,[t,r,this],this)}else r&&De(n.onClick,[t,r,this],this)}}function hk(e,t,n,r,s){const i=pk(r,e,t,n),o=mk(s,r,t.lineHeight);return{itemWidth:i,itemHeight:o}}function pk(e,t,n,r){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),t+n.size/2+r.measureText(s).width}function mk(e,t,n){let r=e;return typeof t.text!="string"&&(r=s1(t,n)),r}function s1(e,t){const n=e.text?e.text.length:0;return t*n}function gk(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var xk={id:"legend",_element:Mg,start(e,t,n){const r=e.legend=new Mg({ctx:e.ctx,options:n,chart:e});dn.configure(e,r,n),dn.addBox(e,r)},stop(e){dn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;dn.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=en(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class i1 extends $n{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=it(r.text)?r.text.length:1;this._padding=en(r.padding);const i=s*xt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,c,d,f;return this.isHorizontal()?(d=St(a,r,i),f=n+t,c=i-r):(o.position==="left"?(d=r+t,f=St(a,s,n),l=et*-.5):(d=i-t,f=St(a,n,s),l=et*.5),c=s-n),{titleX:d,titleY:f,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=xt(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);Jo(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Eh(n.align),textBaseline:"middle",translation:[o,a]})}}function yk(e,t){const n=new i1({ctx:e.ctx,options:t,chart:e});dn.configure(e,n,t),dn.addBox(e,n),e.titleBlock=n}var vk={id:"title",_element:i1,start(e,t,n){yk(e,n)},stop(e){const t=e.titleBlock;dn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;dn.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const uo={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,i=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=e.length;i<o;++i){const l=e[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=PE(t,c);d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Dn(e,t){return t&&(it(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Qn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function bk(e,t){const{element:n,datasetIndex:r,index:s}=t,i=e.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:e,label:o,parsed:i.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Dg(e,t){const n=e.chart.ctx,{body:r,footer:s,title:i}=e,{boxWidth:o,boxHeight:a}=t,l=xt(t.bodyFont),c=xt(t.titleFont),d=xt(t.footerFont),f=i.length,h=s.length,p=r.length,x=en(t.padding);let g=x.height,b=0,y=r.reduce((S,E)=>S+E.before.length+E.lines.length+E.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,f&&(g+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),y){const S=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*S+(y-p)*l.lineHeight+(y-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let m=0;const v=function(S){b=Math.max(b,n.measureText(S).width+m)};return n.save(),n.font=c.string,Te(e.title,v),n.font=l.string,Te(e.beforeBody.concat(e.afterBody),v),m=t.displayColors?o+2+t.boxPadding:0,Te(r,S=>{Te(S.before,v),Te(S.lines,v),Te(S.after,v)}),m=0,n.font=d.string,Te(e.footer,v),n.restore(),b+=x.width,{width:b,height:g}}function wk(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function _k(e,t,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&s+i+o>t.width||e==="right"&&s-i-o<0)return!0}function Sk(e,t,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return r==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),_k(c,e,t,n)&&(c="center"),c}function Og(e,t,n){const r=n.yAlign||t.yAlign||wk(e,n);return{xAlign:n.xAlign||t.xAlign||Sk(e,t,n,r),yAlign:r}}function Ek(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function jk(e,t,n){let{y:r,height:s}=e;return t==="top"?r+=n:t==="bottom"?r-=s+n:r-=s/2,r}function Lg(e,t,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=s+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=fi(o);let x=Ek(t,a);const g=jk(t,l,c);return l==="center"?a==="left"?x+=c:a==="right"&&(x-=c):a==="left"?x-=Math.max(d,h)+s:a==="right"&&(x+=Math.max(f,p)+s),{x:kt(x,0,r.width-t.width),y:kt(g,0,r.height-t.height)}}function Xa(e,t,n){const r=en(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function Ag(e){return Dn([],Qn(e))}function Nk(e,t,n){return Pi(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Ig(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const o1={beforeTitle:Yn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Yn,beforeBody:Yn,beforeLabel:Yn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ve(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Yn,afterBody:Yn,beforeFooter:Yn,footer:Yn,afterFooter:Yn};function At(e,t,n,r){const s=e[t].call(n,r);return typeof s>"u"?o1[t].call(n,r):s}class rf extends $n{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new Wv(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Nk(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=At(r,"beforeTitle",this,t),i=At(r,"title",this,t),o=At(r,"afterTitle",this,t);let a=[];return a=Dn(a,Qn(s)),a=Dn(a,Qn(i)),a=Dn(a,Qn(o)),a}getBeforeBody(t,n){return Ag(At(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return Te(t,i=>{const o={before:[],lines:[],after:[]},a=Ig(r,i);Dn(o.before,Qn(At(a,"beforeLabel",this,i))),Dn(o.lines,At(a,"label",this,i)),Dn(o.after,Qn(At(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(t,n){return Ag(At(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=At(r,"beforeFooter",this,t),i=At(r,"footer",this,t),o=At(r,"afterFooter",this,t);let a=[];return a=Dn(a,Qn(s)),a=Dn(a,Qn(i)),a=Dn(a,Qn(o)),a}_createItems(t){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(bk(this.chart,n[l]));return t.filter&&(a=a.filter((d,f,h)=>t.filter(d,f,h,r))),t.itemSort&&(a=a.sort((d,f)=>t.itemSort(d,f,r))),Te(a,d=>{const f=Ig(t.callbacks,d);s.push(At(f,"labelColor",this,d)),i.push(At(f,"labelPointStyle",this,d)),o.push(At(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=uo[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Dg(this,r),c=Object.assign({},a,l),d=Og(this.chart,r,c),f=Lg(r,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const i=this.getCaretPosition(t,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:f}=fi(a),{x:h,y:p}=t,{width:x,height:g}=n;let b,y,m,v,S,E;return i==="center"?(S=p+g/2,s==="left"?(b=h,y=b-o,v=S+o,E=S-o):(b=h+x,y=b+o,v=S-o,E=S+o),m=b):(s==="left"?y=h+Math.max(l,d)+o:s==="right"?y=h+x-Math.max(c,f)-o:y=this.caretX,i==="top"?(v=p,S=v-o,b=y-o,m=y+o):(v=p+g,S=v+o,b=y+o,m=y-o),E=v),{x1:b,x2:y,x3:m,y1:v,y2:S,y3:E}}drawTitle(t,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const c=hi(r.rtl,this.x,this.width);for(t.x=Xa(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=xt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===i&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,d=xt(i.bodyFont),f=Xa(this,"left",i),h=s.x(f),p=l<d.lineHeight?(d.lineHeight-l)/2:0,x=n.y+p;if(i.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=s.leftForLtr(h,c)+c/2,y=x+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,ef(t,g,b,y),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,ef(t,g,b,y)}else{t.lineWidth=_e(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(h,c),b=s.leftForLtr(s.xPlus(h,1),c-2),y=fi(o.borderRadius);Object.values(y).some(m=>m!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,ac(t,{x:g,y:x,w:c,h:l,radius:y}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),ac(t,{x:b,y:x+1,w:c-2,h:l-2,radius:y}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(g,x,c,l),t.strokeRect(g,x,c,l),t.fillStyle=o.backgroundColor,t.fillRect(b,x+1,c-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=r,f=xt(r.bodyFont);let h=f.lineHeight,p=0;const x=hi(r.rtl,this.x,this.width),g=function(N){n.fillText(N,x.x(t.x+p),t.y+h/2),t.y+=h+i},b=x.textAlign(o);let y,m,v,S,E,j,w;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,t.x=Xa(this,b,r),n.fillStyle=r.bodyColor,Te(this.beforeBody,g),p=a&&b!=="right"?o==="center"?c/2+d:c+2+d:0,S=0,j=s.length;S<j;++S){for(y=s[S],m=this.labelTextColors[S],n.fillStyle=m,Te(y.before,g),v=y.lines,a&&v.length&&(this._drawColorBox(n,t,S,x,r),h=Math.max(f.lineHeight,l)),E=0,w=v.length;E<w;++E)g(v[E]),h=f.lineHeight;Te(y.after,g)}p=0,h=f.lineHeight,Te(this.afterBody,g),t.y-=i}drawFooter(t,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=hi(r.rtl,this.x,this.width);for(t.x=Xa(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=xt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:d}=r,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:x}=fi(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(t,n,r,s),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&i==="right"&&this.drawCaret(t,n,r,s),n.lineTo(a+c,l+d-x),n.quadraticCurveTo(a+c,l+d,a+c-x,l+d),o==="bottom"&&this.drawCaret(t,n,r,s),n.lineTo(a+p,l+d),n.quadraticCurveTo(a,l+d,a,l+d-p),o==="center"&&i==="left"&&this.drawCaret(t,n,r,s),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=uo[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Dg(this,t),l=Object.assign({},o,this._size),c=Og(n,t,l),d=Lg(t,l,c,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=en(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,s,n),Hv(t,n.textDirection),i.y+=o.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),Vv(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!rc(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(t,i,n,r),a=this._positionChanged(o,t),l=n||!rc(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,s){const i=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:s,options:i}=this,o=uo[i.position].call(this,t,n);return o!==!1&&(r!==o.x||s!==o.y)}}Y(rf,"positioners",uo);var kk={id:"tooltip",_element:rf,positioners:uo,afterInit(e,t,n){n&&(e.tooltip=new rf({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:o1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Ck=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Tk(e,t,n,r){const s=e.indexOf(t);if(s===-1)return Ck(e,t,n,r);const i=e.lastIndexOf(t);return s!==i?n:s}const Rk=(e,t)=>e===null?null:kt(Math.round(e),0,t);function Fg(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class sf extends Mi{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ve(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:Tk(r,t,be(n,t),this._addedLabels),Rk(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return Fg.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Y(sf,"id","category"),Y(sf,"defaults",{ticks:{callback:Fg}});function Pk(e,t){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:f,includeBounds:h}=e,p=i||1,x=d-1,{min:g,max:b}=t,y=!ve(o),m=!ve(a),v=!ve(c),S=(b-g)/(f+1);let E=Um((b-g)/x/p)*p,j,w,N,M;if(E<1e-14&&!y&&!m)return[{value:g},{value:b}];M=Math.ceil(b/E)-Math.floor(g/E),M>x&&(E=Um(M*E/x/p)*p),ve(l)||(j=Math.pow(10,l),E=Math.ceil(E*j)/j),s==="ticks"?(w=Math.floor(g/E)*E,N=Math.ceil(b/E)*E):(w=g,N=b),y&&m&&i&&CE((a-o)/i,E/1e3)?(M=Math.round(Math.min((a-o)/E,d)),E=(a-o)/M,w=o,N=a):v?(w=y?o:w,N=m?a:N,M=c-1,E=(N-w)/M):(M=(N-w)/E,wl(M,Math.round(M),E/1e3)?M=Math.round(M):M=Math.ceil(M));const R=Math.max(Hm(E),Hm(w));j=Math.pow(10,ve(l)?R:l),w=Math.round(w*j)/j,N=Math.round(N*j)/j;let A=0;for(y&&(h&&w!==o?(n.push({value:o}),w<o&&A++,wl(Math.round((w+A*E)*j)/j,o,zg(o,S,e))&&A++):w<o&&A++);A<M;++A){const z=Math.round((w+A*E)*j)/j;if(m&&z>a)break;n.push({value:z})}return m&&h&&N!==a?n.length&&wl(n[n.length-1].value,a,zg(a,S,e))?n[n.length-1].value=a:n.push({value:a}):(!m||N===a)&&n.push({value:N}),n}function zg(e,t,{horizontal:n,minRotation:r}){const s=In(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class Mk extends Mi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ve(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(t){const l=zr(s),c=zr(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),t||o(s-l)}this.min=s,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=Pk(s,i);return t.bounds==="ticks"&&TE(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const s=(r-n)/Math.max(t.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return $c(t,this.chart.options.locale,this.options.ticks.format)}}class of extends Mk{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=mn(t)?t:0,this.max=mn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=In(this.options.ticks.minRotation),s=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Y(of,"id","linear"),Y(of,"defaults",{ticks:{callback:Lv.formatters.numeric}});const Vc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$t=Object.keys(Vc);function Bg(e,t){return e-t}function $g(e,t){if(ve(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:i}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),mn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(_i(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function Ug(e,t,n,r){const s=$t.length;for(let i=$t.indexOf(e);i<s-1;++i){const o=Vc[$t[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return $t[i]}return $t[s-1]}function Dk(e,t,n,r,s){for(let i=$t.length-1;i>=$t.indexOf(n);i--){const o=$t[i];if(Vc[o].common&&e._adapter.diff(s,r,o)>=t-1)return o}return $t[n?$t.indexOf(n):0]}function Ok(e){for(let t=$t.indexOf(e)+1,n=$t.length;t<n;++t)if(Vc[$t[t]].common)return $t[t]}function Hg(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:s}=Sh(n,t),i=n[r]>=t?n[r]:n[s];e[i]=!0}}function Lk(e,t,n,r){const s=e._adapter,i=+s.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function Vg(e,t,n){const r=[],s={},i=t.length;let o,a;for(o=0;o<i;++o)a=t[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:Lk(e,r,s,n)}class dc extends Mi{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new Yj._date(t.adapters.date);s.init(n),wo(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:$g(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=mn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=mn(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=OE(s,i,o);return this._unit=n.unit||(r.autoSkip?Ug(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Dk(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Ok(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),Vg(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,s,i;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=kt(n,0,o),r=kt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||Ug(i.minUnit,n,r,this._getLabelCapacity(n)),a=be(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=_i(l)||l===!0,d={};let f=n,h,p;if(c&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(h=f,p=0;h<r;h=+t.add(h,a,o),p++)Hg(d,h,x);return(h===r||s.bounds==="ticks"||p===1)&&Hg(d,h,x),Object.keys(d).sort(Bg).map(g=>+g)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return De(o,[t,n,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],f=c&&a[c],h=r[n],p=c&&f&&h&&h.major;return this._adapter.format(t,s||(p?f:d))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=In(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(t,0,Vg(this,[t],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push($g(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Tv(t.sort(Bg))}}Y(dc,"id","time"),Y(dc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Qa(e,t,n){let r=0,s=e.length-1,i,o,a,l;n?(t>=e[r].pos&&t<=e[s].pos&&({lo:r,hi:s}=vs(e,"pos",t)),{pos:i,time:a}=e[r],{pos:o,time:l}=e[s]):(t>=e[r].time&&t<=e[s].time&&({lo:r,hi:s}=vs(e,"time",t)),{time:i,pos:a}=e[r],{time:o,pos:l}=e[s]);const c=o-i;return c?a+(l-a)*(t-i)/c:a}class Wg extends dc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Qa(n,this.min),this._tableRange=Qa(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,s=[],i=[];let o,a,l,c,d;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],c=s[o],Math.round((d+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Qa(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Qa(this._table,r*this._tableRange+this._minPos,!0)}}Y(Wg,"id","timeseries"),Y(Wg,"defaults",dc.defaults);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Kg=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),jo={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):ve(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var r=[].concat(t),s=r.length,i=e.font,o=0,a;for(e.font=n.string,a=0;a<s;++a)o=Math.max(e.measureText(r[a]).width,o);return e.font=i,{height:s*n.lineHeight,width:o}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),r=[],s,i,o,a;for(s=0,o=t.length;s<o;++s)a=t[s],i=n.indexOf(a),i===-1?r.push([a,1]):n.splice(i,1);for(s=0,o=n.length;s<o;++s)r.push([n[s],-1]);return r},rasterize:function(e){return Math.round(e*Kg)/Kg}};function qu(e,t){var n=t.x,r=t.y;if(n===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var s=e.x-n,i=e.y-r,o=Math.sqrt(s*s+i*i);return{x:o?s/o:0,y:o?i/o:-1}}function Ak(e,t,n,r,s){switch(s){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:s*=Math.PI/180,n=Math.cos(s),r=Math.sin(s);break}return{x:e,y:t,vx:n,vy:r}}var Ik=0,a1=1,l1=2,c1=4,u1=8;function Ja(e,t,n){var r=Ik;return e<n.left?r|=a1:e>n.right&&(r|=l1),t<n.top?r|=u1:t>n.bottom&&(r|=c1),r}function Fk(e,t){for(var n=e.x0,r=e.y0,s=e.x1,i=e.y1,o=Ja(n,r,t),a=Ja(s,i,t),l,c,d;!(!(o|a)||o&a);)l=o||a,l&u1?(c=n+(s-n)*(t.top-r)/(i-r),d=t.top):l&c1?(c=n+(s-n)*(t.bottom-r)/(i-r),d=t.bottom):l&l1?(d=r+(i-r)*(t.right-n)/(s-n),c=t.right):l&a1&&(d=r+(i-r)*(t.left-n)/(s-n),c=t.left),l===o?(n=c,r=d,o=Ja(n,r,t)):(s=c,i=d,a=Ja(s,i,t));return{x0:n,x1:s,y0:r,y1:i}}function Za(e,t){var n=t.anchor,r=e,s,i;return t.clamp&&(r=Fk(r,t.area)),n==="start"?(s=r.x0,i=r.y0):n==="end"?(s=r.x1,i=r.y1):(s=(r.x0+r.x1)/2,i=(r.y0+r.y1)/2),Ak(s,i,e.vx,e.vy,t.align)}var el={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,r=Math.cos(n),s=Math.sin(n),i=e.innerRadius,o=e.outerRadius;return Za({x0:e.x+r*i,y0:e.y+s*i,x1:e.x+r*o,y1:e.y+s*o,vx:r,vy:s},t)},point:function(e,t){var n=qu(e,t.origin),r=n.x*e.options.radius,s=n.y*e.options.radius;return Za({x0:e.x-r,y0:e.y-s,x1:e.x+r,y1:e.y+s,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=qu(e,t.origin),r=e.x,s=e.y,i=0,o=0;return e.horizontal?(r=Math.min(e.x,e.base),i=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),o=Math.abs(e.base-e.y)),Za({x0:r,y0:s+o,x1:r+i,y1:s,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=qu(e,t.origin);return Za({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},rr=jo.rasterize;function zk(e){var t=e.borderWidth||0,n=e.padding,r=e.size.height,s=e.size.width,i=-s/2,o=-r/2;return{frame:{x:i-n.left-t,y:o-n.top-t,w:s+n.width+t*2,h:r+n.height+t*2},text:{x:i,y:o,w:s,h:r}}}function Bk(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return e.horizontal?{x:r,y:null}:{x:null,y:r}}function $k(e){return e instanceof ii?el.arc:e instanceof El?el.point:e instanceof Eo?el.bar:el.fallback}function Uk(e,t,n,r,s,i){var o=Math.PI/2;if(i){var a=Math.min(i,s/2,r/2),l=t+a,c=n+a,d=t+r-a,f=n+s-a;e.moveTo(t,c),l<d&&c<f?(e.arc(l,c,a,-Math.PI,-o),e.arc(d,c,a,-o,0),e.arc(d,f,a,0,o),e.arc(l,f,a,o,Math.PI)):l<d?(e.moveTo(l,n),e.arc(d,c,a,-o,o),e.arc(l,c,a,o,Math.PI+o)):c<f?(e.arc(l,c,a,-Math.PI,0),e.arc(l,f,a,0,Math.PI)):e.arc(l,c,a,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,r,s)}function Hk(e,t,n){var r=n.backgroundColor,s=n.borderColor,i=n.borderWidth;!r&&(!s||!i)||(e.beginPath(),Uk(e,rr(t.x)+i/2,rr(t.y)+i/2,rr(t.w)-i,rr(t.h)-i,n.borderRadius),e.closePath(),r&&(e.fillStyle=r,e.fill()),s&&i&&(e.strokeStyle=s,e.lineWidth=i,e.lineJoin="miter",e.stroke()))}function Vk(e,t,n){var r=n.lineHeight,s=e.w,i=e.x,o=e.y+r/2;return t==="center"?i+=s/2:(t==="end"||t==="right")&&(i+=s),{h:r,w:s,x:i,y:o}}function Wk(e,t,n){var r=e.shadowBlur,s=n.stroked,i=rr(n.x),o=rr(n.y),a=rr(n.w);s&&e.strokeText(t,i,o,a),n.filled&&(r&&s&&(e.shadowBlur=0),e.fillText(t,i,o,a),r&&s&&(e.shadowBlur=r))}function Kk(e,t,n,r){var s=r.textAlign,i=r.color,o=!!i,a=r.font,l=t.length,c=r.textStrokeColor,d=r.textStrokeWidth,f=c&&d,h;if(!(!l||!o&&!f))for(n=Vk(n,s,a),e.font=a.string,e.textAlign=s,e.textBaseline="middle",e.shadowBlur=r.textShadowBlur,e.shadowColor=r.textShadowColor,o&&(e.fillStyle=i),f&&(e.lineJoin="round",e.lineWidth=d,e.strokeStyle=c),h=0,l=t.length;h<l;++h)Wk(e,t[h],{stroked:f,filled:o,w:n.w,x:n.x,y:n.y+n.h*h})}var d1=function(e,t,n,r){var s=this;s._config=e,s._index=r,s._model=null,s._rects=null,s._ctx=t,s._el=n};Bn(d1.prototype,{_modelize:function(e,t,n,r){var s=this,i=s._index,o=xt($e([n.font,{}],r,i)),a=$e([n.color,Qe.color],r,i);return{align:$e([n.align,"center"],r,i),anchor:$e([n.anchor,"center"],r,i),area:r.chart.chartArea,backgroundColor:$e([n.backgroundColor,null],r,i),borderColor:$e([n.borderColor,null],r,i),borderRadius:$e([n.borderRadius,0],r,i),borderWidth:$e([n.borderWidth,0],r,i),clamp:$e([n.clamp,!1],r,i),clip:$e([n.clip,!1],r,i),color:a,display:e,font:o,lines:t,offset:$e([n.offset,4],r,i),opacity:$e([n.opacity,1],r,i),origin:Bk(s._el,r),padding:en($e([n.padding,4],r,i)),positioner:$k(s._el),rotation:$e([n.rotation,0],r,i)*(Math.PI/180),size:jo.textSize(s._ctx,t,o),textAlign:$e([n.textAlign,"start"],r,i),textShadowBlur:$e([n.textShadowBlur,0],r,i),textShadowColor:$e([n.textShadowColor,a],r,i),textStrokeColor:$e([n.textStrokeColor,a],r,i),textStrokeWidth:$e([n.textStrokeWidth,0],r,i)}},update:function(e){var t=this,n=null,r=null,s=t._index,i=t._config,o,a,l,c=$e([i.display,!0],e,s);c&&(o=e.dataset.data[s],a=be(De(i.formatter,[o,e]),o),l=ve(a)?[]:jo.toTextLines(a),l.length&&(n=t._modelize(c,l,i,e),r=zk(n))),t._model=n,t._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,r=e.ctx,s=n._model,i=n._rects,o;this.visible()&&(r.save(),s.clip&&(o=s.area,r.beginPath(),r.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),r.clip()),r.globalAlpha=jo.bound(0,s.opacity,1),r.translate(rr(t.x),rr(t.y)),r.rotate(s.rotation),Hk(r,i.frame,s),Kk(r,s.lines,i.text,s),r.restore())}});var Yk=Number.MIN_SAFE_INTEGER||-9007199254740991,qk=Number.MAX_SAFE_INTEGER||9007199254740991;function eo(e,t,n){var r=Math.cos(n),s=Math.sin(n),i=t.x,o=t.y;return{x:i+r*(e.x-i)-s*(e.y-o),y:o+s*(e.x-i)+r*(e.y-o)}}function Yg(e,t){var n=qk,r=Yk,s=t.origin,i,o,a,l,c;for(i=0;i<e.length;++i)o=e[i],a=o.x-s.x,l=o.y-s.y,c=t.vx*a+t.vy*l,n=Math.min(n,c),r=Math.max(r,c);return{min:n,max:r}}function tl(e,t){var n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);return{vx:(t.x-e.x)/s,vy:(t.y-e.y)/s,origin:e,ln:s}}var f1=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Bn(f1.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,r=t._rect;return e=eo(e,t.center(),-t._rotation),!(e.x<r.x-n||e.y<r.y-n||e.x>r.x+r.w+n*2||e.y>r.y+r.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),r=[tl(t[0],t[1]),tl(t[0],t[3])],s,i,o;for(this._rotation!==e._rotation&&r.push(tl(n[0],n[1]),tl(n[0],n[3])),s=0;s<r.length;++s)if(i=Yg(t,r[s]),o=Yg(n,r[s]),i.max<o.min||o.max<i.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,r=e.center();return[eo({x:t.x,y:t.y},r,n),eo({x:t.x+t.w,y:t.y},r,n),eo({x:t.x+t.w,y:t.y+t.h},r,n),eo({x:t.x,y:t.y+t.h},r,n)]}});function h1(e,t,n){var r=t.positioner(e,t),s=r.vx,i=r.vy;if(!s&&!i)return{x:r.x,y:r.y};var o=n.w,a=n.h,l=t.rotation,c=Math.abs(o/2*Math.cos(l))+Math.abs(a/2*Math.sin(l)),d=Math.abs(o/2*Math.sin(l))+Math.abs(a/2*Math.cos(l)),f=1/Math.max(Math.abs(s),Math.abs(i));return c*=s*f,d*=i*f,c+=t.offset*s,d+=t.offset*i,{x:r.x+c,y:r.y+d}}function Gk(e,t){var n,r,s,i;for(n=e.length-1;n>=0;--n)for(s=e[n].$layout,r=n-1;r>=0&&s._visible;--r)i=e[r].$layout,i._visible&&s._box.intersects(i._box)&&t(s,i);return e}function Xk(e){var t,n,r,s,i,o,a;for(t=0,n=e.length;t<n;++t)r=e[t],s=r.$layout,s._visible&&(a=new Proxy(r._el,{get:(l,c)=>l.getProps([c],!0)[c]}),i=r.geometry(),o=h1(a,r.model(),i),s._box.update(o,i,r.rotation()));return Gk(e,function(l,c){var d=l._hidable,f=c._hidable;d&&f||f?c._visible=!1:d&&(l._visible=!1)})}var No={prepare:function(e){var t=[],n,r,s,i,o;for(n=0,s=e.length;n<s;++n)for(r=0,i=e[n].length;r<i;++r)o=e[n][r],t.push(o),o.$layout={_box:new f1,_hidable:!1,_visible:!0,_set:n,_idx:o._index};return t.sort(function(a,l){var c=a.$layout,d=l.$layout;return c._idx===d._idx?d._set-c._set:d._idx-c._idx}),this.update(t),t},update:function(e){var t=!1,n,r,s,i,o;for(n=0,r=e.length;n<r;++n)s=e[n],i=s.model(),o=s.$layout,o._hidable=i&&i.display==="auto",o._visible=s.visible(),t|=o._hidable;t&&Xk(e)},lookup:function(e,t){var n,r;for(n=e.length-1;n>=0;--n)if(r=e[n].$layout,r&&r._visible&&r._box.contains(t))return e[n];return null},draw:function(e,t){var n,r,s,i,o,a;for(n=0,r=t.length;n<r;++n)s=t[n],i=s.$layout,i._visible&&(o=s.geometry(),a=h1(s._el,s.model(),o),i._box.update(a,o,s.rotation()),s.draw(e,a))}},Qk=function(e){if(ve(e))return null;var t=e,n,r,s;if(_e(e))if(!ve(e.label))t=e.label;else if(!ve(e.r))t=e.r;else for(t="",n=Object.keys(e),s=0,r=n.length;s<r;++s)t+=(s!==0?", ":"")+n[s]+": "+e[n[s]];return""+t},Jk={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:Qk,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Ft="$datalabels",p1="$default";function Zk(e,t){var n=e.datalabels,r={},s=[],i,o;return n===!1?null:(n===!0&&(n={}),t=Bn({},[t,n]),i=t.labels||{},o=Object.keys(i),delete t.labels,o.length?o.forEach(function(a){i[a]&&s.push(Bn({},[t,i[a],{_key:a}]))}):s.push(t),r=s.reduce(function(a,l){return Te(l.listeners||{},function(c,d){a[d]=a[d]||{},a[d][l._key||p1]=c}),delete l.listeners,a},{}),{labels:s,listeners:r})}function af(e,t,n,r){if(t){var s=n.$context,i=n.$groups,o;t[i._set]&&(o=t[i._set][i._key],o&&De(o,[s,r])===!0&&(e[Ft]._dirty=!0,n.update(s)))}}function e3(e,t,n,r,s){var i,o;!n&&!r||(n?r?n!==r&&(o=i=!0):o=!0:i=!0,o&&af(e,t.leave,n,s),i&&af(e,t.enter,r,s))}function t3(e,t){var n=e[Ft],r=n._listeners,s,i;if(!(!r.enter&&!r.leave)){if(t.type==="mousemove")i=No.lookup(n._labels,t);else if(t.type!=="mouseout")return;s=n._hovered,n._hovered=i,e3(e,r,s,i,t)}}function n3(e,t){var n=e[Ft],r=n._listeners.click,s=r&&No.lookup(n._labels,t);s&&af(e,r,s,t)}var r3={id:"datalabels",defaults:Jk,beforeInit:function(e){e[Ft]={_actives:[]}},beforeUpdate:function(e){var t=e[Ft];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var r=t.index,s=e[Ft],i=s._datasets[r]=[],o=e.isDatasetVisible(r),a=e.data.datasets[r],l=Zk(a,n),c=t.meta.data||[],d=e.ctx,f,h,p,x,g,b,y,m;for(d.save(),f=0,p=c.length;f<p;++f)if(y=c[f],y[Ft]=[],o&&y&&e.getDataVisibility(f)&&!y.skip)for(h=0,x=l.labels.length;h<x;++h)g=l.labels[h],b=g._key,m=new d1(g,d,y,f),m.$groups={_set:r,_key:b||p1},m.$context={active:!1,chart:e,dataIndex:f,dataset:a,datasetIndex:r},m.update(m.$context),y[Ft].push(m),i.push(m);d.restore(),Bn(s._listeners,l.listeners,{merger:function(v,S,E){S[v]=S[v]||{},S[v][t.index]=E[v],s._listened=!0}})},afterUpdate:function(e){e[Ft]._labels=No.prepare(e[Ft]._datasets)},afterDatasetsDraw:function(e){No.draw(e,e[Ft]._labels)},beforeEvent:function(e,t){if(e[Ft]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":t3(e,n);break;case"click":n3(e,n);break}}},afterEvent:function(e){var t=e[Ft],n=t._actives,r=t._actives=e.getActiveElements(),s=jo.arrayDiff(n,r),i,o,a,l,c,d,f;for(i=0,o=s.length;i<o;++i)if(c=s[i],c[1])for(f=c[0].element[Ft]||[],a=0,l=f.length;a<l;++a)d=f[a],d.$context.active=c[1]===1,d.update(d.$context);(t._dirty||s.length)&&(No.update(t._labels),e.render()),delete t._dirty}};wr.register(ii,kk,xk,sf,of,Eo,vk,r3);const qg=_.lazy(()=>bv(()=>import("./index-CPdCQ7vP.js"),[]).then(e=>({default:e.Pie})));_.lazy(()=>bv(()=>import("./index-CPdCQ7vP.js"),[]).then(e=>({default:e.Bar})));const Ks=["#2563eb","#f59e42","#10b981","#f43f5e","#6366f1","#fbbf24","#0ea5e9","#a3e635","#f472b6","#818cf8"],Gg={tickets:"border-blue-400 text-blue-600 bg-white","En instance":"border-red-400 text-red-600 bg-white","En cours":"border-yellow-400 text-yellow-600 bg-white",Cltur:"border-green-400 text-green-600 bg-white"},s3={"En instance":"hover:bg-red-50","En cours":"hover:bg-yellow-50",Cltur:"hover:bg-green-50"},qn={stats:null,lastFetch:null,lastParams:null,cacheDuration:5*60*1e3},Xg=()=>u.jsx("div",{className:"animate-pulse",children:u.jsx("div",{className:"h-80 bg-gray-200 rounded-lg"})}),i3=()=>{const[e,t]=_.useState({total:0,ticketsByStatut:[],ticketsByPriorite:[],ticketsByCategorie:[]}),[n,r]=_.useState(!0),[s,i]=_.useState(""),[o,a]=_.useState(!1),[l,c]=_.useState([]),[d,f]=_.useState([]),[h,p]=_.useState(!1),x=_.useMemo(()=>({labels:e.ticketsByPriorite.map(m=>m.designation),datasets:[{data:e.ticketsByPriorite.map(m=>m.count),backgroundColor:Ks,borderWidth:1,hoverOffset:45}]}),[e.ticketsByPriorite]),g=_.useMemo(()=>({labels:e.ticketsByCategorie.map(m=>m.designation),datasets:[{data:e.ticketsByCategorie.map(m=>m.count),backgroundColor:Ks,borderWidth:1,hoverOffset:45}]}),[e.ticketsByCategorie]),b=_.useMemo(()=>(m,v,S)=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:m,font:{size:18,weight:"bold"},color:"#1e293b",padding:{top:10,bottom:20}},tooltip:{callbacks:{label:function(E){const j=E.dataset.data.reduce((M,R)=>M+R,0),w=E.raw,N=j?(w/j*100).toFixed(1):0;return`${E.label}: ${w} tickets (${N}%)`}}},datalabels:{color:"#fff",font:{weight:"bold",size:13},formatter:(E,j)=>{const w=j.chart.data.datasets[0].data.reduce((M,R)=>M+R,0);if(!w||E===0)return"";const N=E/w*100;return N>=5?`${N.toFixed(0)}%`:""},borderRadius:4,backgroundColor:E=>Ks[E.dataIndex%Ks.length],padding:4,display:!0}},onHover:(E,j)=>{E.native.target.style.cursor=j[0]?"pointer":"default"},onClick:(E,j,w)=>{if(j&&j.length>0){const N=j[0].index,M=w.data.labels[N],R=w.data.datasets[0].data[N];S(A=>A.some(z=>z.label===M)?A:[...A,{label:M,value:R,color:Ks[N%Ks.length]}])}}}),[]),y=async(m=!1)=>{var S,E;const v=Date.now();if(!m&&qn.stats&&qn.lastFetch&&v-qn.lastFetch<qn.cacheDuration){t(qn.stats),r(!1);return}a(!0),r(!0);try{const j=await ue.get("/api/dashboard/stats",{params:{refresh:m},headers:{Accept:"application/json","Content-Type":"application/json"}});if(j.data&&!j.data.error)t(j.data),qn.stats=j.data,qn.lastFetch=v,i("");else throw new Error(j.data.error||"Erreur inconnue")}catch(j){console.error("Erreur lors du chargement des statistiques:",j),i(((E=(S=j.response)==null?void 0:S.data)==null?void 0:E.error)||"Erreur lors du chargement des statistiques"),qn.stats&&t(qn.stats)}finally{r(!1),setTimeout(()=>a(!1),600)}};return _.useEffect(()=>{y(!0);const m=setTimeout(()=>p(!0),100);return()=>clearTimeout(m)},[]),n?u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Tableau de bord"}),u.jsx("button",{onClick:()=>y(!0),className:"ml-2 p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafrachir",children:u.jsx(Ur,{className:o?"animate-spin-once":""})})]}),u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((m,v)=>u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]},v))}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[...Array(3)].map((m,v)=>u.jsxs("div",{className:`bg-white p-6 rounded-lg shadow ${v===2?"md:col-span-2":""}`,children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),u.jsx("div",{className:"h-80 bg-gray-200 rounded"})]},v))})]})]})}):s?u.jsx(Ae,{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded",children:s})})}):u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Tableau de bord"}),u.jsx("button",{onClick:()=>y(!0),className:"ml-2 p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafrachir",children:u.jsx(Ur,{className:o?"animate-spin-once":""})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsxs(ur,{to:"/tickets",className:`border-l-4 p-6 rounded-lg shadow flex flex-col items-start hover:bg-gray-50 transition-colors cursor-pointer ${Gg.tickets}`,children:[u.jsx("h3",{className:"text-lg font-bold text-black",children:"Total tickets"}),u.jsx("p",{className:"mt-2 text-3xl font-extrabold text-blue-600",children:e.total})]}),e.ticketsByStatut.map(m=>{const v=Gg[m.designation]||"border-purple-500 bg-white",S=s3[m.designation]||"hover:bg-purple-50",E=(v.match(/text-[^ ]+/)||["text-purple-700"])[0];return u.jsxs(ur,{to:`/tickets?statut=${m.designation}`,className:`border-l-4 p-6 rounded-lg shadow flex flex-col items-start transition-colors cursor-pointer ${v} ${S}`,style:{minWidth:220},children:[u.jsx("h3",{className:"text-lg font-bold text-black mb-2",children:m.designation}),u.jsx("p",{className:`mt-2 text-4xl font-extrabold ${E}`,children:m.count})]},m.designation)})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl",children:[u.jsxs("h3",{className:"text-xl font-bold mb-4 text-blue-900 flex items-center gap-2",children:[u.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})}),"Rpartition par priorit"]}),u.jsx("div",{className:"flex justify-center items-center h-[30rem]",children:u.jsx(_.Suspense,{fallback:u.jsx(Xg,{}),children:h&&u.jsx("div",{className:"w-full h-full",children:u.jsx(qg,{data:x,options:b("Rpartition par priorit",l,c)})})})}),l.length>0&&u.jsxs("div",{className:"mt-2 mx-auto max-w-md p-2 bg-white rounded-xl border border-blue-100 shadow flex flex-col gap-1",children:[u.jsxs("h4",{className:"text-xs font-semibold text-blue-700 mb-1 text-center flex items-center gap-1 justify-center",children:[u.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})}),"Dtails des priorits"]}),u.jsx("div",{className:"space-y-0.5",children:[...new Map(l.map(m=>[m.label,m])).values()].map(m=>u.jsxs("div",{className:"flex items-center justify-between px-3 py-1 bg-blue-50 rounded border border-blue-100",children:[u.jsxs("span",{className:"text-blue-900 font-medium text-sm truncate flex items-center gap-2",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),m.label]}),u.jsxs("span",{className:"text-xs font-semibold text-blue-700 bg-blue-100 px-2 py-0.5 rounded-full",children:[m.value," tickets"]})]},m.label))})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl md:col-span-2",children:[u.jsxs("h3",{className:"text-xl font-bold mb-4 text-green-900 flex items-center gap-2",children:[u.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})}),"Rpartition par catgorie"]}),u.jsx("div",{className:"flex justify-center items-center h-[30rem]",children:u.jsx(_.Suspense,{fallback:u.jsx(Xg,{}),children:h&&u.jsx("div",{className:"w-full h-full",children:u.jsx(qg,{data:g,options:b("Rpartition par catgorie",d,f)})})})}),d.length>0&&u.jsxs("div",{className:"mt-2 mx-auto max-w-md p-2 bg-white rounded-xl border border-green-100 shadow flex flex-col gap-1",children:[u.jsxs("h4",{className:"text-xs font-semibold text-green-700 mb-1 text-center flex items-center gap-1 justify-center",children:[u.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})}),"Dtails des catgories"]}),u.jsx("div",{className:"space-y-0.5",children:[...new Map(d.map(m=>[m.label,m])).values()].map(m=>u.jsxs("div",{className:"flex items-center justify-between px-3 py-1 bg-green-50 rounded border border-green-100",children:[u.jsxs("span",{className:"text-green-900 font-medium text-sm truncate flex items-center gap-2",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),m.label]}),u.jsxs("span",{className:"text-xs font-semibold text-green-700 bg-green-100 px-2 py-0.5 rounded-full",children:[m.value," tickets"]})]},m.label))})]})]})]})]})})};let o3={data:""},a3=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||o3,l3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,c3=/\/\*[^]*?\*\/|  +/g,Qg=/\n+/g,Er=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Er(o,i):i+"{"+Er(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=Er(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Er.p?Er.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Gn={},m1=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+m1(e[n]);return t}return e},u3=(e,t,n,r,s)=>{let i=m1(e),o=Gn[i]||(Gn[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!Gn[o]){let l=i!==e?e:(c=>{let d,f,h=[{}];for(;d=l3.exec(c.replace(c3,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Qg," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Qg," ").trim();return h[0]})(e);Gn[o]=Er(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Gn.g?Gn.g:null;return n&&(Gn.g=Gn[o]),((l,c,d,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(Gn[o],t,r,a),o},d3=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Er(a,""):a===!1?"":a}return r+s+(o??"")},"");function Wc(e){let t=this||{},n=e.call?e(t.p):e;return u3(n.unshift?n.raw?d3(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,a3(t.target),t.g,t.o,t.k)}let g1,lf,cf;Wc.bind({g:1});let dr=Wc.bind({k:1});function f3(e,t,n,r){Er.p=t,g1=e,lf=n,cf=r}function Qr(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:lf&&lf()},a),n.o=/ *go\d+/.test(l),a.className=Wc.apply(n,r)+(l?" "+l:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),cf&&c[0]&&cf(a),g1(c,a)}return s}}var h3=e=>typeof e=="function",fc=(e,t)=>h3(e)?e(t):e,p3=(()=>{let e=0;return()=>(++e).toString()})(),x1=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),m3=20,y1=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,m3)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return y1(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},jl=[],bs={toasts:[],pausedAt:void 0},Fs=e=>{bs=y1(bs,e),jl.forEach(t=>{t(bs)})},g3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},x3=(e={})=>{let[t,n]=_.useState(bs),r=_.useRef(bs);_.useEffect(()=>(r.current!==bs&&n(bs),jl.push(n),()=>{let i=jl.indexOf(n);i>-1&&jl.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,a,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((a=e[i.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||g3[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},y3=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||p3()}),da=e=>(t,n)=>{let r=y3(t,e,n);return Fs({type:2,toast:r}),r.id},gt=(e,t)=>da("blank")(e,t);gt.error=da("error");gt.success=da("success");gt.loading=da("loading");gt.custom=da("custom");gt.dismiss=e=>{Fs({type:3,toastId:e})};gt.remove=e=>Fs({type:4,toastId:e});gt.promise=(e,t,n)=>{let r=gt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?fc(t.success,s):void 0;return i?gt.success(i,{id:r,...n,...n==null?void 0:n.success}):gt.dismiss(r),s}).catch(s=>{let i=t.error?fc(t.error,s):void 0;i?gt.error(i,{id:r,...n,...n==null?void 0:n.error}):gt.dismiss(r)}),e};var v3=(e,t)=>{Fs({type:1,toast:{id:e,height:t}})},b3=()=>{Fs({type:5,time:Date.now()})},ko=new Map,w3=1e3,_3=(e,t=w3)=>{if(ko.has(e))return;let n=setTimeout(()=>{ko.delete(e),Fs({type:4,toastId:e})},t);ko.set(e,n)},S3=e=>{let{toasts:t,pausedAt:n}=x3(e);_.useEffect(()=>{if(n)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&gt.dismiss(a.id);return}return setTimeout(()=>gt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,n]);let r=_.useCallback(()=>{n&&Fs({type:6,time:Date.now()})},[n]),s=_.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},d=t.filter(p=>(p.position||c)===(i.position||c)&&p.height),f=d.findIndex(p=>p.id===i.id),h=d.filter((p,x)=>x<f&&p.visible).length;return d.filter(p=>p.visible).slice(...a?[h+1]:[0,h]).reduce((p,x)=>p+(x.height||0)+l,0)},[t]);return _.useEffect(()=>{t.forEach(i=>{if(i.dismissed)_3(i.id,i.removeDelay);else{let o=ko.get(i.id);o&&(clearTimeout(o),ko.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:v3,startPause:b3,endPause:r,calculateOffset:s}}},E3=dr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,j3=dr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,N3=dr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,k3=Qr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${E3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${j3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${N3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,C3=dr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,T3=Qr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${C3} 1s linear infinite;
`,R3=dr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,P3=dr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,M3=Qr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${R3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${P3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,D3=Qr("div")`
  position: absolute;
`,O3=Qr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,L3=dr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,A3=Qr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${L3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,I3=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?_.createElement(A3,null,t):t:n==="blank"?null:_.createElement(O3,null,_.createElement(T3,{...r}),n!=="loading"&&_.createElement(D3,null,n==="error"?_.createElement(k3,{...r}):_.createElement(M3,{...r})))},F3=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,z3=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,B3="0%{opacity:0;} 100%{opacity:1;}",$3="0%{opacity:1;} 100%{opacity:0;}",U3=Qr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,H3=Qr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,V3=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=x1()?[B3,$3]:[F3(n),z3(n)];return{animation:t?`${dr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${dr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},W3=_.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?V3(e.position||t||"top-center",e.visible):{opacity:0},i=_.createElement(I3,{toast:e}),o=_.createElement(H3,{...e.ariaProps},fc(e.message,e));return _.createElement(U3,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):_.createElement(_.Fragment,null,i,o))});f3(_.createElement);var K3=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=_.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return _.createElement("div",{ref:i,className:t,style:n},s)},Y3=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:x1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},q3=Wc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,nl=16,Jg=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=S3(n);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:nl,left:nl,right:nl,bottom:nl,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||t,f=l.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),h=Y3(d,f);return _.createElement(K3,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?q3:"",style:h},c.type==="custom"?fc(c.message,c):s?s(c):_.createElement(W3,{toast:c,position:d}))}))};const G3=(e,t)=>{const[n,r]=_.useState(e);return _.useEffect(()=>{const s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),n},X3=()=>{const[e]=q_(),[t,n]=_.useState([]),[r,s]=_.useState(!0),[i,o]=_.useState(""),[a,l]=_.useState(1),[c,d]=_.useState(!0),[f,h]=_.useState(!1),p=_.useRef(null),[x,g]=_.useState(!1),[b,y]=_.useState(!1),[m,v]=_.useState(()=>({categorie:e.get("categorie")||"",demandeur:e.get("demandeur")||"",emplacement:e.get("emplacement")||"",statut:e.get("statut")?parseInt(e.get("statut"),10):"",priorite:e.get("priorite")||"",dateDebut:e.get("dateDebut")||"",dateDebutFin:e.get("dateDebutFin")||"",dateFinPrevueDebut:e.get("dateFinPrevueDebut")||"",dateFinPrevueFin:e.get("dateFinPrevueFin")||"",dateFinReelleDebut:e.get("dateFinReelleDebut")||"",dateFinReelleFin:e.get("dateFinReelleFin")||"",titre:e.get("titre")||"",showRejectedByDemandeur:!1})),[S,E]=_.useState(m.titre),j=G3(S,500),[w,N]=_.useState(!1),[M,R]=_.useState([]),[A,z]=_.useState([]),[G,re]=_.useState([]),[J,q]=_.useState([]),[ne,L]=_.useState([]);let U=null;try{U=JSON.parse(localStorage.getItem("user"))}catch{U=null}const D=U==null?void 0:U.niveau,Z=_.useCallback((T,H)=>{if(!H.trim())return T;const le=H.toLowerCase();return T.filter(tt=>{var Re,Ye;return((Re=tt.Titre)==null?void 0:Re.toLowerCase().includes(le))||((Ye=tt.Description)==null?void 0:Ye.toLowerCase().includes(le))})},[]),I=_.useMemo(()=>!t||!(D==="1"||D===1)?0:t.filter(T=>T.reports&&T.reports.some(H=>H.type==="rejet"&&H.Id_Demandeur===T.Id_Demandeur)).length,[t,D]),F=_.useMemo(()=>{let T=t;return S.trim()&&(T=Z(T,S)),(D==="1"||D===1)&&(m.showRejectedByDemandeur?T=T.filter(H=>H.reports&&H.reports.some(le=>le.type==="rejet"&&le.Id_Demandeur===H.Id_Demandeur)):T=T.filter(H=>!(H.reports&&H.reports.some(le=>le.type==="rejet"&&le.Id_Demandeur===H.Id_Demandeur)))),T},[t,S,Z,D,m.showRejectedByDemandeur]);_.useMemo(()=>!F||!U?0:F.filter(T=>T.Id_Demandeur===U.id&&T.reports&&T.reports.some(H=>!H.is_viewed)).length,[F,U]),_.useEffect(()=>{v(T=>({...T,titre:j}))},[j]),_.useEffect(()=>{(async()=>{try{s(!0);const H=await ue.get("/api/tickets/options");if(H.data&&H.data.options){const{options:le}=H.data;L(le.statuts||[]),R(le.categories||[]),z(le.demandeurs||[]),re(le.emplacements||[]),q(le.priorites||[])}await W(1)}catch(H){console.error("Erreur lors du chargement des options:",H),o("Erreur lors du chargement des donnes")}finally{s(!1)}})()},[]),_.useEffect(()=>{if(!r&&t.length>0){const T=setTimeout(()=>{W(1)},300);return()=>clearTimeout(T)}},[m.categorie,m.demandeur,m.emplacement,m.statut,m.priorite,m.dateDebut,m.dateDebutFin,m.dateFinPrevueDebut,m.dateFinPrevueFin,m.dateFinReelleDebut,m.dateFinReelleFin,j,b]);const W=async(T=1)=>{try{T===1&&s(!0),g(!0);const H={...m};delete H.titre;const tt=(await ue.get("/api/tickets",{params:{...H,page:T,per_page:2,filter_unread_reports:b?!0:void 0}})).data,Re=tt.data||[],Ye=tt.total||0,Hn=Math.ceil(Ye/2);n(T===1?Re:rn=>[...rn,...Re]),d(T<Hn),l(T),o("")}catch(H){o("Erreur lors du chargement des tickets"),console.error("Erreur:",H)}finally{s(!1),h(!1),g(!1)}};_.useEffect(()=>{const T=new IntersectionObserver(H=>{H[0].isIntersecting&&c&&!f&&!r&&(h(!0),W(a+1))},{threshold:.1,rootMargin:"500px"});return p.current&&T.observe(p.current),()=>{p.current&&T.unobserve(p.current)}},[c,f,a,r]),_.useEffect(()=>{const T=H=>{const{ticketId:le}=H.detail;n(tt=>tt.map(Re=>Re.id===le?{...Re,reports:Re.reports.map(Ye=>({...Ye,is_viewed:!0}))}:Re))};return window.addEventListener("reportsViewed",T),()=>{window.removeEventListener("reportsViewed",T)}},[]);const oe=(T,H)=>{v(le=>({...le,[T]:H}))},se=T=>{E(T)},fe=T=>{const H=m.statut===T?"":T;oe("statut",H);const le=new URLSearchParams(e);H!==""?le.set("statut",H.toString()):le.delete("statut"),window.history.replaceState(null,"",`?${le.toString()}`)},ze=async(T,H)=>{var le,tt;try{const Re=ne.find(Cn=>Cn.id===parseInt(H,10));if(!["En instance","En cours","Termin"].includes(Re==null?void 0:Re.designation)&&!(D==="1"||D===1)){gt.error("Vous ne pouvez pas modifier ce statut.");return}const rn={Id_Statut:parseInt(H,10)};(Re==null?void 0:Re.designation)==="Termin"&&(rn.DateFinReelle=new Date().toISOString().split("T")[0]);const Vn=await ue.put(`/api/tickets/${T}`,rn);n(Cn=>Cn.map(gn=>gn.id===T?{...gn,Id_Statut:parseInt(H,10),statut:Vn.data.statut,DateFinReelle:(Re==null?void 0:Re.designation)==="Termin"?rn.DateFinReelle:gn.DateFinReelle}:gn)),gt.success("Statut mis  jour avec succs")}catch(Re){console.error("Error updating status:",Re),gt.error(((tt=(le=Re.response)==null?void 0:le.data)==null?void 0:tt.message)||"Erreur lors de la mise  jour du statut du ticket.")}},ht=()=>{v({categorie:"",demandeur:"",emplacement:"",statut:"",priorite:"",dateDebut:"",dateDebutFin:"",dateFinPrevueDebut:"",dateFinPrevueFin:"",dateFinReelleDebut:"",dateFinReelleFin:"",titre:"",showRejectedByDemandeur:!1}),E(""),y(!1)},bt=T=>{if(!T)return"-";let H=T;typeof T=="object"&&T.date&&(H=T.date),typeof H=="string"&&H.includes(".")&&(H=H.split(".")[0]);const le=H.replace(" ","T"),tt=new Date(le);return isNaN(tt)?"-":tt.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})};return r&&!t.length?u.jsxs(Ae,{children:[u.jsx(Jg,{position:"top-right"}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Liste des Tickets"})}),u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"})]})]})]}):u.jsxs(Ae,{children:[u.jsx(Jg,{position:"top-right"}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Liste des Tickets"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>N(!w),className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Filtres",children:u.jsx(vv,{className:w?"text-blue-600":""})}),u.jsx("button",{onClick:()=>W(1),className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafrachir",children:u.jsx(Ur,{className:x?"animate-spin-once":""})}),!(D==="2"||D===2)&&u.jsx(ur,{to:"/create-ticket",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Crer un ticket"})]})]}),u.jsx("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-2",children:u.jsxs("div",{className:"flex gap-2",children:[ne.map(T=>u.jsx("button",{onClick:()=>fe(T.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${m.statut===T.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:T.designation},T.id)),(D==="1"||D===1)&&u.jsxs("button",{onClick:()=>v(T=>({...T,showRejectedByDemandeur:!T.showRejectedByDemandeur,statut:T.showRejectedByDemandeur?T.statut:""})),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors flex items-center gap-2 ${m.showRejectedByDemandeur?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx("span",{children:"Tickets refuss par le demandeur"}),I>0&&u.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold bg-purple-600 text-white rounded-full",children:I})]})]})}),w&&u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Filtres"}),u.jsxs("button",{onClick:ht,className:"text-sm text-gray-600 hover:text-red-600 flex items-center gap-1",children:[u.jsx(bl,{})," Rinitialiser"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"flex flex-col w-full gap-2 md:col-span-3",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Rechercher par titre"}),u.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Rechercher par titre",value:S,onChange:T=>se(T.target.value)})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Demandeur"}),u.jsxs("select",{value:m.demandeur,onChange:T=>oe("demandeur",T.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Tous"}),A.map(T=>u.jsx("option",{value:T.id,children:T.designation},T.id))]})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Catgorie"}),u.jsxs("select",{value:m.categorie,onChange:T=>oe("categorie",T.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Toutes"}),M.map(T=>u.jsx("option",{value:T.id,children:T.designation},T.id))]})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Emplacement"}),u.jsxs("select",{value:m.emplacement,onChange:T=>oe("emplacement",T.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Tous"}),G.map(T=>u.jsx("option",{value:T.id,children:T.designation},T.id))]})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priorit"}),u.jsxs("select",{value:m.priorite,onChange:T=>oe("priorite",T.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Toutes"}),J.map(T=>u.jsx("option",{value:T.id,children:T.designation},T.id))]})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date de dbut"}),u.jsx("input",{type:"date",value:m.dateDebut,onChange:T=>oe("dateDebut",T.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Du"}),u.jsx("input",{type:"date",value:m.dateDebutFin,onChange:T=>oe("dateDebutFin",T.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Au"})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date de fin prvue"}),u.jsx("input",{type:"date",value:m.dateFinPrevueDebut,onChange:T=>oe("dateFinPrevueDebut",T.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Du"}),u.jsx("input",{type:"date",value:m.dateFinPrevueFin,onChange:T=>oe("dateFinPrevueFin",T.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Au"})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date de fin relle"}),u.jsx("input",{type:"date",value:m.dateFinReelleDebut,onChange:T=>oe("dateFinReelleDebut",T.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Du"}),u.jsx("input",{type:"date",value:m.dateFinReelleFin,onChange:T=>oe("dateFinReelleFin",T.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Au"})]})]})]}),i&&u.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded",children:i}),!r&&F.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[u.jsx("span",{className:"text-2xl font-semibold text-gray-400 mb-2",children:"Pas de ticket"}),u.jsx("span",{className:"text-base text-gray-400",children:"Aucun ticket ne correspond  vos critres de recherche."})]}),u.jsxs("div",{className:"space-y-4",children:[F.map((T,H)=>{var Ye,Hn,rn,Vn,Cn,gn,Jr,Zr,qt,xn,mr,Wn,Lt,Tt,V,ce;console.log("TICKET DEBUG:",T.id,T.Titre,T.reports,T.Id_Demandeur);const le=T.reports&&T.reports.some(de=>de.type==="rejet"),Re=(()=>{var de;return((de=T.statut)==null?void 0:de.designation)==="Refus"?"border-red-600 bg-red-50 hover:bg-red-100":le?"border-purple-600 bg-purple-50 hover:bg-purple-100":""})();return T.id===1&&(T.reports=[{type:"rejet",Id_Demandeur:T.Id_Demandeur}]),u.jsxs("div",{className:`rounded-2xl shadow-lg border flex flex-col md:flex-row items-center justify-between min-h-[140px] px-6 py-5 mb-6 transition-transform hover:scale-[1.015] hover:shadow-2xl group ${Re}`,style:{transition:"box-shadow 0.2s, transform 0.2s"},children:[u.jsx("div",{className:"flex-1 flex flex-col w-full",children:u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[u.jsx("h3",{className:`text-2xl font-bold uppercase tracking-wide group-hover:text-blue-700 transition-colors ${((Ye=T.statut)==null?void 0:Ye.designation)==="Refus"?"text-red-700":le?"text-purple-700":"text-gray-900"}`,children:T.Titre}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${((Hn=T.statut)==null?void 0:Hn.designation)==="Refus"?"bg-red-100 text-red-700 border-red-200":le?"bg-purple-100 text-purple-700 border-purple-200":"bg-blue-100 text-blue-700 border-blue-200"}`,children:((rn=T.statut)==null?void 0:rn.designation)||"Sans statut"}),u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-700 border border-green-200",children:((Vn=T.priorite)==null?void 0:Vn.designation)||"Sans priorit"}),((Cn=T.statut)==null?void 0:Cn.designation)==="Cltur"&&u.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-yellow-100 text-gray-700 border border-gray-200",children:["Cltur le : ",bt(T.DateFinReelle)]}),le&&u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-orange-100 text-orange-700 border border-orange-200",children:"Refus prcdemment par le demandeur"})]})]}),u.jsx("p",{className:`text-base mb-4 line-clamp-2 ${((gn=T.statut)==null?void 0:gn.designation)==="Refus"?"text-red-700":le?"text-purple-700":"text-gray-700"}`,children:T.Description||"Aucune description"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-1 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Demandeur :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:((Jr=T.demandeur)==null?void 0:Jr.designation)||"Non spcifi"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Date dbut :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:bt(T.DateDebut)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Date fin prvue :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:bt(T.DateFinPrevue)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Emplacement :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:((Zr=T.emplacement)==null?void 0:Zr.designation)||"Non spcifi"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Catgorie :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:((qt=T.categorie)==null?void 0:qt.designation)||"Non spcifie"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Commentaire :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:T.formatted_comments&&T.formatted_comments.length>0?T.formatted_comments[T.formatted_comments.length-1].content.slice(0,60)+(T.formatted_comments[T.formatted_comments.length-1].content.length>60?"...":""):"Aucun"})]})]})]})}),u.jsxs("div",{className:"mt-6 md:mt-0 md:ml-6 flex-shrink-0 flex flex-col items-end justify-between h-full gap-2",children:[(D==="1"||D===1)&&u.jsx(u.Fragment,{children:["En instance","En cours","Termin"].includes((xn=T.statut)==null?void 0:xn.designation)?u.jsx("select",{value:T.Id_Statut,onChange:de=>ze(T.id,de.target.value),className:`mb-2 px-2 py-1 rounded border text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 ${((mr=T.statut)==null?void 0:mr.designation)==="Refus"?"border-red-300 bg-red-50":le?"border-purple-300 bg-purple-50":"border-gray-300"}`,children:ne&&ne.length>0?ne.filter(de=>["En instance","En cours","Termin"].includes(de.designation)).map(de=>u.jsx("option",{value:de.id,children:de.designation},de.id)):u.jsx("option",{value:"",children:"Chargement des statuts..."})}):u.jsxs("div",{className:`mb-2 px-2 py-1 text-sm ${((Wn=T.statut)==null?void 0:Wn.designation)==="Refus"?"text-red-700":le?"text-purple-700":"text-gray-700"}`,children:["Statut : ",((Lt=T.statut)==null?void 0:Lt.designation)||"Non dfini"]})}),!(D==="1"||D===1)&&u.jsxs("div",{className:`mb-2 px-2 py-1 text-sm ${((Tt=T.statut)==null?void 0:Tt.designation)==="Refus"?"text-red-700":le?"text-purple-700":"text-gray-700"}`,children:["Statut : ",((V=T.statut)==null?void 0:V.designation)||"Non dfini"]}),u.jsxs(ur,{to:`/tickets/${T.id}`,className:`inline-flex items-center gap-2 text-white font-semibold px-5 py-2 rounded-lg shadow transition-colors text-base ${((ce=T.statut)==null?void 0:ce.designation)==="Refus"?"bg-red-600 hover:bg-red-700":le?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Voir dtails"]})]})]},`ticket-${T.id}-${H}`)}),c&&u.jsx("div",{ref:p,className:"h-16 flex items-center justify-center",children:f?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),u.jsx("span",{className:"text-sm text-gray-500",children:"Chargement..."})]}):u.jsx("div",{className:"h-4"})})]})]})]})};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zg;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(Zg||(Zg={}));var e0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(e0||(e0={}));var t0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(t0||(t0={}));var n0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(n0||(n0={}));var hc;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER"})(hc||(hc={}));var r0;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(r0||(r0={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class s0 extends ea{constructor(t,n){super(t),this.response=n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="https://generativelanguage.googleapis.com",J3="v1",Z3="0.2.1",e5="genai-js";var Os;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Os||(Os={}));class fa{constructor(t,n,r,s){this.model=t,this.task=n,this.apiKey=r,this.stream=s}toString(){let t=`${Q3}/${J3}/${this.model}:${this.task}`;return this.stream&&(t+="?alt=sse"),t}}function t5(){return`${e5}/${Z3}`}async function ha(e,t,n){let r;try{if(r=await fetch(e.toString(),Object.assign(Object.assign({},n5(n)),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":t5(),"x-goog-api-key":e.apiKey},body:t})),!r.ok){let s="";try{const i=await r.json();s=i.error.message,i.error.details&&(s+=` ${JSON.stringify(i.error.details)}`)}catch{}throw new Error(`[${r.status} ${r.statusText}] ${s}`)}}catch(s){const i=new ea(`Error fetching from ${e.toString()}: ${s.message}`);throw i.stack=s.stack,i}return r}function n5(e){const t={};if((e==null?void 0:e.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),e.timeout),t.signal=r}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),v1(e.candidates[0]))throw new s0(`${pc(e)}`,e);return r5(e)}else if(e.promptFeedback)throw new s0(`Text not available. ${pc(e)}`,e);return""},e}function r5(e){var t,n,r,s;return!((s=(r=(n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||s===void 0)&&s.text?e.candidates[0].content.parts[0].text:""}const s5=[hc.RECITATION,hc.SAFETY];function v1(e){return!!e.finishReason&&s5.includes(e.finishReason)}function pc(e){var t,n,r;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const i=e.candidates[0];v1(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function ta(e){return this instanceof ta?(this.v=e,this):new ta(e)}function i5(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(p){return new Promise(function(x,g){i.push([h,p,x,g])>1||a(h,p)})})}function a(h,p){try{l(r[h](p))}catch(x){f(i[0][3],x)}}function l(h){h.value instanceof ta?Promise.resolve(h.value.v).then(c,d):f(i[0][2],h)}function c(h){a("next",h)}function d(h){a("throw",h)}function f(h,p){h(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function o5(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=c5(t),[r,s]=n.tee();return{stream:l5(r),response:a5(s)}}async function a5(e){const t=[],n=e.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return Lh(u5(t));t.push(s)}}function l5(e){return i5(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:s}=yield ta(n.read());if(s)break;yield yield ta(Lh(r))}})}function c5(e){const t=e.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return t.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new ea("Failed to parse stream"));return}r.close();return}s+=o;let l=s.match(i0),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new ea(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),s=s.substring(l[0].length),l=s.match(i0)}return i()})}}})}function u5(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e)if(r.candidates)for(const s of r.candidates){const i=s.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:s.index}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[{text:""}]});for(const o of s.content.parts)o.text&&(n.candidates[i].content.parts[0].text+=o.text)}}return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(e,t,n,r){const s=new fa(t,Os.STREAM_GENERATE_CONTENT,e,!0),i=await ha(s,JSON.stringify(n),r);return o5(i)}async function w1(e,t,n,r){const s=new fa(t,Os.GENERATE_CONTENT,e,!1),o=await(await ha(s,JSON.stringify(n),r)).json();return{response:Lh(o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(e,t){let n=[];if(typeof e=="string")n=[{text:e}];else for(const r of e)typeof r=="string"?n.push({text:r}):n.push(r);return{role:t,parts:n}}function Gu(e){return e.contents?e:{contents:[Co(e,"user")]}}function d5(e){return typeof e=="string"||Array.isArray(e)?{content:Co(e,"user")}:e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="SILENT_ERROR";class f5{constructor(t,n,r,s){this.model=n,this.params=r,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(this._history=r.history.map(i=>{if(!i.role)throw new Error("Missing role for history item: "+JSON.stringify(i));return Co(i.parts,i.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t){var n,r;await this._sendPromise;const s=Co(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]};let o;return this._sendPromise=this._sendPromise.then(()=>w1(this._apiKey,this.model,i,this.requestOptions)).then(a=>{var l;if(a.response.candidates&&a.response.candidates.length>0){this._history.push(s);const c=Object.assign({parts:[],role:"model"},(l=a.response.candidates)===null||l===void 0?void 0:l[0].content);this._history.push(c)}else{const c=pc(a.response);c&&console.warn(`sendMessage() was unsuccessful. ${c}. Inspect response object for details.`)}o=a}),await this._sendPromise,o}async sendMessageStream(t){var n,r;await this._sendPromise;const s=Co(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]},o=b1(this._apiKey,this.model,i,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>o).catch(a=>{throw new Error(o0)}).then(a=>a.response).then(a=>{if(a.candidates&&a.candidates.length>0){this._history.push(s);const l=Object.assign({},a.candidates[0].content);l.role||(l.role="model"),this._history.push(l)}else{const l=pc(a);l&&console.warn(`sendMessageStream() was unsuccessful. ${l}. Inspect response object for details.`)}}).catch(a=>{a.message!==o0&&console.error(a)}),o}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(e,t,n,r){const s=new fa(t,Os.COUNT_TOKENS,e,!1);return(await ha(s,JSON.stringify(Object.assign(Object.assign({},n),{model:t})),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(e,t,n,r){const s=new fa(t,Os.EMBED_CONTENT,e,!1);return(await ha(s,JSON.stringify(n),r)).json()}async function m5(e,t,n,r){const s=new fa(t,Os.BATCH_EMBED_CONTENTS,e,!1),i=n.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await ha(s,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(t,n,r){this.apiKey=t,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.requestOptions=r||{}}async generateContent(t){const n=Gu(t);return w1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}async generateContentStream(t){const n=Gu(t);return b1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}startChat(t){return new f5(this.apiKey,this.model,t,this.requestOptions)}async countTokens(t){const n=Gu(t);return h5(this.apiKey,this.model,n)}async embedContent(t){const n=d5(t);return p5(this.apiKey,this.model,n)}async batchEmbedContents(t){return m5(this.apiKey,this.model,t,this.requestOptions)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new ea("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new g5(this.apiKey,t,n)}}const _1="AIzaSyCSZo6wMOi8s3mzCrjt-xZr4U-36U--bCo";console.warn("Initialisation du service Gemini avec la cl API:","Prsente");const y5=new x5(_1,{apiVersion:"v1beta"});console.warn("Instance GoogleGenerativeAI cre");const v5=y5.getGenerativeModel({model:"gemini-2.0-flash",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]});console.warn("Modle Gemini configur avec les paramtres:",{model:"gemini-2.0-flash",temperature:.7,maxOutputTokens:1024});const a0=async(e,t,n)=>{console.warn("=== GEMINI API CALL ==="),console.warn("Message:",e),console.warn("Conversation history length:",t.length),console.warn("User info:",n);const r=3,s=2e3,i=a=>new Promise(l=>setTimeout(l,a)),o=async(a=0)=>{var l;try{if(!(n!=null&&n.ticketOptions))throw new Error("Les options de ticket ne sont pas disponibles. Veuillez rafrachir la page.");const d=["categories","emplacements","priorites"].filter(y=>{var m;return!((m=n.ticketOptions[y])!=null&&m.length)});if(d.length>0)throw new Error(`Les options suivantes ne sont pas disponibles : ${d.join(", ")}. Veuillez rafrachir la page.`);const f=y=>!y||!Array.isArray(y)?"":y.map(m=>m.designation||"").filter(Boolean).join(", "),h=`Tu es un assistant professionnel spcialis dans la cration de tickets de support IT.
Ton rle est de guider les utilisateurs de manire professionnelle et efficace dans la cration de leurs tickets.

RGLES STRICTES DE CONVERSATION :
1. Tu DOIS suivre l'ordre exact des tapes ci-dessous
2. Tu DOIS poser UNE SEULE question  la fois
3. Tu DOIS attendre la rponse de l'utilisateur avant de poser la question suivante
4. Tu DOIS vrifier que chaque information est complte avant de passer  l'tape suivante
5. Tu NE DOIS PAS proposer de crer le ticket avant d'avoir toutes les informations requises
6. Tu DOIS utiliser UNIQUEMENT les options fournies dans le contexte pour chaque choix
7. Tu NE DOIS JAMAIS demander les informations suivantes car elles sont dj connues :
   - Le demandeur (${n.designation||"Non spcifi"})
   - La socit (${((l=n.email)==null?void 0:l.split("@")[1])||"Non spcifie"})
   - La date de cration (automatique)
8. Tu NE DOIS JAMAIS confirmer la cration du ticket - ce n'est pas ton rle
9.  la fin, tu DOIS UNIQUEMENT demander si l'utilisateur souhaite procder  la cration du ticket
10. Si l'utilisateur rpond "oui"  la cration, tu DOIS :
    - Vrifier que toutes les informations sont prsentes
    - Si des informations manquent, les demander  nouveau
    - Si toutes les informations sont prsentes, indiquer que tu vas transmettre les informations pour la cration

OPTIONS DISPONIBLES :
- Catgories : ${f(n.ticketOptions.categories)}
- Emplacements : ${f(n.ticketOptions.emplacements)}
- Priorits : ${f(n.ticketOptions.priorites)}

TAPES OBLIGATOIRES ( suivre dans l'ordre) :

1. COLLECTE DU TITRE
   - Demander un titre concis et descriptif
   - ATTENDRE sa rponse
   - Passer  l'tape suivante

2. COLLECTE DE LA DESCRIPTION
   - Demander une description dtaille du problme
   - ATTENDRE sa rponse
   - Passer  l'tape suivante

3. COLLECTE DU COMMENTAIRE INITIAL
   - Demander un commentaire initial qui servira de suivi pour le ticket
   - Ce commentaire peut inclure des informations supplmentaires, des prcisions ou des instructions spcifiques
   - ATTENDRE sa rponse
   - Passer  l'tape suivante

4. DTERMINATION DE LA CATGORIE
   - Afficher les catgories disponibles : ${f(n.ticketOptions.categories)}
   - Demander  l'utilisateur de choisir une catgorie parmi celles listes
   - ATTENDRE sa rponse
   - Passer  l'tape suivante

5. COLLECTE DE L'EMPLACEMENT
   - Afficher les emplacements disponibles : ${f(n.ticketOptions.emplacements)}
   - Demander  l'utilisateur de choisir un emplacement parmi ceux lists
   - ATTENDRE sa rponse
   - Passer  l'tape suivante

6. DTERMINATION DE LA PRIORIT
   - Afficher les priorits disponibles : ${f(n.ticketOptions.priorites)}
   - Demander  l'utilisateur de choisir une priorit parmi celles listes
   - ATTENDRE sa rponse
   - Passer  l'tape suivante

7. RSUM ET DEMANDE DE CRATION
   - Prsenter le rsum dans le format suivant :
      RSUM DU TICKET
     
      Titre : [titre]
      Description : [description]
      Commentaire initial : [commentaire]
      Catgorie : [catgorie]
      Emplacement : [emplacement]
      Priorit : [priorit]
     
   - Demander si l'utilisateur souhaite procder  la cration du ticket
   - Si l'utilisateur rpond "oui" :
     * Vrifier que toutes les informations sont prsentes
     * Si des informations manquent, les demander  nouveau
     * Si toutes les informations sont prsentes, indiquer que tu vas transmettre les informations pour la cration

EXEMPLES DE RPONSES PROFESSIONNELLES :
- "Pour commencer, pourriez-vous me donner un titre concis qui dcrit votre problme ?"
- "Merci pour le titre. Maintenant, pourriez-vous me donner une description dtaille du problme ?"
- "Merci pour la description. Pourriez-vous ajouter un commentaire initial qui servira de suivi pour ce ticket ? Ce commentaire peut inclure des informations supplmentaires ou des instructions spcifiques."
- "Voici les catgories disponibles : ${f(n.ticketOptions.categories)}. Quelle catgorie correspond le mieux  votre demande ?"
- "Voici les emplacements disponibles : ${f(n.ticketOptions.emplacements)}. Quel est l'emplacement concern ?"
- "Voici les priorits disponibles : ${f(n.ticketOptions.priorites)}."
- "Je vais vrifier que toutes les informations sont prsentes avant de procder  la cration du ticket."
- "Il manque certaines informations. Pourriez-vous me prciser [information manquante] ?"
- "Toutes les informations sont prsentes. Je vais transmettre ces informations pour la cration du ticket."

IMPORTANT : Tu DOIS TOUJOURS demander un commentaire initial aprs la description et avant de demander la catgorie. Ne saute JAMAIS cette tape.`;console.warn("Construction du contexte de conversation");const p=v5.startChat({history:[{role:"user",parts:h},...t.map(y=>({role:y.role,parts:y.content}))]});console.warn("Chat initialis avec l'historique"),console.warn("Envoi du message  l'API...");const x=6e4,g=await Promise.race([p.sendMessage(e).then(y=>(console.warn("Rponse brute de l'API:",y),y)),new Promise((y,m)=>setTimeout(()=>{console.error("Timeout: Dlai d'attente dpass aprs",x,"ms"),m(new Error("Le temps de rponse est trop long. Veuillez ressayer."))},x))]);console.warn("Rponse reue de l'API");const b=await g.response;return console.warn("Texte de la rponse extrait:",b.text()),b.text()}catch(c){if(console.error("=== GEMINI API ERROR ==="),console.error("Type d'erreur:",c.constructor.name),console.error("Message d'erreur:",c.message),console.error("Stack trace:",c.stack),c.message.includes("API key"))throw console.error("Erreur de cl API"),new Error("Erreur de configuration de l'API. Veuillez vrifier la cl API.");if(c.message.includes("quota"))throw console.error("Erreur de quota dpass"),new Error("Limite de requtes atteinte. Veuillez ressayer plus tard.");if(c.message.includes("temps de rponse"))throw console.error("Erreur de timeout"),new Error("Le temps de rponse est trop long. Veuillez ressayer.");if(c.message.includes("safety"))throw console.error("Erreur de scurit"),new Error("Le contenu a t bloqu pour des raisons de scurit.");if(c.message.includes("overloaded")||c.message.includes("503")){if(console.error("Erreur de surcharge du modle"),a<r)return console.log(`Tentative ${a+1}/${r} choue. Nouvelle tentative dans ${s/1e3} secondes...`),await i(s),o(a+1);throw new Error("Le service est temporairement surcharg. Veuillez ressayer dans quelques instants.")}else throw console.error("Erreur inattendue:",c),new Error("Une erreur est survenue lors de la communication avec l'assistant. Veuillez ressayer.")}};return o()},l0=(e,t,n)=>{var c;console.log("Options reues:",t),console.log("User info reu:",n);const r={title:"",description:"",commentaire:"",category:"",service:((c=n==null?void 0:n.service)==null?void 0:c.designation)||"",location:"",company:n.email.split("@")[1]||"Non spcifie",requester:n.designation,status:"Nouveau",priority:"",startDate:"",endDate:"",createdAt:new Date().toISOString(),id_utilisateur:n.id||1,id_societe:n.id_societe||1,id_emplacement:null,id_priorite:null,id_categorie:null,id_statut:1,id_executant:1},s=d=>d.toLowerCase().trim(),i=(d,f)=>{if(!d||!f)return null;console.log("Recherche ID pour:",d,"dans les options:",f);const h=s(d),p=b=>b.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"").toLowerCase();let x=null;if(x=f.find(b=>s(b.designation)===h),x)return console.log("Correspondance exacte trouve:",x),x.id;const g=p(h);return x=f.find(b=>p(b.designation)===g),x?(console.log("Correspondance normalise trouve:",x),x.id):(x=f.find(b=>{const y=s(b.designation);return y.includes(h)||h.includes(y)}),x?(console.log("Correspondance partielle trouve:",x),x.id):(x=f.find(b=>{const y=p(b.designation);return o(g,y)>.8}),x?(console.log("Correspondance par similarit trouve:",x),x.id):(console.log("Aucune correspondance trouve pour:",d),null)))},o=(d,f)=>{if(d.length===0||f.length===0)return 0;if(d===f)return 1;const h=d.length>f.length?d:f,p=d.length>f.length?f:d;return h.length===0?1:(h.length-a(h,p))/parseFloat(h.length)},a=(d,f)=>{const h=Array(f.length+1).fill(null).map(()=>Array(d.length+1).fill(null));for(let p=0;p<=d.length;p++)h[0][p]=p;for(let p=0;p<=f.length;p++)h[p][0]=p;for(let p=1;p<=f.length;p++)for(let x=1;x<=d.length;x++){const g=d[x-1]===f[p-1]?0:1;h[p][x]=Math.min(h[p][x-1]+1,h[p-1][x]+1,h[p-1][x-1]+g)}return h[f.length][d.length]},l=(d,f)=>{const h=new RegExp(`${f}\\s*([^\\n]+)`,"i"),p=d.match(h);if(!p)return null;let x=p[1].trim();return x=x.replace(/^(Titre|Description|Commentaire initial|Catgorie|Emplacement|Priorit|Date de dbut|Date de fin)\s*:\s*/i,""),x=x.replace(/^:\s*/,""),x};return e.forEach((d,f)=>{if(d.role==="assistant"){const h=d.content;if(console.log("Analyse du message:",h),h.includes(" RSUM DU TICKET")){console.log("Rsum de ticket trouv"),r.title=l(h,""),console.log("Titre extrait:",r.title),r.description=l(h,""),console.log("Description extraite:",r.description),r.commentaire=l(h,""),console.log("Commentaire extrait:",r.commentaire),r.category=l(h,""),r.id_categorie=i(r.category,t.categories),console.log("Catgorie extraite:",r.category,"ID:",r.id_categorie),r.location=l(h,""),r.id_emplacement=i(r.location,t.emplacements),console.log("Emplacement extrait:",r.location,"ID:",r.id_emplacement),r.priority=l(h,""),r.id_priorite=i(r.priority,t.priorites),console.log("Priorit extraite:",r.priority,"ID:",r.id_priorite);const p=l(h," Date de dbut"),x=l(h," Date de fin");if(p){const[g,b,y]=p.split("/");r.startDate=`${y}-${b}-${g}`,console.log("Date de dbut extraite:",r.startDate)}if(x){const[g,b,y]=x.split("/");r.endDate=`${y}-${b}-${g}`,console.log("Date de fin extraite:",r.endDate)}}}}),console.log("Ticket info final:",r),r},b5=async e=>{var t,n,r;try{const s=localStorage.getItem("token");if(!e.title||!e.description||!e.id_categorie||!e.id_emplacement||!e.id_priorite)throw console.error("Donnes manquantes:",{title:e.title,description:e.description,id_categorie:e.id_categorie,id_emplacement:e.id_emplacement,id_priorite:e.id_priorite}),new Error("Donnes de ticket incompltes");const i=JSON.parse(localStorage.getItem("user"));if(!i||!i.id)throw console.error("Utilisateur non connect ou ID invalide"),new Error("Vous devez tre connect pour crer un ticket.");e.id_utilisateur=i.id,e.id_demandeur=i.id;const o={titre:e.title,description:e.description,commentaire:e.commentaire||e.description,id_demandeur:e.id_demandeur,id_utilisateur:e.id_utilisateur,id_societe:e.id_societe,id_emplacement:e.id_emplacement,id_priorite:e.id_priorite,id_categorie:e.id_categorie,id_statut:e.id_statut,id_executant:e.id_executant};if(e.startDate&&(o.date_debut=e.startDate),e.endDate&&(o.date_fin_prevue=e.endDate),console.log("Donnes envoyes  l'API:",o),!s)throw new Error("Token d'authentification manquant. Veuillez vous reconnecter.");return(await Ce.post("/api/tickets",o,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){if(console.error("Error in createTicketFromChat:",s),((t=s.response)==null?void 0:t.status)===422){const i=s.response.data.errors;if(i.id_demandeur)throw new Error("Erreur d'authentification. Veuillez vous reconnecter.");const o=Object.entries(i).map(([a,l])=>`${a}: ${l.join(", ")}`).join(`
`);throw new Error(`Erreurs de validation:
${o}`)}else throw((n=s.response)==null?void 0:n.status)===401?new Error("Session expire. Veuillez vous reconnecter."):((r=s.response)==null?void 0:r.status)===403?new Error("Vous n'avez pas les permissions ncessaires pour crer un ticket."):new Error("Une erreur est survenue lors de la cration du ticket. Veuillez ressayer.")}};function S1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=S1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function js(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=S1(e))&&(r&&(r+=" "),r+=t);return r}function w5(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}w5(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var pa=e=>typeof e=="number"&&!isNaN(e),Ls=e=>typeof e=="string",fr=e=>typeof e=="function",_5=e=>Ls(e)||pa(e),uf=e=>Ls(e)||fr(e)?e:null,S5=(e,t)=>e===!1||pa(e)&&e>0?e:t,df=e=>_.isValidElement(e)||Ls(e)||fr(e)||pa(e);function E5(e,t,n=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function j5({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:d,playToast:f}){let h=n?`${e}--${o}`:e,p=n?`${t}--${o}`:t,x=_.useRef(0);return _.useLayoutEffect(()=>{let g=c.current,b=h.split(" "),y=m=>{m.target===c.current&&(f(),g.removeEventListener("animationend",y),g.removeEventListener("animationcancel",y),x.current===0&&m.type!=="animationcancel"&&g.classList.remove(...b))};g.classList.add(...b),g.addEventListener("animationend",y),g.addEventListener("animationcancel",y)},[]),_.useEffect(()=>{let g=c.current,b=()=>{g.removeEventListener("animationend",b),r?E5(g,l,s):l()};d||(a?b():(x.current=1,g.className+=` ${p}`,g.addEventListener("animationend",b)))},[d]),je.createElement(je.Fragment,null,i)}}function c0(e,t){return{content:E1(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function E1(e,t,n=!1){return _.isValidElement(e)&&!Ls(e.type)?_.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):fr(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function N5({closeToast:e,theme:t,ariaLabel:n="close"}){return je.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},je.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},je.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function k5({delay:e,isRunning:t,closeToast:n,type:r="default",hide:s,className:i,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:d}){let f=s||o&&a===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(h.transform=`scaleX(${a})`);let p=js("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),x=fr(i)?i({rtl:l,type:r,defaultClassName:p}):js(p,i),g={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return je.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},je.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),je.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:x,style:h,...g}))}var C5=1,j1=()=>`${C5++}`;function T5(e,t,n){let r=1,s=0,i=[],o=[],a=t,l=new Map,c=new Set,d=m=>(c.add(m),()=>c.delete(m)),f=()=>{o=Array.from(l.values()),c.forEach(m=>m())},h=({containerId:m,toastId:v,updateId:S})=>{let E=m?m!==e:e!==1,j=l.has(v)&&S==null;return E||j},p=(m,v)=>{l.forEach(S=>{var E;(v==null||v===S.props.toastId)&&((E=S.toggle)==null||E.call(S,m))})},x=m=>{var v,S;(S=(v=m.props)==null?void 0:v.onClose)==null||S.call(v,m.removalReason),m.isActive=!1},g=m=>{if(m==null)l.forEach(x);else{let v=l.get(m);v&&x(v)}f()},b=()=>{s-=i.length,i=[]},y=m=>{var v,S;let{toastId:E,updateId:j}=m.props,w=j==null;m.staleId&&l.delete(m.staleId),m.isActive=!0,l.set(E,m),f(),n(c0(m,w?"added":"updated")),w&&((S=(v=m.props).onOpen)==null||S.call(v))};return{id:e,props:a,observe:d,toggle:p,removeToast:g,toasts:l,clearQueue:b,buildToast:(m,v)=>{if(h(v))return;let{toastId:S,updateId:E,data:j,staleId:w,delay:N}=v,M=E==null;M&&s++;let R={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(v).filter(([z,G])=>G!=null)),toastId:S,updateId:E,data:j,isIn:!1,className:uf(v.className||a.toastClassName),progressClassName:uf(v.progressClassName||a.progressClassName),autoClose:v.isLoading?!1:S5(v.autoClose,a.autoClose),closeToast(z){l.get(S).removalReason=z,g(S)},deleteToast(){let z=l.get(S);if(z!=null){if(n(c0(z,"removed")),l.delete(S),s--,s<0&&(s=0),i.length>0){y(i.shift());return}f()}}};R.closeButton=a.closeButton,v.closeButton===!1||df(v.closeButton)?R.closeButton=v.closeButton:v.closeButton===!0&&(R.closeButton=df(a.closeButton)?a.closeButton:!0);let A={content:m,props:R,staleId:w};a.limit&&a.limit>0&&s>a.limit&&M?i.push(A):pa(N)?setTimeout(()=>{y(A)},N):y(A)},setProps(m){a=m},setToggle:(m,v)=>{let S=l.get(m);S&&(S.toggle=v)},isToastActive:m=>{var v;return(v=l.get(m))==null?void 0:v.isActive},getSnapshot:()=>o}}var Pt=new Map,na=[],ff=new Set,R5=e=>ff.forEach(t=>t(e)),N1=()=>Pt.size>0;function P5(){na.forEach(e=>C1(e.content,e.options)),na=[]}var M5=(e,{containerId:t})=>{var n;return(n=Pt.get(t||1))==null?void 0:n.toasts.get(e)};function k1(e,t){var n;if(t)return!!((n=Pt.get(t))!=null&&n.isToastActive(e));let r=!1;return Pt.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function D5(e){if(!N1()){na=na.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||_5(e))Pt.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Pt.get(e.containerId);t?t.removeToast(e.id):Pt.forEach(n=>{n.removeToast(e.id)})}}var O5=(e={})=>{Pt.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function C1(e,t){df(e)&&(N1()||na.push({content:e,options:t}),Pt.forEach(n=>{n.buildToast(e,t)}))}function L5(e){var t;(t=Pt.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function T1(e,t){Pt.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function A5(e){let t=e.containerId||1;return{subscribe(n){let r=T5(t,e,R5);Pt.set(t,r);let s=r.observe(n);return P5(),()=>{s(),Pt.delete(t)}},setProps(n){var r;(r=Pt.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Pt.get(t))==null?void 0:n.getSnapshot()}}}function I5(e){return ff.add(e),()=>{ff.delete(e)}}function F5(e){return e&&(Ls(e.toastId)||pa(e.toastId))?e.toastId:j1()}function ma(e,t){return C1(e,t),t.toastId}function Kc(e,t){return{...t,type:t&&t.type||e,toastId:F5(t)}}function Yc(e){return(t,n)=>ma(t,Kc(e,n))}function Se(e,t){return ma(e,Kc("default",t))}Se.loading=(e,t)=>ma(e,Kc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function z5(e,{pending:t,error:n,success:r},s){let i;t&&(i=Ls(t)?Se.loading(t,s):Se.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,d,f)=>{if(d==null){Se.dismiss(i);return}let h={type:c,...o,...s,data:f},p=Ls(d)?{render:d}:d;return i?Se.update(i,{...h,...p}):Se(p.render,{...h,...p}),f},l=fr(e)?e():e;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}Se.promise=z5;Se.success=Yc("success");Se.info=Yc("info");Se.error=Yc("error");Se.warning=Yc("warning");Se.warn=Se.warning;Se.dark=(e,t)=>ma(e,Kc("default",{theme:"dark",...t}));function B5(e){D5(e)}Se.dismiss=B5;Se.clearWaitingQueue=O5;Se.isActive=k1;Se.update=(e,t={})=>{let n=M5(e,t);if(n){let{props:r,content:s}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:j1()};i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,ma(o,i)}};Se.done=e=>{Se.update(e,{progress:1})};Se.onChange=I5;Se.play=e=>T1(!0,e);Se.pause=e=>T1(!1,e);function $5(e){var t;let{subscribe:n,getSnapshot:r,setProps:s}=_.useRef(A5(e)).current;s(e);let i=(t=_.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function o(a){if(!i)return[];let l=new Map;return e.newestOnTop&&i.reverse(),i.forEach(c=>{let{position:d}=c.props;l.has(d)||l.set(d,[]),l.get(d).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:k1,count:i==null?void 0:i.length}}function U5(e){let[t,n]=_.useState(!1),[r,s]=_.useState(!1),i=_.useRef(null),o=_.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:f}=e;L5({id:e.toastId,containerId:e.containerId,fn:n}),_.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{p()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||y(),window.addEventListener("focus",b),window.addEventListener("blur",y)}function p(){window.removeEventListener("focus",b),window.removeEventListener("blur",y)}function x(w){if(e.draggable===!0||e.draggable===w.pointerType){m();let N=i.current;o.canCloseOnClick=!0,o.canDrag=!0,N.style.transition="none",e.draggableDirection==="x"?(o.start=w.clientX,o.removalDistance=N.offsetWidth*(e.draggablePercent/100)):(o.start=w.clientY,o.removalDistance=N.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function g(w){let{top:N,bottom:M,left:R,right:A}=i.current.getBoundingClientRect();w.nativeEvent.type!=="touchend"&&e.pauseOnHover&&w.clientX>=R&&w.clientX<=A&&w.clientY>=N&&w.clientY<=M?y():b()}function b(){n(!0)}function y(){n(!1)}function m(){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",E)}function v(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",E)}function S(w){let N=i.current;if(o.canDrag&&N){o.didMove=!0,t&&y(),e.draggableDirection==="x"?o.delta=w.clientX-o.start:o.delta=w.clientY-o.start,o.start!==w.clientX&&(o.canCloseOnClick=!1);let M=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;N.style.transform=`translate3d(${M},0)`,N.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function E(){v();let w=i.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}w.style.transition="transform 0.2s, opacity 0.2s",w.style.removeProperty("transform"),w.style.removeProperty("opacity")}}let j={onPointerDown:x,onPointerUp:g};return a&&l&&(j.onMouseEnter=y,e.stacked||(j.onMouseLeave=b)),f&&(j.onClick=w=>{d&&d(w),o.canCloseOnClick&&c(!0)}),{playToast:b,pauseToast:y,isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:j}}var H5=typeof window<"u"?_.useLayoutEffect:_.useEffect,qc=({theme:e,type:t,isLoading:n,...r})=>je.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function V5(e){return je.createElement(qc,{...e},je.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function W5(e){return je.createElement(qc,{...e},je.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function K5(e){return je.createElement(qc,{...e},je.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Y5(e){return je.createElement(qc,{...e},je.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function q5(){return je.createElement("div",{className:"Toastify__spinner"})}var hf={info:W5,warning:V5,success:K5,error:Y5,spinner:q5},G5=e=>e in hf;function X5({theme:e,type:t,isLoading:n,icon:r}){let s=null,i={theme:e,type:t};return r===!1||(fr(r)?s=r({...i,isLoading:n}):_.isValidElement(r)?s=_.cloneElement(r,i):n?s=hf.spinner():G5(t)&&(s=hf[t](i))),s}var Q5=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=U5(e),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:f,closeToast:h,transition:p,position:x,className:g,style:b,progressClassName:y,updateId:m,role:v,progress:S,rtl:E,toastId:j,deleteToast:w,isIn:N,isLoading:M,closeOnClick:R,theme:A,ariaLabel:z}=e,G=js("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":R}),re=fr(g)?g({rtl:E,position:x,type:d,defaultClassName:G}):js(G,g),J=X5(e),q=!!S||!l,ne={closeToast:h,type:d,theme:A},L=null;return o===!1||(fr(o)?L=o(ne):_.isValidElement(o)?L=_.cloneElement(o,ne):L=N5(ne)),je.createElement(p,{isIn:N,done:w,position:x,preventExitTransition:n,nodeRef:r,playToast:i},je.createElement("div",{id:j,tabIndex:0,onClick:c,"data-in":N,className:re,...s,style:b,ref:r,...N&&{role:v,"aria-label":z}},J!=null&&je.createElement("div",{className:js("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},J),E1(a,e,!t),L,!e.customProgressBar&&je.createElement(k5,{...m&&!q?{key:`p-${m}`}:{},rtl:E,theme:A,delay:l,isRunning:t,isIn:N,closeToast:h,hide:f,type:d,className:y,controlledProgress:q,progress:S||0})))},J5=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),Z5=j5(J5("bounce",!0)),eC={position:"top-right",transition:Z5,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function tC(e){let t={...eC,...e},n=e.stacked,[r,s]=_.useState(!0),i=_.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=$5(t),{className:c,style:d,rtl:f,containerId:h,hotKeys:p}=t;function x(b){let y=js("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":f});return fr(c)?c({position:b,rtl:f,defaultClassName:y}):js(y,uf(c))}function g(){n&&(s(!0),Se.play())}return H5(()=>{var b;if(n){let y=i.current.querySelectorAll('[data-in="true"]'),m=12,v=(b=t.position)==null?void 0:b.includes("top"),S=0,E=0;Array.from(y).reverse().forEach((j,w)=>{let N=j;N.classList.add("Toastify__toast--stacked"),w>0&&(N.dataset.collapsed=`${r}`),N.dataset.pos||(N.dataset.pos=v?"top":"bot");let M=S*(r?.2:1)+(r?0:m*w);N.style.setProperty("--y",`${v?M:M*-1}px`),N.style.setProperty("--g",`${m}`),N.style.setProperty("--s",`${1-(r?E:0)}`),S+=N.offsetHeight,E+=.025})}},[r,l,n]),_.useEffect(()=>{function b(y){var m;let v=i.current;p(y)&&((m=v.querySelector('[tabIndex="0"]'))==null||m.focus(),s(!1),Se.pause()),y.key==="Escape"&&(document.activeElement===v||v!=null&&v.contains(document.activeElement))&&(s(!0),Se.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[p]),je.createElement("section",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{n&&(s(!1),Se.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((b,y)=>{let m=y.length?{...d}:{...d,pointerEvents:"none"};return je.createElement("div",{tabIndex:-1,className:x(b),"data-stacked":n,style:m,key:`c-${b}`},y.map(({content:v,props:S})=>je.createElement(Q5,{...S,stacked:n,collapseAll:g,isIn:a(S.toastId,S.containerId),key:`t-${S.key}`},v)))}))}const nC=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(""),[s,i]=_.useState(!1),[o,a]=_.useState(null),[l,c]=_.useState(null),[d,f]=_.useState(null),[h,p]=_.useState(null),[x,g]=_.useState(!1),[b,y]=_.useState(!1),[m,v]=_.useState(!1),[S,E]=_.useState(!1),[j,w]=_.useState(null),N=_.useRef(null),M=_.useRef(null),R=()=>{var I;(I=N.current)==null||I.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{R()},[e]),_.useEffect(()=>{(async()=>{try{const F=await ue.get("/api/user");p(F.data);const W=await ue.get("/api/tickets/options");if(console.log("Options reues du backend:",W.data),W.data.hasErrors){console.error("Erreurs lors de la rcupration des options:",W.data.errors),f("Erreur lors du chargement des options. Veuillez rafrachir la page.");return}const oe=W.data.options,fe=["categories","emplacements","priorites"].filter(ze=>{var ht;return!((ht=oe[ze])!=null&&ht.length)});if(fe.length>0){console.error("Options manquantes:",fe),f(`Les options suivantes ne sont pas disponibles : ${fe.join(", ")}. Veuillez rafrachir la page.`);return}c(oe)}catch(F){console.error("Erreur lors du chargement des donnes:",F),f("Erreur lors du chargement des donnes. Veuillez rafrachir la page.")}})()},[]);const A=()=>{t([{role:"assistant",content:"Bonjour ! Je suis votre assistant pour la cration de tickets. Je vais vous guider  travers le processus de cration d'un ticket. Comment puis-je vous aider aujourd'hui ?"}])};_.useEffect(()=>{A()},[]);const z=(I,F)=>{switch(F){case"category":g(!1);break;case"location":y(!1);break;case"priority":v(!1);break}const W=I.designation;r(""),t(se=>[...se,{role:"user",content:W}]),i(!0),f(null);const oe={...h,ticketOptions:{categories:l.categories||[],emplacements:l.emplacements||[],priorites:l.priorites||[]}};a0(W,e,oe).then(se=>{const fe=se.toLowerCase();g(fe.includes("catgorie")),y(fe.includes("emplacement")),v(fe.includes("priorit"));const ze=se.split("?").filter(T=>T.trim().length>0),ht=e[e.length-1];if(!(ht&&ht.role==="assistant"&&ht.content.toLowerCase()===se.toLowerCase()))if(ze.length>1){const T=ze[0]+"?";t(H=>[...H,{role:"assistant",content:T}])}else t(T=>[...T,{role:"assistant",content:se}]);if(se.includes(" RSUM DU TICKET")){const T=l0([...e,{role:"user",content:W},{role:"assistant",content:se}],l,h);console.log("Informations extraites du rsum:",T),a(T),g(!1),y(!1),v(!1),t(H=>[...H,{role:"assistant",content:"Voici le rsum de votre ticket :",component:ne(T)}])}}).catch(se=>{const fe=se.message||"Une erreur est survenue. Veuillez ressayer.";f(fe),t(ze=>[...ze,{role:"assistant",content:fe}])}).finally(()=>{i(!1)})},G=(I,F,W)=>{if(!I||I.length===0)return null;const oe=()=>{switch(F){case"category":return"bg-blue-50 hover:bg-blue-100 text-blue-800";case"location":return"bg-green-50 hover:bg-green-100 text-green-800";case"priority":return"bg-purple-50 hover:bg-purple-100 text-purple-800";default:return"bg-gray-50 hover:bg-gray-100 text-gray-800"}};return u.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg shadow-lg border border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:W}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:I.map(se=>u.jsx("button",{onClick:()=>z(se,F),className:`p-4 rounded-lg transition-all duration-200 ${oe()} 
                                     flex items-center justify-center text-center font-medium
                                     transform hover:scale-105 hover:shadow-md`,children:se.designation},se.id))})]})},re=()=>!x||!(l!=null&&l.categories)?null:G(l.categories,"category","Slectionnez une catgorie :"),J=()=>!b||!(l!=null&&l.emplacements)?null:G(l.emplacements,"location","Slectionnez un emplacement :"),q=()=>!m||!(l!=null&&l.priorites)?null:G(l.priorites,"priority","Slectionnez une priorit :"),ne=I=>I?u.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg shadow-lg border border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:" RSUM DU TICKET"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsx("table",{className:"min-w-full bg-white",children:u.jsxs("tbody",{className:"divide-y divide-gray-200",children:[u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600 w-1/3",children:"Titre"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.title||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Description"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.description||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Catgorie"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.category||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Priorit"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                                        ${I.priority==="Urgent"?"bg-red-100 text-red-800":I.priority==="Moyenne"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:I.priority||"-"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Emplacement"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.location||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Statut"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                                        ${I.status==="Nouveau"?"bg-blue-100 text-blue-800":I.status==="En cours"?"bg-yellow-100 text-yellow-800":I.status==="Termin"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:I.status||"-"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Demandeur"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.requester||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Service"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.service||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Commentaire"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.commentaire||"-"})]})]})})})]}):null,L=async I=>{if(I.preventDefault(),!n.trim()||!h||!l){Se.error("Veuillez attendre le chargement des donnes avant de continuer.");return}const W=["categories","emplacements","priorites"].filter(se=>{var fe;return!((fe=l[se])!=null&&fe.length)});if(W.length>0){Se.error(`Les options suivantes ne sont pas disponibles : ${W.join(", ")}. Veuillez rafrachir la page.`);return}const oe=n.trim();r(""),t(se=>[...se,{role:"user",content:oe}]),i(!0),f(null);try{const se={...h,ticketOptions:{categories:l.categories||[],emplacements:l.emplacements||[],priorites:l.priorites||[]}};console.log("Options envoyes au chat:",se.ticketOptions);const fe=await a0(oe,e,se),ze=fe.toLowerCase();g(ze.includes("catgorie")),y(ze.includes("emplacement")),v(ze.includes("priorit"));const ht=fe.split("?").filter(H=>H.trim().length>0),bt=e[e.length-1];if(!(bt&&bt.role==="assistant"&&bt.content.toLowerCase()===fe.toLowerCase()))if(ht.length>1){const H=ht[0]+"?";t(le=>[...le,{role:"assistant",content:H}])}else t(H=>[...H,{role:"assistant",content:fe}]);if(fe.includes(" RSUM DU TICKET")){const H=l0([...e,{role:"user",content:oe},{role:"assistant",content:fe}],l,h);console.log("Informations extraites du rsum:",H),a(H),t(le=>[...le,{role:"assistant",content:"Voici le rsum de votre ticket :",component:ne(H)}])}oe.toLowerCase()==="oui"&&fe.includes("Toutes les informations sont prsentes")&&o&&U()}catch(se){const fe=se.message||"Une erreur est survenue. Veuillez ressayer.";f(fe),t(ze=>[...ze,{role:"assistant",content:fe}])}finally{i(!1)}},U=async()=>{if(o)try{i(!0),f(null);const I={...o,startDate:o.startDate?new Date(o.startDate).toISOString().split("T")[0]:null,endDate:o.endDate?new Date(o.endDate).toISOString().split("T")[0]:null},F=await b5(I);t(W=>[...W,{role:"assistant",content:`Ticket cr avec succs ! Numro du ticket : ${F.id}`}]),a(null)}catch(I){const F=I.message||"Une erreur est survenue lors de la cration du ticket.";f(F),t(W=>[...W,{role:"assistant",content:F}])}finally{i(!1)}},D=I=>{I.role==="assistant"&&!s&&(r(I.content),L(new Event("submit")))},Z=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),L(I))};return _.useEffect(()=>{M.current&&M.current.focus()},[e,s]),u.jsx(Ae,{children:u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx(tC,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Cration de ticket assiste par IA"}),d&&u.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:d}),u.jsx("div",{className:"mb-6 overflow-x-auto",children:u.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-600",children:"Attribut"}),u.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-600",children:"Valeur"}),u.jsx("th",{className:"px-4 py-2 text-center text-sm font-semibold text-gray-600",children:"Statut"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-200",children:[u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Titre"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.title)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.title?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.title?"":""})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Description"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.description)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.description?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.description?"":""})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Catgorie"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.category)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.category?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.category?"":""})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Priorit"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.priority)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.priority?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.priority?"":""})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Emplacement"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.location)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.location?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.location?"":""})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Date de dbut"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.startDate)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.startDate?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.startDate?"":""})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Date de fin"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.endDate)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.endDate?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.endDate?"":""})})]})]})]})}),u.jsxs("div",{className:"flex flex-col h-[600px] w-full max-w-2xl mx-auto bg-white rounded-lg shadow-lg",children:[u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((I,F)=>u.jsx("div",{className:`flex ${I.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{onClick:()=>D(I),className:`max-w-[80%] rounded-lg p-3 cursor-pointer transition-all duration-200 ${I.role==="user"?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:[I.content,I.component]})},F)),re(),J(),q(),u.jsx("div",{ref:N})]}),u.jsx("form",{onSubmit:L,className:"border-t p-4",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{ref:M,type:"text",value:n,onChange:I=>r(I.target.value),onKeyPress:Z,placeholder:"Tapez votre message...",className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:s}),u.jsx("button",{type:"submit",disabled:s,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Envoi...":"Envoyer"})]})}),o&&u.jsx("div",{className:"border-t p-4 bg-gray-50",children:u.jsx("button",{onClick:U,disabled:s,className:"w-full bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50",children:s?"Cration en cours...":"Crer le ticket"})})]})]})})},rC=()=>{const e=Un(),[t,n]=_.useState({designation:"",email:"",password:"",niveau:"",statut:"1",id_service:""}),r=[{id:1,designation:"Achat"},{id:2,designation:"Administration"},{id:3,designation:"Finance et Comptabilit"},{id:4,designation:"Marketing et Communication"},{id:5,designation:"Fabrication"},{id:6,designation:"Logistique"},{id:7,designation:"Commercial"}],[s,i]=_.useState(!1),[o,a]=_.useState(""),[l,c]=_.useState(""),d=h=>{const{name:p,value:x}=h.target;n(g=>({...g,[p]:x}))},f=async h=>{var p,x;h.preventDefault(),i(!0),a(""),c("");try{const g=await ue.post("/api/utilisateurs",t);c("Utilisateur cr avec succs !"),n({designation:"",email:"",password:"",niveau:"",statut:"1",id_service:""})}catch(g){console.error("Erreur lors de la cration:",g),a(((x=(p=g.response)==null?void 0:p.data)==null?void 0:x.message)||"Erreur lors de la cration de l'utilisateur")}finally{i(!1)}};return u.jsx(Ae,{children:u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Crer un nouvel utilisateur"}),o&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),l&&u.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:l}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dsignation"}),u.jsx("input",{type:"text",name:"designation",value:t.designation,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Nom complet de l'utilisateur"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:t.email,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"exemple@email.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),u.jsx("input",{type:"password",name:"password",value:t.password,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:""})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Niveau"}),u.jsxs("select",{name:"niveau",value:t.niveau,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[u.jsx("option",{value:"",children:"Slectionner un niveau"}),u.jsx("option",{value:"1",children:"Administrateur"}),u.jsx("option",{value:"2",children:"Directeur Gnral"}),u.jsx("option",{value:"3",children:"Directeur Dpartement"}),u.jsx("option",{value:"4",children:"Demandeur"})]})]}),(t.niveau==="3"||t.niveau==="4")&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Service"}),u.jsxs("select",{name:"id_service",value:t.id_service,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[u.jsx("option",{value:"",children:"Slectionner un service"}),r.map(h=>u.jsx("option",{value:h.id,children:h.designation},h.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),u.jsxs("select",{name:"statut",value:t.statut,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[u.jsx("option",{value:"1",children:"Actif"}),u.jsx("option",{value:"0",children:"Inactif"})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:()=>e("/dashboard"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 border border-transparent rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${s?"opacity-50 cursor-not-allowed":""}`,children:s?"Cration en cours...":"Crer l'utilisateur"})]})]})]})})},sC=()=>{var d;const[e,t]=_.useState(null),[n,r]=_.useState(!0),[s,i]=_.useState(""),[o,a]=_.useState(""),l=f=>f&&{1:"Administrateur",2:"Directeur Gnral",3:"Directeur Dpartement",4:"Demandeur"}[f]||"Non spcifi";_.useEffect(()=>{(async()=>{try{const h=await ue.get("/api/user");console.log("Rponse API:",h.data),t(h.data),i("")}catch(h){i("Erreur lors du chargement du profil"),console.error("Erreur:",h)}finally{r(!1)}})()},[]);const c=()=>u.jsx("div",{className:"animate-pulse",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})});return n?u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Mon Profil"}),c()]})}):s?u.jsx(Ae,{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded",children:s})})}):u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Mon Profil"}),o&&u.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded",children:o}),u.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[u.jsx("div",{className:"px-4 py-5 sm:px-6",children:u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Informations du profil"})}),u.jsx("div",{className:"border-t border-gray-200",children:u.jsxs("dl",{children:[u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[u.jsx(xs,{className:"mr-2"})," Nom complet"]}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(e==null?void 0:e.designation)||"Non spcifi"})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[u.jsx(F4,{className:"mr-2"})," Email"]}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(e==null?void 0:e.email)||"Non spcifi"})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[u.jsx(V4,{className:"mr-2"})," Niveau d'accs"]}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l(e==null?void 0:e.niveau)})]}),((e==null?void 0:e.niveau)===3||(e==null?void 0:e.niveau)===4)&&u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[u.jsx(O4,{className:"mr-2"})," Service"]}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((d=e==null?void 0:e.service)==null?void 0:d.designation)||"Non spcifi"})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[u.jsx(oo,{className:"mr-2"})," Statut"]}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Actif"})})]})]})})]})]})})},xr={users:null,lastFetch:null,cacheDuration:5*60*1e3},iC=()=>{const e=Xr(),[t,n]=_.useState([]),[r,s]=_.useState(!0),[i,o]=_.useState(""),[a,l]=_.useState(""),[c,d]=_.useState(!1),[f,h]=_.useState(!1),[p,x]=_.useState(null);let g=null;try{g=JSON.parse(localStorage.getItem("user"))}catch{g=null}const b=j=>j&&{1:"Administrateur",2:"Directeur Gnral",3:"Directeur Dpartement",4:"Demandeur"}[j]||"Non spcifi",y=async(j=!1)=>{if(d(!0),xr.users&&xr.lastFetch&&!j&&new Date().getTime()-xr.lastFetch<xr.cacheDuration){n(xr.users),s(!1),d(!1);return}try{const w=await ue.get("/api/users");n(w.data),xr.users=w.data,xr.lastFetch=new Date().getTime(),o("")}catch(w){o("Erreur lors du chargement des utilisateurs"),console.error("Erreur:",w)}finally{s(!1),setTimeout(()=>d(!1),600)}};_.useEffect(()=>{y(!0)},[e.pathname]);const m=async j=>{x(j),h(!0)},v=async()=>{try{await ue.delete(`/api/users/${p}`);const j=t.filter(w=>w.id!==p);n(j),xr.users=j,l("Utilisateur supprim avec succs"),setTimeout(()=>l(""),3e3)}catch(j){o("Erreur lors de la suppression de l'utilisateur"),console.error("Erreur:",j)}finally{h(!1),x(null)}},S=async(j,w)=>{try{d(!0),await ue.patch(`/api/utilisateurs/${j}/statut`,{statut:w}),await y(!0),l(w===1?"Utilisateur activ avec succs":"Utilisateur dsactiv avec succs"),setTimeout(()=>l(""),3e3)}catch(N){o("Erreur lors du changement de statut"),console.error("Erreur:",N)}finally{setTimeout(()=>d(!1),600)}},E=()=>u.jsx("div",{className:"animate-pulse",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),u.jsx("div",{className:"space-y-4",children:[1,2,3].map(j=>u.jsx("div",{className:"h-16 bg-gray-200 rounded"},j))})]})});return r?u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Liste des Utilisateurs"}),E()]})}):i?u.jsx(Ae,{children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded",children:i})})}):u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-9",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Liste des Utilisateurs"}),u.jsx("button",{onClick:()=>{d(!0),y(!0)},className:"ml-4 p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafrachir",children:u.jsx(Ur,{className:c?"animate-spin-once":""})})]}),a&&u.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded",children:a}),f&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:u.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:u.jsxs("div",{className:"mt-3 text-center",children:[u.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx(z4,{className:"h-6 w-6 text-red-600"})}),u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mt-4",children:"Confirmation de suppression"}),u.jsx("div",{className:"mt-2 px-7 py-3",children:u.jsx("p",{className:"text-sm text-gray-500",children:"tes-vous sr de vouloir supprimer cet utilisateur ? Cette action est irrversible."})}),u.jsxs("div",{className:"items-center px-4 py-3",children:[u.jsx("button",{onClick:v,className:"px-4 py-2 bg-red-600 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Supprimer"}),u.jsx("button",{onClick:()=>{h(!1),x(null)},className:"mt-3 px-4 py-2 bg-gray-100 text-gray-700 text-base font-medium rounded-md w-full shadow-sm hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Annuler"})]})]})})}),u.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Utilisateur"}),u.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4",children:"Email"}),u.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Niveau d'accs"}),u.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Service"}),u.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/10",children:"Statut"}),u.jsx("th",{scope:"col",className:"px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(j=>{var w;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-3 py-3",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:u.jsx(xs,{className:"h-8 w-8 text-gray-400"})}),u.jsx("div",{className:"ml-2",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.designation})})]})}),u.jsx("td",{className:"px-3 py-3",children:u.jsx("div",{className:"text-sm text-gray-900",children:j.email})}),u.jsx("td",{className:"px-3 py-3",children:u.jsx("div",{className:"text-sm text-gray-900",children:b(j.niveau)})}),u.jsx("td",{className:"px-3 py-3",children:u.jsx("div",{className:"text-sm text-gray-900",children:j.niveau==="2"?"Pas de service":((w=j.service)==null?void 0:w.designation)||"Non spcifi"})}),u.jsx("td",{className:"px-3 py-3",children:j.statut===1?u.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Actif"}):u.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactif"})}),u.jsx("td",{className:"px-3 py-3 text-right text-sm font-medium",children:u.jsxs("div",{className:"flex justify-end space-x-2 gap-2",children:[(g==null?void 0:g.niveau)===1&&j.id!==(g==null?void 0:g.id)&&u.jsx("button",{onClick:()=>S(j.id,j.statut===1?0:1),className:j.statut===1?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900",children:j.statut===1?"Dsactiver":"Activer"}),j.id!==(g==null?void 0:g.id)&&u.jsx("button",{onClick:()=>m(j.id),className:"text-red-600 hover:text-red-900",children:u.jsx(H4,{})})]})})]},j.id)})})]})})})]})})};var R1={exports:{}},P1={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=t.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],s=0,i=0;s<n.length;s++,i+=8)r[i>>>5]|=n[s]<<24-i%32;return r},wordsToBytes:function(n){for(var r=[],s=0;s<n.length*32;s+=8)r.push(n[s>>>5]>>>24-s%32&255);return r},bytesToHex:function(n){for(var r=[],s=0;s<n.length;s++)r.push((n[s]>>>4).toString(16)),r.push((n[s]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],s=0;s<n.length;s+=2)r.push(parseInt(n.substr(s,2),16));return r},bytesToBase64:function(n){for(var r=[],s=0;s<n.length;s+=3)for(var i=n[s]<<16|n[s+1]<<8|n[s+2],o=0;o<4;o++)s*8+o*6<=n.length*8?r.push(e.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],s=0,i=0;s<n.length;i=++s%4)i!=0&&r.push((e.indexOf(n.charAt(s-1))&Math.pow(2,-2*i+8)-1)<<i*2|e.indexOf(n.charAt(s))>>>6-i*2);return r}};P1.exports=t})();var oC=P1.exports,pf={utf8:{stringToBytes:function(e){return pf.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(pf.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},u0=pf;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var aC=function(e){return e!=null&&(M1(e)||lC(e)||!!e._isBuffer)};function M1(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function lC(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&M1(e.slice(0,0))}(function(){var e=oC,t=u0.utf8,n=aC,r=u0.bin,s=function(i,o){i.constructor==String?o&&o.encoding==="binary"?i=r.stringToBytes(i):i=t.stringToBytes(i):n(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var a=e.bytesToWords(i),l=i.length*8,c=1732584193,d=-271733879,f=-1732584194,h=271733878,p=0;p<a.length;p++)a[p]=(a[p]<<8|a[p]>>>24)&16711935|(a[p]<<24|a[p]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var x=s._ff,g=s._gg,b=s._hh,y=s._ii,p=0;p<a.length;p+=16){var m=c,v=d,S=f,E=h;c=x(c,d,f,h,a[p+0],7,-680876936),h=x(h,c,d,f,a[p+1],12,-389564586),f=x(f,h,c,d,a[p+2],17,606105819),d=x(d,f,h,c,a[p+3],22,-1044525330),c=x(c,d,f,h,a[p+4],7,-176418897),h=x(h,c,d,f,a[p+5],12,1200080426),f=x(f,h,c,d,a[p+6],17,-1473231341),d=x(d,f,h,c,a[p+7],22,-45705983),c=x(c,d,f,h,a[p+8],7,1770035416),h=x(h,c,d,f,a[p+9],12,-1958414417),f=x(f,h,c,d,a[p+10],17,-42063),d=x(d,f,h,c,a[p+11],22,-1990404162),c=x(c,d,f,h,a[p+12],7,1804603682),h=x(h,c,d,f,a[p+13],12,-40341101),f=x(f,h,c,d,a[p+14],17,-1502002290),d=x(d,f,h,c,a[p+15],22,1236535329),c=g(c,d,f,h,a[p+1],5,-165796510),h=g(h,c,d,f,a[p+6],9,-1069501632),f=g(f,h,c,d,a[p+11],14,643717713),d=g(d,f,h,c,a[p+0],20,-373897302),c=g(c,d,f,h,a[p+5],5,-701558691),h=g(h,c,d,f,a[p+10],9,38016083),f=g(f,h,c,d,a[p+15],14,-660478335),d=g(d,f,h,c,a[p+4],20,-405537848),c=g(c,d,f,h,a[p+9],5,568446438),h=g(h,c,d,f,a[p+14],9,-1019803690),f=g(f,h,c,d,a[p+3],14,-187363961),d=g(d,f,h,c,a[p+8],20,1163531501),c=g(c,d,f,h,a[p+13],5,-1444681467),h=g(h,c,d,f,a[p+2],9,-51403784),f=g(f,h,c,d,a[p+7],14,1735328473),d=g(d,f,h,c,a[p+12],20,-1926607734),c=b(c,d,f,h,a[p+5],4,-378558),h=b(h,c,d,f,a[p+8],11,-2022574463),f=b(f,h,c,d,a[p+11],16,1839030562),d=b(d,f,h,c,a[p+14],23,-35309556),c=b(c,d,f,h,a[p+1],4,-1530992060),h=b(h,c,d,f,a[p+4],11,1272893353),f=b(f,h,c,d,a[p+7],16,-155497632),d=b(d,f,h,c,a[p+10],23,-1094730640),c=b(c,d,f,h,a[p+13],4,681279174),h=b(h,c,d,f,a[p+0],11,-358537222),f=b(f,h,c,d,a[p+3],16,-722521979),d=b(d,f,h,c,a[p+6],23,76029189),c=b(c,d,f,h,a[p+9],4,-640364487),h=b(h,c,d,f,a[p+12],11,-421815835),f=b(f,h,c,d,a[p+15],16,530742520),d=b(d,f,h,c,a[p+2],23,-995338651),c=y(c,d,f,h,a[p+0],6,-198630844),h=y(h,c,d,f,a[p+7],10,1126891415),f=y(f,h,c,d,a[p+14],15,-1416354905),d=y(d,f,h,c,a[p+5],21,-57434055),c=y(c,d,f,h,a[p+12],6,1700485571),h=y(h,c,d,f,a[p+3],10,-1894986606),f=y(f,h,c,d,a[p+10],15,-1051523),d=y(d,f,h,c,a[p+1],21,-2054922799),c=y(c,d,f,h,a[p+8],6,1873313359),h=y(h,c,d,f,a[p+15],10,-30611744),f=y(f,h,c,d,a[p+6],15,-1560198380),d=y(d,f,h,c,a[p+13],21,1309151649),c=y(c,d,f,h,a[p+4],6,-145523070),h=y(h,c,d,f,a[p+11],10,-1120210379),f=y(f,h,c,d,a[p+2],15,718787259),d=y(d,f,h,c,a[p+9],21,-343485551),c=c+m>>>0,d=d+v>>>0,f=f+S>>>0,h=h+E>>>0}return e.endian([c,d,f,h])};s._ff=function(i,o,a,l,c,d,f){var h=i+(o&a|~o&l)+(c>>>0)+f;return(h<<d|h>>>32-d)+o},s._gg=function(i,o,a,l,c,d,f){var h=i+(o&l|a&~l)+(c>>>0)+f;return(h<<d|h>>>32-d)+o},s._hh=function(i,o,a,l,c,d,f){var h=i+(o^a^l)+(c>>>0)+f;return(h<<d|h>>>32-d)+o},s._ii=function(i,o,a,l,c,d,f){var h=i+(a^(o|~l))+(c>>>0)+f;return(h<<d|h>>>32-d)+o},s._blocksize=16,s._digestsize=16,R1.exports=function(i,o){if(i==null)throw new Error("Illegal argument "+i);var a=e.wordsToBytes(s(i,o));return o&&o.asBytes?a:o&&o.asString?r.bytesToString(a):e.bytesToHex(a)}})();var cC=R1.exports;const uC=gf(cC),dC=()=>{var Jr,Zr,qt,xn,mr,Wn,Lt,Tt;const{id:e}=Fy(),t=Un(),[n,r]=_.useState(null),[s,i]=_.useState(!0),[o,a]=_.useState(""),[l,c]=_.useState(!1),[d,f]=_.useState(""),[h,p]=_.useState(!1),[x,g]=_.useState(""),[b,y]=_.useState(""),[m,v]=_.useState(null),[S,E]=_.useState(null),[j,w]=_.useState([]),[N,M]=_.useState(""),[R,A]=_.useState(!1),[z,G]=_.useState(""),[re,J]=_.useState(""),[q,ne]=_.useState(!0),L=_.useRef(null),U=_.useRef(null),[D,Z]=_.useState(!1),[I,F]=_.useState(!1),[W,oe]=_.useState(null),[se,fe]=_.useState(""),[ze,ht]=_.useState(!1);_.useEffect(()=>{(async()=>{var ce,de;try{const pe=await ue.get("/api/user");E(pe.data),console.log("User data fetched:",pe.data),console.log("User ID:",(ce=pe.data)==null?void 0:ce.id,typeof((de=pe.data)==null?void 0:de.id))}catch(pe){console.error("Erreur lors de la rcupration des informations utilisateur:",pe)}})()},[]),_.useEffect(()=>{(async()=>{var ce,de;try{i(!0);const pe=await ue.get(`/api/tickets/${e}`);r(pe.data),console.log("Ticket complet reu:",pe.data),console.log("Ticket Demandeur ID:",(ce=pe.data)==null?void 0:ce.Id_Demandeur,typeof((de=pe.data)==null?void 0:de.Id_Demandeur)),a("")}catch(pe){a("Erreur lors du chargement du ticket"),console.error("Erreur:",pe)}finally{i(!1)}})()},[e]),_.useEffect(()=>{if(n!=null&&n.reports){w(n.reports);const V=n.reports.some(ce=>!ce.is_viewed);Z(V)}else n&&!(n!=null&&n.reports)?(w([]),Z(!1)):(w([]),Z(!1))},[n,S]);const bt=V=>{if(!V)return"-";let ce=V;typeof V=="object"&&V.date&&(ce=V.date),typeof ce=="string"&&ce.includes(".")&&(ce=ce.split(".")[0]);const de=ce.replace(" ","T"),pe=new Date(de);return isNaN(pe)?"-":pe.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})},T=async V=>{var de,pe,Be,sn;V.preventDefault(),p(!0),g(""),y("");const ce=new FormData;ce.append("raison",d),m&&ce.append("attachment",m);try{const ut=await ue.post(`/api/tickets/${n.id}/reports`,ce,{headers:{"Content-Type":"multipart/form-data"}});y("Report envoy avec succs !"),f(""),v(null),c(!1);const es=await ue.get(`/api/tickets/${n.id}/reports`);w(es.data)}catch(ut){console.error("Erreur complte:",ut);const es=((pe=(de=ut.response)==null?void 0:de.data)==null?void 0:pe.message)||((sn=(Be=ut.response)==null?void 0:Be.data)==null?void 0:sn.error)||"Erreur lors de l'envoi du report";g(es)}finally{p(!1)}},H=async()=>{try{a("");const V=n.attachment_path.split("/").pop(),ce=V.toLowerCase().endsWith(".pdf"),de=await ue.get(`/api/tickets/${n.id}/download`,{responseType:"blob",headers:{Accept:ce?"application/pdf":"*/*"}});if(!(de.data instanceof Blob)||de.data.size===0)throw new Error("Fichier vide ou invalide");const pe=window.URL.createObjectURL(new Blob([de.data])),Be=document.createElement("a");Be.href=pe,Be.setAttribute("download",V),document.body.appendChild(Be),Be.click(),setTimeout(()=>{document.body.removeChild(Be),window.URL.revokeObjectURL(pe)},100)}catch(V){console.error("Erreur tlchargement:",V),a(`chec du tlchargement: ${V.message}`),V.response&&console.error("Dtails erreur:",{status:V.response.status,headers:V.response.headers,data:V.response.data})}},le=async V=>{var ce,de;V.preventDefault(),A(!0),G(""),J("");try{const pe=await ue.post(`/api/tickets/${n.id}/comment`,{content:N});J("Commentaire ajout avec succs !"),M("");const Be=await ue.get(`/api/tickets/${e}`);r(Be.data)}catch(pe){const Be=((de=(ce=pe.response)==null?void 0:ce.data)==null?void 0:de.message)||"Erreur lors de l'ajout du commentaire";G(Be)}finally{A(!1)}},tt=()=>{var V;(V=L.current)==null||V.scrollIntoView({behavior:"smooth"})},Re=()=>{var V;(V=U.current)==null||V.scrollIntoView({behavior:"smooth"})},Ye=V=>!V||V.length===0?null:{lastComment:V[V.length-1],totalCount:V.length};_.useEffect(()=>{if(!U.current||!D)return;const V=new IntersectionObserver(ce=>{ce[0].isIntersecting&&(Hn(),Z(!1),w(de=>de.map(pe=>({...pe,is_viewed:!0}))))},{threshold:.5});return V.observe(U.current),()=>{U.current&&V.unobserve(U.current)}},[D,e]);const Hn=async()=>{var V;if(D)try{const ce=await ue.post(`/api/tickets/${e}/reports/mark-as-viewed`);console.log("Reports marqus comme vus:",ce.data),Z(!1),w(pe=>pe.map(Be=>({...Be,is_viewed:!0})));const de=await ue.get(`/api/tickets/${e}`);r(de.data),window.dispatchEvent(new CustomEvent("reportsViewed",{detail:{ticketId:e}}))}catch(ce){console.error("Erreur lors du marquage des rapports comme vus:",ce),((V=ce.response)==null?void 0:V.status)===403?a("Seul le crateur du ticket peut marquer les rapports comme vus"):a("Erreur lors du marquage des rapports comme vus")}},rn=V=>{v(V.target.files[0])},Vn=async(V,ce)=>{try{a("");const de=ce.split("/").pop(),pe=de.toLowerCase().endsWith(".pdf"),Be=await ue.get(`/api/reports/${V}/download-attachment`,{responseType:"blob",headers:{Accept:pe?"application/pdf":"*/*"}});if(!(Be.data instanceof Blob)||Be.data.size===0)throw new Error("Fichier vide ou invalide");const sn=window.URL.createObjectURL(new Blob([Be.data])),ut=document.createElement("a");ut.href=sn,ut.setAttribute("download",de),document.body.appendChild(ut),ut.click(),setTimeout(()=>{document.body.removeChild(ut),window.URL.revokeObjectURL(sn)},100)}catch(de){console.error("Erreur tlchargement pice jointe rapport:",de),a(`chec du tlchargement de la pice jointe du rapport: ${de.message}`),de.response&&console.error("Dtails erreur:",{status:de.response.status,headers:de.response.headers,data:de.response.data})}},Cn=async()=>{try{await ue.delete(`/api/tickets/${e}`),t("/tickets")}catch(V){console.error("Erreur lors de la suppression du ticket:",V),a("Erreur lors de la suppression du ticket")}},gn=(V,ce)=>{oe(ce),fe(V.content)};return s?u.jsx(Ae,{children:u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):o?u.jsx(Ae,{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o})})}):n?(console.log("DateCreation:",n.DateCreation),console.log("DateDebut:",n.DateDebut),console.log("DateFinPrevue:",n.DateFinPrevue),u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dtails du ticket"}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx(ur,{to:"/tickets",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Retour  la liste"}),S&&n&&Number(S.id)===Number(n.Id_Utilisat)&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>t(`/tickets/${e}/edit`),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Modifier"}),u.jsx("button",{onClick:()=>F(!0),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Supprimer"})]})]})]}),u.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[u.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n.Titre}),u.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-blue-100 text-blue-700 border border-blue-200",children:((Jr=n.statut)==null?void 0:Jr.designation)||"Sans statut"}),u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-700 border border-green-200",children:((Zr=n.priorite)==null?void 0:Zr.designation)||"Sans priorit"}),n.reports&&n.reports.filter(V=>!V.is_viewed).length>0&&n.Id_Demandeur===(S==null?void 0:S.id)&&u.jsxs("button",{onClick:Re,className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-red-100 text-red-700 border border-red-200 hover:bg-red-200 transition-colors cursor-pointer",children:[n.reports.filter(V=>!V.is_viewed).length," rapport(s) non lu(s)"]})]})]}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsxs("button",{onClick:tt,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[u.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),"Ajouter un commentaire"]}),(S==null?void 0:S.niveau)===2&&u.jsx("button",{className:"ml-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",onClick:()=>c(!0),children:"Report"})]})]}),u.jsx("div",{className:"border-t border-gray-200",children:u.jsxs("dl",{children:[u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Description"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:n.Description||"Aucune description"})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Commentaires"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:n.formatted_comments&&n.formatted_comments.length>0?u.jsx("div",{className:"space-y-2",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-gray-900",children:Ye(n.formatted_comments).lastComment.content}),u.jsxs("div",{className:"text-sm text-gray-500",children:[((qt=Ye(n.formatted_comments).lastComment.user)==null?void 0:qt.designation)||"Utilisateur","  ",Ye(n.formatted_comments).lastComment.date]})]}),n.formatted_comments.length>1&&u.jsxs("button",{onClick:()=>{ne(!0),tt()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:["+",n.formatted_comments.length-1]})]})}):u.jsx("span",{className:"text-gray-500",children:"Aucun commentaire"})})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Demandeur"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((xn=n.demandeur)==null?void 0:xn.designation)||"Non spcifi"})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Socit"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((mr=n.societe)==null?void 0:mr.designation)||"Non spcifie"})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Emplacement"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((Wn=n.emplacement)==null?void 0:Wn.designation)||"Non spcifi"})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Catgorie"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((Lt=n.categorie)==null?void 0:Lt.designation)||"Non spcifie"})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de cration"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:bt(n.DateCreation)})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de dbut"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:bt(n.DateDebut)})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de fin prvue"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:bt(n.DateFinPrevue)})]}),n.DateFinReelle&&u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de fin relle"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:bt(n.DateFinReelle)})]}),n.attachment_path&&u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Pice jointe"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("span",{className:"text-gray-600",children:n.attachment_path.split("/").pop()}),u.jsxs("button",{onClick:H,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[u.jsx("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Tlcharger"]})]})})]})]})})]}),u.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mt-6",ref:U,children:[u.jsx("div",{className:"px-4 py-5 sm:px-6",children:u.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Reports",D&&u.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Nouveaux"})]})}),u.jsx("div",{className:"border-t border-gray-200",children:j.length>0?u.jsx("ul",{className:"divide-y divide-gray-200",children:j.map(V=>{var ce;return console.log("Inspecting Report Object:",V),u.jsxs("li",{className:"px-4 py-4 sm:px-6",children:[u.jsx("div",{className:"text-sm text-gray-800",children:V.Raison}),u.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Report par ",(ce=V.responsable)==null?void 0:ce.designation," le ",bt(V.DateReport)]}),V.attachment_path&&u.jsxs("div",{className:"mt-2 text-sm",children:[u.jsx("span",{className:"text-gray-500",children:"Pice jointe :"}),u.jsx("button",{onClick:()=>Vn(V.id,V.attachment_path),className:"ml-1 text-blue-600 hover:text-blue-800 font-medium underline",children:V.attachment_path.split("/").pop()})]})]},V.id)})}):u.jsx("div",{className:"px-4 py-4 sm:px-6 text-sm text-gray-500",children:"Aucun report disponible."})})]}),l&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[u.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl",onClick:()=>c(!1),"aria-label":"Fermer",children:""}),u.jsx("h2",{className:"text-lg font-bold mb-4",children:"Envoyer un report pour ce ticket"}),u.jsxs("form",{onSubmit:T,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"raison",className:"block text-sm font-medium text-gray-700 mb-1",children:"Raison du report"}),u.jsx("textarea",{id:"raison",value:d,onChange:V=>f(V.target.value),required:!0,rows:4,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:border-blue-300"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"reportAttachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pice jointe (Optionnel)"}),u.jsx("input",{type:"file",id:"reportAttachment",onChange:rn,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),m&&u.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Fichier slectionn : ",m.name]})]}),x&&u.jsx("p",{className:"text-red-500 text-sm",children:x}),b&&u.jsx("p",{className:"text-green-600 text-sm",children:b}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>c(!1),children:"Annuler"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:h,children:h?"Envoi...":"Envoyer"})]})]})]})}),u.jsxs("div",{ref:L,className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[u.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Commentaires"}),u.jsxs("span",{className:"text-sm text-gray-500",children:[((Tt=n.formatted_comments)==null?void 0:Tt.length)||0," commentaire(s)"]})]}),u.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[n.formatted_comments&&n.formatted_comments.length>0?u.jsx("div",{className:"space-y-6",children:n.formatted_comments.map((V,ce)=>{var de,pe,Be;return u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow duration-200",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:u.jsx("span",{className:"text-indigo-600 font-medium",children:(((de=V.user)==null?void 0:de.designation)||"U")[0].toUpperCase()})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:((pe=V.user)==null?void 0:pe.designation)||"Utilisateur"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("p",{className:"text-sm text-gray-500",children:V.date}),S&&((Be=V.user)==null?void 0:Be.id)===S.id&&u.jsx("button",{onClick:()=>gn(V,ce),className:"text-gray-400 hover:text-gray-600 transition-colors duration-200","aria-label":"Modifier le commentaire",children:u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})]}),W===ce?u.jsxs("form",{onSubmit:async sn=>{var Di;sn.preventDefault();const ut=n.formatted_comments[ce],es=uC((((Di=ut.user)==null?void 0:Di.id)||ut.userId)+ut.date+ut.content);try{await ue.put(`/api/tickets/${n.id}/comment/${es}`,{content:se});const ts=await ue.get(`/api/tickets/${e}`);r(ts.data),oe(null),fe("")}catch{alert("Erreur lors de la modification du commentaire")}},className:"mt-2",children:[u.jsx("textarea",{value:se,onChange:sn=>fe(sn.target.value),className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3}),u.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[u.jsx("button",{type:"button",onClick:()=>oe(null),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:"Annuler"}),u.jsx("button",{type:"submit",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-white bg-blue-600 hover:bg-blue-700",children:"Enregistrer"})]})]}):u.jsx("div",{className:"mt-2 text-sm text-gray-900 whitespace-pre-wrap break-words",children:V.content})]})]})},ce)})}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-gray-500",children:"Aucun commentaire"}),u.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Soyez le premier  commenter"})]}),u.jsx("div",{className:"mt-6",children:u.jsxs("form",{onSubmit:le,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700",children:"Ajouter un commentaire"}),u.jsx("div",{className:"mt-1",children:u.jsx("textarea",{id:"comment",name:"comment",rows:3,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",value:N,onChange:V=>M(V.target.value),placeholder:"crivez votre commentaire ici..."})})]}),z&&u.jsx("div",{className:"text-red-600 text-sm",children:z}),re&&u.jsx("div",{className:"text-green-600 text-sm",children:re}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",disabled:R||!N.trim(),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${R||!N.trim()?"bg-indigo-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:R?"Envoi...":"Publier"})})]})})]})]}),I&&u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:u.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),u.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),u.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[u.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:u.jsxs("div",{className:"sm:flex sm:items-start",children:[u.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:u.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Confirmer la suppression"}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"tes-vous sr de vouloir supprimer ce ticket ? Cette action est irrversible."})})]})]})}),u.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[u.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>{F(!1),Cn()},children:"Supprimer"}),u.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>F(!1),children:"Annuler"})]})]})]})}),ze&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:u.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:u.jsxs("div",{className:"mt-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Modifier le ticket"}),u.jsx("button",{onClick:()=>ht(!1),className:"text-gray-400 hover:text-gray-500",children:""})]}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Vous allez tre redirig vers la page de modification du ticket."})}),u.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[u.jsx("button",{onClick:()=>ht(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 text-base font-medium rounded-md shadow-sm hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Annuler"}),u.jsx("button",{onClick:()=>{ht(!1),t(`/tickets/${e}/edit`)},className:"px-4 py-2 bg-blue-600 text-white text-base font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Continuer"})]})]})})})]})})):u.jsx(Ae,{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded",children:"Ticket non trouv"})})})},fC=()=>{const{id:e}=Fy(),t=Un(),[n,r]=_.useState(!0),[s,i]=_.useState(!1),[o,a]=_.useState(""),[l,c]=_.useState({Titre:"",Description:"",Id_Priorite:"",Id_Statut:"",Id_Demandeur:"",Id_Emplacement:"",Id_Categorie:"",DateDebut:"",DateFinPrevue:"",attachment:null}),[d,f]=_.useState({priorites:[],statuts:[],demandeurs:[],emplacements:[],categories:[]}),[h,p]=_.useState(null),x="http://localhost:8000";_.useEffect(()=>{(async()=>{var S,E;try{r(!0),a("");const w=(await ue.get(`/api/tickets/${e}`)).data;console.log("Rponse du backend:",w);const N=A=>A?typeof A=="string"?A:A.date?A.date.split(" ")[0]:"":"";c({Titre:w.Titre||"",Description:w.Description||"",Id_Priorite:w.Id_Priorite||"",Id_Statut:w.Id_Statut||"",Id_Demandeur:w.Id_Demandeur||"",Id_Emplacement:w.Id_Emplacement||"",Id_Categorie:w.Id_Categorie||"",DateDebut:N(w.DateDebut),DateFinPrevue:N(w.DateFinPrevue),attachment:w.attachment?new Blob([w.attachment]):null});const M=await ue.get("/api/tickets/options"),{options:R}=M.data;if(f({priorites:R.priorites||[],statuts:R.statuts||[],demandeurs:R.demandeurs||[],emplacements:R.emplacements||[],categories:R.categories||[]}),w.attachment_path){const A=w.attachment_path.split("/").pop();p({name:A,url:`${x}/api/tickets/${e}/download`})}else p(null)}catch(j){console.error("Erreur:",j),a(((E=(S=j.response)==null?void 0:S.data)==null?void 0:E.error)||"Erreur lors du chargement des donnes")}finally{r(!1)}})()},[e]);const g=v=>{const{name:S,value:E}=v.target;if(S==="DateFinPrevue"&&l.DateDebut&&new Date(E)<new Date(l.DateDebut)){a("La date de fin prvue ne peut pas tre antrieure  la date de dbut");return}c(j=>({...j,[S]:E})),a("")},b=v=>{const S=v.target.files[0];S&&c(E=>({...E,attachment:S}))},y=async v=>{var S,E,j,w,N,M,R;v.preventDefault(),a(""),i(!0);try{const A=re=>re?new Date(re).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}):null,z={Titre:l.Titre,Description:l.Description,Id_Priorite:parseInt(l.Id_Priorite),Id_Statut:parseInt(l.Id_Statut),Id_Demandeur:parseInt(l.Id_Demandeur),Id_Emplacement:parseInt(l.Id_Emplacement),Id_Categorie:parseInt(l.Id_Categorie),DateDebut:A(l.DateDebut),DateFinPrevue:A(l.DateFinPrevue)};console.log("Donnes envoyes au backend:",z);let G;if(l.attachment){const re=new FormData;Object.keys(z).forEach(J=>{re.append(J,z[J])}),re.append("attachment",l.attachment),G=await ue.put(`/api/tickets/${e}`,re)}else G=await ue.put(`/api/tickets/${e}`,z);if(console.log("Rponse du backend:",G.data),G.data&&G.data.id)window.location.href=`/tickets/${e}`;else throw new Error("Erreur lors de la modification du ticket")}catch(A){console.error("Erreur complte:",A),console.error("Dtails de l'erreur:",{status:(S=A.response)==null?void 0:S.status,data:(E=A.response)==null?void 0:E.data,headers:(j=A.response)==null?void 0:j.headers});let z="Erreur lors de la modification du ticket";(N=(w=A.response)==null?void 0:w.data)!=null&&N.message?z=A.response.data.message:(R=(M=A.response)==null?void 0:M.data)!=null&&R.errors?z=Object.values(A.response.data.errors).flat().join(" "):A.message&&(z=A.message),a(z),alert("Erreur lors de la modification du ticket : "+z)}finally{i(!1)}},m=async()=>{try{if(!h)return;const v=h.name,S=v.toLowerCase().endsWith(".pdf"),E=await ue.get(`${x}/api/tickets/${e}/download`,{responseType:"blob",headers:{Accept:S?"application/pdf":"*/*"}});if(!(E.data instanceof Blob)||E.data.size===0)throw new Error("Fichier vide ou invalide");const j=window.URL.createObjectURL(new Blob([E.data])),w=document.createElement("a");w.href=j,w.setAttribute("download",v),document.body.appendChild(w),w.click(),setTimeout(()=>{document.body.removeChild(w),window.URL.revokeObjectURL(j)},100)}catch(v){alert("Erreur lors du tlchargement de la pice jointe"),console.error(v)}};return n?u.jsx(Ae,{children:u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Modifier le ticket"}),u.jsx(ur,{to:`/tickets/${e}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Annuler"})]}),o&&u.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded",children:o}),u.jsxs("form",{onSubmit:y,className:"space-y-6 bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Titre",className:"block text-sm font-medium text-gray-700",children:"Titre"}),u.jsx("input",{type:"text",name:"Titre",id:"Titre",required:!0,value:l.Titre,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Priorite",className:"block text-sm font-medium text-gray-700",children:"Priorit"}),u.jsxs("select",{name:"Id_Priorite",id:"Id_Priorite",required:!0,value:l.Id_Priorite,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[u.jsx("option",{value:"",children:"Slectionner une priorit"}),d.priorites.map(v=>u.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Statut",className:"block text-sm font-medium text-gray-700",children:"Statut"}),u.jsxs("select",{name:"Id_Statut",id:"Id_Statut",required:!0,value:l.Id_Statut,onChange:g,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-100 cursor-not-allowed",children:[u.jsx("option",{value:"",children:"Slectionner un statut"}),d.statuts.map(v=>u.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Demandeur",className:"block text-sm font-medium text-gray-700",children:"Demandeur"}),u.jsxs("select",{name:"Id_Demandeur",id:"Id_Demandeur",required:!0,value:l.Id_Demandeur,onChange:g,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-100 cursor-not-allowed",children:[u.jsx("option",{value:"",children:"Slectionner un demandeur"}),d.demandeurs.map(v=>u.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Emplacement",className:"block text-sm font-medium text-gray-700",children:"Emplacement"}),u.jsxs("select",{name:"Id_Emplacement",id:"Id_Emplacement",required:!0,value:l.Id_Emplacement,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[u.jsx("option",{value:"",children:"Slectionner un emplacement"}),d.emplacements.map(v=>u.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Categorie",className:"block text-sm font-medium text-gray-700",children:"Catgorie"}),u.jsxs("select",{name:"Id_Categorie",id:"Id_Categorie",required:!0,value:l.Id_Categorie,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[u.jsx("option",{value:"",children:"Slectionner une catgorie"}),d.categories.map(v=>u.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"DateDebut",className:"block text-sm font-medium text-gray-700",children:"Date de dbut"}),u.jsx("input",{type:"date",name:"DateDebut",id:"DateDebut",required:!0,value:l.DateDebut,onChange:g,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-100 cursor-not-allowed"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"DateFinPrevue",className:"block text-sm font-medium text-gray-700",children:"Date de fin prvue"}),u.jsx("input",{type:"date",name:"DateFinPrevue",id:"DateFinPrevue",required:!0,value:l.DateFinPrevue,onChange:g,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-100 cursor-not-allowed"})]})]}),u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{htmlFor:"Description",className:"block text-sm font-medium text-gray-700",children:"Description"}),u.jsx("textarea",{name:"Description",id:"Description",rows:"3",required:!0,value:l.Description,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700",children:"Pice jointe"}),h&&u.jsxs("div",{className:"mt-2 mb-4",children:[u.jsxs("p",{className:"text-sm text-gray-500",children:["Pice jointe actuelle : ",h.name]}),u.jsx("button",{type:"button",onClick:m,className:"text-blue-600 hover:text-blue-800 text-sm underline",children:"Tlcharger"})]}),u.jsx("input",{type:"file",name:"attachment",id:"attachment",onChange:b,className:`mt-1 block w-full text-sm text-gray-500
                file:mr-4 file:py-2 file:px-4
                file:rounded-md file:border-0
                file:text-sm file:font-semibold
                file:bg-blue-50 file:text-blue-700
                hover:file:bg-blue-100`}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Taille maximale : 10MB"})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:()=>t(`/tickets/${e}`),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:s,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Enregistrement...":"Enregistrer"})]})]})]})})},hC=5*60*1e3,pC=({entity:e,label:t})=>{const[n,r]=_.useState([]),[s,i]=_.useState([]),[o,a]=_.useState(""),[l,c]=_.useState(""),[d,f]=_.useState(null),[h,p]=_.useState(""),[x,g]=_.useState(!0),[b,y]=_.useState(""),[m,v]=_.useState(!0),[S,E]=_.useState(null),[j,w]=_.useState(null),[N,M]=_.useState(!1),R=D=>`entity_cache_${D}`,A=async()=>{try{const D=await ue.get("/api/services?all=1");i(D.data)}catch(D){console.error("Erreur lors du chargement des services:",D)}},z=async()=>{try{v(!0),E(null);const D=R(e),Z=localStorage.getItem(D);if(Z){const{data:F,timestamp:W}=JSON.parse(Z);if(Date.now()-W<hC){r(F),v(!1);return}}const I=await ue.get(`/api/${e}?all=1`);r(I.data),localStorage.setItem(D,JSON.stringify({data:I.data,timestamp:Date.now()}))}catch(D){console.error(`Erreur lors du chargement des ${t}s:`,D),E(`Erreur lors du chargement des ${t}s`)}finally{v(!1)}};_.useEffect(()=>{z(),e==="demandeurs"&&A()},[e]);const G=()=>{localStorage.removeItem(R(e))},re=()=>{localStorage.removeItem("create_ticket_options_cache")},J=async()=>{if(o.trim())try{const D={designation:o,is_active:!0};e==="demandeurs"&&l&&(D.id_service=parseInt(l)),await ue.post(`/api/${e}`,D),a(""),c(""),G(),re(),await z()}catch(D){console.error("Erreur lors de l'ajout:",D),alert(`Erreur lors de l'ajout du/de la ${t.toLowerCase()}`)}},q=D=>{var Z;f(D.id),p(D.designation),g(D.is_active),e==="demandeurs"&&y(((Z=D.id_service)==null?void 0:Z.toString())||"")},ne=async()=>{if(h.trim())try{const D={designation:h,is_active:x};e==="demandeurs"&&b&&(D.id_service=parseInt(b)),await ue.put(`/api/${e}/${d}`,D),f(null),p(""),g(!0),y(""),G(),re(),await z()}catch(D){console.error("Erreur lors de la mise  jour:",D),alert(`Erreur lors de la mise  jour du/de la ${t.toLowerCase()}`)}},L=async(D,Z)=>{w(D);try{const I=n.find(F=>F.id===D);if(!I)throw new Error("Item not found");await ue.put(`/api/${e}/${D}`,{designation:I.designation,is_active:!Z}),r(F=>F.map(W=>W.id===D?{...W,is_active:!Z}:W)),G(),re()}catch{alert("Erreur lors de la mise  jour du statut")}finally{w(null)}},U=async D=>{if(window.confirm(`tes-vous sr de vouloir supprimer ce/cette ${t.toLowerCase()} ?`))try{await ue.delete(`/api/${e}/${D}`),G(),re(),await z()}catch(Z){console.error("Erreur lors de la suppression:",Z),alert(`Erreur lors de la suppression du/de la ${t.toLowerCase()}`)}};return S?u.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded shadow",children:[u.jsx("div",{className:"text-red-600 mb-4",children:S}),u.jsx("button",{onClick:z,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Ressayer"})]}):u.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded shadow",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h2",{className:"text-xl font-bold",children:["Gestion des ",t,"s"]}),u.jsx("button",{onClick:()=>{M(!0),z(),setTimeout(()=>M(!1),600)},className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafrachir",children:u.jsx(Ur,{className:N?"animate-spin-once":""})})]}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("input",{type:"text",value:o,onChange:D=>a(D.target.value),placeholder:`Nouveau/Nouvelle ${t.toLowerCase()}`,className:"border rounded px-2 py-1 flex-1"}),e==="demandeurs"&&u.jsxs("select",{value:l,onChange:D=>c(D.target.value),className:"border rounded px-2 py-1",children:[u.jsx("option",{value:"",children:"Slectionner un service"}),s.map(D=>u.jsx("option",{value:D.id,children:D.designation},D.id))]}),u.jsx("button",{onClick:J,className:"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700 transition-colors",children:"Ajouter"})]}),u.jsxs("table",{className:"w-full border",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border px-2 py-1",children:"Nom"}),e==="demandeurs"&&u.jsx("th",{className:"border px-2 py-1",children:"Service"}),u.jsx("th",{className:"border px-2 py-1",children:"Statut"}),u.jsx("th",{className:"border px-2 py-1",children:"Actions"})]})}),u.jsx("tbody",{children:m?Array.from({length:3}).map((D,Z)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border px-2 py-1",children:u.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse"})}),e==="demandeurs"&&u.jsx("td",{className:"border px-2 py-1",children:u.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse"})}),u.jsx("td",{className:"border px-2 py-1 text-center",children:u.jsx("div",{className:"h-6 w-16 mx-auto bg-gray-200 rounded animate-pulse"})}),u.jsx("td",{className:"border px-2 py-1",children:u.jsx("div",{className:"h-6 w-24 bg-gray-200 rounded animate-pulse"})})]},Z)):n.map(D=>{var Z;return u.jsxs("tr",{children:[u.jsx("td",{className:"border px-2 py-1",children:d===D.id?u.jsxs(u.Fragment,{children:[u.jsx("input",{value:h,onChange:I=>p(I.target.value),className:"border rounded px-2 py-1 w-full"}),e==="demandeurs"&&u.jsxs("select",{value:b,onChange:I=>y(I.target.value),className:"border rounded px-2 py-1 w-full mt-2",children:[u.jsx("option",{value:"",children:"Slectionner un service"}),s.map(I=>u.jsx("option",{value:I.id,children:I.designation},I.id))]})]}):D.designation}),e==="demandeurs"&&u.jsx("td",{className:"border px-2 py-1",children:((Z=s.find(I=>I.id===D.id_service))==null?void 0:Z.designation)||"-"}),u.jsx("td",{className:"border px-2 py-1 text-center",children:u.jsx("span",{className:D.is_active?"inline-block px-2 py-1 text-base font-semibold bg-green-100 text-green-800 rounded-full":"inline-block px-2 py-1 text-base font-semibold bg-red-100 text-red-800 rounded-full",children:D.is_active?"Actif":"Inactif"})}),u.jsx("td",{className:"border px-2 py-1",children:d===D.id?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:ne,className:"bg-green-600 text-white px-2 py-1 rounded mr-2 hover:bg-green-700 transition-colors",children:"Valider"}),u.jsx("button",{onClick:()=>f(null),className:"bg-gray-400 text-white px-2 py-1 rounded hover:bg-gray-500 transition-colors",children:"Annuler"})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>L(D.id,D.is_active),disabled:j===D.id,className:(D.is_active?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600")+" text-white px-3 py-1 rounded transition-colors font-semibold mr-2"+(j===D.id?" opacity-60 cursor-not-allowed":""),children:j===D.id?"Changement...":D.is_active?"Dsactiver":"Activer"}),u.jsx("button",{onClick:()=>q(D),className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 transition-colors font-semibold mr-2",children:"Modifier"}),u.jsx("button",{onClick:()=>U(D.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition-colors font-semibold",children:"Supprimer"})]})})]},D.id)})})]})]})},rl=[{entity:"categories",label:"Catgorie"},{entity:"emplacements",label:"Emplacement"},{entity:"societes",label:"Socit"},{entity:"demandeurs",label:"Demandeur"},{entity:"services",label:"Service"},{entity:"priorites",label:"Priorit"},{entity:"statuts",label:"Statut"}],mC=()=>{const[e,t]=_.useState(rl[0].entity),[n,r]=_.useState([rl[0].entity]),s=i=>{t(i),r(o=>o.includes(i)?o:[...o,i])};return u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-5xl mx-auto p-6 bg-white rounded shadow",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gestion des rfrentiels"}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:rl.map(i=>u.jsxs("button",{onClick:()=>s(i.entity),className:`px-4 py-2 rounded font-semibold border transition-colors ${e===i.entity?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-blue-100"}`,children:[i.label,"s"]},i.entity))}),u.jsx("div",{children:rl.map(i=>u.jsx("div",{style:{display:e===i.entity?"block":"none"},children:u.jsx(pC,{entity:i.entity,label:i.label})},i.entity))})]})})},gC=({isOpen:e,onClose:t,onApprove:n,ticketId:r})=>{const[s,i]=_.useState(""),[o,a]=_.useState(""),[l,c]=_.useState(""),d=_.useCallback(()=>{if(!s||!o){c("Veuillez renseigner les deux dates.");return}if(o<s){c("La date de fin prvue doit tre postrieure  la date de dbut.");return}n(r,s,o)},[s,o,r,n]);return e?u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Dfinir les dates du ticket"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de dbut"}),u.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2",value:s,onChange:f=>i(f.target.value)})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin prvue"}),u.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2",value:o,onChange:f=>a(f.target.value),min:s})]}),l&&u.jsx("div",{className:"mb-2 text-red-600 text-sm",children:l}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",children:"Annuler"}),u.jsx("button",{onClick:d,className:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700",children:"Valider"})]})]})}):null},xC=({isOpen:e,onClose:t,ticket:n,onApprove:r,onReject:s,loading:i})=>{var o,a,l,c,d,f,h;return e?u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:u.jsxs("div",{className:"relative bg-white p-8 rounded-xl shadow-xl w-full max-w-2xl",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 text-2xl transition",title:"Fermer",children:""}),u.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-6",children:"Rsum du ticket"}),i?u.jsx("div",{className:"text-center text-blue-600 font-semibold",children:"Chargement..."}):n?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-3 mb-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Titre :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:n.Titre})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Description :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:n.Description})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Catgorie :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:(o=n.categorie)==null?void 0:o.designation})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Emplacement :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:(a=n.emplacement)==null?void 0:a.designation})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Service :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:(c=(l=n.demandeur)==null?void 0:l.service)==null?void 0:c.designation})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Commentaire :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:n.formatted_comments&&n.formatted_comments.length>0?n.formatted_comments[n.formatted_comments.length-1].content:"Aucun"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Date de dbut :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:mf(n.DateDebut)})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Date de fin :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:mf(n.DateFinPrevue)})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Priorit :"}),u.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-semibold ${((d=n.priorite)==null?void 0:d.designation)==="Urgent"?"bg-red-50 text-red-600 border border-red-200":"bg-green-50 text-green-700 border border-green-200"}`,children:(f=n.priorite)==null?void 0:f.designation})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Demandeur :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:(h=n.demandeur)==null?void 0:h.designation})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-2",children:[u.jsx("button",{onClick:()=>{t(),r(n.id)},className:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700 font-semibold shadow-sm transition",children:"Approuver"}),u.jsx("button",{onClick:()=>{t(),s(n.id)},className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 font-semibold shadow-sm transition",children:"Refuser"})]})]}):u.jsx("div",{className:"text-center text-red-600",children:"Erreur lors du chargement du ticket."})]})}):null},mf=e=>{if(!e)return"-";let t=e;typeof e=="object"&&e.date&&(t=e.date),typeof t=="string"&&t.includes(".")&&(t=t.split(".")[0]);const n=t.replace(" ","T"),r=new Date(n);return isNaN(r)?"-":r.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})},yC=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[o,a]=_.useState(""),[l,c]=_.useState(""),[d,f]=_.useState(!1),[h,p]=_.useState(!1),[x,g]=_.useState(!1),[b,y]=_.useState(null),[m,v]=_.useState(!1),[S,E]=_.useState(null),[j,w]=_.useState(!1),N=_.useCallback(async()=>{p(!0);try{const q=await ue.get("/api/tickets/pending",{params:{show_rejected:d}});t(q.data),i(null)}catch{i("Erreur lors du chargement des tickets")}finally{r(!1),setTimeout(()=>p(!1),600)}},[d]);_.useEffect(()=>{N()},[N]);const M=_.useCallback(async(q,ne,L)=>{try{await ue.post(`/api/tickets/${q}/approve`,{DateDebut:ne,DateFinPrevue:L}),a("Le ticket a t approuv avec succs."),c(""),g(!1),N()}catch{c("Une erreur est survenue lors de l'approbation du ticket.")}},[N]),R=_.useCallback(async q=>{try{await ue.post(`/api/tickets/${q}/reject`),a("Le ticket a t refus avec succs."),c(""),N()}catch{c("Une erreur est survenue lors du refus du ticket.")}},[N]),A=_.useCallback(async q=>{w(!0),v(!0);try{const ne=await ue.get(`/api/tickets/${q}`);E(ne.data)}catch{E(null)}w(!1)},[]),z=_.useCallback(()=>{v(!1),E(null)},[]),G=_.useCallback(q=>{y(q),g(!0)},[]),re=_.useCallback(()=>{g(!1),y(null)},[]),J=_.useCallback(()=>{a(""),c("")},[]);return _.useEffect(()=>{if(o||l){const q=setTimeout(J,5e3);return()=>clearTimeout(q)}},[o,l,J]),n?u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:d?"Tickets refuss":"Tickets en attente"})}),u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"})]})]})}):s?u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:d?"Tickets refuss":"Tickets en attente"})}),u.jsx("div",{className:"text-red-600",children:s})]})}):u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:d?"Tickets refuss":"Tickets en attente"}),u.jsx("button",{onClick:N,className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafrachir",children:u.jsx(Ur,{className:h?"animate-spin-once":""})})]}),u.jsx("button",{onClick:()=>f(!d),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d?"bg-blue-600 text-white hover:bg-blue-700":"bg-red-600 text-white hover:bg-red-700"}`,children:d?"Voir les tickets en attente":"Voir les tickets refuss"})]}),o&&u.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-800 rounded",children:o}),l&&u.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-800 rounded",children:l}),u.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Demandeur"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de cration"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorit"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(q=>{var ne,L;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.Titre})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:(ne=q.demandeur)==null?void 0:ne.designation})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:mf(q.DateCreation)})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:(L=q.priorite)==null?void 0:L.designation})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[u.jsx("button",{onClick:()=>A(q.id),className:"text-blue-600 hover:text-blue-900 mr-2",title:"Voir le dtail",children:u.jsx(yv,{})}),!d&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>G(q.id),className:"text-green-600 hover:text-green-900 mr-4",children:"Approuver"}),u.jsx("button",{onClick:()=>R(q.id),className:"text-red-600 hover:text-red-900",children:"Refuser"})]})]})]},q.id)})})]})})}),u.jsx(gC,{isOpen:x,onClose:re,onApprove:M,ticketId:b}),u.jsx(xC,{isOpen:m,onClose:z,ticket:S,onApprove:G,onReject:R,loading:j})]})})},vC=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[o,a]=_.useState(null),[l,c]=_.useState(!1);_.useEffect(()=>{d()},[]);const d=async()=>{c(!0);try{const p=await ue.get("/api/tickets/completed");t(p.data),r(!1)}catch{i("Erreur lors du chargement des tickets"),r(!1)}finally{setTimeout(()=>c(!1),600)}},f=async p=>{try{await ue.post(`/api/tickets/${p}/demandeur-approve`),a("Ticket approuv avec succs"),d()}catch{i("Erreur lors de l'approbation du ticket")}},h=async p=>{try{await ue.post(`/api/tickets/${p}/demandeur-reject`),a("Ticket refus et remis en cours"),d()}catch{i("Erreur lors du refus du ticket")}};return n?u.jsx("div",{children:"Chargement..."}):s?u.jsx("div",{children:s}):u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Tickets termins"}),u.jsx("button",{onClick:d,className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafrachir",children:u.jsx(Ur,{className:l?"animate-spin-once":""})})]})}),o&&u.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded-lg",children:o}),u.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de cration"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de fin"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorit"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(p=>{var x,g,b,y;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.Titre})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${((x=p.statut)==null?void 0:x.designation)==="Termin"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:(g=p.statut)==null?void 0:g.designation})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:p.DateCreation&&p.DateCreation.date?new Date(p.DateCreation.date.replace(" ","T")).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"}):"Date non disponible"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:p.DateFinReelle?new Date(p.DateFinReelle.replace(" ","T")).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"}):"Date non disponible"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:(b=p.priorite)==null?void 0:b.designation})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(ur,{to:`/tickets/${p.id}`,className:"text-indigo-600 hover:text-indigo-900",children:"Voir les dtails"}),((y=p.statut)==null?void 0:y.designation)==="Termin"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>f(p.id),className:"text-green-600 hover:text-green-900",children:"Approuver"}),u.jsx("button",{onClick:()=>h(p.id),className:"text-red-600 hover:text-red-900",children:"Refuser"})]})]})})]},p.id)})})]})})})]})})},bC=()=>{const e=Un(),[t,n]=_.useState({fullName:"",email:"",level:"",service:""}),[r,s]=_.useState([]),[i,o]=_.useState(!1),[a,l]=_.useState(""),[c,d]=_.useState(""),[f,h]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const b=await ue.get("/api/public/services");b.data&&Array.isArray(b.data)?s(b.data):(console.error("Format de donnes invalide:",b.data),l("Format de donnes invalide reu du serveur"))}catch(b){console.error("Erreur dtaille:",b),l("Erreur lors du chargement des services. Veuillez ressayer plus tard.")}})()},[]);const p=g=>{const b=g.target.value;n({...t,level:b,service:""}),h(b==="employe"||b==="directeur_departement")},x=async g=>{var b,y;g.preventDefault(),o(!0),l(""),d("");try{await ue.post("/api/public/register-request",t),d("Votre demande d'inscription a t envoye avec succs. Vous recevrez un email une fois votre compte approuv."),n({fullName:"",email:"",level:"",service:""})}catch(m){l(((y=(b=m.response)==null?void 0:b.data)==null?void 0:y.message)||"Une erreur est survenue lors de l'envoi de la demande. Veuillez ressayer plus tard.")}finally{o(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Demande d'inscription"}),u.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Remplissez ce formulaire pour demander un compte. Un administrateur examinera votre demande."})]}),a&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:a}),c&&u.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:c}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[u.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fullName",className:"sr-only",children:"Nom complet"}),u.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Nom complet",value:t.fullName,onChange:g=>n({...t,fullName:g.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),u.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email",value:t.email,onChange:g=>n({...t,email:g.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"level",className:"sr-only",children:"Niveau"}),u.jsxs("select",{id:"level",name:"level",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",value:t.level,onChange:p,children:[u.jsx("option",{value:"",children:"Slectionnez votre niveau"}),u.jsx("option",{value:"employe",children:"Employ"}),u.jsx("option",{value:"directeur_departement",children:"Directeur de dpartement"}),u.jsx("option",{value:"directeur_general",children:"Directeur gnral"})]})]}),f&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"service",className:"sr-only",children:"Service"}),u.jsxs("select",{id:"service",name:"service",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",value:t.service,onChange:g=>n({...t,service:g.target.value}),children:[u.jsx("option",{value:"",children:"Slectionnez votre service"}),r.map(g=>u.jsx("option",{value:g.id,children:g.name},g.id))]})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:i,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Envoi en cours...":"Envoyer la demande"})})]}),u.jsx("div",{className:"text-center mt-4",children:u.jsx("button",{onClick:()=>e("/login"),className:"text-indigo-600 hover:text-indigo-500",children:"Dj un compte ? Connectez-vous"})})]})})},Et={PENDING:"pending",APPROVED:"approved",REJECTED:"rejected",ALL:"all"},wC={[Et.PENDING]:"En attente",[Et.APPROVED]:"Approuv",[Et.REJECTED]:"Rejet"},d0={[Et.PENDING]:"bg-yellow-100 text-yellow-800",[Et.APPROVED]:"bg-green-100 text-green-800",[Et.REJECTED]:"bg-red-100 text-red-800",default:"bg-gray-100 text-gray-800"},_C=()=>{var I;const e=Un(),[t,n]=_.useState([]),[r,s]=_.useState(!0),[i,o]=_.useState(null),[a,l]=_.useState(!1),[c,d]=_.useState(""),[f,h]=_.useState(Et.ALL),[p,x]=_.useState(!1),[g,b]=_.useState(""),[y,m]=_.useState(""),[v,S]=_.useState(""),[E,j]=_.useState(!1),w=_.useRef(null);_.useEffect(()=>{const F=JSON.parse(localStorage.getItem("user"));if(!F||F.niveau!==1){e("/unauthorized");return}return N(),()=>{w.current&&w.current.abort()}},[e]);const N=_.useCallback(async()=>{try{j(!0),w.current&&w.current.abort(),w.current=new AbortController;const F=localStorage.getItem("token"),W=await Ce.get("/api/admin/register-requests",{headers:{Authorization:`Bearer ${F}`,Accept:"application/json","Content-Type":"application/json"},signal:w.current.signal});n(W.data),s(!1)}catch(F){Ce.isCancel(F)?console.log("Request cancelled:",F.message):(console.error("Error fetching requests:",F),Se.error("Erreur lors du chargement des demandes"),s(!1))}finally{setTimeout(()=>j(!1),600)}},[]),M=_.useCallback(F=>{const W=t.find(oe=>oe.id===F);W&&(o(W),x(!0))},[t]),R=_.useCallback((F,W)=>F!==W?(S("Les mots de passe ne correspondent pas"),!1):F.length<8?(S("Le mot de passe doit contenir au moins 8 caractres"),!1):!0,[]),A=_.useCallback(async()=>{if(R(g,y))try{const F=localStorage.getItem("token");await Ce.post(`/api/admin/register-requests/${i.id}/approve`,{password:g},{headers:{Authorization:`Bearer ${F}`,Accept:"application/json","Content-Type":"application/json"}}),Se.success("Demande approuve avec succs"),L(),N()}catch(F){console.error("Error approving request:",F),Se.error("Erreur lors de l'approbation de la demande")}},[g,y,i,N,R]),z=_.useCallback(async F=>{try{const W=localStorage.getItem("token");await Ce.post(`/api/admin/register-requests/${F}/reject`,{},{headers:{Authorization:`Bearer ${W}`,Accept:"application/json","Content-Type":"application/json"}}),Se.success("Demande rejete avec succs"),N()}catch(W){console.error("Error rejecting request:",W),Se.error("Erreur lors du rejet de la demande")}},[N]),G=_.useCallback(F=>{o(F),l(!0)},[]),re=_.useCallback(F=>d0[F]||d0.default,[]),J=_.useCallback(F=>wC[F]||F,[]),q=_.useCallback(F=>F==="directeur_general"?"Directeur General":F.split("_").map(W=>W.charAt(0).toUpperCase()+W.slice(1)).join(" "),[]),ne=_.useMemo(()=>{const F=c.toLowerCase();return t.filter(W=>{var fe,ze;const oe=W.full_name.toLowerCase().includes(F)||W.email.toLowerCase().includes(F)||((ze=(fe=W.service)==null?void 0:fe.designation)==null?void 0:ze.toLowerCase().includes(F)),se=f===Et.ALL||W.status===f;return oe&&se})},[t,c,f]),L=_.useCallback(()=>{x(!1),b(""),m(""),S("")},[]),U=_.useCallback(()=>{l(!1)},[]),D=_.useCallback(F=>{d(F.target.value)},[]),Z=_.useCallback(F=>{h(F.target.value)},[]);return r?u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-4 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded animate-pulse"}),u.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded-full animate-pulse"})]}),u.jsx("div",{className:"mt-2 h-4 w-96 bg-gray-200 rounded animate-pulse"})]}),u.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})}),u.jsx("div",{className:"w-full sm:w-48",children:u.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})})]}),u.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsx("tr",{children:[...Array(7)].map((F,W)=>u.jsx("th",{className:"px-4 py-3",children:u.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})},W))})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[...Array(2)].map((F,W)=>u.jsx("tr",{children:[...Array(7)].map((oe,se)=>u.jsx("td",{className:"px-4 py-4",children:u.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})},se))},W))})]})})})]})}):u.jsx(Ae,{children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-4 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des demandes d'inscription"}),u.jsx("button",{onClick:N,className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafrachir",children:u.jsx(Ur,{className:E?"animate-spin-once":""})})]}),u.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Grez les demandes d'inscription des nouveaux utilisateurs"})]}),u.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx($4,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Rechercher par nom, email ou service...",value:c,onChange:D})]})}),u.jsx("div",{className:"w-full sm:w-48",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(vv,{className:"h-5 w-5 text-gray-400"})}),u.jsxs("select",{className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:f,onChange:Z,children:[u.jsx("option",{value:Et.ALL,children:"Tous les statuts"}),u.jsx("option",{value:Et.PENDING,children:"En attente"}),u.jsx("option",{value:Et.APPROVED,children:"Approuv"}),u.jsx("option",{value:Et.REJECTED,children:"Rejet"})]})]})})]}),u.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[160px] max-w-[260px]",children:"Nom complet"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px] max-w-[260px]",children:"Email"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px] max-w-[180px]",children:"Niveau"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px] max-w-[200px]",children:"Service"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px] max-w-[140px]",children:"Statut"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px] max-w-[180px]",children:"Date de demande"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px] max-w-[140px]",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ne.map(F=>{var W;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words max-w-[220px] align-top",children:F.full_name}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words max-w-[220px] align-top",children:F.email}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words min-w-[120px] max-w-[180px] align-top",children:q(F.level)}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words max-w-[180px] align-top",children:F.level==="directeur_general"?"Pas de service":((W=F.service)==null?void 0:W.designation)||"N/A"}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap min-w-[100px] max-w-[140px] align-top",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${re(F.status)}`,children:J(F.status)})}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap min-w-[140px] max-w-[180px] align-top",children:new Date(F.created_at).toLocaleDateString()}),u.jsx("td",{className:"px-4 py-4 text-sm font-medium whitespace-nowrap min-w-[120px] max-w-[140px] align-top",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>G(F),className:"text-blue-600 hover:text-blue-900",title:"Voir les dtails",children:u.jsx(yv,{className:"h-5 w-5"})}),F.status===Et.PENDING&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>M(F.id),className:"text-green-600 hover:text-green-900",title:"Approuver",children:u.jsx(A4,{className:"h-5 w-5"})}),u.jsx("button",{onClick:()=>z(F.id),className:"text-red-600 hover:text-red-900",title:"Rejeter",children:u.jsx(bl,{className:"h-5 w-5"})})]})]})})]},F.id)})})]})})}),a&&i&&u.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Dtails de la demande"}),u.jsx("button",{onClick:U,className:"text-gray-400 hover:text-gray-500",children:u.jsx(bl,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Nom complet"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.full_name})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.email})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Niveau"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:q(i.level)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Service"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((I=i.service)==null?void 0:I.designation)||"N/A"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Statut"}),u.jsx("p",{className:"mt-1",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${re(i.status)}`,children:J(i.status)})})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date de demande"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(i.created_at).toLocaleString()})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date d'action"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.status===Et.APPROVED||i.status===Et.REJECTED?new Date(i.updated_at).toLocaleString():"-"})]})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[i.status===Et.PENDING&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{M(i.id),U()},className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Approuver"}),u.jsx("button",{onClick:()=>{z(i.id),U()},className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Rejeter"})]}),u.jsx("button",{onClick:U,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",children:"Fermer"})]})]})}),p&&i&&u.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Dfinir le mot de passe"}),u.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-500",children:u.jsx(bl,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),u.jsx("input",{type:"password",id:"password",value:g,onChange:F=>b(F.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Entrez le mot de passe"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),u.jsx("input",{type:"password",id:"confirmPassword",value:y,onChange:F=>m(F.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirmez le mot de passe"})]}),v&&u.jsx("p",{className:"text-sm text-red-600",children:v})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[u.jsx("button",{onClick:L,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",children:"Annuler"}),u.jsx("button",{onClick:A,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Confirmer"})]})]})})]})})},an=({children:e})=>localStorage.getItem("token")?e:u.jsx(Hy,{to:"/",replace:!0}),It=()=>u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[u.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Oops! Something went wrong"}),u.jsx("p",{className:"text-gray-600",children:"Please try refreshing the page or contact support if the problem persists."})]})}),SC=D_([{path:"/",element:u.jsx(K4,{}),errorElement:u.jsx(It,{})},{path:"/register",element:u.jsx(bC,{}),errorElement:u.jsx(It,{})},{path:"/dashboard",element:u.jsx(an,{children:u.jsx(i3,{})}),errorElement:u.jsx(It,{})},{path:"/tickets",element:u.jsx(an,{children:u.jsx(X3,{})}),errorElement:u.jsx(It,{})},{path:"/tickets/:id",element:u.jsx(an,{children:u.jsx(dC,{})}),errorElement:u.jsx(It,{})},{path:"/tickets/:id/edit",element:u.jsx(an,{children:u.jsx(fC,{})}),errorElement:u.jsx(It,{})},{path:"/create-ticket",element:u.jsx(an,{children:u.jsx(nC,{})}),errorElement:u.jsx(It,{})},{path:"/create-user",element:u.jsx(an,{children:u.jsx(rC,{})}),errorElement:u.jsx(It,{})},{path:"/profile",element:u.jsx(an,{children:u.jsx(sC,{})}),errorElement:u.jsx(It,{})},{path:"/users",element:u.jsx(an,{children:u.jsx(iC,{})}),errorElement:u.jsx(It,{})},{path:"/admin/entities",element:u.jsx(an,{children:u.jsx(mC,{})}),errorElement:u.jsx(It,{})},{path:"/admin/pending-tickets",element:u.jsx(an,{children:u.jsx(yC,{})}),errorElement:u.jsx(It,{})},{path:"/admin/register-requests",element:u.jsx(an,{children:u.jsx(_C,{})}),errorElement:u.jsx(It,{})},{path:"/completed-tickets",element:u.jsx(an,{children:u.jsx(vC,{})}),errorElement:u.jsx(It,{})},{path:"*",element:u.jsx(Hy,{to:"/",replace:!0})}]);function EC(){return u.jsx(U_,{router:SC})}jy(document.getElementById("root")).render(u.jsx(_.StrictMode,{children:u.jsx(EC,{})}));export{Fu as B,wr as C,lo as D,zu as L,ug as P,je as R,Uu as S,Bu as a,$u as b,Iu as c,_ as r};
