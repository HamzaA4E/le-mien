var n1=Object.defineProperty;var r1=(e,t,n)=>t in e?n1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var de=(e,t,n)=>r1(e,typeof t!="symbol"?t+"":t,n);function Ig(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Wd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fg={exports:{}},Zl={},zg={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o=Symbol.for("react.element"),s1=Symbol.for("react.portal"),i1=Symbol.for("react.fragment"),o1=Symbol.for("react.strict_mode"),a1=Symbol.for("react.profiler"),l1=Symbol.for("react.provider"),c1=Symbol.for("react.context"),u1=Symbol.for("react.forward_ref"),d1=Symbol.for("react.suspense"),f1=Symbol.for("react.memo"),h1=Symbol.for("react.lazy"),gh=Symbol.iterator;function p1(e){return e===null||typeof e!="object"?null:(e=gh&&e[gh]||e["@@iterator"],typeof e=="function"?e:null)}var Bg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$g=Object.assign,Ug={};function ui(e,t,n){this.props=e,this.context=t,this.refs=Ug,this.updater=n||Bg}ui.prototype.isReactComponent={};ui.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ui.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hg(){}Hg.prototype=ui.prototype;function Kd(e,t,n){this.props=e,this.context=t,this.refs=Ug,this.updater=n||Bg}var qd=Kd.prototype=new Hg;qd.constructor=Kd;$g(qd,ui.prototype);qd.isPureReactComponent=!0;var xh=Array.isArray,Vg=Object.prototype.hasOwnProperty,Yd={current:null},Wg={key:!0,ref:!0,__self:!0,__source:!0};function Kg(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Vg.call(t,r)&&!Wg.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:$o,type:e,key:i,ref:o,props:s,_owner:Yd.current}}function m1(e,t){return{$$typeof:$o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gd(e){return typeof e=="object"&&e!==null&&e.$$typeof===$o}function g1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yh=/\/+/g;function Ac(e,t){return typeof e=="object"&&e!==null&&e.key!=null?g1(""+e.key):t.toString(36)}function $a(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $o:case s1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ac(o,0):r,xh(s)?(n="",e!=null&&(n=e.replace(yh,"$&/")+"/"),$a(s,t,n,"",function(c){return c})):s!=null&&(Gd(s)&&(s=m1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(yh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",xh(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Ac(i,a);o+=$a(i,t,n,l,s)}else if(l=p1(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Ac(i,a++),o+=$a(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function oa(e,t,n){if(e==null)return e;var r=[],s=0;return $a(e,r,"","",function(i){return t.call(n,i,s++)}),r}function x1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dt={current:null},Ua={transition:null},y1={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Ua,ReactCurrentOwner:Yd};function qg(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:oa,forEach:function(e,t,n){oa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return oa(e,function(){t++}),t},toArray:function(e){return oa(e,function(t){return t})||[]},only:function(e){if(!Gd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=ui;ye.Fragment=i1;ye.Profiler=a1;ye.PureComponent=Kd;ye.StrictMode=o1;ye.Suspense=d1;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y1;ye.act=qg;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$g({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Yd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Vg.call(t,l)&&!Wg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:$o,type:e.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(e){return e={$$typeof:c1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:l1,_context:e},e.Consumer=e};ye.createElement=Kg;ye.createFactory=function(e){var t=Kg.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:u1,render:e}};ye.isValidElement=Gd;ye.lazy=function(e){return{$$typeof:h1,_payload:{_status:-1,_result:e},_init:x1}};ye.memo=function(e,t){return{$$typeof:f1,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Ua.transition;Ua.transition={};try{e()}finally{Ua.transition=t}};ye.unstable_act=qg;ye.useCallback=function(e,t){return Dt.current.useCallback(e,t)};ye.useContext=function(e){return Dt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return Dt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return Dt.current.useEffect(e,t)};ye.useId=function(){return Dt.current.useId()};ye.useImperativeHandle=function(e,t,n){return Dt.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return Dt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return Dt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return Dt.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return Dt.current.useReducer(e,t,n)};ye.useRef=function(e){return Dt.current.useRef(e)};ye.useState=function(e){return Dt.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return Dt.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return Dt.current.useTransition()};ye.version="18.3.1";zg.exports=ye;var _=zg.exports;const be=Wd(_),v1=Ig({__proto__:null,default:be},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1=_,w1=Symbol.for("react.element"),_1=Symbol.for("react.fragment"),S1=Object.prototype.hasOwnProperty,j1=b1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E1={key:!0,ref:!0,__self:!0,__source:!0};function Yg(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)S1.call(t,r)&&!E1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:w1,type:e,key:i,ref:o,props:s,_owner:j1.current}}Zl.Fragment=_1;Zl.jsx=Yg;Zl.jsxs=Yg;Fg.exports=Zl;var u=Fg.exports,Gg={exports:{}},Zt={},Xg={exports:{}},Qg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,U){var K=O.length;O.push(U);e:for(;0<K;){var te=K-1>>>1,I=O[te];if(0<s(I,U))O[te]=U,O[K]=I,K=te;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],K=O.pop();if(K!==U){O[0]=K;e:for(var te=0,I=O.length,ue=I>>>1;te<ue;){var ae=2*(te+1)-1,le=O[ae],ie=ae+1,Z=O[ie];if(0>s(le,K))ie<I&&0>s(Z,le)?(O[te]=Z,O[ie]=K,te=ie):(O[te]=le,O[ae]=K,te=ae);else if(ie<I&&0>s(Z,K))O[te]=Z,O[ie]=K,te=ie;else break e}}return U}function s(O,U){var K=O.sortIndex-U.sortIndex;return K!==0?K:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=O)r(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(c)}}function S(O){if(x=!1,b(O),!m)if(n(l)!==null)m=!0,se(j);else{var U=n(c);U!==null&&z(S,U.startTime-O)}}function j(O,U){m=!1,x&&(x=!1,y(N),N=-1),p=!0;var K=h;try{for(b(U),f=n(l);f!==null&&(!(f.expirationTime>U)||O&&!A());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var I=te(f.expirationTime<=U);U=e.unstable_now(),typeof I=="function"?f.callback=I:f===n(l)&&r(l),b(U)}else r(l);f=n(l)}if(f!==null)var ue=!0;else{var ae=n(c);ae!==null&&z(S,ae.startTime-U),ue=!1}return ue}finally{f=null,h=K,p=!1}}var k=!1,w=null,N=-1,L=5,R=-1;function A(){return!(e.unstable_now()-R<L)}function M(){if(w!==null){var O=e.unstable_now();R=O;var U=!0;try{U=w(!0,O)}finally{U?V():(k=!1,w=null)}}else k=!1}var V;if(typeof g=="function")V=function(){g(M)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Y=X.port2;X.port1.onmessage=M,V=function(){Y.postMessage(null)}}else V=function(){v(M,0)};function se(O){w=O,k||(k=!0,V())}function z(O,U){N=v(function(){O(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,se(j))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var K=h;h=U;try{return O()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=h;h=O;try{return U()}finally{h=K}},e.unstable_scheduleCallback=function(O,U,K){var te=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?te+K:te):K=te,O){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=K+I,O={id:d++,callback:U,priorityLevel:O,startTime:K,expirationTime:I,sortIndex:-1},K>te?(O.sortIndex=K,t(c,O),n(l)===null&&O===n(c)&&(x?(y(N),N=-1):x=!0,z(S,K-te))):(O.sortIndex=I,t(l,O),m||p||(m=!0,se(j))),O},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(O){var U=h;return function(){var K=h;h=U;try{return O.apply(this,arguments)}finally{h=K}}}})(Qg);Xg.exports=Qg;var N1=Xg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1=_,Jt=N1;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jg=new Set,fo={};function Ss(e,t){ei(e,t),ei(e+"Capture",t)}function ei(e,t){for(fo[e]=t,e=0;e<t.length;e++)Jg.add(t[e])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cu=Object.prototype.hasOwnProperty,C1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vh={},bh={};function T1(e){return Cu.call(bh,e)?!0:Cu.call(vh,e)?!1:C1.test(e)?bh[e]=!0:(vh[e]=!0,!1)}function R1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D1(e,t,n,r){if(t===null||typeof t>"u"||R1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yt[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yt[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yt[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xd=/[\-:]([a-z])/g;function Qd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xd,Qd);yt[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xd,Qd);yt[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xd,Qd);yt[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jd(e,t,n,r){var s=yt.hasOwnProperty(t)?yt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D1(t,n,s,r)&&(n=null),r||s===null?T1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ir=k1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,aa=Symbol.for("react.element"),Os=Symbol.for("react.portal"),Ls=Symbol.for("react.fragment"),Zd=Symbol.for("react.strict_mode"),Tu=Symbol.for("react.profiler"),Zg=Symbol.for("react.provider"),e0=Symbol.for("react.context"),ef=Symbol.for("react.forward_ref"),Ru=Symbol.for("react.suspense"),Du=Symbol.for("react.suspense_list"),tf=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),t0=Symbol.for("react.offscreen"),wh=Symbol.iterator;function Si(e){return e===null||typeof e!="object"?null:(e=wh&&e[wh]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Object.assign,Ic;function Bi(e){if(Ic===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ic=t&&t[1]||""}return`
`+Ic+e}var Fc=!1;function zc(e,t){if(!e||Fc)return"";Fc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Fc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bi(e):""}function P1(e){switch(e.tag){case 5:return Bi(e.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 2:case 15:return e=zc(e.type,!1),e;case 11:return e=zc(e.type.render,!1),e;case 1:return e=zc(e.type,!0),e;default:return""}}function Pu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ls:return"Fragment";case Os:return"Portal";case Tu:return"Profiler";case Zd:return"StrictMode";case Ru:return"Suspense";case Du:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case e0:return(e.displayName||"Context")+".Consumer";case Zg:return(e._context.displayName||"Context")+".Provider";case ef:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tf:return t=e.displayName||null,t!==null?t:Pu(e.type)||"Memo";case hr:t=e._payload,e=e._init;try{return Pu(e(t))}catch{}}return null}function M1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pu(t);case 8:return t===Zd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function n0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function O1(e){var t=n0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function la(e){e._valueTracker||(e._valueTracker=O1(e))}function r0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=n0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mu(e,t){var n=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _h(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function s0(e,t){t=t.checked,t!=null&&Jd(e,"checked",t,!1)}function Ou(e,t){s0(e,t);var n=Mr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lu(e,t.type,Mr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lu(e,t,n){(t!=="number"||ul(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $i=Array.isArray;function Ks(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Au(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if($i(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mr(n)}}function i0(e,t){var n=Mr(t.value),r=Mr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Eh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function o0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?o0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ca,a0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ca=ca||document.createElement("div"),ca.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ca.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ho(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L1=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(e){L1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xi[t]=Xi[e]})});function l0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xi.hasOwnProperty(e)&&Xi[e]?(""+t).trim():t+"px"}function c0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=l0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var A1=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fu(e,t){if(t){if(A1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function zu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=null;function nf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $u=null,qs=null,Ys=null;function Nh(e){if(e=Vo(e)){if(typeof $u!="function")throw Error(B(280));var t=e.stateNode;t&&(t=sc(t),$u(e.stateNode,e.type,t))}}function u0(e){qs?Ys?Ys.push(e):Ys=[e]:qs=e}function d0(){if(qs){var e=qs,t=Ys;if(Ys=qs=null,Nh(e),t)for(e=0;e<t.length;e++)Nh(t[e])}}function f0(e,t){return e(t)}function h0(){}var Bc=!1;function p0(e,t,n){if(Bc)return e(t,n);Bc=!0;try{return f0(e,t,n)}finally{Bc=!1,(qs!==null||Ys!==null)&&(h0(),d0())}}function po(e,t){var n=e.stateNode;if(n===null)return null;var r=sc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Uu=!1;if(Qn)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){Uu=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{Uu=!1}function I1(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Qi=!1,dl=null,fl=!1,Hu=null,F1={onError:function(e){Qi=!0,dl=e}};function z1(e,t,n,r,s,i,o,a,l){Qi=!1,dl=null,I1.apply(F1,arguments)}function B1(e,t,n,r,s,i,o,a,l){if(z1.apply(this,arguments),Qi){if(Qi){var c=dl;Qi=!1,dl=null}else throw Error(B(198));fl||(fl=!0,Hu=c)}}function js(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kh(e){if(js(e)!==e)throw Error(B(188))}function $1(e){var t=e.alternate;if(!t){if(t=js(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return kh(s),e;if(i===r)return kh(s),t;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function g0(e){return e=$1(e),e!==null?x0(e):null}function x0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=x0(e);if(t!==null)return t;e=e.sibling}return null}var y0=Jt.unstable_scheduleCallback,Ch=Jt.unstable_cancelCallback,U1=Jt.unstable_shouldYield,H1=Jt.unstable_requestPaint,et=Jt.unstable_now,V1=Jt.unstable_getCurrentPriorityLevel,rf=Jt.unstable_ImmediatePriority,v0=Jt.unstable_UserBlockingPriority,hl=Jt.unstable_NormalPriority,W1=Jt.unstable_LowPriority,b0=Jt.unstable_IdlePriority,ec=null,On=null;function K1(e){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(ec,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:G1,q1=Math.log,Y1=Math.LN2;function G1(e){return e>>>=0,e===0?32:31-(q1(e)/Y1|0)|0}var ua=64,da=4194304;function Ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ui(a):(i&=o,i!==0&&(r=Ui(i)))}else o=n&~s,o!==0?r=Ui(o):i!==0&&(r=Ui(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wn(t),s=1<<n,r|=e[n],t&=~s;return r}function X1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=X1(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Vu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function w0(){var e=ua;return ua<<=1,!(ua&4194240)&&(ua=64),e}function $c(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Uo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=n}function J1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function sf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Oe=0;function _0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var S0,of,j0,E0,N0,Wu=!1,fa=[],Sr=null,jr=null,Er=null,mo=new Map,go=new Map,mr=[],Z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Th(e,t){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(t.pointerId)}}function Ei(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Vo(t),t!==null&&of(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function eb(e,t,n,r,s){switch(t){case"focusin":return Sr=Ei(Sr,e,t,n,r,s),!0;case"dragenter":return jr=Ei(jr,e,t,n,r,s),!0;case"mouseover":return Er=Ei(Er,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return mo.set(i,Ei(mo.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,go.set(i,Ei(go.get(i)||null,e,t,n,r,s)),!0}return!1}function k0(e){var t=Zr(e.target);if(t!==null){var n=js(t);if(n!==null){if(t=n.tag,t===13){if(t=m0(n),t!==null){e.blockedOn=t,N0(e.priority,function(){j0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ha(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ku(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Bu=r,n.target.dispatchEvent(r),Bu=null}else return t=Vo(n),t!==null&&of(t),e.blockedOn=n,!1;t.shift()}return!0}function Rh(e,t,n){Ha(e)&&n.delete(t)}function tb(){Wu=!1,Sr!==null&&Ha(Sr)&&(Sr=null),jr!==null&&Ha(jr)&&(jr=null),Er!==null&&Ha(Er)&&(Er=null),mo.forEach(Rh),go.forEach(Rh)}function Ni(e,t){e.blockedOn===t&&(e.blockedOn=null,Wu||(Wu=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,tb)))}function xo(e){function t(s){return Ni(s,e)}if(0<fa.length){Ni(fa[0],e);for(var n=1;n<fa.length;n++){var r=fa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Sr!==null&&Ni(Sr,e),jr!==null&&Ni(jr,e),Er!==null&&Ni(Er,e),mo.forEach(t),go.forEach(t),n=0;n<mr.length;n++)r=mr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)k0(n),n.blockedOn===null&&mr.shift()}var Gs=ir.ReactCurrentBatchConfig,ml=!0;function nb(e,t,n,r){var s=Oe,i=Gs.transition;Gs.transition=null;try{Oe=1,af(e,t,n,r)}finally{Oe=s,Gs.transition=i}}function rb(e,t,n,r){var s=Oe,i=Gs.transition;Gs.transition=null;try{Oe=4,af(e,t,n,r)}finally{Oe=s,Gs.transition=i}}function af(e,t,n,r){if(ml){var s=Ku(e,t,n,r);if(s===null)Qc(e,t,r,gl,n),Th(e,r);else if(eb(s,e,t,n,r))r.stopPropagation();else if(Th(e,r),t&4&&-1<Z1.indexOf(e)){for(;s!==null;){var i=Vo(s);if(i!==null&&S0(i),i=Ku(e,t,n,r),i===null&&Qc(e,t,r,gl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Qc(e,t,r,null,n)}}var gl=null;function Ku(e,t,n,r){if(gl=null,e=nf(r),e=Zr(e),e!==null)if(t=js(e),t===null)e=null;else if(n=t.tag,n===13){if(e=m0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gl=e,null}function C0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V1()){case rf:return 1;case v0:return 4;case hl:case W1:return 16;case b0:return 536870912;default:return 16}default:return 16}}var yr=null,lf=null,Va=null;function T0(){if(Va)return Va;var e,t=lf,n=t.length,r,s="value"in yr?yr.value:yr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Va=s.slice(e,1<r?1-r:void 0)}function Wa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ha(){return!0}function Dh(){return!1}function en(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ha:Dh,this.isPropagationStopped=Dh,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),t}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cf=en(di),Ho=Ge({},di,{view:0,detail:0}),sb=en(Ho),Uc,Hc,ki,tc=Ge({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(Uc=e.screenX-ki.screenX,Hc=e.screenY-ki.screenY):Hc=Uc=0,ki=e),Uc)},movementY:function(e){return"movementY"in e?e.movementY:Hc}}),Ph=en(tc),ib=Ge({},tc,{dataTransfer:0}),ob=en(ib),ab=Ge({},Ho,{relatedTarget:0}),Vc=en(ab),lb=Ge({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),cb=en(lb),ub=Ge({},di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),db=en(ub),fb=Ge({},di,{data:0}),Mh=en(fb),hb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mb[e])?!!t[e]:!1}function uf(){return gb}var xb=Ge({},Ho,{key:function(e){if(e.key){var t=hb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uf,charCode:function(e){return e.type==="keypress"?Wa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yb=en(xb),vb=Ge({},tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oh=en(vb),bb=Ge({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uf}),wb=en(bb),_b=Ge({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sb=en(_b),jb=Ge({},tc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Eb=en(jb),Nb=[9,13,27,32],df=Qn&&"CompositionEvent"in window,Ji=null;Qn&&"documentMode"in document&&(Ji=document.documentMode);var kb=Qn&&"TextEvent"in window&&!Ji,R0=Qn&&(!df||Ji&&8<Ji&&11>=Ji),Lh=" ",Ah=!1;function D0(e,t){switch(e){case"keyup":return Nb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var As=!1;function Cb(e,t){switch(e){case"compositionend":return P0(t);case"keypress":return t.which!==32?null:(Ah=!0,Lh);case"textInput":return e=t.data,e===Lh&&Ah?null:e;default:return null}}function Tb(e,t){if(As)return e==="compositionend"||!df&&D0(e,t)?(e=T0(),Va=lf=yr=null,As=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return R0&&t.locale!=="ko"?null:t.data;default:return null}}var Rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rb[e.type]:t==="textarea"}function M0(e,t,n,r){u0(r),t=xl(t,"onChange"),0<t.length&&(n=new cf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zi=null,yo=null;function Db(e){V0(e,0)}function nc(e){var t=zs(e);if(r0(t))return e}function Pb(e,t){if(e==="change")return t}var O0=!1;if(Qn){var Wc;if(Qn){var Kc="oninput"in document;if(!Kc){var Fh=document.createElement("div");Fh.setAttribute("oninput","return;"),Kc=typeof Fh.oninput=="function"}Wc=Kc}else Wc=!1;O0=Wc&&(!document.documentMode||9<document.documentMode)}function zh(){Zi&&(Zi.detachEvent("onpropertychange",L0),yo=Zi=null)}function L0(e){if(e.propertyName==="value"&&nc(yo)){var t=[];M0(t,yo,e,nf(e)),p0(Db,t)}}function Mb(e,t,n){e==="focusin"?(zh(),Zi=t,yo=n,Zi.attachEvent("onpropertychange",L0)):e==="focusout"&&zh()}function Ob(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nc(yo)}function Lb(e,t){if(e==="click")return nc(t)}function Ab(e,t){if(e==="input"||e==="change")return nc(t)}function Ib(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:Ib;function vo(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Cu.call(t,s)||!Sn(e[s],t[s]))return!1}return!0}function Bh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $h(e,t){var n=Bh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bh(n)}}function A0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?A0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function I0(){for(var e=window,t=ul();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ul(e.document)}return t}function ff(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Fb(e){var t=I0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&A0(n.ownerDocument.documentElement,n)){if(r!==null&&ff(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=$h(n,i);var o=$h(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zb=Qn&&"documentMode"in document&&11>=document.documentMode,Is=null,qu=null,eo=null,Yu=!1;function Uh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yu||Is==null||Is!==ul(r)||(r=Is,"selectionStart"in r&&ff(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eo&&vo(eo,r)||(eo=r,r=xl(qu,"onSelect"),0<r.length&&(t=new cf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Is)))}function pa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fs={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionend:pa("Transition","TransitionEnd")},qc={},F0={};Qn&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function rc(e){if(qc[e])return qc[e];if(!Fs[e])return e;var t=Fs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in F0)return qc[e]=t[n];return e}var z0=rc("animationend"),B0=rc("animationiteration"),$0=rc("animationstart"),U0=rc("transitionend"),H0=new Map,Hh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){H0.set(e,t),Ss(t,[e])}for(var Yc=0;Yc<Hh.length;Yc++){var Gc=Hh[Yc],Bb=Gc.toLowerCase(),$b=Gc[0].toUpperCase()+Gc.slice(1);Ir(Bb,"on"+$b)}Ir(z0,"onAnimationEnd");Ir(B0,"onAnimationIteration");Ir($0,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(U0,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ub=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function Vh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,B1(r,t,void 0,e),e.currentTarget=null}function V0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Vh(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Vh(s,a,c),i=l}}}if(fl)throw e=Hu,fl=!1,Hu=null,e}function $e(e,t){var n=t[Zu];n===void 0&&(n=t[Zu]=new Set);var r=e+"__bubble";n.has(r)||(W0(t,e,2,!1),n.add(r))}function Xc(e,t,n){var r=0;t&&(r|=4),W0(n,e,r,t)}var ma="_reactListening"+Math.random().toString(36).slice(2);function bo(e){if(!e[ma]){e[ma]=!0,Jg.forEach(function(n){n!=="selectionchange"&&(Ub.has(n)||Xc(n,!1,e),Xc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ma]||(t[ma]=!0,Xc("selectionchange",!1,t))}}function W0(e,t,n,r){switch(C0(t)){case 1:var s=nb;break;case 4:s=rb;break;default:s=af}n=s.bind(null,t,n,e),s=void 0,!Uu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Qc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}p0(function(){var c=i,d=nf(n),f=[];e:{var h=H0.get(e);if(h!==void 0){var p=cf,m=e;switch(e){case"keypress":if(Wa(n)===0)break e;case"keydown":case"keyup":p=yb;break;case"focusin":m="focus",p=Vc;break;case"focusout":m="blur",p=Vc;break;case"beforeblur":case"afterblur":p=Vc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ob;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=wb;break;case z0:case B0:case $0:p=cb;break;case U0:p=Sb;break;case"scroll":p=sb;break;case"wheel":p=Eb;break;case"copy":case"cut":case"paste":p=db;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Oh}var x=(t&4)!==0,v=!x&&e==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var g=c,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=po(g,y),S!=null&&x.push(wo(g,S,b)))),v)break;g=g.return}0<x.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Bu&&(m=n.relatedTarget||n.fromElement)&&(Zr(m)||m[Jn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Zr(m):null,m!==null&&(v=js(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(x=Ph,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Oh,S="onPointerLeave",y="onPointerEnter",g="pointer"),v=p==null?h:zs(p),b=m==null?h:zs(m),h=new x(S,g+"leave",p,n,d),h.target=v,h.relatedTarget=b,S=null,Zr(d)===c&&(x=new x(y,g+"enter",m,n,d),x.target=b,x.relatedTarget=v,S=x),v=S,p&&m)t:{for(x=p,y=m,g=0,b=x;b;b=Rs(b))g++;for(b=0,S=y;S;S=Rs(S))b++;for(;0<g-b;)x=Rs(x),g--;for(;0<b-g;)y=Rs(y),b--;for(;g--;){if(x===y||y!==null&&x===y.alternate)break t;x=Rs(x),y=Rs(y)}x=null}else x=null;p!==null&&Wh(f,h,p,x,!1),m!==null&&v!==null&&Wh(f,v,m,x,!0)}}e:{if(h=c?zs(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=Pb;else if(Ih(h))if(O0)j=Ab;else{j=Ob;var k=Mb}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Lb);if(j&&(j=j(e,c))){M0(f,j,n,d);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Lu(h,"number",h.value)}switch(k=c?zs(c):window,e){case"focusin":(Ih(k)||k.contentEditable==="true")&&(Is=k,qu=c,eo=null);break;case"focusout":eo=qu=Is=null;break;case"mousedown":Yu=!0;break;case"contextmenu":case"mouseup":case"dragend":Yu=!1,Uh(f,n,d);break;case"selectionchange":if(zb)break;case"keydown":case"keyup":Uh(f,n,d)}var w;if(df)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else As?D0(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(R0&&n.locale!=="ko"&&(As||N!=="onCompositionStart"?N==="onCompositionEnd"&&As&&(w=T0()):(yr=d,lf="value"in yr?yr.value:yr.textContent,As=!0)),k=xl(c,N),0<k.length&&(N=new Mh(N,e,null,n,d),f.push({event:N,listeners:k}),w?N.data=w:(w=P0(n),w!==null&&(N.data=w)))),(w=kb?Cb(e,n):Tb(e,n))&&(c=xl(c,"onBeforeInput"),0<c.length&&(d=new Mh("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=w))}V0(f,t)})}function wo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=po(e,n),i!=null&&r.unshift(wo(e,i,s)),i=po(e,t),i!=null&&r.push(wo(e,i,s))),e=e.return}return r}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=po(n,i),l!=null&&o.unshift(wo(n,l,a))):s||(l=po(n,i),l!=null&&o.push(wo(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Hb=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function Kh(e){return(typeof e=="string"?e:""+e).replace(Hb,`
`).replace(Vb,"")}function ga(e,t,n){if(t=Kh(t),Kh(e)!==t&&n)throw Error(B(425))}function yl(){}var Gu=null,Xu=null;function Qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=typeof setTimeout=="function"?setTimeout:void 0,Wb=typeof clearTimeout=="function"?clearTimeout:void 0,qh=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof qh<"u"?function(e){return qh.resolve(null).then(e).catch(qb)}:Ju;function qb(e){setTimeout(function(){throw e})}function Jc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),xo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xo(t)}function Nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),Mn="__reactFiber$"+fi,_o="__reactProps$"+fi,Jn="__reactContainer$"+fi,Zu="__reactEvents$"+fi,Yb="__reactListeners$"+fi,Gb="__reactHandles$"+fi;function Zr(e){var t=e[Mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jn]||n[Mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yh(e);e!==null;){if(n=e[Mn])return n;e=Yh(e)}return t}e=n,n=e.parentNode}return null}function Vo(e){return e=e[Mn]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function sc(e){return e[_o]||null}var ed=[],Bs=-1;function Fr(e){return{current:e}}function He(e){0>Bs||(e.current=ed[Bs],ed[Bs]=null,Bs--)}function ze(e,t){Bs++,ed[Bs]=e.current,e.current=t}var Or={},Et=Fr(Or),$t=Fr(!1),hs=Or;function ti(e,t){var n=e.type.contextTypes;if(!n)return Or;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ut(e){return e=e.childContextTypes,e!=null}function vl(){He($t),He(Et)}function Gh(e,t,n){if(Et.current!==Or)throw Error(B(168));ze(Et,t),ze($t,n)}function K0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(B(108,M1(e)||"Unknown",s));return Ge({},n,r)}function bl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Or,hs=Et.current,ze(Et,e),ze($t,$t.current),!0}function Xh(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=K0(e,t,hs),r.__reactInternalMemoizedMergedChildContext=e,He($t),He(Et),ze(Et,e)):He($t),ze($t,n)}var Wn=null,ic=!1,Zc=!1;function q0(e){Wn===null?Wn=[e]:Wn.push(e)}function Xb(e){ic=!0,q0(e)}function zr(){if(!Zc&&Wn!==null){Zc=!0;var e=0,t=Oe;try{var n=Wn;for(Oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wn=null,ic=!1}catch(s){throw Wn!==null&&(Wn=Wn.slice(e+1)),y0(rf,zr),s}finally{Oe=t,Zc=!1}}return null}var $s=[],Us=0,wl=null,_l=0,sn=[],on=0,ps=null,qn=1,Yn="";function Yr(e,t){$s[Us++]=_l,$s[Us++]=wl,wl=e,_l=t}function Y0(e,t,n){sn[on++]=qn,sn[on++]=Yn,sn[on++]=ps,ps=e;var r=qn;e=Yn;var s=32-wn(r)-1;r&=~(1<<s),n+=1;var i=32-wn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,qn=1<<32-wn(t)+s|n<<s|r,Yn=i+e}else qn=1<<i|n<<s|r,Yn=e}function hf(e){e.return!==null&&(Yr(e,1),Y0(e,1,0))}function pf(e){for(;e===wl;)wl=$s[--Us],$s[Us]=null,_l=$s[--Us],$s[Us]=null;for(;e===ps;)ps=sn[--on],sn[on]=null,Yn=sn[--on],sn[on]=null,qn=sn[--on],sn[on]=null}var Qt=null,Xt=null,We=!1,bn=null;function G0(e,t){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Xt=Nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ps!==null?{id:qn,overflow:Yn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qt=e,Xt=null,!0):!1;default:return!1}}function td(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nd(e){if(We){var t=Xt;if(t){var n=t;if(!Qh(e,t)){if(td(e))throw Error(B(418));t=Nr(n.nextSibling);var r=Qt;t&&Qh(e,t)?G0(r,n):(e.flags=e.flags&-4097|2,We=!1,Qt=e)}}else{if(td(e))throw Error(B(418));e.flags=e.flags&-4097|2,We=!1,Qt=e}}}function Jh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function xa(e){if(e!==Qt)return!1;if(!We)return Jh(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qu(e.type,e.memoizedProps)),t&&(t=Xt)){if(td(e))throw X0(),Error(B(418));for(;t;)G0(e,t),t=Nr(t.nextSibling)}if(Jh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xt=Nr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=Qt?Nr(e.stateNode.nextSibling):null;return!0}function X0(){for(var e=Xt;e;)e=Nr(e.nextSibling)}function ni(){Xt=Qt=null,We=!1}function mf(e){bn===null?bn=[e]:bn.push(e)}var Qb=ir.ReactCurrentBatchConfig;function Ci(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zh(e){var t=e._init;return t(e._payload)}function Q0(e){function t(y,g){if(e){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Rr(y,g),y.index=0,y.sibling=null,y}function i(y,g,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=2,g):b):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,g,b,S){return g===null||g.tag!==6?(g=ou(b,y.mode,S),g.return=y,g):(g=s(g,b),g.return=y,g)}function l(y,g,b,S){var j=b.type;return j===Ls?d(y,g,b.props.children,S,b.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hr&&Zh(j)===g.type)?(S=s(g,b.props),S.ref=Ci(y,g,b),S.return=y,S):(S=Ja(b.type,b.key,b.props,null,y.mode,S),S.ref=Ci(y,g,b),S.return=y,S)}function c(y,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=au(b,y.mode,S),g.return=y,g):(g=s(g,b.children||[]),g.return=y,g)}function d(y,g,b,S,j){return g===null||g.tag!==7?(g=cs(b,y.mode,S,j),g.return=y,g):(g=s(g,b),g.return=y,g)}function f(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ou(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case aa:return b=Ja(g.type,g.key,g.props,null,y.mode,b),b.ref=Ci(y,null,g),b.return=y,b;case Os:return g=au(g,y.mode,b),g.return=y,g;case hr:var S=g._init;return f(y,S(g._payload),b)}if($i(g)||Si(g))return g=cs(g,y.mode,b,null),g.return=y,g;ya(y,g)}return null}function h(y,g,b,S){var j=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:a(y,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case aa:return b.key===j?l(y,g,b,S):null;case Os:return b.key===j?c(y,g,b,S):null;case hr:return j=b._init,h(y,g,j(b._payload),S)}if($i(b)||Si(b))return j!==null?null:d(y,g,b,S,null);ya(y,b)}return null}function p(y,g,b,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,a(g,y,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case aa:return y=y.get(S.key===null?b:S.key)||null,l(g,y,S,j);case Os:return y=y.get(S.key===null?b:S.key)||null,c(g,y,S,j);case hr:var k=S._init;return p(y,g,b,k(S._payload),j)}if($i(S)||Si(S))return y=y.get(b)||null,d(g,y,S,j,null);ya(g,S)}return null}function m(y,g,b,S){for(var j=null,k=null,w=g,N=g=0,L=null;w!==null&&N<b.length;N++){w.index>N?(L=w,w=null):L=w.sibling;var R=h(y,w,b[N],S);if(R===null){w===null&&(w=L);break}e&&w&&R.alternate===null&&t(y,w),g=i(R,g,N),k===null?j=R:k.sibling=R,k=R,w=L}if(N===b.length)return n(y,w),We&&Yr(y,N),j;if(w===null){for(;N<b.length;N++)w=f(y,b[N],S),w!==null&&(g=i(w,g,N),k===null?j=w:k.sibling=w,k=w);return We&&Yr(y,N),j}for(w=r(y,w);N<b.length;N++)L=p(w,y,N,b[N],S),L!==null&&(e&&L.alternate!==null&&w.delete(L.key===null?N:L.key),g=i(L,g,N),k===null?j=L:k.sibling=L,k=L);return e&&w.forEach(function(A){return t(y,A)}),We&&Yr(y,N),j}function x(y,g,b,S){var j=Si(b);if(typeof j!="function")throw Error(B(150));if(b=j.call(b),b==null)throw Error(B(151));for(var k=j=null,w=g,N=g=0,L=null,R=b.next();w!==null&&!R.done;N++,R=b.next()){w.index>N?(L=w,w=null):L=w.sibling;var A=h(y,w,R.value,S);if(A===null){w===null&&(w=L);break}e&&w&&A.alternate===null&&t(y,w),g=i(A,g,N),k===null?j=A:k.sibling=A,k=A,w=L}if(R.done)return n(y,w),We&&Yr(y,N),j;if(w===null){for(;!R.done;N++,R=b.next())R=f(y,R.value,S),R!==null&&(g=i(R,g,N),k===null?j=R:k.sibling=R,k=R);return We&&Yr(y,N),j}for(w=r(y,w);!R.done;N++,R=b.next())R=p(w,y,N,R.value,S),R!==null&&(e&&R.alternate!==null&&w.delete(R.key===null?N:R.key),g=i(R,g,N),k===null?j=R:k.sibling=R,k=R);return e&&w.forEach(function(M){return t(y,M)}),We&&Yr(y,N),j}function v(y,g,b,S){if(typeof b=="object"&&b!==null&&b.type===Ls&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case aa:e:{for(var j=b.key,k=g;k!==null;){if(k.key===j){if(j=b.type,j===Ls){if(k.tag===7){n(y,k.sibling),g=s(k,b.props.children),g.return=y,y=g;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hr&&Zh(j)===k.type){n(y,k.sibling),g=s(k,b.props),g.ref=Ci(y,k,b),g.return=y,y=g;break e}n(y,k);break}else t(y,k);k=k.sibling}b.type===Ls?(g=cs(b.props.children,y.mode,S,b.key),g.return=y,y=g):(S=Ja(b.type,b.key,b.props,null,y.mode,S),S.ref=Ci(y,g,b),S.return=y,y=S)}return o(y);case Os:e:{for(k=b.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(y,g.sibling),g=s(g,b.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=au(b,y.mode,S),g.return=y,y=g}return o(y);case hr:return k=b._init,v(y,g,k(b._payload),S)}if($i(b))return m(y,g,b,S);if(Si(b))return x(y,g,b,S);ya(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,b),g.return=y,y=g):(n(y,g),g=ou(b,y.mode,S),g.return=y,y=g),o(y)):n(y,g)}return v}var ri=Q0(!0),J0=Q0(!1),Sl=Fr(null),jl=null,Hs=null,gf=null;function xf(){gf=Hs=jl=null}function yf(e){var t=Sl.current;He(Sl),e._currentValue=t}function rd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xs(e,t){jl=e,gf=Hs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zt=!0),e.firstContext=null)}function un(e){var t=e._currentValue;if(gf!==e)if(e={context:e,memoizedValue:t,next:null},Hs===null){if(jl===null)throw Error(B(308));Hs=e,jl.dependencies={lanes:0,firstContext:e}}else Hs=Hs.next=e;return t}var es=null;function vf(e){es===null?es=[e]:es.push(e)}function Z0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,vf(t)):(n.next=s.next,s.next=n),t.interleaved=n,Zn(e,r)}function Zn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pr=!1;function bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ex(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Zn(e,n)}return s=r.interleaved,s===null?(t.next=t,vf(r)):(t.next=s.next,s.next=t),r.interleaved=t,Zn(e,n)}function Ka(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sf(e,n)}}function ep(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function El(e,t,n,r){var s=e.updateQueue;pr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,x=a;switch(h=t,p=n,x.tag){case 1:if(m=x.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Ge({},f,h);break e;case 2:pr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);gs|=o,e.lanes=o,e.memoizedState=f}}function tp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Wo={},Ln=Fr(Wo),So=Fr(Wo),jo=Fr(Wo);function ts(e){if(e===Wo)throw Error(B(174));return e}function wf(e,t){switch(ze(jo,t),ze(So,e),ze(Ln,Wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Iu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Iu(t,e)}He(Ln),ze(Ln,t)}function si(){He(Ln),He(So),He(jo)}function tx(e){ts(jo.current);var t=ts(Ln.current),n=Iu(t,e.type);t!==n&&(ze(So,e),ze(Ln,n))}function _f(e){So.current===e&&(He(Ln),He(So))}var qe=Fr(0);function Nl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eu=[];function Sf(){for(var e=0;e<eu.length;e++)eu[e]._workInProgressVersionPrimary=null;eu.length=0}var qa=ir.ReactCurrentDispatcher,tu=ir.ReactCurrentBatchConfig,ms=0,Ye=null,at=null,ut=null,kl=!1,to=!1,Eo=0,Jb=0;function vt(){throw Error(B(321))}function jf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sn(e[n],t[n]))return!1;return!0}function Ef(e,t,n,r,s,i){if(ms=i,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qa.current=e===null||e.memoizedState===null?n2:r2,e=n(r,s),to){i=0;do{if(to=!1,Eo=0,25<=i)throw Error(B(301));i+=1,ut=at=null,t.updateQueue=null,qa.current=s2,e=n(r,s)}while(to)}if(qa.current=Cl,t=at!==null&&at.next!==null,ms=0,ut=at=Ye=null,kl=!1,t)throw Error(B(300));return e}function Nf(){var e=Eo!==0;return Eo=0,e}function Dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ye.memoizedState=ut=e:ut=ut.next=e,ut}function dn(){if(at===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=ut===null?Ye.memoizedState:ut.next;if(t!==null)ut=t,at=e;else{if(e===null)throw Error(B(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ut===null?Ye.memoizedState=ut=e:ut=ut.next=e}return ut}function No(e,t){return typeof t=="function"?t(e):t}function nu(e){var t=dn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=at,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ms&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ye.lanes|=d,gs|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Sn(r,t.memoizedState)||(zt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ye.lanes|=i,gs|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ru(e){var t=dn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Sn(i,t.memoizedState)||(zt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function nx(){}function rx(e,t){var n=Ye,r=dn(),s=t(),i=!Sn(r.memoizedState,s);if(i&&(r.memoizedState=s,zt=!0),r=r.queue,kf(ox.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,ko(9,ix.bind(null,n,r,s,t),void 0,null),dt===null)throw Error(B(349));ms&30||sx(n,t,s)}return s}function sx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ix(e,t,n,r){t.value=n,t.getSnapshot=r,ax(t)&&lx(e)}function ox(e,t,n){return n(function(){ax(t)&&lx(e)})}function ax(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sn(e,n)}catch{return!0}}function lx(e){var t=Zn(e,1);t!==null&&_n(t,e,1,-1)}function np(e){var t=Dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=t2.bind(null,Ye,e),[t.memoizedState,e]}function ko(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function cx(){return dn().memoizedState}function Ya(e,t,n,r){var s=Dn();Ye.flags|=e,s.memoizedState=ko(1|t,n,void 0,r===void 0?null:r)}function oc(e,t,n,r){var s=dn();r=r===void 0?null:r;var i=void 0;if(at!==null){var o=at.memoizedState;if(i=o.destroy,r!==null&&jf(r,o.deps)){s.memoizedState=ko(t,n,i,r);return}}Ye.flags|=e,s.memoizedState=ko(1|t,n,i,r)}function rp(e,t){return Ya(8390656,8,e,t)}function kf(e,t){return oc(2048,8,e,t)}function ux(e,t){return oc(4,2,e,t)}function dx(e,t){return oc(4,4,e,t)}function fx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hx(e,t,n){return n=n!=null?n.concat([e]):null,oc(4,4,fx.bind(null,t,e),n)}function Cf(){}function px(e,t){var n=dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mx(e,t){var n=dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gx(e,t,n){return ms&21?(Sn(n,t)||(n=w0(),Ye.lanes|=n,gs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=n)}function Zb(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var r=tu.transition;tu.transition={};try{e(!1),t()}finally{Oe=n,tu.transition=r}}function xx(){return dn().memoizedState}function e2(e,t,n){var r=Tr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yx(e))vx(t,n);else if(n=Z0(e,t,n,r),n!==null){var s=Tt();_n(n,e,r,s),bx(n,t,r)}}function t2(e,t,n){var r=Tr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yx(e))vx(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Sn(a,o)){var l=t.interleaved;l===null?(s.next=s,vf(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Z0(e,t,s,r),n!==null&&(s=Tt(),_n(n,e,r,s),bx(n,t,r))}}function yx(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function vx(e,t){to=kl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sf(e,n)}}var Cl={readContext:un,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},n2={readContext:un,useCallback:function(e,t){return Dn().memoizedState=[e,t===void 0?null:t],e},useContext:un,useEffect:rp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ya(4194308,4,fx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ya(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ya(4,2,e,t)},useMemo:function(e,t){var n=Dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=e2.bind(null,Ye,e),[r.memoizedState,e]},useRef:function(e){var t=Dn();return e={current:e},t.memoizedState=e},useState:np,useDebugValue:Cf,useDeferredValue:function(e){return Dn().memoizedState=e},useTransition:function(){var e=np(!1),t=e[0];return e=Zb.bind(null,e[1]),Dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ye,s=Dn();if(We){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),dt===null)throw Error(B(349));ms&30||sx(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,rp(ox.bind(null,r,i,e),[e]),r.flags|=2048,ko(9,ix.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Dn(),t=dt.identifierPrefix;if(We){var n=Yn,r=qn;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Eo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},r2={readContext:un,useCallback:px,useContext:un,useEffect:kf,useImperativeHandle:hx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:mx,useReducer:nu,useRef:cx,useState:function(){return nu(No)},useDebugValue:Cf,useDeferredValue:function(e){var t=dn();return gx(t,at.memoizedState,e)},useTransition:function(){var e=nu(No)[0],t=dn().memoizedState;return[e,t]},useMutableSource:nx,useSyncExternalStore:rx,useId:xx,unstable_isNewReconciler:!1},s2={readContext:un,useCallback:px,useContext:un,useEffect:kf,useImperativeHandle:hx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:mx,useReducer:ru,useRef:cx,useState:function(){return ru(No)},useDebugValue:Cf,useDeferredValue:function(e){var t=dn();return at===null?t.memoizedState=e:gx(t,at.memoizedState,e)},useTransition:function(){var e=ru(No)[0],t=dn().memoizedState;return[e,t]},useMutableSource:nx,useSyncExternalStore:rx,useId:xx,unstable_isNewReconciler:!1};function xn(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ac={isMounted:function(e){return(e=e._reactInternals)?js(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tt(),s=Tr(e),i=Gn(r,s);i.payload=t,n!=null&&(i.callback=n),t=kr(e,i,s),t!==null&&(_n(t,e,s,r),Ka(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tt(),s=Tr(e),i=Gn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=kr(e,i,s),t!==null&&(_n(t,e,s,r),Ka(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tt(),r=Tr(e),s=Gn(n,r);s.tag=2,t!=null&&(s.callback=t),t=kr(e,s,r),t!==null&&(_n(t,e,r,n),Ka(t,e,r))}};function sp(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!vo(n,r)||!vo(s,i):!0}function wx(e,t,n){var r=!1,s=Or,i=t.contextType;return typeof i=="object"&&i!==null?i=un(i):(s=Ut(t)?hs:Et.current,r=t.contextTypes,i=(r=r!=null)?ti(e,s):Or),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ac,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ip(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ac.enqueueReplaceState(t,t.state,null)}function id(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},bf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=un(i):(i=Ut(t)?hs:Et.current,s.context=ti(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(sd(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ac.enqueueReplaceState(s,s.state,null),El(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ii(e,t){try{var n="",r=t;do n+=P1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function su(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function od(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var i2=typeof WeakMap=="function"?WeakMap:Map;function _x(e,t,n){n=Gn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rl||(Rl=!0,gd=r),od(e,t)},n}function Sx(e,t,n){n=Gn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){od(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){od(e,t),typeof r!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function op(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new i2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=v2.bind(null,e,t,n),t.then(e,e))}function ap(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gn(-1,1),t.tag=2,kr(n,t,1))),n.lanes|=1),e)}var o2=ir.ReactCurrentOwner,zt=!1;function kt(e,t,n,r){t.child=e===null?J0(t,null,n,r):ri(t,e.child,n,r)}function cp(e,t,n,r,s){n=n.render;var i=t.ref;return Xs(t,s),r=Ef(e,t,n,r,i,s),n=Nf(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,er(e,t,s)):(We&&n&&hf(t),t.flags|=1,kt(e,t,r,s),t.child)}function up(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Af(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,jx(e,t,i,r,s)):(e=Ja(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:vo,n(o,r)&&e.ref===t.ref)return er(e,t,s)}return t.flags|=1,e=Rr(i,r),e.ref=t.ref,e.return=t,t.child=e}function jx(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(vo(i,r)&&e.ref===t.ref)if(zt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,er(e,t,s)}return ad(e,t,n,r,s)}function Ex(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ws,Yt),Yt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Ws,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ze(Ws,Yt),Yt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ze(Ws,Yt),Yt|=r;return kt(e,t,s,n),t.child}function Nx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ad(e,t,n,r,s){var i=Ut(n)?hs:Et.current;return i=ti(t,i),Xs(t,s),n=Ef(e,t,n,r,i,s),r=Nf(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,er(e,t,s)):(We&&r&&hf(t),t.flags|=1,kt(e,t,n,s),t.child)}function dp(e,t,n,r,s){if(Ut(n)){var i=!0;bl(t)}else i=!1;if(Xs(t,s),t.stateNode===null)Ga(e,t),wx(t,n,r),id(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=un(c):(c=Ut(n)?hs:Et.current,c=ti(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ip(t,o,r,c),pr=!1;var h=t.memoizedState;o.state=h,El(t,r,o,s),l=t.memoizedState,a!==r||h!==l||$t.current||pr?(typeof d=="function"&&(sd(t,n,d,r),l=t.memoizedState),(a=pr||sp(t,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ex(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:xn(t.type,a),o.props=c,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=un(l):(l=Ut(n)?hs:Et.current,l=ti(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&ip(t,o,r,l),pr=!1,h=t.memoizedState,o.state=h,El(t,r,o,s);var m=t.memoizedState;a!==f||h!==m||$t.current||pr?(typeof p=="function"&&(sd(t,n,p,r),m=t.memoizedState),(c=pr||sp(t,n,c,r,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ld(e,t,n,r,i,s)}function ld(e,t,n,r,s,i){Nx(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Xh(t,n,!1),er(e,t,i);r=t.stateNode,o2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ri(t,e.child,null,i),t.child=ri(t,null,a,i)):kt(e,t,a,i),t.memoizedState=r.state,s&&Xh(t,n,!0),t.child}function kx(e){var t=e.stateNode;t.pendingContext?Gh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gh(e,t.context,!1),wf(e,t.containerInfo)}function fp(e,t,n,r,s){return ni(),mf(s),t.flags|=256,kt(e,t,n,r),t.child}var cd={dehydrated:null,treeContext:null,retryLane:0};function ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cx(e,t,n){var r=t.pendingProps,s=qe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ze(qe,s&1),e===null)return nd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uc(o,r,0,null),e=cs(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ud(n),t.memoizedState=cd,e):Tf(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return a2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Rr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Rr(a,i):(i=cs(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ud(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=cd,r}return i=e.child,e=i.sibling,r=Rr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Tf(e,t){return t=uc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function va(e,t,n,r){return r!==null&&mf(r),ri(t,e.child,null,n),e=Tf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=su(Error(B(422))),va(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=uc({mode:"visible",children:r.children},s,0,null),i=cs(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ri(t,e.child,null,o),t.child.memoizedState=ud(o),t.memoizedState=cd,i);if(!(t.mode&1))return va(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=su(i,r,void 0),va(e,t,o,r)}if(a=(o&e.childLanes)!==0,zt||a){if(r=dt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zn(e,s),_n(r,e,s,-1))}return Lf(),r=su(Error(B(421))),va(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=b2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Xt=Nr(s.nextSibling),Qt=t,We=!0,bn=null,e!==null&&(sn[on++]=qn,sn[on++]=Yn,sn[on++]=ps,qn=e.id,Yn=e.overflow,ps=t),t=Tf(t,r.children),t.flags|=4096,t)}function hp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rd(e.return,t,n)}function iu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Tx(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(kt(e,t,r.children,n),r=qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hp(e,n,t);else if(e.tag===19)hp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ze(qe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Nl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),iu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Nl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}iu(t,!0,n,null,i);break;case"together":iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Rr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function l2(e,t,n){switch(t.tag){case 3:kx(t),ni();break;case 5:tx(t);break;case 1:Ut(t.type)&&bl(t);break;case 4:wf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ze(Sl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ze(qe,qe.current&1),t.flags|=128,null):n&t.child.childLanes?Cx(e,t,n):(ze(qe,qe.current&1),e=er(e,t,n),e!==null?e.sibling:null);ze(qe,qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Tx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(qe,qe.current),r)break;return null;case 22:case 23:return t.lanes=0,Ex(e,t,n)}return er(e,t,n)}var Rx,dd,Dx,Px;Rx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dd=function(){};Dx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ts(Ln.current);var i=null;switch(n){case"input":s=Mu(e,s),r=Mu(e,r),i=[];break;case"select":s=Ge({},s,{value:void 0}),r=Ge({},r,{value:void 0}),i=[];break;case"textarea":s=Au(e,s),r=Au(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yl)}Fu(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$e("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Px=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ti(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function c2(e,t,n){var r=t.pendingProps;switch(pf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return Ut(t.type)&&vl(),bt(t),null;case 3:return r=t.stateNode,si(),He($t),He(Et),Sf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bn!==null&&(vd(bn),bn=null))),dd(e,t),bt(t),null;case 5:_f(t);var s=ts(jo.current);if(n=t.type,e!==null&&t.stateNode!=null)Dx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return bt(t),null}if(e=ts(Ln.current),xa(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Mn]=t,r[_o]=i,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(s=0;s<Hi.length;s++)$e(Hi[s],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":_h(r,i),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$e("invalid",r);break;case"textarea":jh(r,i),$e("invalid",r)}Fu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ga(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ga(r.textContent,a,e),s=["children",""+a]):fo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":la(r),Sh(r,i,!0);break;case"textarea":la(r),Eh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=o0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mn]=t,e[_o]=r,Rx(e,t,!1,!1),t.stateNode=e;e:{switch(o=zu(n,r),n){case"dialog":$e("cancel",e),$e("close",e),s=r;break;case"iframe":case"object":case"embed":$e("load",e),s=r;break;case"video":case"audio":for(s=0;s<Hi.length;s++)$e(Hi[s],e);s=r;break;case"source":$e("error",e),s=r;break;case"img":case"image":case"link":$e("error",e),$e("load",e),s=r;break;case"details":$e("toggle",e),s=r;break;case"input":_h(e,r),s=Mu(e,r),$e("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ge({},r,{value:void 0}),$e("invalid",e);break;case"textarea":jh(e,r),s=Au(e,r),$e("invalid",e);break;default:s=r}Fu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?c0(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&a0(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ho(e,l):typeof l=="number"&&ho(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&$e("scroll",e):l!=null&&Jd(e,i,l,o))}switch(n){case"input":la(e),Sh(e,r,!1);break;case"textarea":la(e),Eh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ks(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ks(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bt(t),null;case 6:if(e&&t.stateNode!=null)Px(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=ts(jo.current),ts(Ln.current),xa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mn]=t,(i=r.nodeValue!==n)&&(e=Qt,e!==null))switch(e.tag){case 3:ga(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ga(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mn]=t,t.stateNode=r}return bt(t),null;case 13:if(He(qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Xt!==null&&t.mode&1&&!(t.flags&128))X0(),ni(),t.flags|=98560,i=!1;else if(i=xa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Mn]=t}else ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bt(t),i=!1}else bn!==null&&(vd(bn),bn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?ct===0&&(ct=3):Lf())),t.updateQueue!==null&&(t.flags|=4),bt(t),null);case 4:return si(),dd(e,t),e===null&&bo(t.stateNode.containerInfo),bt(t),null;case 10:return yf(t.type._context),bt(t),null;case 17:return Ut(t.type)&&vl(),bt(t),null;case 19:if(He(qe),i=t.memoizedState,i===null)return bt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ti(i,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Nl(e),o!==null){for(t.flags|=128,Ti(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(qe,qe.current&1|2),t.child}e=e.sibling}i.tail!==null&&et()>oi&&(t.flags|=128,r=!0,Ti(i,!1),t.lanes=4194304)}else{if(!r)if(e=Nl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ti(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!We)return bt(t),null}else 2*et()-i.renderingStartTime>oi&&n!==1073741824&&(t.flags|=128,r=!0,Ti(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=et(),t.sibling=null,n=qe.current,ze(qe,r?n&1|2:n&1),t):(bt(t),null);case 22:case 23:return Of(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Yt&1073741824&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function u2(e,t){switch(pf(t),t.tag){case 1:return Ut(t.type)&&vl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return si(),He($t),He(Et),Sf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _f(t),null;case 13:if(He(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(qe),null;case 4:return si(),null;case 10:return yf(t.type._context),null;case 22:case 23:return Of(),null;case 24:return null;default:return null}}var ba=!1,_t=!1,d2=typeof WeakSet=="function"?WeakSet:Set,q=null;function Vs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function fd(e,t,n){try{n()}catch(r){Je(e,t,r)}}var pp=!1;function f2(e,t){if(Gu=ml,e=I0(),ff(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xu={focusedElem:e,selectionRange:n},ml=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,v=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:xn(t.type,x),v);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(S){Je(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return m=pp,pp=!1,m}function no(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&fd(t,n,i)}s=s.next}while(s!==r)}}function lc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mx(e){var t=e.alternate;t!==null&&(e.alternate=null,Mx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mn],delete t[_o],delete t[Zu],delete t[Yb],delete t[Gb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ox(e){return e.tag===5||e.tag===3||e.tag===4}function mp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ox(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yl));else if(r!==4&&(e=e.child,e!==null))for(pd(e,t,n),e=e.sibling;e!==null;)pd(e,t,n),e=e.sibling}function md(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(md(e,t,n),e=e.sibling;e!==null;)md(e,t,n),e=e.sibling}var pt=null,yn=!1;function cr(e,t,n){for(n=n.child;n!==null;)Lx(e,t,n),n=n.sibling}function Lx(e,t,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(ec,n)}catch{}switch(n.tag){case 5:_t||Vs(n,t);case 6:var r=pt,s=yn;pt=null,cr(e,t,n),pt=r,yn=s,pt!==null&&(yn?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(yn?(e=pt,n=n.stateNode,e.nodeType===8?Jc(e.parentNode,n):e.nodeType===1&&Jc(e,n),xo(e)):Jc(pt,n.stateNode));break;case 4:r=pt,s=yn,pt=n.stateNode.containerInfo,yn=!0,cr(e,t,n),pt=r,yn=s;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&fd(n,t,o),s=s.next}while(s!==r)}cr(e,t,n);break;case 1:if(!_t&&(Vs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,t,a)}cr(e,t,n);break;case 21:cr(e,t,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,cr(e,t,n),_t=r):cr(e,t,n);break;default:cr(e,t,n)}}function gp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new d2),t.forEach(function(r){var s=w2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,yn=!1;break e;case 3:pt=a.stateNode.containerInfo,yn=!0;break e;case 4:pt=a.stateNode.containerInfo,yn=!0;break e}a=a.return}if(pt===null)throw Error(B(160));Lx(i,o,s),pt=null,yn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Je(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ax(t,e),t=t.sibling}function Ax(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gn(t,e),kn(e),r&4){try{no(3,e,e.return),lc(3,e)}catch(x){Je(e,e.return,x)}try{no(5,e,e.return)}catch(x){Je(e,e.return,x)}}break;case 1:gn(t,e),kn(e),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(gn(t,e),kn(e),r&512&&n!==null&&Vs(n,n.return),e.flags&32){var s=e.stateNode;try{ho(s,"")}catch(x){Je(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&s0(s,i),zu(a,o);var c=zu(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?c0(s,f):d==="dangerouslySetInnerHTML"?a0(s,f):d==="children"?ho(s,f):Jd(s,d,f,c)}switch(a){case"input":Ou(s,i);break;case"textarea":i0(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ks(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ks(s,!!i.multiple,i.defaultValue,!0):Ks(s,!!i.multiple,i.multiple?[]:"",!1))}s[_o]=i}catch(x){Je(e,e.return,x)}}break;case 6:if(gn(t,e),kn(e),r&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Je(e,e.return,x)}}break;case 3:if(gn(t,e),kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xo(t.containerInfo)}catch(x){Je(e,e.return,x)}break;case 4:gn(t,e),kn(e);break;case 13:gn(t,e),kn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Pf=et())),r&4&&gp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(c=_t)||d,gn(t,e),_t=c):gn(t,e),kn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(q=e,d=e.child;d!==null;){for(f=q=d;q!==null;){switch(h=q,p=h.child,h.tag){case 0:case 11:case 14:case 15:no(4,h,h.return);break;case 1:Vs(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(x){Je(r,n,x)}}break;case 5:Vs(h,h.return);break;case 22:if(h.memoizedState!==null){yp(f);continue}}p!==null?(p.return=h,q=p):yp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=l0("display",o))}catch(x){Je(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Je(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gn(t,e),kn(e),r&4&&gp(e);break;case 21:break;default:gn(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ox(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ho(s,""),r.flags&=-33);var i=mp(e);md(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=mp(e);pd(e,a,o);break;default:throw Error(B(161))}}catch(l){Je(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function h2(e,t,n){q=e,Ix(e)}function Ix(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ba;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||_t;a=ba;var c=_t;if(ba=o,(_t=l)&&!c)for(q=s;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?vp(s):l!==null?(l.return=o,q=l):vp(s);for(;i!==null;)q=i,Ix(i),i=i.sibling;q=s,ba=a,_t=c}xp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):xp(e)}}function xp(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||lc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_t)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:xn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}_t||t.flags&512&&hd(t)}catch(h){Je(t,t.return,h)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function yp(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function vp(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lc(4,t)}catch(l){Je(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Je(t,s,l)}}var i=t.return;try{hd(t)}catch(l){Je(t,i,l)}break;case 5:var o=t.return;try{hd(t)}catch(l){Je(t,o,l)}}}catch(l){Je(t,t.return,l)}if(t===e){q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,q=a;break}q=t.return}}var p2=Math.ceil,Tl=ir.ReactCurrentDispatcher,Rf=ir.ReactCurrentOwner,cn=ir.ReactCurrentBatchConfig,Ee=0,dt=null,ot=null,xt=0,Yt=0,Ws=Fr(0),ct=0,Co=null,gs=0,cc=0,Df=0,ro=null,It=null,Pf=0,oi=1/0,Vn=null,Rl=!1,gd=null,Cr=null,wa=!1,vr=null,Dl=0,so=0,xd=null,Xa=-1,Qa=0;function Tt(){return Ee&6?et():Xa!==-1?Xa:Xa=et()}function Tr(e){return e.mode&1?Ee&2&&xt!==0?xt&-xt:Qb.transition!==null?(Qa===0&&(Qa=w0()),Qa):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:C0(e.type)),e):1}function _n(e,t,n,r){if(50<so)throw so=0,xd=null,Error(B(185));Uo(e,n,r),(!(Ee&2)||e!==dt)&&(e===dt&&(!(Ee&2)&&(cc|=n),ct===4&&gr(e,xt)),Ht(e,r),n===1&&Ee===0&&!(t.mode&1)&&(oi=et()+500,ic&&zr()))}function Ht(e,t){var n=e.callbackNode;Q1(e,t);var r=pl(e,e===dt?xt:0);if(r===0)n!==null&&Ch(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ch(n),t===1)e.tag===0?Xb(bp.bind(null,e)):q0(bp.bind(null,e)),Kb(function(){!(Ee&6)&&zr()}),n=null;else{switch(_0(r)){case 1:n=rf;break;case 4:n=v0;break;case 16:n=hl;break;case 536870912:n=b0;break;default:n=hl}n=Wx(n,Fx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fx(e,t){if(Xa=-1,Qa=0,Ee&6)throw Error(B(327));var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var r=pl(e,e===dt?xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Pl(e,r);else{t=r;var s=Ee;Ee|=2;var i=Bx();(dt!==e||xt!==t)&&(Vn=null,oi=et()+500,ls(e,t));do try{x2();break}catch(a){zx(e,a)}while(!0);xf(),Tl.current=i,Ee=s,ot!==null?t=0:(dt=null,xt=0,t=ct)}if(t!==0){if(t===2&&(s=Vu(e),s!==0&&(r=s,t=yd(e,s))),t===1)throw n=Co,ls(e,0),gr(e,r),Ht(e,et()),n;if(t===6)gr(e,r);else{if(s=e.current.alternate,!(r&30)&&!m2(s)&&(t=Pl(e,r),t===2&&(i=Vu(e),i!==0&&(r=i,t=yd(e,i))),t===1))throw n=Co,ls(e,0),gr(e,r),Ht(e,et()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Gr(e,It,Vn);break;case 3:if(gr(e,r),(r&130023424)===r&&(t=Pf+500-et(),10<t)){if(pl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Tt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ju(Gr.bind(null,e,It,Vn),t);break}Gr(e,It,Vn);break;case 4:if(gr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-wn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*p2(r/1960))-r,10<r){e.timeoutHandle=Ju(Gr.bind(null,e,It,Vn),r);break}Gr(e,It,Vn);break;case 5:Gr(e,It,Vn);break;default:throw Error(B(329))}}}return Ht(e,et()),e.callbackNode===n?Fx.bind(null,e):null}function yd(e,t){var n=ro;return e.current.memoizedState.isDehydrated&&(ls(e,t).flags|=256),e=Pl(e,t),e!==2&&(t=It,It=n,t!==null&&vd(t)),e}function vd(e){It===null?It=e:It.push.apply(It,e)}function m2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Sn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gr(e,t){for(t&=~Df,t&=~cc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wn(t),r=1<<n;e[n]=-1,t&=~r}}function bp(e){if(Ee&6)throw Error(B(327));Qs();var t=pl(e,0);if(!(t&1))return Ht(e,et()),null;var n=Pl(e,t);if(e.tag!==0&&n===2){var r=Vu(e);r!==0&&(t=r,n=yd(e,r))}if(n===1)throw n=Co,ls(e,0),gr(e,t),Ht(e,et()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gr(e,It,Vn),Ht(e,et()),null}function Mf(e,t){var n=Ee;Ee|=1;try{return e(t)}finally{Ee=n,Ee===0&&(oi=et()+500,ic&&zr())}}function xs(e){vr!==null&&vr.tag===0&&!(Ee&6)&&Qs();var t=Ee;Ee|=1;var n=cn.transition,r=Oe;try{if(cn.transition=null,Oe=1,e)return e()}finally{Oe=r,cn.transition=n,Ee=t,!(Ee&6)&&zr()}}function Of(){Yt=Ws.current,He(Ws)}function ls(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wb(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(pf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vl();break;case 3:si(),He($t),He(Et),Sf();break;case 5:_f(r);break;case 4:si();break;case 13:He(qe);break;case 19:He(qe);break;case 10:yf(r.type._context);break;case 22:case 23:Of()}n=n.return}if(dt=e,ot=e=Rr(e.current,null),xt=Yt=t,ct=0,Co=null,Df=cc=gs=0,It=ro=null,es!==null){for(t=0;t<es.length;t++)if(n=es[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}es=null}return e}function zx(e,t){do{var n=ot;try{if(xf(),qa.current=Cl,kl){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}kl=!1}if(ms=0,ut=at=Ye=null,to=!1,Eo=0,Rf.current=null,n===null||n.return===null){ct=1,Co=t,ot=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ap(o);if(p!==null){p.flags&=-257,lp(p,o,a,i,t),p.mode&1&&op(i,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var x=new Set;x.add(l),t.updateQueue=x}else m.add(l);break e}else{if(!(t&1)){op(i,c,t),Lf();break e}l=Error(B(426))}}else if(We&&a.mode&1){var v=ap(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),lp(v,o,a,i,t),mf(ii(l,a));break e}}i=l=ii(l,a),ct!==4&&(ct=2),ro===null?ro=[i]:ro.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=_x(i,l,t);ep(i,y);break e;case 1:a=l;var g=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Cr===null||!Cr.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Sx(i,a,t);ep(i,S);break e}}i=i.return}while(i!==null)}Ux(n)}catch(j){t=j,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function Bx(){var e=Tl.current;return Tl.current=Cl,e===null?Cl:e}function Lf(){(ct===0||ct===3||ct===2)&&(ct=4),dt===null||!(gs&268435455)&&!(cc&268435455)||gr(dt,xt)}function Pl(e,t){var n=Ee;Ee|=2;var r=Bx();(dt!==e||xt!==t)&&(Vn=null,ls(e,t));do try{g2();break}catch(s){zx(e,s)}while(!0);if(xf(),Ee=n,Tl.current=r,ot!==null)throw Error(B(261));return dt=null,xt=0,ct}function g2(){for(;ot!==null;)$x(ot)}function x2(){for(;ot!==null&&!U1();)$x(ot)}function $x(e){var t=Vx(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?Ux(e):ot=t,Rf.current=null}function Ux(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=u2(n,t),n!==null){n.flags&=32767,ot=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,ot=null;return}}else if(n=c2(n,t,Yt),n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);ct===0&&(ct=5)}function Gr(e,t,n){var r=Oe,s=cn.transition;try{cn.transition=null,Oe=1,y2(e,t,n,r)}finally{cn.transition=s,Oe=r}return null}function y2(e,t,n,r){do Qs();while(vr!==null);if(Ee&6)throw Error(B(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(J1(e,i),e===dt&&(ot=dt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wa||(wa=!0,Wx(hl,function(){return Qs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=cn.transition,cn.transition=null;var o=Oe;Oe=1;var a=Ee;Ee|=4,Rf.current=null,f2(e,n),Ax(n,e),Fb(Xu),ml=!!Gu,Xu=Gu=null,e.current=n,h2(n),H1(),Ee=a,Oe=o,cn.transition=i}else e.current=n;if(wa&&(wa=!1,vr=e,Dl=s),i=e.pendingLanes,i===0&&(Cr=null),K1(n.stateNode),Ht(e,et()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rl)throw Rl=!1,e=gd,gd=null,e;return Dl&1&&e.tag!==0&&Qs(),i=e.pendingLanes,i&1?e===xd?so++:(so=0,xd=e):so=0,zr(),null}function Qs(){if(vr!==null){var e=_0(Dl),t=cn.transition,n=Oe;try{if(cn.transition=null,Oe=16>e?16:e,vr===null)var r=!1;else{if(e=vr,vr=null,Dl=0,Ee&6)throw Error(B(331));var s=Ee;for(Ee|=4,q=e.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(q=c;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:no(8,d,i)}var f=d.child;if(f!==null)f.return=d,q=f;else for(;q!==null;){d=q;var h=d.sibling,p=d.return;if(Mx(d),d===c){q=null;break}if(h!==null){h.return=p,q=h;break}q=p}}}var m=i.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:no(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,q=y;break e}q=i.return}}var g=e.current;for(q=g;q!==null;){o=q;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,q=b;else e:for(o=g;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lc(9,a)}}catch(j){Je(a,a.return,j)}if(a===o){q=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,q=S;break e}q=a.return}}if(Ee=s,zr(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(ec,e)}catch{}r=!0}return r}finally{Oe=n,cn.transition=t}}return!1}function wp(e,t,n){t=ii(n,t),t=_x(e,t,1),e=kr(e,t,1),t=Tt(),e!==null&&(Uo(e,1,t),Ht(e,t))}function Je(e,t,n){if(e.tag===3)wp(e,e,n);else for(;t!==null;){if(t.tag===3){wp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cr===null||!Cr.has(r))){e=ii(n,e),e=Sx(t,e,1),t=kr(t,e,1),e=Tt(),t!==null&&(Uo(t,1,e),Ht(t,e));break}}t=t.return}}function v2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Tt(),e.pingedLanes|=e.suspendedLanes&n,dt===e&&(xt&n)===n&&(ct===4||ct===3&&(xt&130023424)===xt&&500>et()-Pf?ls(e,0):Df|=n),Ht(e,t)}function Hx(e,t){t===0&&(e.mode&1?(t=da,da<<=1,!(da&130023424)&&(da=4194304)):t=1);var n=Tt();e=Zn(e,t),e!==null&&(Uo(e,t,n),Ht(e,n))}function b2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hx(e,n)}function w2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),Hx(e,n)}var Vx;Vx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$t.current)zt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zt=!1,l2(e,t,n);zt=!!(e.flags&131072)}else zt=!1,We&&t.flags&1048576&&Y0(t,_l,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ga(e,t),e=t.pendingProps;var s=ti(t,Et.current);Xs(t,n),s=Ef(null,t,r,e,s,n);var i=Nf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(r)?(i=!0,bl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bf(t),s.updater=ac,t.stateNode=s,s._reactInternals=t,id(t,r,e,n),t=ld(null,t,r,!0,i,n)):(t.tag=0,We&&i&&hf(t),kt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ga(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=S2(r),e=xn(r,e),s){case 0:t=ad(null,t,r,e,n);break e;case 1:t=dp(null,t,r,e,n);break e;case 11:t=cp(null,t,r,e,n);break e;case 14:t=up(null,t,r,xn(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xn(r,s),ad(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xn(r,s),dp(e,t,r,s,n);case 3:e:{if(kx(t),e===null)throw Error(B(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ex(e,t),El(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ii(Error(B(423)),t),t=fp(e,t,r,n,s);break e}else if(r!==s){s=ii(Error(B(424)),t),t=fp(e,t,r,n,s);break e}else for(Xt=Nr(t.stateNode.containerInfo.firstChild),Qt=t,We=!0,bn=null,n=J0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ni(),r===s){t=er(e,t,n);break e}kt(e,t,r,n)}t=t.child}return t;case 5:return tx(t),e===null&&nd(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Qu(r,s)?o=null:i!==null&&Qu(r,i)&&(t.flags|=32),Nx(e,t),kt(e,t,o,n),t.child;case 6:return e===null&&nd(t),null;case 13:return Cx(e,t,n);case 4:return wf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ri(t,null,r,n):kt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xn(r,s),cp(e,t,r,s,n);case 7:return kt(e,t,t.pendingProps,n),t.child;case 8:return kt(e,t,t.pendingProps.children,n),t.child;case 12:return kt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ze(Sl,r._currentValue),r._currentValue=o,i!==null)if(Sn(i.value,o)){if(i.children===s.children&&!$t.current){t=er(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Gn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),rd(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rd(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}kt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Xs(t,n),s=un(s),r=r(s),t.flags|=1,kt(e,t,r,n),t.child;case 14:return r=t.type,s=xn(r,t.pendingProps),s=xn(r.type,s),up(e,t,r,s,n);case 15:return jx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:xn(r,s),Ga(e,t),t.tag=1,Ut(r)?(e=!0,bl(t)):e=!1,Xs(t,n),wx(t,r,s),id(t,r,s,n),ld(null,t,r,!0,e,n);case 19:return Tx(e,t,n);case 22:return Ex(e,t,n)}throw Error(B(156,t.tag))};function Wx(e,t){return y0(e,t)}function _2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,n,r){return new _2(e,t,n,r)}function Af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function S2(e){if(typeof e=="function")return Af(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ef)return 11;if(e===tf)return 14}return 2}function Rr(e,t){var n=e.alternate;return n===null?(n=an(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ja(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Af(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ls:return cs(n.children,s,i,t);case Zd:o=8,s|=8;break;case Tu:return e=an(12,n,t,s|2),e.elementType=Tu,e.lanes=i,e;case Ru:return e=an(13,n,t,s),e.elementType=Ru,e.lanes=i,e;case Du:return e=an(19,n,t,s),e.elementType=Du,e.lanes=i,e;case t0:return uc(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zg:o=10;break e;case e0:o=9;break e;case ef:o=11;break e;case tf:o=14;break e;case hr:o=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=an(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function cs(e,t,n,r){return e=an(7,e,r,t),e.lanes=n,e}function uc(e,t,n,r){return e=an(22,e,r,t),e.elementType=t0,e.lanes=n,e.stateNode={isHidden:!1},e}function ou(e,t,n){return e=an(6,e,null,t),e.lanes=n,e}function au(e,t,n){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$c(0),this.expirationTimes=$c(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$c(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function If(e,t,n,r,s,i,o,a,l){return e=new j2(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=an(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bf(i),e}function E2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kx(e){if(!e)return Or;e=e._reactInternals;e:{if(js(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Ut(n))return K0(e,n,t)}return t}function qx(e,t,n,r,s,i,o,a,l){return e=If(n,r,!0,e,s,i,o,a,l),e.context=Kx(null),n=e.current,r=Tt(),s=Tr(n),i=Gn(r,s),i.callback=t??null,kr(n,i,s),e.current.lanes=s,Uo(e,s,r),Ht(e,r),e}function dc(e,t,n,r){var s=t.current,i=Tt(),o=Tr(s);return n=Kx(n),t.context===null?t.context=n:t.pendingContext=n,t=Gn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=kr(s,t,o),e!==null&&(_n(e,s,o,i),Ka(e,s,o)),o}function Ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _p(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ff(e,t){_p(e,t),(e=e.alternate)&&_p(e,t)}function N2(){return null}var Yx=typeof reportError=="function"?reportError:function(e){console.error(e)};function zf(e){this._internalRoot=e}fc.prototype.render=zf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));dc(e,t,null,null)};fc.prototype.unmount=zf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xs(function(){dc(null,e,null,null)}),t[Jn]=null}};function fc(e){this._internalRoot=e}fc.prototype.unstable_scheduleHydration=function(e){if(e){var t=E0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mr.length&&t!==0&&t<mr[n].priority;n++);mr.splice(n,0,e),n===0&&k0(e)}};function Bf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sp(){}function k2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Ml(o);i.call(c)}}var o=qx(t,r,e,0,null,!1,!1,"",Sp);return e._reactRootContainer=o,e[Jn]=o.current,bo(e.nodeType===8?e.parentNode:e),xs(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Ml(l);a.call(c)}}var l=If(e,0,!1,null,null,!1,!1,"",Sp);return e._reactRootContainer=l,e[Jn]=l.current,bo(e.nodeType===8?e.parentNode:e),xs(function(){dc(t,l,n,r)}),l}function pc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ml(o);a.call(l)}}dc(t,o,e,s)}else o=k2(n,t,e,s,r);return Ml(o)}S0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ui(t.pendingLanes);n!==0&&(sf(t,n|1),Ht(t,et()),!(Ee&6)&&(oi=et()+500,zr()))}break;case 13:xs(function(){var r=Zn(e,1);if(r!==null){var s=Tt();_n(r,e,1,s)}}),Ff(e,1)}};of=function(e){if(e.tag===13){var t=Zn(e,134217728);if(t!==null){var n=Tt();_n(t,e,134217728,n)}Ff(e,134217728)}};j0=function(e){if(e.tag===13){var t=Tr(e),n=Zn(e,t);if(n!==null){var r=Tt();_n(n,e,t,r)}Ff(e,t)}};E0=function(){return Oe};N0=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}};$u=function(e,t,n){switch(t){case"input":if(Ou(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=sc(r);if(!s)throw Error(B(90));r0(r),Ou(r,s)}}}break;case"textarea":i0(e,n);break;case"select":t=n.value,t!=null&&Ks(e,!!n.multiple,t,!1)}};f0=Mf;h0=xs;var C2={usingClientEntryPoint:!1,Events:[Vo,zs,sc,u0,d0,Mf]},Ri={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T2={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=g0(e),e===null?null:e.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||N2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{ec=_a.inject(T2),On=_a}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C2;Zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bf(t))throw Error(B(200));return E2(e,t,null,n)};Zt.createRoot=function(e,t){if(!Bf(e))throw Error(B(299));var n=!1,r="",s=Yx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=If(e,1,!1,null,null,n,!1,r,s),e[Jn]=t.current,bo(e.nodeType===8?e.parentNode:e),new zf(t)};Zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=g0(t),e=e===null?null:e.stateNode,e};Zt.flushSync=function(e){return xs(e)};Zt.hydrate=function(e,t,n){if(!hc(t))throw Error(B(200));return pc(null,e,t,!0,n)};Zt.hydrateRoot=function(e,t,n){if(!Bf(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Yx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=qx(t,null,e,1,n??null,s,!1,i,o),e[Jn]=t.current,bo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new fc(t)};Zt.render=function(e,t,n){if(!hc(t))throw Error(B(200));return pc(null,e,t,!1,n)};Zt.unmountComponentAtNode=function(e){if(!hc(e))throw Error(B(40));return e._reactRootContainer?(xs(function(){pc(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1};Zt.unstable_batchedUpdates=Mf;Zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hc(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return pc(e,t,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function Gx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gx)}catch(e){console.error(e)}}Gx(),Gg.exports=Zt;var $f=Gg.exports;const R2=Wd($f),D2=Ig({__proto__:null,default:R2},[$f]);var Xx,jp=$f;Xx=jp.createRoot,jp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}var it;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(it||(it={}));const Ep="popstate";function P2(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return To("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ys(s)}return O2(t,n,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ai(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function M2(){return Math.random().toString(36).substr(2,8)}function Np(e,t){return{usr:e.state,key:e.key,idx:t}}function To(e,t,n,r){return n===void 0&&(n=null),Ve({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Br(t):t,{state:n,key:t&&t.key||r||M2()})}function ys(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Br(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function O2(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=it.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Ve({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=it.Pop;let v=d(),y=v==null?null:v-c;c=v,l&&l({action:a,location:x.location,delta:y})}function h(v,y){a=it.Push;let g=To(x.location,v,y);c=d()+1;let b=Np(g,c),S=x.createHref(g);try{o.pushState(b,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}i&&l&&l({action:a,location:x.location,delta:1})}function p(v,y){a=it.Replace;let g=To(x.location,v,y);c=d();let b=Np(g,c),S=x.createHref(g);o.replaceState(b,"",S),i&&l&&l({action:a,location:x.location,delta:0})}function m(v){let y=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof v=="string"?v:ys(v);return g=g.replace(/ $/,"%20"),xe(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let x={get action(){return a},get location(){return e(s,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ep,f),l=v,()=>{s.removeEventListener(Ep,f),l=null}},createHref(v){return t(s,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return o.go(v)}};return x}var Pe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pe||(Pe={}));const L2=new Set(["lazy","caseSensitive","path","id","index","children"]);function A2(e){return e.index===!0}function Ol(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(xe(s.index!==!0||!s.children,"Cannot specify children on an index route"),xe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),A2(s)){let l=Ve({},s,t(s),{id:a});return r[a]=l,l}else{let l=Ve({},s,t(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Ol(s.children,t,o,r)),l}})}function Qr(e,t,n){return n===void 0&&(n="/"),Za(e,t,n,!1)}function Za(e,t,n,r){let s=typeof t=="string"?Br(t):t,i=hi(s.pathname||"/",n);if(i==null)return null;let o=Qx(e);F2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=G2(i);a=q2(o[l],c,r)}return a}function I2(e,t){let{route:n,pathname:r,params:s}=e;return{id:n.id,pathname:r,params:s,data:t[n.id],handle:n.handle}}function Qx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Xn([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Qx(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:W2(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Jx(i.path))s(i,o,l)}),t}function Jx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Jx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function F2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:K2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const z2=/^:[\w-]+$/,B2=3,$2=2,U2=1,H2=10,V2=-2,kp=e=>e==="*";function W2(e,t){let n=e.split("/"),r=n.length;return n.some(kp)&&(r+=V2),t&&(r+=$2),n.filter(s=>!kp(s)).reduce((s,i)=>s+(z2.test(i)?B2:i===""?U2:H2),r)}function K2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function q2(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Cp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Cp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Xn([i,f.pathname]),pathnameBase:J2(Xn([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Xn([i,f.pathnameBase]))}return o}function Cp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Y2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let x=a[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const m=a[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Y2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ai(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function G2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ai(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function X2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Br(e):e;return{pathname:n?n.startsWith("/")?n:Q2(n,t):t,search:Z2(r),hash:ew(s)}}function Q2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mc(e,t){let n=Zx(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gc(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Br(e):(s=Ve({},e),xe(!s.pathname||!s.pathname.includes("?"),lu("?","pathname","search",s)),xe(!s.pathname||!s.pathname.includes("#"),lu("#","pathname","hash",s)),xe(!s.search||!s.search.includes("#"),lu("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=X2(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Xn=e=>e.join("/").replace(/\/\/+/g,"/"),J2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ew=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Ll{constructor(t,n,r,s){s===void 0&&(s=!1),this.status=t,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ro(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ey=["post","put","patch","delete"],tw=new Set(ey),nw=["get",...ey],rw=new Set(nw),sw=new Set([301,302,303,307,308]),iw=new Set([307,308]),cu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ow={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Di={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Uf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aw=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),ty="remix-router-transitions";function lw(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;xe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let E=e.detectErrorBoundary;s=C=>({hasErrorBoundary:E(C)})}else s=aw;let i={},o=Ol(e.routes,s,void 0,i),a,l=e.basename||"/",c=e.dataStrategy||fw,d=e.patchRoutesOnNavigation,f=Ve({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,p=new Set,m=null,x=null,v=null,y=e.hydrationData!=null,g=Qr(o,e.history.location,l),b=!1,S=null;if(g==null&&!d){let E=At(404,{pathname:e.history.location.pathname}),{matches:C,route:D}=zp(o);g=C,S={[D.id]:E}}g&&!e.hydrationData&&na(g,o,e.history.location.pathname).active&&(g=null);let j;if(g)if(g.some(E=>E.route.lazy))j=!1;else if(!g.some(E=>E.route.loader))j=!0;else if(f.v7_partialHydration){let E=e.hydrationData?e.hydrationData.loaderData:null,C=e.hydrationData?e.hydrationData.errors:null;if(C){let D=g.findIndex(F=>C[F.route.id]!==void 0);j=g.slice(0,D+1).every(F=>!wd(F.route,E,C))}else j=g.every(D=>!wd(D.route,E,C))}else j=e.hydrationData!=null;else if(j=!1,g=[],f.v7_partialHydration){let E=na(null,o,e.history.location.pathname);E.active&&E.matches&&(b=!0,g=E.matches)}let k,w={historyAction:e.history.action,location:e.history.location,matches:g,initialized:j,navigation:cu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||S,fetchers:new Map,blockers:new Map},N=it.Pop,L=!1,R,A=!1,M=new Map,V=null,X=!1,Y=!1,se=[],z=new Set,O=new Map,U=0,K=-1,te=new Map,I=new Set,ue=new Map,ae=new Map,le=new Set,ie=new Map,Z=new Map,we;function rt(){if(h=e.history.listen(E=>{let{action:C,location:D,delta:F}=E;if(we){we(),we=void 0;return}ai(Z.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let H=fh({currentLocation:w.location,nextLocation:D,historyAction:C});if(H&&F!=null){let re=new Promise(ce=>{we=ce});e.history.go(F*-1),ta(H,{state:"blocked",location:D,proceed(){ta(H,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),re.then(()=>e.history.go(F))},reset(){let ce=new Map(w.blockers);ce.set(H,Di),me({blockers:ce})}});return}return Be(C,D)}),n){Nw(t,M);let E=()=>kw(t,M);t.addEventListener("pagehide",E),V=()=>t.removeEventListener("pagehide",E)}return w.initialized||Be(it.Pop,w.location,{initialHydration:!0}),k}function Nt(){h&&h(),V&&V(),p.clear(),R&&R.abort(),w.fetchers.forEach((E,C)=>fe(C)),w.blockers.forEach((E,C)=>dh(C))}function ve(E){return p.add(E),()=>p.delete(E)}function me(E,C){C===void 0&&(C={}),w=Ve({},w,E);let D=[],F=[];f.v7_fetcherPersist&&w.fetchers.forEach((H,re)=>{H.state==="idle"&&(le.has(re)?F.push(re):D.push(re))}),le.forEach(H=>{!w.fetchers.has(H)&&!O.has(H)&&F.push(H)}),[...p].forEach(H=>H(w,{deletedFetchers:F,viewTransitionOpts:C.viewTransitionOpts,flushSync:C.flushSync===!0})),f.v7_fetcherPersist?(D.forEach(H=>w.fetchers.delete(H)),F.forEach(H=>fe(H))):F.forEach(H=>le.delete(H))}function T(E,C,D){var F,H;let{flushSync:re}=D===void 0?{}:D,ce=w.actionData!=null&&w.navigation.formMethod!=null&&vn(w.navigation.formMethod)&&w.navigation.state==="loading"&&((F=E.state)==null?void 0:F._isRedirect)!==!0,Q;C.actionData?Object.keys(C.actionData).length>0?Q=C.actionData:Q=null:ce?Q=w.actionData:Q=null;let J=C.loaderData?Ip(w.loaderData,C.loaderData,C.matches||[],C.errors):w.loaderData,G=w.blockers;G.size>0&&(G=new Map(G),G.forEach((Se,ht)=>G.set(ht,Di)));let ee=L===!0||w.navigation.formMethod!=null&&vn(w.navigation.formMethod)&&((H=E.state)==null?void 0:H._isRedirect)!==!0;a&&(o=a,a=void 0),X||N===it.Pop||(N===it.Push?e.history.push(E,E.state):N===it.Replace&&e.history.replace(E,E.state));let pe;if(N===it.Pop){let Se=M.get(w.location.pathname);Se&&Se.has(E.pathname)?pe={currentLocation:w.location,nextLocation:E}:M.has(E.pathname)&&(pe={currentLocation:E,nextLocation:w.location})}else if(A){let Se=M.get(w.location.pathname);Se?Se.add(E.pathname):(Se=new Set([E.pathname]),M.set(w.location.pathname,Se)),pe={currentLocation:w.location,nextLocation:E}}me(Ve({},C,{actionData:Q,loaderData:J,historyAction:N,location:E,initialized:!0,navigation:cu,revalidation:"idle",restoreScrollPosition:ph(E,C.matches||w.matches),preventScrollReset:ee,blockers:G}),{viewTransitionOpts:pe,flushSync:re===!0}),N=it.Pop,L=!1,A=!1,X=!1,Y=!1,se=[]}async function W(E,C){if(typeof E=="number"){e.history.go(E);return}let D=bd(w.location,w.matches,l,f.v7_prependBasename,E,f.v7_relativeSplatPath,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:F,submission:H,error:re}=Tp(f.v7_normalizeFormMethod,!1,D,C),ce=w.location,Q=To(w.location,F,C&&C.state);Q=Ve({},Q,e.history.encodeLocation(Q));let J=C&&C.replace!=null?C.replace:void 0,G=it.Push;J===!0?G=it.Replace:J===!1||H!=null&&vn(H.formMethod)&&H.formAction===w.location.pathname+w.location.search&&(G=it.Replace);let ee=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,pe=(C&&C.flushSync)===!0,Se=fh({currentLocation:ce,nextLocation:Q,historyAction:G});if(Se){ta(Se,{state:"blocked",location:Q,proceed(){ta(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),W(E,C)},reset(){let ht=new Map(w.blockers);ht.set(Se,Di),me({blockers:ht})}});return}return await Be(G,Q,{submission:H,pendingError:re,preventScrollReset:ee,replace:C&&C.replace,enableViewTransition:C&&C.viewTransition,flushSync:pe})}function _e(){if(Fn(),me({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){Be(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}Be(N||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:A===!0})}}async function Be(E,C,D){R&&R.abort(),R=null,N=E,X=(D&&D.startUninterruptedRevalidation)===!0,Jv(w.location,w.matches),L=(D&&D.preventScrollReset)===!0,A=(D&&D.enableViewTransition)===!0;let F=a||o,H=D&&D.overrideNavigation,re=D!=null&&D.initialHydration&&w.matches&&w.matches.length>0&&!b?w.matches:Qr(F,C,l),ce=(D&&D.flushSync)===!0;if(re&&w.initialized&&!Y&&yw(w.location,C)&&!(D&&D.submission&&vn(D.submission.formMethod))){T(C,{matches:re},{flushSync:ce});return}let Q=na(re,F,C.pathname);if(Q.active&&Q.matches&&(re=Q.matches),!re){let{error:Fe,notFoundMatches:Te,route:Xe}=Mc(C.pathname);T(C,{matches:Te,loaderData:{},errors:{[Xe.id]:Fe}},{flushSync:ce});return}R=new AbortController;let J=Ds(e.history,C,R.signal,D&&D.submission),G;if(D&&D.pendingError)G=[Jr(re).route.id,{type:Pe.error,error:D.pendingError}];else if(D&&D.submission&&vn(D.submission.formMethod)){let Fe=await Re(J,C,D.submission,re,Q.active,{replace:D.replace,flushSync:ce});if(Fe.shortCircuited)return;if(Fe.pendingActionResult){let[Te,Xe]=Fe.pendingActionResult;if(Gt(Xe)&&Ro(Xe.error)&&Xe.error.status===404){R=null,T(C,{matches:Fe.matches,loaderData:{},errors:{[Te]:Xe.error}});return}}re=Fe.matches||re,G=Fe.pendingActionResult,H=uu(C,D.submission),ce=!1,Q.active=!1,J=Ds(e.history,J.url,J.signal)}let{shortCircuited:ee,matches:pe,loaderData:Se,errors:ht}=await Mt(J,C,re,Q.active,H,D&&D.submission,D&&D.fetcherSubmission,D&&D.replace,D&&D.initialHydration===!0,ce,G);ee||(R=null,T(C,Ve({matches:pe||re},Fp(G),{loaderData:Se,errors:ht})))}async function Re(E,C,D,F,H,re){re===void 0&&(re={}),Fn();let ce=jw(C,D);if(me({navigation:ce},{flushSync:re.flushSync===!0}),H){let G=await ra(F,C.pathname,E.signal);if(G.type==="aborted")return{shortCircuited:!0};if(G.type==="error"){let ee=Jr(G.partialMatches).route.id;return{matches:G.partialMatches,pendingActionResult:[ee,{type:Pe.error,error:G.error}]}}else if(G.matches)F=G.matches;else{let{notFoundMatches:ee,error:pe,route:Se}=Mc(C.pathname);return{matches:ee,pendingActionResult:[Se.id,{type:Pe.error,error:pe}]}}}let Q,J=Vi(F,C);if(!J.route.action&&!J.route.lazy)Q={type:Pe.error,error:At(405,{method:E.method,pathname:C.pathname,routeId:J.route.id})};else if(Q=(await mn("action",w,E,[J],F,null))[J.route.id],E.signal.aborted)return{shortCircuited:!0};if(ns(Q)){let G;return re&&re.replace!=null?G=re.replace:G=Op(Q.response.headers.get("Location"),new URL(E.url),l)===w.location.pathname+w.location.search,await qt(E,Q,!0,{submission:D,replace:G}),{shortCircuited:!0}}if(br(Q))throw At(400,{type:"defer-action"});if(Gt(Q)){let G=Jr(F,J.route.id);return(re&&re.replace)!==!0&&(N=it.Push),{matches:F,pendingActionResult:[G.route.id,Q]}}return{matches:F,pendingActionResult:[J.route.id,Q]}}async function Mt(E,C,D,F,H,re,ce,Q,J,G,ee){let pe=H||uu(C,re),Se=re||ce||$p(pe),ht=!X&&(!f.v7_partialHydration||!J);if(F){if(ht){let Qe=En(ee);me(Ve({navigation:pe},Qe!==void 0?{actionData:Qe}:{}),{flushSync:G})}let Ne=await ra(D,C.pathname,E.signal);if(Ne.type==="aborted")return{shortCircuited:!0};if(Ne.type==="error"){let Qe=Jr(Ne.partialMatches).route.id;return{matches:Ne.partialMatches,loaderData:{},errors:{[Qe]:Ne.error}}}else if(Ne.matches)D=Ne.matches;else{let{error:Qe,notFoundMatches:Cs,route:_i}=Mc(C.pathname);return{matches:Cs,loaderData:{},errors:{[_i.id]:Qe}}}}let Fe=a||o,[Te,Xe]=Dp(e.history,w,D,Se,C,f.v7_partialHydration&&J===!0,f.v7_skipActionErrorRevalidation,Y,se,z,le,ue,I,Fe,l,ee);if(Oc(Ne=>!(D&&D.some(Qe=>Qe.route.id===Ne))||Te&&Te.some(Qe=>Qe.route.id===Ne)),K=++U,Te.length===0&&Xe.length===0){let Ne=lr();return T(C,Ve({matches:D,loaderData:{},errors:ee&&Gt(ee[1])?{[ee[0]]:ee[1].error}:null},Fp(ee),Ne?{fetchers:new Map(w.fetchers)}:{}),{flushSync:G}),{shortCircuited:!0}}if(ht){let Ne={};if(!F){Ne.navigation=pe;let Qe=En(ee);Qe!==void 0&&(Ne.actionData=Qe)}Xe.length>0&&(Ne.fetchers=Kt(Xe)),me(Ne,{flushSync:G})}Xe.forEach(Ne=>{Ze(Ne.key),Ne.controller&&O.set(Ne.key,Ne.controller)});let ks=()=>Xe.forEach(Ne=>Ze(Ne.key));R&&R.signal.addEventListener("abort",ks);let{loaderResults:bi,fetcherResults:zn}=await ar(w,D,Te,Xe,E);if(E.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",ks),Xe.forEach(Ne=>O.delete(Ne.key));let Nn=Sa(bi);if(Nn)return await qt(E,Nn.result,!0,{replace:Q}),{shortCircuited:!0};if(Nn=Sa(zn),Nn)return I.add(Nn.key),await qt(E,Nn.result,!0,{replace:Q}),{shortCircuited:!0};let{loaderData:Lc,errors:wi}=Ap(w,D,bi,ee,Xe,zn,ie);ie.forEach((Ne,Qe)=>{Ne.subscribe(Cs=>{(Cs||Ne.done)&&ie.delete(Qe)})}),f.v7_partialHydration&&J&&w.errors&&(wi=Ve({},w.errors,wi));let Hr=lr(),sa=vi(K),ia=Hr||sa||Xe.length>0;return Ve({matches:D,loaderData:Lc,errors:wi},ia?{fetchers:new Map(w.fetchers)}:{})}function En(E){if(E&&!Gt(E[1]))return{[E[0]]:E[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function Kt(E){return E.forEach(C=>{let D=w.fetchers.get(C.key),F=Pi(void 0,D?D.data:void 0);w.fetchers.set(C.key,F)}),new Map(w.fetchers)}function In(E,C,D,F){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ze(E);let H=(F&&F.flushSync)===!0,re=a||o,ce=bd(w.location,w.matches,l,f.v7_prependBasename,D,f.v7_relativeSplatPath,C,F==null?void 0:F.relative),Q=Qr(re,ce,l),J=na(Q,re,ce);if(J.active&&J.matches&&(Q=J.matches),!Q){ne(E,C,At(404,{pathname:ce}),{flushSync:H});return}let{path:G,submission:ee,error:pe}=Tp(f.v7_normalizeFormMethod,!0,ce,F);if(pe){ne(E,C,pe,{flushSync:H});return}let Se=Vi(Q,G),ht=(F&&F.preventScrollReset)===!0;if(ee&&vn(ee.formMethod)){pn(E,C,G,Se,Q,J.active,H,ht,ee);return}ue.set(E,{routeId:C,path:G}),tn(E,C,G,Se,Q,J.active,H,ht,ee)}async function pn(E,C,D,F,H,re,ce,Q,J){Fn(),ue.delete(E);function G(st){if(!st.route.action&&!st.route.lazy){let Ts=At(405,{method:J.formMethod,pathname:D,routeId:C});return ne(E,C,Ts,{flushSync:ce}),!0}return!1}if(!re&&G(F))return;let ee=w.fetchers.get(E);$(E,Ew(J,ee),{flushSync:ce});let pe=new AbortController,Se=Ds(e.history,D,pe.signal,J);if(re){let st=await ra(H,new URL(Se.url).pathname,Se.signal,E);if(st.type==="aborted")return;if(st.type==="error"){ne(E,C,st.error,{flushSync:ce});return}else if(st.matches){if(H=st.matches,F=Vi(H,D),G(F))return}else{ne(E,C,At(404,{pathname:D}),{flushSync:ce});return}}O.set(E,pe);let ht=U,Te=(await mn("action",w,Se,[F],H,E))[F.route.id];if(Se.signal.aborted){O.get(E)===pe&&O.delete(E);return}if(f.v7_fetcherPersist&&le.has(E)){if(ns(Te)||Gt(Te)){$(E,fr(void 0));return}}else{if(ns(Te))if(O.delete(E),K>ht){$(E,fr(void 0));return}else return I.add(E),$(E,Pi(J)),qt(Se,Te,!1,{fetcherSubmission:J,preventScrollReset:Q});if(Gt(Te)){ne(E,C,Te.error);return}}if(br(Te))throw At(400,{type:"defer-action"});let Xe=w.navigation.location||w.location,ks=Ds(e.history,Xe,pe.signal),bi=a||o,zn=w.navigation.state!=="idle"?Qr(bi,w.navigation.location,l):w.matches;xe(zn,"Didn't find any matches after fetcher action");let Nn=++U;te.set(E,Nn);let Lc=Pi(J,Te.data);w.fetchers.set(E,Lc);let[wi,Hr]=Dp(e.history,w,zn,J,Xe,!1,f.v7_skipActionErrorRevalidation,Y,se,z,le,ue,I,bi,l,[F.route.id,Te]);Hr.filter(st=>st.key!==E).forEach(st=>{let Ts=st.key,mh=w.fetchers.get(Ts),t1=Pi(void 0,mh?mh.data:void 0);w.fetchers.set(Ts,t1),Ze(Ts),st.controller&&O.set(Ts,st.controller)}),me({fetchers:new Map(w.fetchers)});let sa=()=>Hr.forEach(st=>Ze(st.key));pe.signal.addEventListener("abort",sa);let{loaderResults:ia,fetcherResults:Ne}=await ar(w,zn,wi,Hr,ks);if(pe.signal.aborted)return;pe.signal.removeEventListener("abort",sa),te.delete(E),O.delete(E),Hr.forEach(st=>O.delete(st.key));let Qe=Sa(ia);if(Qe)return qt(ks,Qe.result,!1,{preventScrollReset:Q});if(Qe=Sa(Ne),Qe)return I.add(Qe.key),qt(ks,Qe.result,!1,{preventScrollReset:Q});let{loaderData:Cs,errors:_i}=Ap(w,zn,ia,void 0,Hr,Ne,ie);if(w.fetchers.has(E)){let st=fr(Te.data);w.fetchers.set(E,st)}vi(Nn),w.navigation.state==="loading"&&Nn>K?(xe(N,"Expected pending action"),R&&R.abort(),T(w.navigation.location,{matches:zn,loaderData:Cs,errors:_i,fetchers:new Map(w.fetchers)})):(me({errors:_i,loaderData:Ip(w.loaderData,Cs,zn,_i),fetchers:new Map(w.fetchers)}),Y=!1)}async function tn(E,C,D,F,H,re,ce,Q,J){let G=w.fetchers.get(E);$(E,Pi(J,G?G.data:void 0),{flushSync:ce});let ee=new AbortController,pe=Ds(e.history,D,ee.signal);if(re){let Te=await ra(H,new URL(pe.url).pathname,pe.signal,E);if(Te.type==="aborted")return;if(Te.type==="error"){ne(E,C,Te.error,{flushSync:ce});return}else if(Te.matches)H=Te.matches,F=Vi(H,D);else{ne(E,C,At(404,{pathname:D}),{flushSync:ce});return}}O.set(E,ee);let Se=U,Fe=(await mn("loader",w,pe,[F],H,E))[F.route.id];if(br(Fe)&&(Fe=await Hf(Fe,pe.signal,!0)||Fe),O.get(E)===ee&&O.delete(E),!pe.signal.aborted){if(le.has(E)){$(E,fr(void 0));return}if(ns(Fe))if(K>Se){$(E,fr(void 0));return}else{I.add(E),await qt(pe,Fe,!1,{preventScrollReset:Q});return}if(Gt(Fe)){ne(E,C,Fe.error);return}xe(!br(Fe),"Unhandled fetcher deferred data"),$(E,fr(Fe.data))}}async function qt(E,C,D,F){let{submission:H,fetcherSubmission:re,preventScrollReset:ce,replace:Q}=F===void 0?{}:F;C.response.headers.has("X-Remix-Revalidate")&&(Y=!0);let J=C.response.headers.get("Location");xe(J,"Expected a Location header on the redirect Response"),J=Op(J,new URL(E.url),l);let G=To(w.location,J,{_isRedirect:!0});if(n){let Te=!1;if(C.response.headers.has("X-Remix-Reload-Document"))Te=!0;else if(Uf.test(J)){const Xe=e.history.createURL(J);Te=Xe.origin!==t.location.origin||hi(Xe.pathname,l)==null}if(Te){Q?t.location.replace(J):t.location.assign(J);return}}R=null;let ee=Q===!0||C.response.headers.has("X-Remix-Replace")?it.Replace:it.Push,{formMethod:pe,formAction:Se,formEncType:ht}=w.navigation;!H&&!re&&pe&&Se&&ht&&(H=$p(w.navigation));let Fe=H||re;if(iw.has(C.response.status)&&Fe&&vn(Fe.formMethod))await Be(ee,G,{submission:Ve({},Fe,{formAction:J}),preventScrollReset:ce||L,enableViewTransition:D?A:void 0});else{let Te=uu(G,H);await Be(ee,G,{overrideNavigation:Te,fetcherSubmission:re,preventScrollReset:ce||L,enableViewTransition:D?A:void 0})}}async function mn(E,C,D,F,H,re){let ce,Q={};try{ce=await hw(c,E,C,D,F,H,re,i,s)}catch(J){return F.forEach(G=>{Q[G.route.id]={type:Pe.error,error:J}}),Q}for(let[J,G]of Object.entries(ce))if(vw(G)){let ee=G.result;Q[J]={type:Pe.redirect,response:gw(ee,D,J,H,l,f.v7_relativeSplatPath)}}else Q[J]=await mw(G);return Q}async function ar(E,C,D,F,H){let re=E.matches,ce=mn("loader",E,H,D,C,null),Q=Promise.all(F.map(async ee=>{if(ee.matches&&ee.match&&ee.controller){let Se=(await mn("loader",E,Ds(e.history,ee.path,ee.controller.signal),[ee.match],ee.matches,ee.key))[ee.match.route.id];return{[ee.key]:Se}}else return Promise.resolve({[ee.key]:{type:Pe.error,error:At(404,{pathname:ee.path})}})})),J=await ce,G=(await Q).reduce((ee,pe)=>Object.assign(ee,pe),{});return await Promise.all([_w(C,J,H.signal,re,E.loaderData),Sw(C,G,F)]),{loaderResults:J,fetcherResults:G}}function Fn(){Y=!0,se.push(...Oc()),ue.forEach((E,C)=>{O.has(C)&&z.add(C),Ze(C)})}function $(E,C,D){D===void 0&&(D={}),w.fetchers.set(E,C),me({fetchers:new Map(w.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function ne(E,C,D,F){F===void 0&&(F={});let H=Jr(w.matches,C);fe(E),me({errors:{[H.route.id]:D},fetchers:new Map(w.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function ge(E){return ae.set(E,(ae.get(E)||0)+1),le.has(E)&&le.delete(E),w.fetchers.get(E)||ow}function fe(E){let C=w.fetchers.get(E);O.has(E)&&!(C&&C.state==="loading"&&te.has(E))&&Ze(E),ue.delete(E),te.delete(E),I.delete(E),f.v7_fetcherPersist&&le.delete(E),z.delete(E),w.fetchers.delete(E)}function Ie(E){let C=(ae.get(E)||0)-1;C<=0?(ae.delete(E),le.add(E),f.v7_fetcherPersist||fe(E)):ae.set(E,C),me({fetchers:new Map(w.fetchers)})}function Ze(E){let C=O.get(E);C&&(C.abort(),O.delete(E))}function Ce(E){for(let C of E){let D=ge(C),F=fr(D.data);w.fetchers.set(C,F)}}function lr(){let E=[],C=!1;for(let D of I){let F=w.fetchers.get(D);xe(F,"Expected fetcher: "+D),F.state==="loading"&&(I.delete(D),E.push(D),C=!0)}return Ce(E),C}function vi(E){let C=[];for(let[D,F]of te)if(F<E){let H=w.fetchers.get(D);xe(H,"Expected fetcher: "+D),H.state==="loading"&&(Ze(D),te.delete(D),C.push(D))}return Ce(C),C.length>0}function ea(E,C){let D=w.blockers.get(E)||Di;return Z.get(E)!==C&&Z.set(E,C),D}function dh(E){w.blockers.delete(E),Z.delete(E)}function ta(E,C){let D=w.blockers.get(E)||Di;xe(D.state==="unblocked"&&C.state==="blocked"||D.state==="blocked"&&C.state==="blocked"||D.state==="blocked"&&C.state==="proceeding"||D.state==="blocked"&&C.state==="unblocked"||D.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+D.state+" -> "+C.state);let F=new Map(w.blockers);F.set(E,C),me({blockers:F})}function fh(E){let{currentLocation:C,nextLocation:D,historyAction:F}=E;if(Z.size===0)return;Z.size>1&&ai(!1,"A router only supports one blocker at a time");let H=Array.from(Z.entries()),[re,ce]=H[H.length-1],Q=w.blockers.get(re);if(!(Q&&Q.state==="proceeding")&&ce({currentLocation:C,nextLocation:D,historyAction:F}))return re}function Mc(E){let C=At(404,{pathname:E}),D=a||o,{matches:F,route:H}=zp(D);return Oc(),{notFoundMatches:F,route:H,error:C}}function Oc(E){let C=[];return ie.forEach((D,F)=>{(!E||E(F))&&(D.cancel(),C.push(F),ie.delete(F))}),C}function Qv(E,C,D){if(m=E,v=C,x=D||null,!y&&w.navigation===cu){y=!0;let F=ph(w.location,w.matches);F!=null&&me({restoreScrollPosition:F})}return()=>{m=null,v=null,x=null}}function hh(E,C){return x&&x(E,C.map(F=>I2(F,w.loaderData)))||E.key}function Jv(E,C){if(m&&v){let D=hh(E,C);m[D]=v()}}function ph(E,C){if(m){let D=hh(E,C),F=m[D];if(typeof F=="number")return F}return null}function na(E,C,D){if(d)if(E){if(Object.keys(E[0].params).length>0)return{active:!0,matches:Za(C,D,l,!0)}}else return{active:!0,matches:Za(C,D,l,!0)||[]};return{active:!1,matches:null}}async function ra(E,C,D,F){if(!d)return{type:"success",matches:E};let H=E;for(;;){let re=a==null,ce=a||o,Q=i;try{await d({signal:D,path:C,matches:H,fetcherKey:F,patch:(ee,pe)=>{D.aborted||Mp(ee,pe,ce,Q,s)}})}catch(ee){return{type:"error",error:ee,partialMatches:H}}finally{re&&!D.aborted&&(o=[...o])}if(D.aborted)return{type:"aborted"};let J=Qr(ce,C,l);if(J)return{type:"success",matches:J};let G=Za(ce,C,l,!0);if(!G||H.length===G.length&&H.every((ee,pe)=>ee.route.id===G[pe].route.id))return{type:"success",matches:null};H=G}}function Zv(E){i={},a=Ol(E,s,void 0,i)}function e1(E,C){let D=a==null;Mp(E,C,a||o,i,s),D&&(o=[...o],me({}))}return k={get basename(){return l},get future(){return f},get state(){return w},get routes(){return o},get window(){return t},initialize:rt,subscribe:ve,enableScrollRestoration:Qv,navigate:W,fetch:In,revalidate:_e,createHref:E=>e.history.createHref(E),encodeLocation:E=>e.history.encodeLocation(E),getFetcher:ge,deleteFetcher:Ie,dispose:Nt,getBlocker:ea,deleteBlocker:dh,patchRoutes:e1,_internalFetchControllers:O,_internalActiveDeferreds:ie,_internalSetRoutes:Zv},k}function cw(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function bd(e,t,n,r,s,i,o,a){let l,c;if(o){l=[];for(let f of t)if(l.push(f),f.route.id===o){c=f;break}}else l=t,c=t[t.length-1];let d=gc(s||".",mc(l,i),hi(e.pathname,n)||e.pathname,a==="path");if(s==null&&(d.search=e.search,d.hash=e.hash),(s==null||s===""||s===".")&&c){let f=Vf(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let h=new URLSearchParams(d.search),p=h.getAll("index");h.delete("index"),p.filter(x=>x).forEach(x=>h.append("index",x));let m=h.toString();d.search=m?"?"+m:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Xn([n,d.pathname])),ys(d)}function Tp(e,t,n,r){if(!r||!cw(r))return{path:n};if(r.formMethod&&!ww(r.formMethod))return{path:n,error:At(405,{method:r.formMethod})};let s=()=>({path:n,error:At(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),a=sy(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!vn(o))return s();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[x,v]=m;return""+p+x+"="+v+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!vn(o))return s();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}xe(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=_d(r.formData),c=r.formData;else if(r.body instanceof FormData)l=_d(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Lp(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Lp(l)}catch{return s()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(vn(d.formMethod))return{path:n,submission:d};let f=Br(n);return t&&f.search&&Vf(f.search)&&l.append("index",""),f.search="?"+l,{path:ys(f),submission:d}}function Rp(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(s=>s.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function Dp(e,t,n,r,s,i,o,a,l,c,d,f,h,p,m,x){let v=x?Gt(x[1])?x[1].error:x[1].data:void 0,y=e.createURL(t.location),g=e.createURL(s),b=n;i&&t.errors?b=Rp(n,Object.keys(t.errors)[0],!0):x&&Gt(x[1])&&(b=Rp(n,x[0]));let S=x?x[1].statusCode:void 0,j=o&&S&&S>=400,k=b.filter((N,L)=>{let{route:R}=N;if(R.lazy)return!0;if(R.loader==null)return!1;if(i)return wd(R,t.loaderData,t.errors);if(uw(t.loaderData,t.matches[L],N)||l.some(V=>V===N.route.id))return!0;let A=t.matches[L],M=N;return Pp(N,Ve({currentUrl:y,currentParams:A.params,nextUrl:g,nextParams:M.params},r,{actionResult:v,actionStatus:S,defaultShouldRevalidate:j?!1:a||y.pathname+y.search===g.pathname+g.search||y.search!==g.search||ny(A,M)}))}),w=[];return f.forEach((N,L)=>{if(i||!n.some(X=>X.route.id===N.routeId)||d.has(L))return;let R=Qr(p,N.path,m);if(!R){w.push({key:L,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let A=t.fetchers.get(L),M=Vi(R,N.path),V=!1;h.has(L)?V=!1:c.has(L)?(c.delete(L),V=!0):A&&A.state!=="idle"&&A.data===void 0?V=a:V=Pp(M,Ve({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},r,{actionResult:v,actionStatus:S,defaultShouldRevalidate:j?!1:a})),V&&w.push({key:L,routeId:N.routeId,path:N.path,matches:R,match:M,controller:new AbortController})}),[k,w]}function wd(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,s=n!=null&&n[e.id]!==void 0;return!r&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!s}function uw(e,t,n){let r=!t||n.route.id!==t.route.id,s=e[n.route.id]===void 0;return r||s}function ny(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Pp(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Mp(e,t,n,r,s){var i;let o;if(e){let c=r[e];xe(c,"No route found to patch children into: routeId = "+e),c.children||(c.children=[]),o=c.children}else o=n;let a=t.filter(c=>!o.some(d=>ry(c,d))),l=Ol(a,s,[e||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...l)}function ry(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var s;return(s=t.children)==null?void 0:s.some(i=>ry(n,i))}):!1}async function dw(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let s=n[e.id];xe(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";ai(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!L2.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Ve({},t(s),{lazy:void 0}))}async function fw(e){let{matches:t}=e,n=t.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function hw(e,t,n,r,s,i,o,a,l,c){let d=i.map(p=>p.route.lazy?dw(p.route,l,a):void 0),f=i.map((p,m)=>{let x=d[m],v=s.some(g=>g.route.id===p.route.id);return Ve({},p,{shouldLoad:v,resolve:async g=>(g&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(v=!0),v?pw(t,r,p,x,g,c):Promise.resolve({type:Pe.data,result:void 0}))})}),h=await e({matches:f,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(d)}catch{}return h}async function pw(e,t,n,r,s,i){let o,a,l=c=>{let d,f=new Promise((m,x)=>d=x);a=()=>d(),t.signal.addEventListener("abort",a);let h=m=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):c({request:t,params:n.params,context:i},...m!==void 0?[m]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(x=>h(x)):h())}}catch(m){return{type:"error",result:m}}})();return Promise.race([p,f])};try{let c=n.route[e];if(r)if(c){let d,[f]=await Promise.all([l(c).catch(h=>{d=h}),r]);if(d!==void 0)throw d;o=f}else if(await r,c=n.route[e],c)o=await l(c);else if(e==="action"){let d=new URL(t.url),f=d.pathname+d.search;throw At(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:Pe.data,result:void 0};else if(c)o=await l(c);else{let d=new URL(t.url),f=d.pathname+d.search;throw At(404,{pathname:f})}xe(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Pe.error,result:c}}finally{a&&t.signal.removeEventListener("abort",a)}return o}async function mw(e){let{result:t,type:n}=e;if(iy(t)){let f;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(h){return{type:Pe.error,error:h}}return n===Pe.error?{type:Pe.error,error:new Ll(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:Pe.data,data:f,statusCode:t.status,headers:t.headers}}if(n===Pe.error){if(Bp(t)){var r,s;if(t.data instanceof Error){var i,o;return{type:Pe.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:Pe.error,error:new Ll(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:Ro(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:Pe.error,error:t,statusCode:Ro(t)?t.status:void 0}}if(bw(t)){var a,l;return{type:Pe.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(Bp(t)){var c,d;return{type:Pe.data,data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}}return{type:Pe.data,data:t}}function gw(e,t,n,r,s,i){let o=e.headers.get("Location");if(xe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Uf.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=bd(new URL(t.url),a,s,!0,o,i),e.headers.set("Location",o)}return e}function Op(e,t,n){if(Uf.test(e)){let r=e,s=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=hi(s.pathname,n)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function Ds(e,t,n,r){let s=e.createURL(sy(t)).toString(),i={signal:n};if(r&&vn(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=_d(r.formData):i.body=r.formData}return new Request(s,i)}function _d(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Lp(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function xw(e,t,n,r,s){let i={},o=null,a,l=!1,c={},d=n&&Gt(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,p=t[h];if(xe(!ns(p),"Cannot handle redirect results in processLoaderData"),Gt(p)){let m=p.error;d!==void 0&&(m=d,d=void 0),o=o||{};{let x=Jr(e,h);o[x.route.id]==null&&(o[x.route.id]=m)}i[h]=void 0,l||(l=!0,a=Ro(p.error)?p.error.status:500),p.headers&&(c[h]=p.headers)}else br(p)?(r.set(h,p.deferredData),i[h]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers)):(i[h]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers))}),d!==void 0&&n&&(o={[n[0]]:d},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function Ap(e,t,n,r,s,i,o){let{loaderData:a,errors:l}=xw(t,n,r,o);return s.forEach(c=>{let{key:d,match:f,controller:h}=c,p=i[d];if(xe(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Gt(p)){let m=Jr(e.matches,f==null?void 0:f.route.id);l&&l[m.route.id]||(l=Ve({},l,{[m.route.id]:p.error})),e.fetchers.delete(d)}else if(ns(p))xe(!1,"Unhandled fetcher revalidation redirect");else if(br(p))xe(!1,"Unhandled fetcher deferred data");else{let m=fr(p.data);e.fetchers.set(d,m)}}),{loaderData:a,errors:l}}function Ip(e,t,n,r){let s=Ve({},t);for(let i of n){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(s[o]=t[o]):e[o]!==void 0&&i.route.loader&&(s[o]=e[o]),r&&r.hasOwnProperty(o))break}return s}function Fp(e){return e?Gt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Jr(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function zp(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function At(e,t){let{pathname:n,routeId:r,method:s,type:i,message:o}=t===void 0?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",l='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Ll(e||500,a,new Error(l),!0)}function Sa(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,s]=t[n];if(ns(s))return{key:r,result:s}}}function sy(e){let t=typeof e=="string"?Br(e):e;return ys(Ve({},t,{hash:""}))}function yw(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function vw(e){return iy(e.result)&&sw.has(e.result.status)}function br(e){return e.type===Pe.deferred}function Gt(e){return e.type===Pe.error}function ns(e){return(e&&e.type)===Pe.redirect}function Bp(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function bw(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function iy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ww(e){return rw.has(e.toLowerCase())}function vn(e){return tw.has(e.toLowerCase())}async function _w(e,t,n,r,s){let i=Object.entries(t);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=e.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let d=r.find(h=>h.route.id===c.route.id),f=d!=null&&!ny(d,c)&&(s&&s[c.route.id])!==void 0;br(l)&&f&&await Hf(l,n,!1).then(h=>{h&&(t[a]=h)})}}async function Sw(e,t,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=t[s];e.find(c=>(c==null?void 0:c.route.id)===i)&&br(a)&&(xe(o,"Expected an AbortController for revalidating fetcher deferred result"),await Hf(a,o.signal,!0).then(c=>{c&&(t[s]=c)}))}}async function Hf(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Pe.data,data:e.deferredData.unwrappedData}}catch(s){return{type:Pe.error,error:s}}return{type:Pe.data,data:e.deferredData.data}}}function Vf(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Vi(e,t){let n=typeof t=="string"?Br(t).search:t.search;if(e[e.length-1].route.index&&Vf(n||""))return e[e.length-1];let r=Zx(e);return r[r.length-1]}function $p(e){let{formMethod:t,formAction:n,formEncType:r,text:s,formData:i,json:o}=e;if(!(!t||!n||!r)){if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function uu(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jw(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Pi(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ew(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function fr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Nw(e,t){try{let n=e.sessionStorage.getItem(ty);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function kw(e,t){if(t.size>0){let n={};for(let[r,s]of t)n[r]=[...s];try{e.sessionStorage.setItem(ty,JSON.stringify(n))}catch(r){ai(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al.apply(this,arguments)}const xc=_.createContext(null),oy=_.createContext(null),$r=_.createContext(null),Wf=_.createContext(null),or=_.createContext({outlet:null,matches:[],isDataRoute:!1}),ay=_.createContext(null);function Cw(e,t){let{relative:n}=t===void 0?{}:t;pi()||xe(!1);let{basename:r,navigator:s}=_.useContext($r),{hash:i,pathname:o,search:a}=uy(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Xn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function pi(){return _.useContext(Wf)!=null}function Es(){return pi()||xe(!1),_.useContext(Wf).location}function ly(e){_.useContext($r).static||_.useLayoutEffect(e)}function An(){let{isDataRoute:e}=_.useContext(or);return e?Bw():Tw()}function Tw(){pi()||xe(!1);let e=_.useContext(xc),{basename:t,future:n,navigator:r}=_.useContext($r),{matches:s}=_.useContext(or),{pathname:i}=Es(),o=JSON.stringify(mc(s,n.v7_relativeSplatPath)),a=_.useRef(!1);return ly(()=>{a.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=gc(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Xn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}function cy(){let{matches:e}=_.useContext(or),t=e[e.length-1];return t?t.params:{}}function uy(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=_.useContext($r),{matches:s}=_.useContext(or),{pathname:i}=Es(),o=JSON.stringify(mc(s,r.v7_relativeSplatPath));return _.useMemo(()=>gc(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Rw(e,t,n,r){pi()||xe(!1);let{navigator:s,static:i}=_.useContext($r),{matches:o}=_.useContext(or),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Es(),f;f=d;let h=f.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=!i&&n&&n.matches&&n.matches.length>0?n.matches:Qr(e,{pathname:p});return Lw(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Xn([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Xn([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r)}function Dw(){let e=zw(),t=Ro(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:s},n):null,null)}const Pw=_.createElement(Dw,null);class Mw extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(or.Provider,{value:this.props.routeContext},_.createElement(ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ow(e){let{routeContext:t,match:n,children:r}=e,s=_.useContext(xc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(or.Provider,{value:t},r)}function Lw(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||xe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,m=!1,x=null,v=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||Pw,l&&(c<0&&h===0?($w("route-fallback"),m=!0,v=null):c===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),g=()=>{let b;return p?b=x:m?b=v:f.route.Component?b=_.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,_.createElement(Ow,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(Mw,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var dy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dy||{}),fy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fy||{});function Aw(e){let t=_.useContext(xc);return t||xe(!1),t}function Iw(e){let t=_.useContext(oy);return t||xe(!1),t}function Fw(e){let t=_.useContext(or);return t||xe(!1),t}function hy(e){let t=Fw(),n=t.matches[t.matches.length-1];return n.route.id||xe(!1),n.route.id}function zw(){var e;let t=_.useContext(ay),n=Iw(fy.UseRouteError),r=hy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Bw(){let{router:e}=Aw(dy.UseNavigateStable),t=hy(),n=_.useRef(!1);return ly(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Al({fromRouteId:t},i)))},[e,t])}const Up={};function $w(e,t,n){Up[e]||(Up[e]=!0)}function Uw(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function py(e){let{to:t,replace:n,state:r,relative:s}=e;pi()||xe(!1);let{future:i,static:o}=_.useContext($r),{matches:a}=_.useContext(or),{pathname:l}=Es(),c=An(),d=gc(t,mc(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return _.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function Hw(e){let{basename:t="/",children:n=null,location:r,navigationType:s=it.Pop,navigator:i,static:o=!1,future:a}=e;pi()&&xe(!1);let l=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:i,static:o,future:Al({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Br(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,x=_.useMemo(()=>{let v=hi(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:s}},[l,d,f,h,p,m,s]);return x==null?null:_.createElement($r.Provider,{value:c},_.createElement(Wf.Provider,{children:n,value:x}))}new Promise(()=>{});function Vw(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:_.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:_.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:_.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(this,arguments)}function Ww(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Kw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qw(e,t){return e.button===0&&(!t||t==="_self")&&!Kw(e)}function Sd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Yw(e,t){let n=Sd(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const Gw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xw="6";try{window.__reactRouterVersion=Xw}catch{}function Qw(e,t){return lw({basename:void 0,future:Do({},void 0,{v7_prependBasename:!0}),history:P2({window:void 0}),hydrationData:Jw(),routes:e,mapRouteProperties:Vw,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Jw(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Do({},t,{errors:Zw(t.errors)})),t}function Zw(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,s]of t)if(s&&s.__type==="RouteErrorResponse")n[r]=new Ll(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const e_=_.createContext({isTransitioning:!1}),t_=_.createContext(new Map),n_="startTransition",Hp=v1[n_],r_="flushSync",Vp=D2[r_];function s_(e){Hp?Hp(e):e()}function Mi(e){Vp?Vp(e):e()}class i_{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function o_(e){let{fallbackElement:t,router:n,future:r}=e,[s,i]=_.useState(n.state),[o,a]=_.useState(),[l,c]=_.useState({isTransitioning:!1}),[d,f]=_.useState(),[h,p]=_.useState(),[m,x]=_.useState(),v=_.useRef(new Map),{v7_startTransition:y}=r||{},g=_.useCallback(N=>{y?s_(N):N()},[y]),b=_.useCallback((N,L)=>{let{deletedFetchers:R,flushSync:A,viewTransitionOpts:M}=L;N.fetchers.forEach((X,Y)=>{X.data!==void 0&&v.current.set(Y,X.data)}),R.forEach(X=>v.current.delete(X));let V=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||V){A?Mi(()=>i(N)):g(()=>i(N));return}if(A){Mi(()=>{h&&(d&&d.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let X=n.window.document.startViewTransition(()=>{Mi(()=>i(N))});X.finished.finally(()=>{Mi(()=>{f(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),Mi(()=>p(X));return}h?(d&&d.resolve(),h.skipTransition(),x({state:N,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(N),c({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,h,d,v,g]);_.useLayoutEffect(()=>n.subscribe(b),[n,b]),_.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new i_)},[l]),_.useEffect(()=>{if(d&&o&&n.window){let N=o,L=d.promise,R=n.window.document.startViewTransition(async()=>{g(()=>i(N)),await L});R.finished.finally(()=>{f(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(R)}},[g,o,d,n.window]),_.useEffect(()=>{d&&o&&s.location.key===o.location.key&&d.resolve()},[d,h,s.location,o]),_.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),x(void 0))},[l.isTransitioning,m]),_.useEffect(()=>{},[]);let S=_.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:N=>n.navigate(N),push:(N,L,R)=>n.navigate(N,{state:L,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(N,L,R)=>n.navigate(N,{replace:!0,state:L,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),j=n.basename||"/",k=_.useMemo(()=>({router:n,navigator:S,static:!1,basename:j}),[n,S,j]),w=_.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return _.useEffect(()=>Uw(r,n.future),[r,n.future]),_.createElement(_.Fragment,null,_.createElement(xc.Provider,{value:k},_.createElement(oy.Provider,{value:s},_.createElement(t_.Provider,{value:v.current},_.createElement(e_.Provider,{value:l},_.createElement(Hw,{basename:j,location:s.location,navigationType:s.historyAction,navigator:S,future:w},s.initialized||n.future.v7_partialHydration?_.createElement(a_,{routes:n.routes,future:n.future,state:s}):t))))),null)}const a_=_.memo(l_);function l_(e){let{routes:t,future:n,state:r}=e;return Rw(t,void 0,r,n)}const c_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tr=_.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,h=Ww(t,Gw),{basename:p}=_.useContext($r),m,x=!1;if(typeof c=="string"&&u_.test(c)&&(m=c,c_))try{let b=new URL(window.location.href),S=c.startsWith("//")?new URL(b.protocol+c):new URL(c),j=hi(S.pathname,p);S.origin===b.origin&&j!=null?c=j+S.search+S.hash:x=!0}catch{}let v=Cw(c,{relative:s}),y=d_(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function g(b){r&&r(b),b.defaultPrevented||y(b)}return _.createElement("a",Do({},h,{href:m||v,onClick:x||i?r:g,ref:n,target:l}))});var Wp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wp||(Wp={}));var Kp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Kp||(Kp={}));function d_(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=An(),c=Es(),d=uy(e,{relative:o});return _.useCallback(f=>{if(qw(f,n)){f.preventDefault();let h=r!==void 0?r:ys(c)===ys(d);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,e,i,o,a])}function f_(e){let t=_.useRef(Sd(e)),n=_.useRef(!1),r=Es(),s=_.useMemo(()=>Yw(r.search,n.current?null:t.current),[r.search]),i=An(),o=_.useCallback((a,l)=>{const c=Sd(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}function my(e,t){return function(){return e.apply(t,arguments)}}const{toString:h_}=Object.prototype,{getPrototypeOf:Kf}=Object,{iterator:yc,toStringTag:gy}=Symbol,vc=(e=>t=>{const n=h_.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),jn=e=>(e=e.toLowerCase(),t=>vc(t)===e),bc=e=>t=>typeof t===e,{isArray:mi}=Array,Po=bc("undefined");function p_(e){return e!==null&&!Po(e)&&e.constructor!==null&&!Po(e.constructor)&&Vt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xy=jn("ArrayBuffer");function m_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xy(e.buffer),t}const g_=bc("string"),Vt=bc("function"),yy=bc("number"),wc=e=>e!==null&&typeof e=="object",x_=e=>e===!0||e===!1,el=e=>{if(vc(e)!=="object")return!1;const t=Kf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(gy in e)&&!(yc in e)},y_=jn("Date"),v_=jn("File"),b_=jn("Blob"),w_=jn("FileList"),__=e=>wc(e)&&Vt(e.pipe),S_=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Vt(e.append)&&((t=vc(e))==="formdata"||t==="object"&&Vt(e.toString)&&e.toString()==="[object FormData]"))},j_=jn("URLSearchParams"),[E_,N_,k_,C_]=["ReadableStream","Request","Response","Headers"].map(jn),T_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ko(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),mi(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function vy(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const rs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,by=e=>!Po(e)&&e!==rs;function jd(){const{caseless:e}=by(this)&&this||{},t={},n=(r,s)=>{const i=e&&vy(t,s)||s;el(t[i])&&el(r)?t[i]=jd(t[i],r):el(r)?t[i]=jd({},r):mi(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ko(arguments[r],n);return t}const R_=(e,t,n,{allOwnKeys:r}={})=>(Ko(t,(s,i)=>{n&&Vt(s)?e[i]=my(s,n):e[i]=s},{allOwnKeys:r}),e),D_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),P_=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},M_=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Kf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},O_=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},L_=e=>{if(!e)return null;if(mi(e))return e;let t=e.length;if(!yy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},A_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Kf(Uint8Array)),I_=(e,t)=>{const r=(e&&e[yc]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},F_=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},z_=jn("HTMLFormElement"),B_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),qp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),$_=jn("RegExp"),wy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ko(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},U_=e=>{wy(e,(t,n)=>{if(Vt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Vt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},H_=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return mi(e)?r(e):r(String(e).split(t)),n},V_=()=>{},W_=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function K_(e){return!!(e&&Vt(e.append)&&e[gy]==="FormData"&&e[yc])}const q_=e=>{const t=new Array(10),n=(r,s)=>{if(wc(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const i=mi(r)?[]:{};return Ko(r,(o,a)=>{const l=n(o,s+1);!Po(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},Y_=jn("AsyncFunction"),G_=e=>e&&(wc(e)||Vt(e))&&Vt(e.then)&&Vt(e.catch),_y=((e,t)=>e?setImmediate:t?((n,r)=>(rs.addEventListener("message",({source:s,data:i})=>{s===rs&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),rs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Vt(rs.postMessage)),X_=typeof queueMicrotask<"u"?queueMicrotask.bind(rs):typeof process<"u"&&process.nextTick||_y,Q_=e=>e!=null&&Vt(e[yc]),P={isArray:mi,isArrayBuffer:xy,isBuffer:p_,isFormData:S_,isArrayBufferView:m_,isString:g_,isNumber:yy,isBoolean:x_,isObject:wc,isPlainObject:el,isReadableStream:E_,isRequest:N_,isResponse:k_,isHeaders:C_,isUndefined:Po,isDate:y_,isFile:v_,isBlob:b_,isRegExp:$_,isFunction:Vt,isStream:__,isURLSearchParams:j_,isTypedArray:A_,isFileList:w_,forEach:Ko,merge:jd,extend:R_,trim:T_,stripBOM:D_,inherits:P_,toFlatObject:M_,kindOf:vc,kindOfTest:jn,endsWith:O_,toArray:L_,forEachEntry:I_,matchAll:F_,isHTMLForm:z_,hasOwnProperty:qp,hasOwnProp:qp,reduceDescriptors:wy,freezeMethods:U_,toObjectSet:H_,toCamelCase:B_,noop:V_,toFiniteNumber:W_,findKey:vy,global:rs,isContextDefined:by,isSpecCompliantForm:K_,toJSONObject:q_,isAsyncFn:Y_,isThenable:G_,setImmediate:_y,asap:X_,isIterable:Q_};function he(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}P.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const Sy=he.prototype,jy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jy[e]={value:e}});Object.defineProperties(he,jy);Object.defineProperty(Sy,"isAxiosError",{value:!0});he.from=(e,t,n,r,s,i)=>{const o=Object.create(Sy);return P.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),he.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const J_=null;function Ed(e){return P.isPlainObject(e)||P.isArray(e)}function Ey(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function Yp(e,t,n){return e?e.concat(t).map(function(s,i){return s=Ey(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Z_(e){return P.isArray(e)&&!e.some(Ed)}const eS=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function _c(e,t,n){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!P.isUndefined(v[x])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(P.isDate(m))return m.toISOString();if(!l&&P.isBlob(m))throw new he("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(m)||P.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,x,v){let y=m;if(m&&!v&&typeof m=="object"){if(P.endsWith(x,"{}"))x=r?x:x.slice(0,-2),m=JSON.stringify(m);else if(P.isArray(m)&&Z_(m)||(P.isFileList(m)||P.endsWith(x,"[]"))&&(y=P.toArray(m)))return x=Ey(x),y.forEach(function(b,S){!(P.isUndefined(b)||b===null)&&t.append(o===!0?Yp([x],S,i):o===null?x:x+"[]",c(b))}),!1}return Ed(m)?!0:(t.append(Yp(v,x,i),c(m)),!1)}const f=[],h=Object.assign(eS,{defaultVisitor:d,convertValue:c,isVisitable:Ed});function p(m,x){if(!P.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(m),P.forEach(m,function(y,g){(!(P.isUndefined(y)||y===null)&&s.call(t,y,P.isString(g)?g.trim():g,x,h))===!0&&p(y,x?x.concat(g):[g])}),f.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Gp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function qf(e,t){this._pairs=[],e&&_c(e,this,t)}const Ny=qf.prototype;Ny.append=function(t,n){this._pairs.push([t,n])};Ny.toString=function(t){const n=t?function(r){return t.call(this,r,Gp)}:Gp;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function tS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ky(e,t,n){if(!t)return e;const r=n&&n.encode||tS;P.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=P.isURLSearchParams(t)?t.toString():new qf(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Xp{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Cy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nS=typeof URLSearchParams<"u"?URLSearchParams:qf,rS=typeof FormData<"u"?FormData:null,sS=typeof Blob<"u"?Blob:null,iS={isBrowser:!0,classes:{URLSearchParams:nS,FormData:rS,Blob:sS},protocols:["http","https","file","blob","url","data"]},Yf=typeof window<"u"&&typeof document<"u",Nd=typeof navigator=="object"&&navigator||void 0,oS=Yf&&(!Nd||["ReactNative","NativeScript","NS"].indexOf(Nd.product)<0),aS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",lS=Yf&&window.location.href||"http://localhost",cS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yf,hasStandardBrowserEnv:oS,hasStandardBrowserWebWorkerEnv:aS,navigator:Nd,origin:lS},Symbol.toStringTag,{value:"Module"})),St={...cS,...iS};function uS(e,t){return _c(e,new St.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return St.isNode&&P.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function dS(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fS(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function Ty(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&P.isArray(s)?s.length:o,l?(P.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!P.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&P.isArray(s[o])&&(s[o]=fS(s[o])),!a)}if(P.isFormData(e)&&P.isFunction(e.entries)){const n={};return P.forEachEntry(e,(r,s)=>{t(dS(r),s,n,0)}),n}return null}function hS(e,t,n){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const qo={transitional:Cy,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=P.isObject(t);if(i&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return s?JSON.stringify(Ty(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return uS(t,this.formSerializer).toString();if((a=P.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return _c(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),hS(t)):t}],transformResponse:[function(t){const n=this.transitional||qo.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?he.from(a,he.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:St.classes.FormData,Blob:St.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{qo.headers[e]={}});const pS=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mS=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&pS[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Qp=Symbol("internals");function Oi(e){return e&&String(e).trim().toLowerCase()}function tl(e){return e===!1||e==null?e:P.isArray(e)?e.map(tl):String(e)}function gS(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const xS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function du(e,t,n,r,s){if(P.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!P.isString(t)){if(P.isString(r))return t.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(t)}}function yS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function vS(e,t){const n=P.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let Wt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,c){const d=Oi(l);if(!d)throw new Error("header name must be a non-empty string");const f=P.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||l]=tl(a))}const o=(a,l)=>P.forEach(a,(c,d)=>i(c,d,l));if(P.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(P.isString(t)&&(t=t.trim())&&!xS(t))o(mS(t),n);else if(P.isObject(t)&&P.isIterable(t)){let a={},l,c;for(const d of t){if(!P.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?P.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Oi(t),t){const r=P.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return gS(s);if(P.isFunction(n))return n.call(this,s,r);if(P.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Oi(t),t){const r=P.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||du(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Oi(o),o){const a=P.findKey(r,o);a&&(!n||du(r,r[a],a,n))&&(delete r[a],s=!0)}}return P.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||du(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return P.forEach(this,(s,i)=>{const o=P.findKey(r,i);if(o){n[o]=tl(s),delete n[i];return}const a=t?yS(i):String(i).trim();a!==i&&delete n[i],n[a]=tl(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return P.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&P.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Qp]=this[Qp]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Oi(o);r[a]||(vS(s,o),r[a]=!0)}return P.isArray(t)?t.forEach(i):i(t),this}};Wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Wt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});P.freezeMethods(Wt);function fu(e,t){const n=this||qo,r=t||n,s=Wt.from(r.headers);let i=r.data;return P.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Ry(e){return!!(e&&e.__CANCEL__)}function gi(e,t,n){he.call(this,e??"canceled",he.ERR_CANCELED,t,n),this.name="CanceledError"}P.inherits(gi,he,{__CANCEL__:!0});function Dy(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new he("Request failed with status code "+n.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function bS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function wS(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=r[i];o||(o=c),n[s]=l,r[s]=c;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const p=d&&c-d;return p?Math.round(h*1e3/p):void 0}}function _S(e,t){let n=0,r=1e3/t,s,i;const o=(c,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const Il=(e,t,n=3)=>{let r=0;const s=wS(50,250);return _S(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},Jp=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Zp=e=>(...t)=>P.asap(()=>e(...t)),SS=St.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,St.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(St.origin),St.navigator&&/(msie|trident)/i.test(St.navigator.userAgent)):()=>!0,jS=St.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];P.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),P.isString(r)&&o.push("path="+r),P.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ES(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function NS(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Py(e,t,n){let r=!ES(t);return e&&(r||n==!1)?NS(e,t):t}const em=e=>e instanceof Wt?{...e}:e;function vs(e,t){t=t||{};const n={};function r(c,d,f,h){return P.isPlainObject(c)&&P.isPlainObject(d)?P.merge.call({caseless:h},c,d):P.isPlainObject(d)?P.merge({},d):P.isArray(d)?d.slice():d}function s(c,d,f,h){if(P.isUndefined(d)){if(!P.isUndefined(c))return r(void 0,c,f,h)}else return r(c,d,f,h)}function i(c,d){if(!P.isUndefined(d))return r(void 0,d)}function o(c,d){if(P.isUndefined(d)){if(!P.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,f)=>s(em(c),em(d),f,!0)};return P.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=l[d]||s,h=f(e[d],t[d],d);P.isUndefined(h)&&f!==a||(n[d]=h)}),n}const My=e=>{const t=vs({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=Wt.from(o),t.url=ky(Py(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(P.isFormData(n)){if(St.hasStandardBrowserEnv||St.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(St.hasStandardBrowserEnv&&(r&&P.isFunction(r)&&(r=r(t)),r||r!==!1&&SS(t.url))){const c=s&&i&&jS.read(i);c&&o.set(s,c)}return t},kS=typeof XMLHttpRequest<"u",CS=kS&&function(e){return new Promise(function(n,r){const s=My(e);let i=s.data;const o=Wt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,d,f,h,p,m;function x(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function y(){if(!v)return;const b=Wt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),j={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};Dy(function(w){n(w),x()},function(w){r(w),x()},j),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(r(new he("Request aborted",he.ECONNABORTED,e,v)),v=null)},v.onerror=function(){r(new he("Network Error",he.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||Cy;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new he(S,j.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&P.forEach(o.toJSON(),function(S,j){v.setRequestHeader(j,S)}),P.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),a&&a!=="json"&&(v.responseType=s.responseType),c&&([h,m]=Il(c,!0),v.addEventListener("progress",h)),l&&v.upload&&([f,p]=Il(l),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=b=>{v&&(r(!b||b.type?new gi(null,e,v):b),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=bS(s.url);if(g&&St.protocols.indexOf(g)===-1){r(new he("Unsupported protocol "+g+":",he.ERR_BAD_REQUEST,e));return}v.send(i||null)})},TS=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof he?d:new gi(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new he(`timeout ${t} of ms exceeded`,he.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>P.asap(a),l}},RS=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},DS=async function*(e,t){for await(const n of PS(e))yield*RS(n,t)},PS=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},tm=(e,t,n,r)=>{const s=DS(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await s.next();if(c){a(),l.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Sc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Oy=Sc&&typeof ReadableStream=="function",MS=Sc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ly=(e,...t)=>{try{return!!e(...t)}catch{return!1}},OS=Oy&&Ly(()=>{let e=!1;const t=new Request(St.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),nm=64*1024,kd=Oy&&Ly(()=>P.isReadableStream(new Response("").body)),Fl={stream:kd&&(e=>e.body)};Sc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Fl[t]&&(Fl[t]=P.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new he(`Response type '${t}' is not supported`,he.ERR_NOT_SUPPORT,r)})})})(new Response);const LS=async e=>{if(e==null)return 0;if(P.isBlob(e))return e.size;if(P.isSpecCompliantForm(e))return(await new Request(St.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(P.isArrayBufferView(e)||P.isArrayBuffer(e))return e.byteLength;if(P.isURLSearchParams(e)&&(e=e+""),P.isString(e))return(await MS(e)).byteLength},AS=async(e,t)=>{const n=P.toFiniteNumber(e.getContentLength());return n??LS(t)},IS=Sc&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:h}=My(e);c=c?(c+"").toLowerCase():"text";let p=TS([s,i&&i.toAbortSignal()],o),m;const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(l&&OS&&n!=="get"&&n!=="head"&&(v=await AS(d,r))!==0){let j=new Request(t,{method:"POST",body:r,duplex:"half"}),k;if(P.isFormData(r)&&(k=j.headers.get("content-type"))&&d.setContentType(k),j.body){const[w,N]=Jp(v,Il(Zp(l)));r=tm(j.body,nm,w,N)}}P.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;m=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:y?f:void 0});let g=await fetch(m);const b=kd&&(c==="stream"||c==="response");if(kd&&(a||b&&x)){const j={};["status","statusText","headers"].forEach(L=>{j[L]=g[L]});const k=P.toFiniteNumber(g.headers.get("content-length")),[w,N]=a&&Jp(k,Il(Zp(a),!0))||[];g=new Response(tm(g.body,nm,w,()=>{N&&N(),x&&x()}),j)}c=c||"text";let S=await Fl[P.findKey(Fl,c)||"text"](g,e);return!b&&x&&x(),await new Promise((j,k)=>{Dy(j,k,{data:S,headers:Wt.from(g.headers),status:g.status,statusText:g.statusText,config:e,request:m})})}catch(y){throw x&&x(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,e,m),{cause:y.cause||y}):he.from(y,y&&y.code,e,m)}}),Cd={http:J_,xhr:CS,fetch:IS};P.forEach(Cd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const rm=e=>`- ${e}`,FS=e=>P.isFunction(e)||e===null||e===!1,Ay={getAdapter:e=>{e=P.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!FS(n)&&(r=Cd[(o=String(n)).toLowerCase()],r===void 0))throw new he(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(rm).join(`
`):" "+rm(i[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Cd};function hu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gi(null,e)}function sm(e){return hu(e),e.headers=Wt.from(e.headers),e.data=fu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ay.getAdapter(e.adapter||qo.adapter)(e).then(function(r){return hu(e),r.data=fu.call(e,e.transformResponse,r),r.headers=Wt.from(r.headers),r},function(r){return Ry(r)||(hu(e),r&&r.response&&(r.response.data=fu.call(e,e.transformResponse,r.response),r.response.headers=Wt.from(r.response.headers))),Promise.reject(r)})}const Iy="1.9.0",jc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{jc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const im={};jc.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Iy+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new he(s(o," has been removed"+(n?" in "+n:"")),he.ERR_DEPRECATED);return n&&!im[o]&&(im[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};jc.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function zS(e,t,n){if(typeof e!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new he("option "+i+" must be "+l,he.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new he("Unknown option "+i,he.ERR_BAD_OPTION)}}const nl={assertOptions:zS,validators:jc},Cn=nl.validators;let us=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Xp,response:new Xp}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=vs(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&nl.assertOptions(r,{silentJSONParsing:Cn.transitional(Cn.boolean),forcedJSONParsing:Cn.transitional(Cn.boolean),clarifyTimeoutError:Cn.transitional(Cn.boolean)},!1),s!=null&&(P.isFunction(s)?n.paramsSerializer={serialize:s}:nl.assertOptions(s,{encode:Cn.function,serialize:Cn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),nl.assertOptions(n,{baseUrl:Cn.spelling("baseURL"),withXsrfToken:Cn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&P.merge(i.common,i[n.method]);i&&P.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Wt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let d,f=0,h;if(!l){const m=[sm.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),h=m.length,d=Promise.resolve(n);f<h;)d=d.then(m[f++],m[f++]);return d}h=a.length;let p=n;for(f=0;f<h;){const m=a[f++],x=a[f++];try{p=m(p)}catch(v){x.call(this,v);break}}try{d=sm.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=vs(this.defaults,t);const n=Py(t.baseURL,t.url,t.allowAbsoluteUrls);return ky(n,t.params,t.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(t){us.prototype[t]=function(n,r){return this.request(vs(r||{},{method:t,url:n,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(vs(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}us.prototype[t]=n(),us.prototype[t+"Form"]=n(!0)});let BS=class Fy{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new gi(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Fy(function(s){t=s}),cancel:t}}};function $S(e){return function(n){return e.apply(null,n)}}function US(e){return P.isObject(e)&&e.isAxiosError===!0}const Td={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Td).forEach(([e,t])=>{Td[t]=e});function zy(e){const t=new us(e),n=my(us.prototype.request,t);return P.extend(n,us.prototype,t,{allOwnKeys:!0}),P.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return zy(vs(e,s))},n}const Le=zy(qo);Le.Axios=us;Le.CanceledError=gi;Le.CancelToken=BS;Le.isCancel=Ry;Le.VERSION=Iy;Le.toFormData=_c;Le.AxiosError=he;Le.Cancel=Le.CanceledError;Le.all=function(t){return Promise.all(t)};Le.spread=$S;Le.isAxiosError=US;Le.mergeConfig=vs;Le.AxiosHeaders=Wt;Le.formToJSON=e=>Ty(P.isHTMLForm(e)?new FormData(e):e);Le.getAdapter=Ay.getAdapter;Le.HttpStatusCode=Td;Le.default=Le;const{Axios:_3,AxiosError:S3,CanceledError:j3,isCancel:E3,CancelToken:N3,VERSION:k3,all:C3,Cancel:T3,isAxiosError:R3,spread:D3,toFormData:P3,AxiosHeaders:M3,HttpStatusCode:O3,formToJSON:L3,getAdapter:A3,mergeConfig:I3}=Le,HS=()=>window.location.origin,By=HS();console.log("API URL:",By);const oe=Le.create({baseURL:By,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0}),VS=async()=>{try{const e=await oe.get("/sanctum/csrf-cookie");return console.log("CSRF Token Response:",e),e}catch(e){console.error("Erreur lors de la récupération du token CSRF:",e);return}};oe.interceptors.request.use(async function(e){const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.data instanceof FormData?delete e.headers["Content-Type"]:e.headers["Content-Type"]="application/json",console.log("Request Config:",{url:e.url,method:e.method,headers:e.headers,data:e.data instanceof FormData?"FormData":e.data}),e});oe.interceptors.response.use(e=>e,async e=>{var n,r,s,i;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!t._retry){if(t._retry=!0,((r=e.response.data)==null?void 0:r.message)==="Unauthenticated.")return localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",Promise.reject(e);if(((s=e.response.data)==null?void 0:s.message)==="CSRF token mismatch.")return await VS(),oe(t)}return((i=e.response)==null?void 0:i.status)===404&&console.error("Route non trouvée:",t.url),Promise.reject(e)});var $y={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},om=be.createContext&&be.createContext($y),WS=["attr","size","title"];function KS(e,t){if(e==null)return{};var n=qS(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qS(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(this,arguments)}function am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?am(Object(n),!0).forEach(function(r){YS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):am(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YS(e,t,n){return t=GS(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GS(e){var t=XS(e,"string");return typeof t=="symbol"?t:t+""}function XS(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uy(e){return e&&e.map((t,n)=>be.createElement(t.tag,Bl({key:n},t.attr),Uy(t.child)))}function nt(e){return t=>be.createElement(QS,zl({attr:Bl({},e.attr)},t),Uy(e.child))}function QS(e){var t=n=>{var{attr:r,size:s,title:i}=e,o=KS(e,WS),a=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),be.createElement("svg",zl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Bl(Bl({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&be.createElement("title",null,i),e.children)};return om!==void 0?be.createElement(om.Consumer,null,n=>t(n)):t($y)}function JS(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function ZS(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Wi(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function e4(e){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(e)}function t4(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function n4(e){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function Hy(e){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function Vy(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function ja(e){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function r4(e){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function lm(e){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function s4(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function i4(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Lr(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function Ea(e){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(e)}function rl(e){return nt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function o4(e){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function cm(e){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function a4(e){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function ss(e){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function l4(e){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}const c4=()=>{const[e,t]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(""),[o,a]=_.useState(!1),l=An();_.useEffect(()=>{(async()=>{try{await oe.get("/sanctum/csrf-cookie")}catch(f){console.error("Erreur lors de la récupération du token CSRF:",f)}})()},[]);const c=async d=>{var f,h;d.preventDefault(),i(""),a(!0);try{const p=await oe.post("/api/login",{email:e,password:n});p.data.token&&(localStorage.setItem("token",p.data.token),localStorage.setItem("user",JSON.stringify(p.data.user)),l("/dashboard",{replace:!0}))}catch(p){console.error("Erreur de connexion:",p),i(((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.message)||"Une erreur est survenue lors de la connexion. Veuillez réessayer.")}finally{a(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-indigo-500 to-purple-600 p-4",children:u.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Connexion"}),u.jsx("p",{className:"text-gray-600",children:"Bienvenue sur la plateforme de gestion des tickets"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:s}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(ss,{className:"text-gray-400"})}),u.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:d=>t(d.target.value),required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:o})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(r4,{className:"text-gray-400"})}),u.jsx("input",{type:"password",placeholder:"Mot de passe",value:n,onChange:d=>r(d.target.value),required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:o})]}),u.jsx("button",{type:"submit",className:`w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors ${o?"opacity-50 cursor-not-allowed":""}`,disabled:o,children:o?u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-white rounded-full animate-spin mr-2"}),"Connexion en cours..."]}):"Se connecter"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-gray-600",children:["Vous n'avez pas de compte ?"," ",u.jsx(tr,{to:"/register",className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Demander un compte"})]})})]})})};Le.defaults.baseURL="http://localhost:8000";const u4=()=>{const e=Es(),t=An(),[n,r]=_.useState(!1),[s,i]=_.useState(0),[o,a]=_.useState(0);let l=null;try{l=JSON.parse(localStorage.getItem("user"))}catch{l=null}const c=l==null?void 0:l.niveau;_.useEffect(()=>{const p=async()=>{try{const v={Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"};if(c===1){const g=await Le.get("/api/admin/register-requests/count",{headers:v});i(g.data.count)}const y=await Le.get("/api/tickets/pending/count",{headers:v});a(y.data.count)}catch(x){console.error("Error fetching counts:",x)}};p();const m=setInterval(p,3e4);return()=>clearInterval(m)},[c]);const d=p=>e.pathname===p,f=async()=>{r(!0);try{const p=localStorage.getItem("token");if(!p){t("/login");return}await Le.post("/api/logout",{},{headers:{Authorization:`Bearer ${p}`,Accept:"application/json","Content-Type":"application/json"}}),localStorage.removeItem("token"),localStorage.removeItem("user"),t("/login")}catch(p){console.error("Erreur lors de la déconnexion:",p),localStorage.removeItem("token"),localStorage.removeItem("user")}finally{r(!1),t("/login")}};let h=[{path:"/dashboard",icon:u.jsx(ja,{}),text:"Tableau de bord"},{path:"/tickets",icon:u.jsx(Ea,{}),text:"Tickets"},{path:"/admin/pending-tickets",icon:u.jsx(Wi,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/admin/register-requests",icon:u.jsx(cm,{}),text:"Demandes d'inscription",badge:s>0?s:null},{path:"/create-user",icon:u.jsx(cm,{}),text:"Créer un utilisateur"},{path:"/users",icon:u.jsx(l4,{}),text:"Liste des utilisateurs"},{path:"/admin/entities",icon:u.jsx(e4,{}),text:"Gestion des référentiels"},{path:"/profile",icon:u.jsx(ss,{}),text:"Mon Profil"}];return c==="2"||c===2?h=[{path:"/dashboard",icon:u.jsx(ja,{}),text:"Tableau de bord"},{path:"/tickets",icon:u.jsx(Ea,{}),text:"Tickets"},{path:"/admin/pending-tickets",icon:u.jsx(Wi,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/profile",icon:u.jsx(ss,{}),text:"Mon Profil"}]:c==="3"||c===3?h=[{path:"/dashboard",icon:u.jsx(ja,{}),text:"Tableau de bord"},{path:"/tickets",icon:u.jsx(Ea,{}),text:"Tickets"},{path:"/admin/pending-tickets",icon:u.jsx(Wi,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/create-ticket",icon:u.jsx(lm,{}),text:"Créer un ticket (IA)"},{path:"/profile",icon:u.jsx(ss,{}),text:"Mon Profil"}]:(c==="4"||c===4)&&(h=[{path:"/dashboard",icon:u.jsx(ja,{}),text:"Tableau de bord"},{path:"/create-ticket",icon:u.jsx(lm,{}),text:"Créer un ticket (IA)"},{path:"/tickets",icon:u.jsx(Ea,{}),text:"Mes Tickets"},{path:"/admin/pending-tickets",icon:u.jsx(Wi,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/completed-tickets",icon:u.jsx(JS,{}),text:"Tickets terminés"},{path:"/profile",icon:u.jsx(ss,{}),text:"Mon Profil"}]),u.jsxs("div",{className:"bg-gray-800 text-white w-64 min-h-screen p-4 flex flex-col",children:[u.jsx("div",{className:"mb-8",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Gestion Tickets"})}),u.jsx("nav",{children:u.jsxs("ul",{className:"space-y-2",children:[h.map(p=>u.jsx("li",{children:u.jsxs(tr,{to:p.path,className:`flex items-center space-x-2 p-2 rounded-lg transition-colors ${d(p.path)?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[u.jsx("span",{className:"text-lg",children:p.icon}),u.jsx("span",{className:"flex-1",children:p.text}),p.badge&&u.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:p.badge})]})},p.path)),u.jsx("li",{children:u.jsxs("button",{onClick:f,className:"flex items-center space-x-2 p-2 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white w-full",disabled:n,children:[u.jsx("span",{className:"text-lg",children:n?u.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.908l2-2.617zm10 0l2 2.617A7.962 7.962 0 0020 12h-4a8 8 0 01-2 5.291z"})]}):u.jsx(i4,{})}),u.jsx("span",{children:n?"Déconnexion...":"Déconnexion"})]})})]})})]})},Ke=({children:e})=>u.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[u.jsx(u4,{}),u.jsx("main",{className:"flex-1 p-8",children:e})]});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Yo(e){return e+.5|0}const wr=(e,t,n)=>Math.max(Math.min(e,n),t);function Ki(e){return wr(Yo(e*2.55),0,255)}function Dr(e){return wr(Yo(e*255),0,255)}function Kn(e){return wr(Yo(e/2.55)/100,0,1)}function um(e){return wr(Yo(e*100),0,100)}const nn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Rd=[..."0123456789ABCDEF"],d4=e=>Rd[e&15],f4=e=>Rd[(e&240)>>4]+Rd[e&15],Na=e=>(e&240)>>4===(e&15),h4=e=>Na(e.r)&&Na(e.g)&&Na(e.b)&&Na(e.a);function p4(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&nn[e[1]]*17,g:255&nn[e[2]]*17,b:255&nn[e[3]]*17,a:t===5?nn[e[4]]*17:255}:(t===7||t===9)&&(n={r:nn[e[1]]<<4|nn[e[2]],g:nn[e[3]]<<4|nn[e[4]],b:nn[e[5]]<<4|nn[e[6]],a:t===9?nn[e[7]]<<4|nn[e[8]]:255})),n}const m4=(e,t)=>e<255?t(e):"";function g4(e){var t=h4(e)?d4:f4;return e?"#"+t(e.r)+t(e.g)+t(e.b)+m4(e.a,t):void 0}const x4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Wy(e,t,n){const r=t*Math.min(n,1-n),s=(i,o=(i+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function y4(e,t,n){const r=(s,i=(s+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function v4(e,t,n){const r=Wy(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function b4(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}function Gf(e){const n=e.r/255,r=e.g/255,s=e.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,c,d;return i!==o&&(d=i-o,c=a>.5?d/(2-i-o):d/(i+o),l=b4(n,r,s,d,i),l=l*60+.5),[l|0,c||0,a]}function Xf(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Dr)}function Qf(e,t,n){return Xf(Wy,e,t,n)}function w4(e,t,n){return Xf(v4,e,t,n)}function _4(e,t,n){return Xf(y4,e,t,n)}function Ky(e){return(e%360+360)%360}function S4(e){const t=x4.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?Ki(+t[5]):Dr(+t[5]));const s=Ky(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=w4(s,i,o):t[1]==="hsv"?r=_4(s,i,o):r=Qf(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function j4(e,t){var n=Gf(e);n[0]=Ky(n[0]+t),n=Qf(n),e.r=n[0],e.g=n[1],e.b=n[2]}function E4(e){if(!e)return;const t=Gf(e),n=t[0],r=um(t[1]),s=um(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${Kn(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const dm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},fm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function N4(){const e={},t=Object.keys(fm),n=Object.keys(dm);let r,s,i,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,dm[i]);i=parseInt(fm[o],16),e[a]=[i>>16&255,i>>8&255,i&255]}return e}let ka;function k4(e){ka||(ka=N4(),ka.transparent=[0,0,0,0]);const t=ka[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const C4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function T4(e){const t=C4.exec(e);let n=255,r,s,i;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?Ki(o):wr(o*255,0,255)}return r=+t[1],s=+t[3],i=+t[5],r=255&(t[2]?Ki(r):wr(r,0,255)),s=255&(t[4]?Ki(s):wr(s,0,255)),i=255&(t[6]?Ki(i):wr(i,0,255)),{r,g:s,b:i,a:n}}}function R4(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Kn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const pu=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ps=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function D4(e,t,n){const r=Ps(Kn(e.r)),s=Ps(Kn(e.g)),i=Ps(Kn(e.b));return{r:Dr(pu(r+n*(Ps(Kn(t.r))-r))),g:Dr(pu(s+n*(Ps(Kn(t.g))-s))),b:Dr(pu(i+n*(Ps(Kn(t.b))-i))),a:e.a+n*(t.a-e.a)}}function Ca(e,t,n){if(e){let r=Gf(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Qf(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function qy(e,t){return e&&Object.assign(t||{},e)}function hm(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Dr(e[3]))):(t=qy(e,{r:0,g:0,b:0,a:1}),t.a=Dr(t.a)),t}function P4(e){return e.charAt(0)==="r"?T4(e):S4(e)}class Mo{constructor(t){if(t instanceof Mo)return t;const n=typeof t;let r;n==="object"?r=hm(t):n==="string"&&(r=p4(t)||k4(t)||P4(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=qy(this._rgb);return t&&(t.a=Kn(t.a)),t}set rgb(t){this._rgb=hm(t)}rgbString(){return this._valid?R4(this._rgb):void 0}hexString(){return this._valid?g4(this._rgb):void 0}hslString(){return this._valid?E4(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,s=t.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=D4(this._rgb,t._rgb,n)),this}clone(){return new Mo(this.rgb)}alpha(t){return this._rgb.a=Dr(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Yo(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ca(this._rgb,2,t),this}darken(t){return Ca(this._rgb,2,-t),this}saturate(t){return Ca(this._rgb,1,t),this}desaturate(t){return Ca(this._rgb,1,-t),this}rotate(t){return j4(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Bn(){}const M4=(()=>{let e=0;return()=>e++})();function Ae(e){return e==null}function lt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ke(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function fn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Tn(e,t){return fn(e)?e:t}function De(e,t){return typeof e>"u"?t:e}const O4=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ue(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Me(e,t,n,r){let s,i,o;if(lt(e))for(i=e.length,s=0;s<i;s++)t.call(n,e[s],s);else if(ke(e))for(o=Object.keys(e),i=o.length,s=0;s<i;s++)t.call(n,e[o[s]],o[s])}function $l(e,t){let n,r,s,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],i=t[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Ul(e){if(lt(e))return e.map(Ul);if(ke(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=Ul(e[n[s]]);return t}return e}function Yy(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function L4(e,t,n,r){if(!Yy(e))return;const s=t[e],i=n[e];ke(s)&&ke(i)?Oo(s,i,r):t[e]=Ul(i)}function Oo(e,t,n){const r=lt(t)?t:[t],s=r.length;if(!ke(e))return e;n=n||{};const i=n.merger||L4;let o;for(let a=0;a<s;++a){if(o=r[a],!ke(o))continue;const l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)i(l[c],e,o,n)}return e}function io(e,t){return Oo(e,t,{merger:A4})}function A4(e,t,n){if(!Yy(e))return;const r=t[e],s=n[e];ke(r)&&ke(s)?io(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ul(s))}const pm={"":e=>e,x:e=>e.x,y:e=>e.y};function I4(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function F4(e){const t=I4(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function li(e,t){return(pm[t]||(pm[t]=F4(t)))(e)}function Jf(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Lo=e=>typeof e<"u",Ar=e=>typeof e=="function",mm=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function z4(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ft=Math.PI,Rt=2*ft,Hl=Number.POSITIVE_INFINITY,B4=ft/180,gt=ft/2,Vr=ft/4,gm=ft*2/3,Gy=Math.log10,Pr=Math.sign;function sl(e,t,n){return Math.abs(e-t)<n}function xm(e){const t=Math.round(e);e=sl(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Gy(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function $4(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((s,i)=>s-i).pop(),t}function U4(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Vl(e){return!U4(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function H4(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function V4(e,t,n){let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function is(e){return e*(ft/180)}function W4(e){return e*(180/ft)}function ym(e){if(!fn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Xy(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*ft&&(i+=Rt),{angle:i,distance:s}}function K4(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Wr(e){return(e%Rt+Rt)%Rt}function Qy(e,t,n,r){const s=Wr(e),i=Wr(t),o=Wr(n),a=Wr(i-s),l=Wr(o-s),c=Wr(s-i),d=Wr(s-o);return s===i||s===o||r&&i===o||a>l&&c<d}function Bt(e,t,n){return Math.max(t,Math.min(n,e))}function q4(e){return Bt(e,-32768,32767)}function os(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Zf(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Dd=(e,t,n,r)=>Zf(e,n,r?s=>{const i=e[s][t];return i<n||i===n&&e[s+1][t]===n}:s=>e[s][t]<n),Y4=(e,t,n)=>Zf(e,n,r=>e[r][t]>=n);function G4(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}const Jy=["push","pop","shift","splice","unshift"];function X4(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Jy.forEach(n=>{const r="_onData"+Jf(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function vm(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);s!==-1&&r.splice(s,1),!(r.length>0)&&(Jy.forEach(i=>{delete e[i]}),delete e._chartjs)}function Zy(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ev=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function tv(e,t){let n=[],r=!1;return function(...s){n=s,r||(r=!0,ev.call(window,()=>{r=!1,e.apply(t,n)}))}}function Q4(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const eh=e=>e==="start"?"left":e==="end"?"right":"center",wt=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,J4=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t,Ta=e=>e===0||e===1,bm=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Rt/n)),wm=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Rt/n)+1,oo={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*gt)+1,easeOutSine:e=>Math.sin(e*gt),easeInOutSine:e=>-.5*(Math.cos(ft*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ta(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ta(e)?e:bm(e,.075,.3),easeOutElastic:e=>Ta(e)?e:wm(e,.075,.3),easeInOutElastic(e){return Ta(e)?e:e<.5?.5*bm(e*2,.1125,.45):.5+.5*wm(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-oo.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?oo.easeInBounce(e*2)*.5:oo.easeOutBounce(e*2-1)*.5+.5};function nv(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function _m(e){return nv(e)?e:new Mo(e)}function mu(e){return nv(e)?e:new Mo(e).saturate(.5).darken(.1).hexString()}const Z4=["x","y","borderWidth","radius","tension"],ej=["color","borderColor","backgroundColor"];function tj(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:ej},numbers:{type:"number",properties:Z4}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function nj(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Sm=new Map;function rj(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Sm.get(n);return r||(r=new Intl.NumberFormat(e,t),Sm.set(n,r)),r}function rv(e,t,n){return rj(t,n).format(e)}const sj={values(e){return lt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let s,i=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=ij(e,n)}const o=Gy(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),rv(e,r,l)}};function ij(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var sv={formatters:sj};function oj(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:sv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const bs=Object.create(null),Pd=Object.create(null);function ao(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];e=e[i]||(e[i]=Object.create(null))}return e}function gu(e,t,n){return typeof t=="string"?Oo(ao(e,t),n):Oo(ao(e,""),t)}class aj{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>mu(s.backgroundColor),this.hoverBorderColor=(r,s)=>mu(s.borderColor),this.hoverColor=(r,s)=>mu(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return gu(this,t,n)}get(t){return ao(this,t)}describe(t,n){return gu(Pd,t,n)}override(t,n){return gu(bs,t,n)}route(t,n,r,s){const i=ao(this,t),o=ao(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return ke(l)?Object.assign({},c,l):De(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var tt=new aj({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[tj,nj,oj]);function lj(e){return!e||Ae(e.size)||Ae(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function jm(e,t,n,r,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Kr(e,t,n){const r=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function Em(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Nm(e,t,n,r){iv(e,t,n,r,null)}function iv(e,t,n,r,s){let i,o,a,l,c,d,f,h;const p=t.pointStyle,m=t.rotation,x=t.radius;let v=(m||0)*B4;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(v),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(x)||x<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,r,s/2,x,0,0,Rt):e.arc(n,r,x,0,Rt),e.closePath();break;case"triangle":d=s?s/2:x,e.moveTo(n+Math.sin(v)*d,r-Math.cos(v)*x),v+=gm,e.lineTo(n+Math.sin(v)*d,r-Math.cos(v)*x),v+=gm,e.lineTo(n+Math.sin(v)*d,r-Math.cos(v)*x),e.closePath();break;case"rectRounded":c=x*.516,l=x-c,o=Math.cos(v+Vr)*l,f=Math.cos(v+Vr)*(s?s/2-c:l),a=Math.sin(v+Vr)*l,h=Math.sin(v+Vr)*(s?s/2-c:l),e.arc(n-f,r-a,c,v-ft,v-gt),e.arc(n+h,r-o,c,v-gt,v),e.arc(n+f,r+a,c,v,v+gt),e.arc(n-h,r+o,c,v+gt,v+ft),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*x,d=s?s/2:l,e.rect(n-d,r-l,2*d,2*l);break}v+=Vr;case"rectRot":f=Math.cos(v)*(s?s/2:x),o=Math.cos(v)*x,a=Math.sin(v)*x,h=Math.sin(v)*(s?s/2:x),e.moveTo(n-f,r-a),e.lineTo(n+h,r-o),e.lineTo(n+f,r+a),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":v+=Vr;case"cross":f=Math.cos(v)*(s?s/2:x),o=Math.cos(v)*x,a=Math.sin(v)*x,h=Math.sin(v)*(s?s/2:x),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":f=Math.cos(v)*(s?s/2:x),o=Math.cos(v)*x,a=Math.sin(v)*x,h=Math.sin(v)*(s?s/2:x),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),v+=Vr,f=Math.cos(v)*(s?s/2:x),o=Math.cos(v)*x,a=Math.sin(v)*x,h=Math.sin(v)*(s?s/2:x),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=s?s/2:Math.cos(v)*x,a=Math.sin(v)*x,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(v)*(s?s/2:x),r+Math.sin(v)*x);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ov(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function th(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function nh(e){e.restore()}function cj(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ae(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function uj(e,t,n,r,s){if(s.strikethrough||s.underline){const i=e.measureText(r),o=t-i.actualBoundingBoxLeft,a=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,d),e.lineTo(a,d),e.stroke()}}function dj(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ao(e,t,n,r,s,i={}){const o=lt(t)?t:[t],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,cj(e,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&dj(e,i.backdrop),a&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Ae(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,n,r,i.maxWidth)),e.fillText(c,n,r,i.maxWidth),uj(e,n,r,c,i),r+=Number(s.lineHeight);e.restore()}function Wl(e,t){const{x:n,y:r,w:s,h:i,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*ft,ft,!0),e.lineTo(n,r+i-o.bottomLeft),e.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,ft,gt,!0),e.lineTo(n+s-o.bottomRight,r+i),e.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,gt,0,!0),e.lineTo(n+s,r+o.topRight),e.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-gt,!0),e.lineTo(n+o.topLeft,r)}const fj=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hj=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pj(e,t){const n=(""+e).match(fj);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const mj=e=>+e||0;function rh(e,t){const n={},r=ke(t),s=r?Object.keys(t):t,i=ke(e)?r?o=>De(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=mj(i(o));return n}function av(e){return rh(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Js(e){return rh(e,["topLeft","topRight","bottomLeft","bottomRight"])}function hn(e){const t=av(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function jt(e,t){e=e||{},t=t||tt.font;let n=De(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=De(e.style,t.style);r&&!(""+r).match(hj)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:De(e.family,t.family),lineHeight:pj(De(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:De(e.weight,t.weight),string:""};return s.string=lj(s),s}function Ra(e,t,n,r){let s,i,o;for(s=0,i=e.length;s<i;++s)if(o=e[s],o!==void 0&&o!==void 0)return o}function gj(e,t,n){const{min:r,max:s}=e,i=O4(t,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function xi(e,t){return Object.assign(Object.create(e),t)}function sh(e,t=[""],n,r,s=()=>e[0]){const i=n||e;typeof r>"u"&&(r=dv("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>sh([a,...e],t,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return cv(a,l,()=>jj(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Cm(a).includes(l)},ownKeys(a){return Cm(a)},set(a,l,c){const d=a._storage||(a._storage=s());return a[l]=d[l]=c,delete a._keys,!0}})}function ci(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:lv(e,r),setContext:i=>ci(e,i,n,r),override:i=>ci(e.override(i),t,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,a){return cv(i,o,()=>yj(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,a){return e[o]=a,delete i[o],!0}})}function lv(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Ar(n)?n:()=>n,isIndexable:Ar(r)?r:()=>r}}const xj=(e,t)=>e?e+Jf(t):t,ih=(e,t)=>ke(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function cv(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function yj(e,t,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=e;let a=r[t];return Ar(a)&&o.isScriptable(t)&&(a=vj(t,a,e,n)),lt(a)&&a.length&&(a=bj(t,a,e,o.isIndexable)),ih(t,a)&&(a=ci(a,s,i&&i[t],o)),a}function vj(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(i,o||r);return a.delete(e),ih(e,l)&&(l=oh(s._scopes,s,e,l)),l}function bj(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(ke(t[0])){const l=t,c=s._scopes.filter(d=>d!==l);t=[];for(const d of l){const f=oh(c,s,e,d);t.push(ci(f,i,o&&o[e],a))}}return t}function uv(e,t,n){return Ar(e)?e(t,n):e}const wj=(e,t)=>e===!0?t:typeof e=="string"?li(t,e):void 0;function _j(e,t,n,r,s){for(const i of t){const o=wj(n,i);if(o){e.add(o);const a=uv(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function oh(e,t,n,r){const s=t._rootScopes,i=uv(t._fallback,n,r),o=[...e,...s],a=new Set;a.add(r);let l=km(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=km(a,o,i,l,r),l===null)?!1:sh(Array.from(a),[""],s,i,()=>Sj(t,n,r))}function km(e,t,n,r,s){for(;n;)n=_j(e,t,n,r,s);return n}function Sj(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];return lt(s)&&ke(n)?n:s||{}}function jj(e,t,n,r){let s;for(const i of t)if(s=dv(xj(i,e),n),typeof s<"u")return ih(e,s)?oh(n,r,e,s):s}function dv(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function Cm(e){let t=e._keys;return t||(t=e._keys=Ej(e._scopes)),t}function Ej(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(r);return Array.from(t)}function ah(){return typeof window<"u"&&typeof document<"u"}function lh(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Kl(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Ec=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Nj(e,t){return Ec(e).getPropertyValue(t)}const kj=["top","right","bottom","left"];function ds(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=kj[s];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Cj=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function Tj(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(Cj(s,i,e.target))a=s,l=i;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Xr(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=Ec(n),i=s.boxSizing==="border-box",o=ds(s,"padding"),a=ds(s,"border","width"),{x:l,y:c,box:d}=Tj(e,n),f=o.left+(d&&a.left),h=o.top+(d&&a.top);let{width:p,height:m}=t;return i&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-f)/p*n.width/r),y:Math.round((c-h)/m*n.height/r)}}function Rj(e,t,n){let r,s;if(t===void 0||n===void 0){const i=e&&lh(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const o=i.getBoundingClientRect(),a=Ec(i),l=ds(a,"border","width"),c=ds(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,r=Kl(a.maxWidth,i,"clientWidth"),s=Kl(a.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:r||Hl,maxHeight:s||Hl}}const Da=e=>Math.round(e*10)/10;function Dj(e,t,n,r){const s=Ec(e),i=ds(s,"margin"),o=Kl(s.maxWidth,e,"clientWidth")||Hl,a=Kl(s.maxHeight,e,"clientHeight")||Hl,l=Rj(e,t,n);let{width:c,height:d}=l;if(s.boxSizing==="content-box"){const h=ds(s,"border","width"),p=ds(s,"padding");c-=p.width+h.width,d-=p.height+h.height}return c=Math.max(0,c-i.width),d=Math.max(0,r?c/r:d-i.height),c=Da(Math.min(c,o,l.maxWidth)),d=Da(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Da(c/2)),(t!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,c=Da(Math.floor(d*r))),{width:c,height:d}}function Tm(e,t,n){const r=t||1,s=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(e.currentDevicePixelRatio=r,o.height=s,o.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Pj=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ah()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Rm(e,t){const n=Nj(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const Mj=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Oj=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Zs(e,t,n){return e?Mj(t,n):Oj()}function fv(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function hv(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Pa(e,t,n){return e.options.clip?e[n]:t[n]}function Lj(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Pa(n,t,"left"),right:Pa(n,t,"right"),top:Pa(r,t,"top"),bottom:Pa(r,t,"bottom")}:t}function Aj(e,t){const n=t._clip;if(n.disabled)return!1;const r=Lj(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Ij{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ev.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,t,"progress")),i.length||(r.running=!1,this._notify(s,r,t,"complete"),r.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Un=new Ij;const Dm="transparent",Fj={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=_m(e||Dm),s=r.valid&&_m(t||Dm);return s&&s.valid?s.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class zj{constructor(t,n,r,s){const i=n[r];s=Ra([t.to,s,i,t.from]);const o=Ra([t.from,i,s]);this._active=!0,this._fn=t.fn||Fj[t.type||typeof o],this._easing=oo[t.easing]||oo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Ra([t.to,n,s,t.from]),this._from=Ra([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class pv{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ke(t))return;const n=Object.keys(tt.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const i=t[s];if(!ke(i))return;const o={};for(const a of n)o[a]=i[a];(lt(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,s=$j(t,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&Bj(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,n){const r=this._properties,s=[],i=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const d=n[c];let f=i[c];const h=r.get(c);if(f)if(h&&f.active()){f.update(h,d,a);continue}else f.cancel();if(!h||!h.duration){t[c]=d;continue}i[c]=f=new zj(h,t,c,d),s.push(f)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Un.add(this._chart,r),!0}}function Bj(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const i=e[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function $j(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Pm(e,t){const n=e&&e.options||{},r=n.reverse,s=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:r?i:s,end:r?s:i}}function Uj(e,t,n){if(n===!1)return!1;const r=Pm(e,n),s=Pm(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function Hj(e){let t,n,r,s;return ke(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:e===!1}}function mv(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function Mm(e,t,n,r={}){const s=e.keys,i=r.mode==="single";let o,a,l,c;if(t===null)return;let d=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(d=!0,r.all)continue;break}c=e.values[l],fn(c)&&(i||t===0||Pr(t)===Pr(c))&&(t+=c)}return!d&&!r.all?0:t}function Vj(e,t){const{iScale:n,vScale:r}=t,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],a[l]={[s]:d,[i]:e[d]};return a}function xu(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Wj(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Kj(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function qj(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Om(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const i=e[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function Lm(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,d=Wj(i,o,r),f=t.length;let h;for(let p=0;p<f;++p){const m=t[p],{[l]:x,[c]:v}=m,y=m._stacks||(m._stacks={});h=y[c]=qj(s,d,x),h[a]=v,h._top=Om(h,o,!0,r.type),h._bottom=Om(h,o,!1,r.type);const g=h._visualValues||(h._visualValues={});g[a]=v}}function yu(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function Yj(e,t){return xi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Gj(e,t,n){return xi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Li(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const s of t){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const vu=e=>e==="reset"||e==="none",Am=(e,t)=>t?e:Object.assign({},e),Xj=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:mv(n,!0),values:null};class lo{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=xu(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Li(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,h,p,m)=>f==="x"?h:f==="r"?m:p,i=n.xAxisID=De(r.xAxisID,yu(t,"x")),o=n.yAxisID=De(r.yAxisID,yu(t,"y")),a=n.rAxisID=De(r.rAxisID,yu(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,o,a),d=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&vm(this._data,this),t._stacked&&Li(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(ke(n)){const s=this._cachedMeta;this._data=Vj(n,s)}else if(r!==n){if(r){vm(r,this);const s=this._cachedMeta;Li(s),s._parsed=[]}n&&Object.isExtensible(n)&&X4(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=xu(n.vScale,n),n.stack!==r.stack&&(s=!0,Li(n),n.stack=r.stack),this._resyncElements(t),(s||i!==n._stacked)&&(Lm(this,n._parsed),n._stacked=xu(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=t===0&&n===s.length?!0:r._sorted,c=t>0&&r._parsed[t-1],d,f,h;if(this._parsing===!1)r._parsed=s,r._sorted=!0,h=s;else{lt(s[t])?h=this.parseArrayData(r,s,t,n):ke(s[t])?h=this.parseObjectData(r,s,t,n):h=this.parsePrimitiveData(r,s,t,n);const p=()=>f[a]===null||c&&f[a]<c[a];for(d=0;d<n;++d)r._parsed[d+t]=f=h[d],l&&(p()&&(l=!1),c=f);r._sorted=l}o&&Lm(this,h)}parsePrimitiveData(t,n,r,s){const{iScale:i,vScale:o}=t,a=i.axis,l=o.axis,c=i.getLabels(),d=i===o,f=new Array(s);let h,p,m;for(h=0,p=s;h<p;++h)m=h+r,f[h]={[a]:d||i.parse(c[m],m),[l]:o.parse(n[m],m)};return f}parseArrayData(t,n,r,s){const{xScale:i,yScale:o}=t,a=new Array(s);let l,c,d,f;for(l=0,c=s;l<c;++l)d=l+r,f=n[d],a[l]={x:i.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(t,n,r,s){const{xScale:i,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let d,f,h,p;for(d=0,f=s;d<f;++d)h=d+r,p=n[h],c[d]={x:i.parse(li(p,a),h),y:o.parse(li(p,l),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const s=this.chart,i=this._cachedMeta,o=n[t.axis],a={keys:mv(s,!0),values:n._stacks[t.axis]._visualValues};return Mm(a,o,i.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=Mm(s,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&t===r.iScale,o=s.length,a=this._getOtherScale(t),l=Xj(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=Kj(a);let h,p;function m(){p=s[h];const x=p[a.axis];return!fn(p[t.axis])||d>x||f<x}for(h=0;h<o&&!(!m()&&(this.updateRangeFromParsed(c,t,p,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][t.axis],fn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Hj(De(this.options.clip,Uj(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(t,i,a,l),d=a;d<a+l;++d){const f=s[d];f.hidden||(f.active&&c?o.push(f):f.draw(t,i))}for(d=0;d<o.length;++d)o[d].draw(t,i)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=Gj(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=s.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Yj(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=t+"-"+n,a=i[o],l=this.enableOptionSharing&&Lo(r);if(a)return Am(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),d),p=Object.keys(tt.elements[t]),m=()=>this.getContext(r,s,n),x=c.resolveNamedOptions(h,p,m,f);return x.$shared&&(x.$shared=l,i[o]=Object.freeze(Am(x,l))),x}_resolveAnimations(t,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(t,r,n))}const c=new pv(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||vu(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(t,n,r,s){vu(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!vu(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,t):i<s&&this._removeElements(i,s-i)}_insertElements(t,n,r=!0){const s=this._cachedMeta,i=s.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=t;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),r&&this.updateElements(i,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&Li(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}de(lo,"defaults",{}),de(lo,"datasetElementType",null),de(lo,"dataElementType",null);function Qj(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=Zy(r.sort((s,i)=>s-i))}return e._cache.$bar}function Jj(e){const t=e.iScale,n=Qj(t,e.type);let r=t._length,s,i,o,a;const l=()=>{o===32767||o===-32768||(Lo(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,i=n.length;s<i;++s)o=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,i=t.ticks.length;s<i;++s)o=t.getPixelForTick(s),l();return r}function Zj(e,t,n,r){const s=n.barThickness;let i,o;return Ae(s)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:t.pixels[e]-i/2}}function eE(e,t,n,r){const s=t.pixels,i=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?t.end-t.start:a-i)),a===null&&(a=i+i-o);const c=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function tE(e,t,n,r){const s=n.parse(e[0],r),i=n.parse(e[1],r),o=Math.min(s,i),a=Math.max(s,i);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:i,min:o,max:a}}function gv(e,t,n,r){return lt(e)?tE(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Im(e,t,n,r){const s=e.iScale,i=e.vScale,o=s.getLabels(),a=s===i,l=[];let c,d,f,h;for(c=n,d=n+r;c<d;++c)h=t[c],f={},f[s.axis]=a||s.parse(o[c],c),l.push(gv(h,f,i,c));return l}function bu(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function nE(e,t,n){return e!==0?Pr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function rE(e){let t,n,r,s,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:t,top:s,bottom:i}}function sE(e,t,n,r){let s=t.borderSkipped;const i={};if(!s){e.borderSkipped=i;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:d}=rE(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=c:(n._bottom||0)===r?s=d:(i[Fm(d,o,a,l)]=!0,s=c)),i[Fm(s,o,a,l)]=!0,e.borderSkipped=i}function Fm(e,t,n,r){return r?(e=iE(e,t,n),e=zm(e,n,t)):e=zm(e,t,n),e}function iE(e,t,n){return e===t?n:e===n?t:e}function zm(e,t,n){return e==="start"?t:e==="end"?n:e}function oE(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class il extends lo{parsePrimitiveData(t,n,r,s){return Im(t,n,r,s)}parseArrayData(t,n,r,s){return Im(t,n,r,s)}parseObjectData(t,n,r,s){const{iScale:i,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?a:l,d=o.axis==="x"?a:l,f=[];let h,p,m,x;for(h=r,p=r+s;h<p;++h)x=n[h],m={},m[i.axis]=i.parse(li(x,c),h),f.push(gv(li(x,d),m,o,h));return f}updateRangeFromParsed(t,n,r,s){super.updateRangeFromParsed(t,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(t),o=i._custom,a=bu(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,s);for(let p=n;p<n+r;p++){const m=this.getParsed(p),x=i||Ae(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),v=this._calculateBarIndexPixels(p,d),y=(m._stacks||{})[a.axis],g={horizontal:c,base:x.base,enableBorderRadius:!y||bu(m._custom)||o===y._top||o===y._bottom,x:c?x.head:v.center,y:c?v.center:x.head,height:c?v.size:Math.abs(x.size),width:c?Math.abs(x.size):v.size};h&&(g.options=f||this.resolveDataElementOptions(p,t[p].active?"active":s));const b=g.options||t[p].options;sE(g,b,y,o),oE(g,b,d.ratio),this.updateElement(t[p],p,g,s)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=d=>{const f=d._parsed.find(p=>p[r.axis]===l),h=f&&f[d.vScale.axis];if(Ae(h)||isNaN(h))return!0};for(const d of s)if(!(n!==void 0&&c(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,r){const s=this._getStacks(t,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const a=t.barThickness;return{min:a||Jj(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(t),c=l._custom,d=bu(c);let f=l[n.axis],h=0,p=r?this.applyStack(n,l,r):f,m,x;p!==f&&(h=p-f,p=f),d&&(f=c.barStart,p=c.barEnd-c.barStart,f!==0&&Pr(f)!==Pr(c.barEnd)&&(h=0),h+=f);const v=!Ae(i)&&!d?i:h;let y=n.getPixelForValue(v);if(this.chart.getDataVisibility(t)?m=n.getPixelForValue(h+p):m=y,x=m-y,Math.abs(x)<o){x=nE(x,n,a)*o,f===a&&(y-=x/2);const g=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),S=Math.min(g,b),j=Math.max(g,b);y=Math.max(Math.min(y,j),S),m=y+x,r&&!d&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(m)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const g=Pr(x)*n.getLineWidthForValue(a)/2;y+=g,x-=g}return{size:x,base:y,head:m,center:m+x/2}}_calculateBarIndexPixels(t,n){const r=n.scale,s=this.options,i=s.skipNull,o=De(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=i?this._getStackCount(t):n.stackCount,d=s.barThickness==="flex"?eE(t,n,s,c):Zj(t,n,s,c),f=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);a=d.start+d.chunk*f+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}de(il,"id","bar"),de(il,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),de(il,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function qr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ch{constructor(t){de(this,"options");this.options=t||{}}static override(t){Object.assign(ch.prototype,t)}init(){}formats(){return qr()}parse(){return qr()}format(){return qr()}add(){return qr()}diff(){return qr()}startOf(){return qr()}endOf(){return qr()}}var aE={_date:ch};function lE(e,t,n,r){const{controller:s,data:i,_sorted:o}=e,a=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&i.length){const c=a._reversePixels?Y4:Dd;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const h=c(i,t,n-f),p=c(i,t,n+f);return{lo:h.lo,hi:p.hi}}}}else{const d=c(i,t,n);if(l){const{vScale:f}=s._cachedMeta,{_parsed:h}=e,p=h.slice(0,d.lo+1).reverse().findIndex(x=>!Ae(x[f.axis]));d.lo-=Math.max(0,p);const m=h.slice(d.hi).findIndex(x=>!Ae(x[f.axis]));d.hi+=Math.max(0,m)}return d}}return{lo:0,hi:i.length-1}}function Nc(e,t,n,r,s){const i=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=i.length;a<l;++a){const{index:c,data:d}=i[a],{lo:f,hi:h}=lE(i[a],t,o,s);for(let p=f;p<=h;++p){const m=d[p];m.skip||r(m,c,p)}}}function cE(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,s){const i=t?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function wu(e,t,n,r,s){const i=[];return!s&&!e.isPointInArea(t)||Nc(e,n,t,function(a,l,c){!s&&!ov(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function uE(e,t,n,r){let s=[];function i(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:f}=Xy(o,{x:t.x,y:t.y});Qy(f,c,d)&&s.push({element:o,datasetIndex:a,index:l})}return Nc(e,n,t,i),s}function dE(e,t,n,r,s,i){let o=[];const a=cE(n);let l=Number.POSITIVE_INFINITY;function c(d,f,h){const p=d.inRange(t.x,t.y,s);if(r&&!p)return;const m=d.getCenterPoint(s);if(!(!!i||e.isPointInArea(m))&&!p)return;const v=a(t,m);v<l?(o=[{element:d,datasetIndex:f,index:h}],l=v):v===l&&o.push({element:d,datasetIndex:f,index:h})}return Nc(e,n,t,c),o}function _u(e,t,n,r,s,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!r?uE(e,t,n,s):dE(e,t,n,r,s,i)}function Bm(e,t,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Nc(e,n,t,(l,c,d)=>{l[o]&&l[o](t[n],s)&&(i.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(t.x,t.y,s))}),r&&!a?[]:i}var fE={modes:{index(e,t,n,r){const s=Xr(t,e),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?wu(e,s,i,r,o):_u(e,s,i,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,f=c.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:d})}),l):[]},dataset(e,t,n,r){const s=Xr(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?wu(e,s,i,r,o):_u(e,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(e,t,n,r){const s=Xr(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return wu(e,s,i,r,o)},nearest(e,t,n,r){const s=Xr(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return _u(e,s,i,n.intersect,r,o)},x(e,t,n,r){const s=Xr(t,e);return Bm(e,s,"x",n.intersect,r)},y(e,t,n,r){const s=Xr(t,e);return Bm(e,s,"y",n.intersect,r)}}};const xv=["left","top","right","bottom"];function Ai(e,t){return e.filter(n=>n.pos===t)}function $m(e,t){return e.filter(n=>xv.indexOf(n.pos)===-1&&n.box.axis===t)}function Ii(e,t){return e.sort((n,r)=>{const s=t?r:n,i=t?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function hE(e){const t=[];let n,r,s,i,o,a;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return t}function pE(e){const t={};for(const n of e){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!xv.includes(s))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function mE(e,t){const n=pE(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let i,o,a;for(i=0,o=e.length;i<o;++i){a=e[i];const{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*r:l&&t.availableWidth,a.height=s):(a.width=r,a.height=d?d*s:l&&t.availableHeight)}return n}function gE(e){const t=hE(e),n=Ii(t.filter(c=>c.box.fullSize),!0),r=Ii(Ai(t,"left"),!0),s=Ii(Ai(t,"right")),i=Ii(Ai(t,"top"),!0),o=Ii(Ai(t,"bottom")),a=$m(t,"x"),l=$m(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Ai(t,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function Um(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function yv(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function xE(e,t,n,r){const{pos:s,box:i}=n,o=e.maxPadding;if(!ke(s)){n.size&&(e[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,e[s]+=n.size}i.getPadding&&yv(o,i.getPadding());const a=Math.max(0,t.outerWidth-Um(o,e,"left","right")),l=Math.max(0,t.outerHeight-Um(o,e,"top","bottom")),c=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function yE(e){const t=e.maxPadding;function n(r){const s=Math.max(t[r]-e[r],0);return e[r]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function vE(e,t){const n=t.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(t[o],n[o])}),i}return r(e?["left","right"]:["top","bottom"])}function qi(e,t,n,r){const s=[];let i,o,a,l,c,d;for(i=0,o=e.length,c=0;i<o;++i){a=e[i],l=a.box,l.update(a.width||t.w,a.height||t.h,vE(a.horizontal,t));const{same:f,other:h}=xE(t,n,a,r);c|=f&&s.length,d=d||h,l.fullSize||s.push(a)}return c&&qi(s,t,n,r)||d}function Ma(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function Hm(e,t,n,r){const s=n.padding;let{x:i,y:o}=t;for(const a of e){const l=a.box,c=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const f=t.w*d,h=c.size||l.height;Lo(c.start)&&(o=c.start),l.fullSize?Ma(l,s.left,o,n.outerWidth-s.right-s.left,h):Ma(l,t.left+c.placed,o,f,h),c.start=o,c.placed+=f,o=l.bottom}else{const f=t.h*d,h=c.size||l.width;Lo(c.start)&&(i=c.start),l.fullSize?Ma(l,i,s.top,h,n.outerHeight-s.bottom-s.top):Ma(l,i,t.top+c.placed,h,f),c.start=i,c.placed+=f,i=l.right}}t.x=i,t.y=o}var ln={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=hn(e.options.layout.padding),i=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=gE(e.boxes),l=a.vertical,c=a.horizontal;Me(e.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const d=l.reduce((x,v)=>v.box.options&&v.box.options.display===!1?x:x+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},s);yv(h,hn(r));const p=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),m=mE(l.concat(c),f);qi(a.fullSize,p,f,m),qi(l,p,f,m),qi(c,p,f,m)&&qi(l,p,f,m),yE(p),Hm(a.leftAndTop,p,f,m),p.x+=p.w,p.y+=p.h,Hm(a.rightAndBottom,p,f,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Me(a.chartArea,x=>{const v=x.box;Object.assign(v,e.chartArea),v.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class vv{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,s){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(t){return!0}updateConfig(t){}}class bE extends vv{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ol="$chartjs",wE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Vm=e=>e===null||e==="";function _E(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[ol]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Vm(s)){const i=Rm(e,"width");i!==void 0&&(e.width=i)}if(Vm(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=Rm(e,"height");i!==void 0&&(e.height=i)}return e}const bv=Pj?{passive:!0}:!1;function SE(e,t,n){e&&e.addEventListener(t,n,bv)}function jE(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,bv)}function EE(e,t){const n=wE[e.type]||e.type,{x:r,y:s}=Xr(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:s!==void 0?s:null}}function ql(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function NE(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||ql(a.addedNodes,r),o=o&&!ql(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function kE(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||ql(a.removedNodes,r),o=o&&!ql(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Io=new Map;let Wm=0;function wv(){const e=window.devicePixelRatio;e!==Wm&&(Wm=e,Io.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function CE(e,t){Io.size||window.addEventListener("resize",wv),Io.set(e,t)}function TE(e){Io.delete(e),Io.size||window.removeEventListener("resize",wv)}function RE(e,t,n){const r=e.canvas,s=r&&lh(r);if(!s)return;const i=tv((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||i(c,d)});return o.observe(s),CE(e,i),o}function Su(e,t,n){n&&n.disconnect(),t==="resize"&&TE(e)}function DE(e,t,n){const r=e.canvas,s=tv(i=>{e.ctx!==null&&n(EE(i,e))},e);return SE(r,t,s),s}class PE extends vv{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(_E(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[ol])return!1;const r=n[ol].initial;["height","width"].forEach(i=>{const o=r[i];Ae(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[ol],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:NE,detach:kE,resize:RE}[n]||DE;s[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),s=r[n];if(!s)return;({attach:Su,detach:Su,resize:Su}[n]||jE)(t,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,s){return Dj(t,n,r,s)}isAttached(t){const n=t&&lh(t);return!!(n&&n.isConnected)}}function ME(e){return!ah()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?bE:PE}class nr{constructor(){de(this,"x");de(this,"y");de(this,"active",!1);de(this,"options");de(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Vl(this.x)&&Vl(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const s={};return t.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}de(nr,"defaults",{}),de(nr,"defaultRoutes");function OE(e,t){const n=e.options.ticks,r=LE(e),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?IE(t):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return FE(t,c,i,o/s),c;const d=AE(i,t,s);if(o>0){let f,h;const p=o>1?Math.round((l-a)/(o-1)):null;for(Oa(t,c,d,Ae(p)?0:a-p,a),f=0,h=o-1;f<h;f++)Oa(t,c,d,i[f],i[f+1]);return Oa(t,c,d,l,Ae(p)?t.length:l+p),c}return Oa(t,c,d),c}function LE(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}function AE(e,t,n){const r=zE(e),s=t.length/n;if(!r)return Math.max(s,1);const i=$4(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function IE(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function FE(e,t,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===i&&(t.push(e[o]),s++,i=n[s*r])}function Oa(e,t,n,r,s){const i=De(r,0),o=Math.min(De(s,e.length),e.length);let a=0,l,c,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===d&&(t.push(e[c]),a++,d=Math.round(i+a*n))}function zE(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const BE=e=>e==="left"?"right":e==="right"?"left":e,Km=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,qm=(e,t)=>Math.min(t||e,e);function Ym(e,t){const n=[],r=e.length/t,s=e.length;let i=0;for(;i<s;i+=r)n.push(e[Math.floor(i)]);return n}function $E(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),i=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<i-a||l>o+a)))return l}function UE(e,t){Me(e,n=>{const r=n.gc,s=r.length/2;let i;if(s>t){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Fi(e){return e.drawTicks?e.tickLength:0}function Gm(e,t){if(!e.display)return 0;const n=jt(e.font,t),r=hn(e.padding);return(lt(e.text)?e.text.length:1)*n.lineHeight+r.height}function HE(e,t){return xi(e,{scale:t,type:"scale"})}function VE(e,t,n){return xi(e,{tick:n,index:t,type:"tick"})}function WE(e,t,n){let r=eh(e);return(n&&t!=="right"||!n&&t==="right")&&(r=BE(r)),r}function KE(e,t,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:d}=l;let f=0,h,p,m;const x=o-s,v=a-i;if(e.isHorizontal()){if(p=wt(r,i,a),ke(n)){const y=Object.keys(n)[0],g=n[y];m=d[y].getPixelForValue(g)+x-t}else n==="center"?m=(c.bottom+c.top)/2+x-t:m=Km(e,n,t);h=a-i}else{if(ke(n)){const y=Object.keys(n)[0],g=n[y];p=d[y].getPixelForValue(g)-v+t}else n==="center"?p=(c.left+c.right)/2-v+t:p=Km(e,n,t);m=wt(r,o,s),f=n==="left"?-gt:gt}return{titleX:p,titleY:m,maxWidth:h,rotation:f}}class yi extends nr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return t=Tn(t,Number.POSITIVE_INFINITY),n=Tn(n,Number.NEGATIVE_INFINITY),r=Tn(r,Number.POSITIVE_INFINITY),s=Tn(s,Number.NEGATIVE_INFINITY),{min:Tn(t,r),max:Tn(n,s),minDefined:fn(t),maxDefined:fn(n)}}getMinMax(t){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Tn(n,Tn(r,n)),max:Tn(r,Tn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ue(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gj(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ym(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=OE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ue(this.options.afterUpdate,[this])}beforeSetDimensions(){Ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ue(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ue(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r],i.label=Ue(n.callback,[i.value,r,t],this)}afterTickToLabelConversion(){Ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=qm(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,p=Bt(this.chart.width-f,0,this.maxWidth);a=t.offset?this.maxWidth/r:p/(r-1),f+6>a&&(a=p/(r-(t.offset?.5:1)),l=this.maxHeight-Fi(t.grid)-n.padding-Gm(t.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),o=W4(Math.min(Math.asin(Bt((d.highest.height+6)/a,-1,1)),Math.asin(Bt(l/c,-1,1))-Math.asin(Bt(h/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ue(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Gm(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=Fi(i)+l):(t.height=this.maxHeight,t.width=Fi(i)+l),r.display&&this.ticks.length){const{first:c,last:d,widest:f,highest:h}=this._getLabelSizes(),p=r.padding*2,m=is(this.labelRotation),x=Math.cos(m),v=Math.sin(m);if(a){const y=r.mirror?0:v*f.width+x*h.height;t.height=Math.min(this.maxHeight,t.height+y+p)}else{const y=r.mirror?0:x*f.width+v*h.height;t.width=Math.min(this.maxWidth,t.width+y+p)}this._calculatePadding(c,d,v,x)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?c?(h=s*t.width,p=r*n.height):(h=r*t.height,p=s*n.width):i==="start"?p=n.width:i==="end"?h=t.width:i!=="inner"&&(h=t.width/2,p=n.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=t.height/2;i==="start"?(d=0,f=t.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ue(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Ae(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Ym(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/qm(n,r));let c=0,d=0,f,h,p,m,x,v,y,g,b,S,j;for(f=0;f<n;f+=l){if(m=t[f].label,x=this._resolveTickFontOptions(f),s.font=v=x.string,y=i[v]=i[v]||{data:{},gc:[]},g=x.lineHeight,b=S=0,!Ae(m)&&!lt(m))b=jm(s,y.data,y.gc,b,m),S=g;else if(lt(m))for(h=0,p=m.length;h<p;++h)j=m[h],!Ae(j)&&!lt(j)&&(b=jm(s,y.data,y.gc,b,j),S+=g);o.push(b),a.push(S),c=Math.max(b,c),d=Math.max(S,d)}UE(i,n);const k=o.indexOf(c),w=a.indexOf(d),N=L=>({width:o[L]||0,height:a[L]||0});return{first:N(0),last:N(n-1),widest:N(k),highest:N(w),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return q4(this._alignToPixels?Kr(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=VE(this.getContext(),t,r))}return this.$context||(this.$context=HE(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=is(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=Fi(i),p=[],m=a.setContext(this.getContext()),x=m.display?m.width:0,v=x/2,y=function(se){return Kr(r,se,x)};let g,b,S,j,k,w,N,L,R,A,M,V;if(o==="top")g=y(this.bottom),w=this.bottom-h,L=g-v,A=y(t.top)+v,V=t.bottom;else if(o==="bottom")g=y(this.top),A=t.top,V=y(t.bottom)-v,w=g+v,L=this.top+h;else if(o==="left")g=y(this.right),k=this.right-h,N=g-v,R=y(t.left)+v,M=t.right;else if(o==="right")g=y(this.left),R=t.left,M=y(t.right)-v,k=g+v,N=this.left+h;else if(n==="x"){if(o==="center")g=y((t.top+t.bottom)/2+.5);else if(ke(o)){const se=Object.keys(o)[0],z=o[se];g=y(this.chart.scales[se].getPixelForValue(z))}A=t.top,V=t.bottom,w=g+v,L=w+h}else if(n==="y"){if(o==="center")g=y((t.left+t.right)/2);else if(ke(o)){const se=Object.keys(o)[0],z=o[se];g=y(this.chart.scales[se].getPixelForValue(z))}k=g-v,N=k-h,R=t.left,M=t.right}const X=De(s.ticks.maxTicksLimit,f),Y=Math.max(1,Math.ceil(f/X));for(b=0;b<f;b+=Y){const se=this.getContext(b),z=i.setContext(se),O=a.setContext(se),U=z.lineWidth,K=z.color,te=O.dash||[],I=O.dashOffset,ue=z.tickWidth,ae=z.tickColor,le=z.tickBorderDash||[],ie=z.tickBorderDashOffset;S=$E(this,b,l),S!==void 0&&(j=Kr(r,S,U),c?k=N=R=M=j:w=L=A=V=j,p.push({tx1:k,ty1:w,tx2:N,ty2:L,x1:R,y1:A,x2:M,y2:V,width:U,color:K,borderDash:te,borderDashOffset:I,tickWidth:ue,tickColor:ae,tickBorderDash:le,tickBorderDashOffset:ie}))}return this._ticksLength=f,this._borderValue=g,p}_computeLabelItems(t){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:f}=i,h=Fi(r.grid),p=h+d,m=f?-d:p,x=-is(this.labelRotation),v=[];let y,g,b,S,j,k,w,N,L,R,A,M,V="middle";if(s==="top")k=this.bottom-m,w=this._getXAxisLabelAlignment();else if(s==="bottom")k=this.top+m,w=this._getXAxisLabelAlignment();else if(s==="left"){const Y=this._getYAxisLabelAlignment(h);w=Y.textAlign,j=Y.x}else if(s==="right"){const Y=this._getYAxisLabelAlignment(h);w=Y.textAlign,j=Y.x}else if(n==="x"){if(s==="center")k=(t.top+t.bottom)/2+p;else if(ke(s)){const Y=Object.keys(s)[0],se=s[Y];k=this.chart.scales[Y].getPixelForValue(se)+p}w=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")j=(t.left+t.right)/2-p;else if(ke(s)){const Y=Object.keys(s)[0],se=s[Y];j=this.chart.scales[Y].getPixelForValue(se)}w=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?V="top":l==="end"&&(V="bottom"));const X=this._getLabelSizes();for(y=0,g=a.length;y<g;++y){b=a[y],S=b.label;const Y=i.setContext(this.getContext(y));N=this.getPixelForTick(y)+i.labelOffset,L=this._resolveTickFontOptions(y),R=L.lineHeight,A=lt(S)?S.length:1;const se=A/2,z=Y.color,O=Y.textStrokeColor,U=Y.textStrokeWidth;let K=w;o?(j=N,w==="inner"&&(y===g-1?K=this.options.reverse?"left":"right":y===0?K=this.options.reverse?"right":"left":K="center"),s==="top"?c==="near"||x!==0?M=-A*R+R/2:c==="center"?M=-X.highest.height/2-se*R+R:M=-X.highest.height+R/2:c==="near"||x!==0?M=R/2:c==="center"?M=X.highest.height/2-se*R:M=X.highest.height-A*R,f&&(M*=-1),x!==0&&!Y.showLabelBackdrop&&(j+=R/2*Math.sin(x))):(k=N,M=(1-A)*R/2);let te;if(Y.showLabelBackdrop){const I=hn(Y.backdropPadding),ue=X.heights[y],ae=X.widths[y];let le=M-I.top,ie=0-I.left;switch(V){case"middle":le-=ue/2;break;case"bottom":le-=ue;break}switch(w){case"center":ie-=ae/2;break;case"right":ie-=ae;break;case"inner":y===g-1?ie-=ae:y>0&&(ie-=ae/2);break}te={left:ie,top:le,width:ae+I.width,height:ue+I.height,color:Y.backdropColor}}v.push({label:S,font:L,textOffset:M,options:{rotation:x,color:z,strokeColor:O,strokeWidth:U,textAlign:K,textBaseline:V,translation:[j,k],backdrop:te}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-is(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=t+i,l=o.widest.width;let c,d;return n==="left"?s?(d=this.right+i,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,s,i,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const a=(l,c,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,f,h;this.isHorizontal()?(c=Kr(t,this.left,o)-o/2,d=Kr(t,this.right,a)+a/2,f=h=l):(f=Kr(t,this.top,o)-o/2,h=Kr(t,this.bottom,a)+a/2,c=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&th(r,s);const i=this.getLabelItems(t);for(const o of i){const a=o.options,l=o.font,c=o.label,d=o.textOffset;Ao(r,c,0,d,l,a)}s&&nh(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=jt(r.font),o=hn(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||ke(n)?(l+=o.bottom,lt(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:f,rotation:h}=KE(this,l,n,a);Ao(t,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:h,textAlign:WE(a,n,s),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=De(t.grid&&t.grid.z,-1),s=De(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==yi.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return jt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class La{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;GE(n)&&(r=this.register(n));const s=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in s||(s[i]=t,qE(t,o,r),this.override&&tt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,s=this.scope;r in n&&delete n[r],s&&r in tt[s]&&(delete tt[s][r],this.override&&delete bs[r])}}function qE(e,t,n){const r=Oo(Object.create(null),[n?tt.get(n):{},tt.get(t),e.defaults]);tt.set(t,r),e.defaultRoutes&&YE(t,e.defaultRoutes),e.descriptors&&tt.describe(t,e.descriptors)}function YE(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),s=r.pop(),i=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");tt.route(i,s,l,a)})}function GE(e){return"id"in e&&"defaults"in e}class XE{constructor(){this.controllers=new La(lo,"datasets",!0),this.elements=new La(nr,"elements"),this.plugins=new La(Object,"plugins"),this.scales=new La(yi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(t,i,s):Me(s,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const s=Jf(t);Ue(r["before"+s],[],r),n[t](r),Ue(r["after"+s],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return s}}var Pn=new XE;class QE{constructor(){this._init=[]}notify(t,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(i,t,n,r);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,s){s=s||{};for(const i of t){const o=i.plugin,a=o[r],l=[n,s,i.options];if(Ue(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,s=De(r.options&&r.options.plugins,{}),i=JE(r);return s===!1&&!n?[]:eN(t,i,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),t,"stop"),this._notify(s(r,n),t,"start")}}function JE(e){const t={},n=[],r=Object.keys(Pn.plugins.items);for(let i=0;i<r.length;i++)n.push(Pn.getPlugin(r[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function ZE(e,t){return!t&&e===!1?null:e===!0?{}:e}function eN(e,{plugins:t,localIds:n},r,s){const i=[],o=e.getContext();for(const a of t){const l=a.id,c=ZE(r[l],s);c!==null&&i.push({plugin:a,options:tN(e.config,{plugin:a,local:n[l]},c,o)})}return i}function tN(e,{plugin:t,local:n},r,s){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(r,i);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Md(e,t){const n=tt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function nN(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function rN(e,t){return e===t?"_index_":"_value_"}function Xm(e){if(e==="x"||e==="y"||e==="r")return e}function sN(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Od(e,...t){if(Xm(e))return e;for(const n of t){const r=n.axis||sN(n.position)||e.length>1&&Xm(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Qm(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function iN(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return Qm(e,"x",n[0])||Qm(e,"y",n[0])}return{}}function oN(e,t){const n=bs[e.type]||{scales:{}},r=t.scales||{},s=Md(e.type,t),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!ke(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Od(o,a,iN(o,e),tt.scales[a.type]),c=rN(l,s),d=n.scales||{};i[o]=io(Object.create(null),[{axis:l},a,d[l],d[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Md(a,t),d=(bs[a]||{}).scales||{};Object.keys(d).forEach(f=>{const h=nN(f,l),p=o[h+"AxisID"]||h;i[p]=i[p]||Object.create(null),io(i[p],[{axis:h},r[p],d[f]])})}),Object.keys(i).forEach(o=>{const a=i[o];io(a,[tt.scales[a.type],tt.scale])}),i}function _v(e){const t=e.options||(e.options={});t.plugins=De(t.plugins,{}),t.scales=oN(e,t)}function Sv(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function aN(e){return e=e||{},e.data=Sv(e.data),_v(e),e}const Jm=new Map,jv=new Set;function Aa(e,t){let n=Jm.get(e);return n||(n=t(),Jm.set(e,n),jv.add(n)),n}const zi=(e,t,n)=>{const r=li(t,n);r!==void 0&&e.add(r)};class lN{constructor(t){this._config=aN(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Sv(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),_v(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Aa(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Aa(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Aa(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Aa(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let s=r.get(t);return(!s||n)&&(s=new Map,r.set(t,s)),s}getOptionScopes(t,n,r){const{options:s,type:i}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{t&&(l.add(t),d.forEach(f=>zi(l,t,f))),d.forEach(f=>zi(l,s,f)),d.forEach(f=>zi(l,bs[i]||{},f)),d.forEach(f=>zi(l,tt,f)),d.forEach(f=>zi(l,Pd,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),jv.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,bs[n]||{},tt.datasets[n]||{},{type:n},tt,Pd]}resolveNamedOptions(t,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Zm(this._resolverCache,t,s);let l=o;if(uN(o,n)){i.$shared=!1,r=Ar(r)?r():r;const c=this.createResolver(t,r,a);l=ci(o,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(t,n,r=[""],s){const{resolver:i}=Zm(this._resolverCache,t,r);return ke(n)?ci(i,n,void 0,s):i}}function Zm(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let i=r.get(s);return i||(i={resolver:sh(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const cN=e=>ke(e)&&Object.getOwnPropertyNames(e).some(t=>Ar(e[t]));function uN(e,t){const{isScriptable:n,isIndexable:r}=lv(e);for(const s of t){const i=n(s),o=r(s),a=(o||i)&&e[s];if(i&&(Ar(a)||cN(a))||o&&lt(a))return!0}return!1}var dN="4.4.9";const fN=["top","bottom","left","right","chartArea"];function eg(e,t){return e==="top"||e==="bottom"||fN.indexOf(e)===-1&&t==="x"}function tg(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function ng(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ue(n&&n.onComplete,[e],t)}function hN(e){const t=e.chart,n=t.options.animation;Ue(n&&n.onProgress,[e],t)}function Ev(e){return ah()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const al={},rg=e=>{const t=Ev(e);return Object.values(al).filter(n=>n.canvas===t).pop()};function pN(e,t,n){const r=Object.keys(e);for(const s of r){const i=+s;if(i>=t){const o=e[s];delete e[s],(n>0||i>t)&&(e[i+n]=o)}}}function mN(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}var dr;let kc=(dr=class{static register(...t){Pn.add(...t),sg()}static unregister(...t){Pn.remove(...t),sg()}constructor(t,n){const r=this.config=new lN(n),s=Ev(t),i=rg(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||ME(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=M4(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new QE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Q4(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],al[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Un.listen(this,"complete",ng),Un.listen(this,"progress",hN),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return Ae(t)?n&&i?i:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Pn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Tm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Em(this.canvas,this.ctx),this}stop(){return Un.stop(this),this}resize(t,n){Un.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Tm(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ue(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Me(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=Od(o,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),Me(i,o=>{const a=o.options,l=a.id,c=Od(l,a),d=De(a.type,o.dtype);(a.position===void 0||eg(a.position,c)!==eg(o.dposition))&&(a.position=o.dposition),s[l]=!0;let f=null;if(l in r&&r[l].type===d)f=r[l];else{const h=Pn.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,t)}),Me(s,(o,a)=>{o||delete r[a]}),Me(r,o=>{ln.configure(this,o,o.options),ln.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(tg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||Md(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Pn.getController(a),{datasetElementType:c,dataElementType:d}=tt.datasets[a];Object.assign(l,{dataElementType:Pn.getElement(d),datasetElementType:c&&Pn.getElement(c)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Me(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:f}=this.getDatasetMeta(c),h=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||Me(i,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(tg("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Me(this.scales,t=>{ln.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!mm(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;pN(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(t.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!mm(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ln.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Me(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ar(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Un.has(this)?this.attached&&!Un.running(this)&&Un.start(this):(this.draw(),ng({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=Aj(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&th(n,s),t.controller.draw(),s&&nh(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return ov(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const i=fE.modes[n];return typeof i=="function"?i(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=xi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,s);Lo(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Un.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Em(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete al[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),t[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};Me(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Me(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Me(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!$l(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const s=this.options.hover,i=(l,c)=>l.filter(d=>!c.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=i(n,t),a=r?t:i(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(t,s,r,o),l=z4(t),c=mN(t,this._lastEvent,r,l);r&&(this._lastEvent=null,Ue(i.onHover,[t,a,this],this),l&&Ue(i.onClick,[t,a,this],this));const d=!$l(a,s);return(d||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,d}_getActiveElements(t,n,r,s){if(t.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,s)}},de(dr,"defaults",tt),de(dr,"instances",al),de(dr,"overrides",bs),de(dr,"registry",Pn),de(dr,"version",dN),de(dr,"getChart",rg),dr);function sg(){return Me(kc.instances,e=>e._plugins.invalidate())}function gN(e,t,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(i,o,a,r-c,n+c),l>s?(c=s/l,e.arc(i,o,l,n+c,r-c,!0)):e.arc(i,o,s,n+gt,r-gt),e.closePath(),e.clip()}function xN(e){return rh(e,["outerStart","outerEnd","innerStart","innerEnd"])}function yN(e,t,n,r){const s=xN(e.options.borderRadius),i=(n-t)/2,o=Math.min(i,r*t/2),a=l=>{const c=(n-Math.min(i,l))*r/2;return Bt(l,0,Math.min(i,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Bt(s.innerStart,0,o),innerEnd:Bt(s.innerEnd,0,o)}}function Ms(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Yl(e,t,n,r,s,i){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,f=Math.max(t.outerRadius+r+n-c,0),h=d>0?d+r+n+c:0;let p=0;const m=s-l;if(r){const Y=d>0?d-r:0,se=f>0?f-r:0,z=(Y+se)/2,O=z!==0?m*z/(z+r):m;p=(m-O)/2}const x=Math.max(.001,m*f-n/ft)/f,v=(m-x)/2,y=l+v+p,g=s-v-p,{outerStart:b,outerEnd:S,innerStart:j,innerEnd:k}=yN(t,h,f,g-y),w=f-b,N=f-S,L=y+b/w,R=g-S/N,A=h+j,M=h+k,V=y+j/A,X=g-k/M;if(e.beginPath(),i){const Y=(L+R)/2;if(e.arc(o,a,f,L,Y),e.arc(o,a,f,Y,R),S>0){const U=Ms(N,R,o,a);e.arc(U.x,U.y,S,R,g+gt)}const se=Ms(M,g,o,a);if(e.lineTo(se.x,se.y),k>0){const U=Ms(M,X,o,a);e.arc(U.x,U.y,k,g+gt,X+Math.PI)}const z=(g-k/h+(y+j/h))/2;if(e.arc(o,a,h,g-k/h,z,!0),e.arc(o,a,h,z,y+j/h,!0),j>0){const U=Ms(A,V,o,a);e.arc(U.x,U.y,j,V+Math.PI,y-gt)}const O=Ms(w,y,o,a);if(e.lineTo(O.x,O.y),b>0){const U=Ms(w,L,o,a);e.arc(U.x,U.y,b,y-gt,L)}}else{e.moveTo(o,a);const Y=Math.cos(L)*f+o,se=Math.sin(L)*f+a;e.lineTo(Y,se);const z=Math.cos(R)*f+o,O=Math.sin(R)*f+a;e.lineTo(z,O)}e.closePath()}function vN(e,t,n,r,s){const{fullCircles:i,startAngle:o,circumference:a}=t;let l=t.endAngle;if(i){Yl(e,t,n,r,l,s);for(let c=0;c<i;++c)e.fill();isNaN(a)||(l=o+(a%Rt||Rt))}return Yl(e,t,n,r,l,s),e.fill(),l}function bN(e,t,n,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:f,borderDashOffset:h}=l,p=l.borderAlign==="inner";if(!c)return;e.setLineDash(f||[]),e.lineDashOffset=h,p?(e.lineWidth=c*2,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let m=t.endAngle;if(i){Yl(e,t,n,r,m,s);for(let x=0;x<i;++x)e.stroke();isNaN(a)||(m=o+(a%Rt||Rt))}p&&gN(e,t,m),i||(Yl(e,t,n,r,m,s),e.stroke())}class Yi extends nr{constructor(n){super();de(this,"circumference");de(this,"endAngle");de(this,"fullCircles");de(this,"innerRadius");de(this,"outerRadius");de(this,"pixelMargin");de(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=Xy(i,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,m=De(h,c-l),x=Qy(o,l,c)&&l!==c,v=m>=Rt||x,y=os(a,d+p,f+p);return v&&y}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:d}=this.options,f=(i+o)/2,h=(a+l+d+c)/2;return{x:r+Math.cos(f)*h,y:s+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>Rt?Math.floor(s/Rt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(ft,s||0)),d=i*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,vN(n,this,d,o,a),bN(n,this,d,o,a),n.restore()}}de(Yi,"id","arc"),de(Yi,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),de(Yi,"defaultRoutes",{backgroundColor:"backgroundColor"}),de(Yi,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Nv(e,t){const{x:n,y:r,base:s,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,d,f;return e.horizontal?(f=o/2,a=Math.min(n,s),l=Math.max(n,s),c=r-f,d=r+f):(f=i/2,a=n-f,l=n+f,c=Math.min(r,s),d=Math.max(r,s)),{left:a,top:c,right:l,bottom:d}}function _r(e,t,n,r){return e?0:Bt(t,n,r)}function wN(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,i=av(r);return{t:_r(s.top,i.top,0,n),r:_r(s.right,i.right,0,t),b:_r(s.bottom,i.bottom,0,n),l:_r(s.left,i.left,0,t)}}function _N(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=Js(s),o=Math.min(t,n),a=e.borderSkipped,l=r||ke(s);return{topLeft:_r(!l||a.top||a.left,i.topLeft,0,o),topRight:_r(!l||a.top||a.right,i.topRight,0,o),bottomLeft:_r(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:_r(!l||a.bottom||a.right,i.bottomRight,0,o)}}function SN(e){const t=Nv(e),n=t.right-t.left,r=t.bottom-t.top,s=wN(e,n/2,r/2),i=_N(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function ju(e,t,n,r){const s=t===null,i=n===null,a=e&&!(s&&i)&&Nv(e,r);return a&&(s||os(t,a.left,a.right))&&(i||os(n,a.top,a.bottom))}function jN(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function EN(e,t){e.rect(t.x,t.y,t.w,t.h)}function Eu(e,t,n={}){const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+i,h:e.h+o,radius:e.radius}}class ll extends nr{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=SN(this),a=jN(o.radius)?Wl:EN;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),a(t,Eu(o,n,i)),t.clip(),a(t,Eu(i,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,Eu(i,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,r){return ju(this,t,n,r)}inXRange(t,n){return ju(this,t,null,n)}inYRange(t,n){return ju(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}de(ll,"id","bar"),de(ll,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),de(ll,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const ig=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},NN=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class og extends nr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ue(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,s)=>t.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,s=jt(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=ig(r,i);let c,d;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=s+a;let f=t;i.textAlign="left",i.textBaseline="middle";let h=-1,p=-d;return this.legendItems.forEach((m,x)=>{const v=r+n/2+i.measureText(m.text).width;(x===0||c[c.length-1]+v+2*a>o)&&(f+=d,c[c.length-(x>0?0:1)]=0,p+=d,h++),l[x]={left:0,top:p,row:h,width:v,height:s},c[c.length-1]+=v+a}),f}_fitCols(t,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-t;let f=a,h=0,p=0,m=0,x=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:g,itemHeight:b}=kN(r,n,i,v,s);y>0&&p+b+2*a>d&&(f+=h+a,c.push({width:h,height:p}),m+=h+a,x++,h=p=0),l[y]={left:m,top:p,col:x,width:g,height:b},h=Math.max(h,g),p+=b+a}),f+=h,c.push({width:h,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=Zs(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=wt(r,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=wt(r,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=wt(r,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=wt(r,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;th(t,this),this._draw(),nh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=t,a=tt.color,l=Zs(t.rtl,this.left,this.width),c=jt(o.font),{padding:d}=o,f=c.size,h=f/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:x,itemHeight:v}=ig(o,f),y=function(k,w,N){if(isNaN(m)||m<=0||isNaN(x)||x<0)return;s.save();const L=De(N.lineWidth,1);if(s.fillStyle=De(N.fillStyle,a),s.lineCap=De(N.lineCap,"butt"),s.lineDashOffset=De(N.lineDashOffset,0),s.lineJoin=De(N.lineJoin,"miter"),s.lineWidth=L,s.strokeStyle=De(N.strokeStyle,a),s.setLineDash(De(N.lineDash,[])),o.usePointStyle){const R={radius:x*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:L},A=l.xPlus(k,m/2),M=w+h;iv(s,R,A,M,o.pointStyleWidth&&m)}else{const R=w+Math.max((f-x)/2,0),A=l.leftForLtr(k,m),M=Js(N.borderRadius);s.beginPath(),Object.values(M).some(V=>V!==0)?Wl(s,{x:A,y:R,w:m,h:x,radius:M}):s.rect(A,R,m,x),s.fill(),L!==0&&s.stroke()}s.restore()},g=function(k,w,N){Ao(s,N.text,k,w+v/2,c,{strikethrough:N.hidden,textAlign:l.textAlign(N.textAlign)})},b=this.isHorizontal(),S=this._computeTitleHeight();b?p={x:wt(i,this.left+d,this.right-r[0]),y:this.top+d+S,line:0}:p={x:this.left+d,y:wt(i,this.top+S+d,this.bottom-n[0].height),line:0},fv(this.ctx,t.textDirection);const j=v+d;this.legendItems.forEach((k,w)=>{s.strokeStyle=k.fontColor,s.fillStyle=k.fontColor;const N=s.measureText(k.text).width,L=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),R=m+h+N;let A=p.x,M=p.y;l.setWidth(this.width),b?w>0&&A+R+d>this.right&&(M=p.y+=j,p.line++,A=p.x=wt(i,this.left+d,this.right-r[p.line])):w>0&&M+j>this.bottom&&(A=p.x=A+n[p.line].width+d,p.line++,M=p.y=wt(i,this.top+S+d,this.bottom-n[p.line].height));const V=l.x(A);if(y(V,M,k),A=J4(L,A+m+h,b?A+R:this.right,t.rtl),g(l.x(A),M,k),b)p.x+=R+d;else if(typeof k.text!="string"){const X=c.lineHeight;p.y+=kv(k,X)+d}else p.y+=j}),hv(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=jt(n.font),s=hn(n.padding);if(!n.display)return;const i=Zs(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=s.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,f=wt(t.align,f,this.right-h);else{const m=this.columnSizes.reduce((x,v)=>Math.max(x,v.height),0);d=c+wt(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=wt(a,f,f+h);o.textAlign=i.textAlign(eh(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ao(o,n.text,p,d,r)}_computeTitleHeight(){const t=this.options.title,n=jt(t.font),r=hn(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,s,i;if(os(t,this.left,this.right)&&os(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],os(t,s.left,s.left+s.width)&&os(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!RN(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,i=NN(s,r);s&&!i&&Ue(n.onLeave,[t,s,this],this),this._hoveredItem=r,r&&!i&&Ue(n.onHover,[t,r,this],this)}else r&&Ue(n.onClick,[t,r,this],this)}}function kN(e,t,n,r,s){const i=CN(r,e,t,n),o=TN(s,r,t.lineHeight);return{itemWidth:i,itemHeight:o}}function CN(e,t,n,r){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),t+n.size/2+r.measureText(s).width}function TN(e,t,n){let r=e;return typeof t.text!="string"&&(r=kv(t,n)),r}function kv(e,t){const n=e.text?e.text.length:0;return t*n}function RN(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var DN={id:"legend",_element:og,start(e,t,n){const r=e.legend=new og({ctx:e.ctx,options:n,chart:e});ln.configure(e,r,n),ln.addBox(e,r)},stop(e){ln.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;ln.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=hn(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Cv extends nr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=lt(r.text)?r.text.length:1;this._padding=hn(r.padding);const i=s*jt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,c,d,f;return this.isHorizontal()?(d=wt(a,r,i),f=n+t,c=i-r):(o.position==="left"?(d=r+t,f=wt(a,s,n),l=ft*-.5):(d=i-t,f=wt(a,n,s),l=ft*.5),c=s-n),{titleX:d,titleY:f,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=jt(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);Ao(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:eh(n.align),textBaseline:"middle",translation:[o,a]})}}function PN(e,t){const n=new Cv({ctx:e.ctx,options:t,chart:e});ln.configure(e,n,t),ln.addBox(e,n),e.titleBlock=n}var MN={id:"title",_element:Cv,start(e,t,n){PN(e,n)},stop(e){const t=e.titleBlock;ln.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;ln.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gi={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,i=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=e.length;i<o;++i){const l=e[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=K4(t,c);d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Rn(e,t){return t&&(lt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Hn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function ON(e,t){const{element:n,datasetIndex:r,index:s}=t,i=e.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:e,label:o,parsed:i.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function ag(e,t){const n=e.chart.ctx,{body:r,footer:s,title:i}=e,{boxWidth:o,boxHeight:a}=t,l=jt(t.bodyFont),c=jt(t.titleFont),d=jt(t.footerFont),f=i.length,h=s.length,p=r.length,m=hn(t.padding);let x=m.height,v=0,y=r.reduce((S,j)=>S+j.before.length+j.lines.length+j.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,f&&(x+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),y){const S=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;x+=p*S+(y-p)*l.lineHeight+(y-1)*t.bodySpacing}h&&(x+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let g=0;const b=function(S){v=Math.max(v,n.measureText(S).width+g)};return n.save(),n.font=c.string,Me(e.title,b),n.font=l.string,Me(e.beforeBody.concat(e.afterBody),b),g=t.displayColors?o+2+t.boxPadding:0,Me(r,S=>{Me(S.before,b),Me(S.lines,b),Me(S.after,b)}),g=0,n.font=d.string,Me(e.footer,b),n.restore(),v+=m.width,{width:v,height:x}}function LN(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function AN(e,t,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&s+i+o>t.width||e==="right"&&s-i-o<0)return!0}function IN(e,t,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return r==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),AN(c,e,t,n)&&(c="center"),c}function lg(e,t,n){const r=n.yAlign||t.yAlign||LN(e,n);return{xAlign:n.xAlign||t.xAlign||IN(e,t,n,r),yAlign:r}}function FN(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function zN(e,t,n){let{y:r,height:s}=e;return t==="top"?r+=n:t==="bottom"?r-=s+n:r-=s/2,r}function cg(e,t,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=s+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=Js(o);let m=FN(t,a);const x=zN(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(d,h)+s:a==="right"&&(m+=Math.max(f,p)+s),{x:Bt(m,0,r.width-t.width),y:Bt(x,0,r.height-t.height)}}function Ia(e,t,n){const r=hn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function ug(e){return Rn([],Hn(e))}function BN(e,t,n){return xi(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function dg(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Tv={beforeTitle:Bn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Bn,beforeBody:Bn,beforeLabel:Bn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Ae(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Bn,afterBody:Bn,beforeFooter:Bn,footer:Bn,afterFooter:Bn};function Ot(e,t,n,r){const s=e[t].call(n,r);return typeof s>"u"?Tv[t].call(n,r):s}class Ld extends nr{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new pv(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=BN(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=Ot(r,"beforeTitle",this,t),i=Ot(r,"title",this,t),o=Ot(r,"afterTitle",this,t);let a=[];return a=Rn(a,Hn(s)),a=Rn(a,Hn(i)),a=Rn(a,Hn(o)),a}getBeforeBody(t,n){return ug(Ot(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return Me(t,i=>{const o={before:[],lines:[],after:[]},a=dg(r,i);Rn(o.before,Hn(Ot(a,"beforeLabel",this,i))),Rn(o.lines,Ot(a,"label",this,i)),Rn(o.after,Hn(Ot(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(t,n){return ug(Ot(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=Ot(r,"beforeFooter",this,t),i=Ot(r,"footer",this,t),o=Ot(r,"afterFooter",this,t);let a=[];return a=Rn(a,Hn(s)),a=Rn(a,Hn(i)),a=Rn(a,Hn(o)),a}_createItems(t){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(ON(this.chart,n[l]));return t.filter&&(a=a.filter((d,f,h)=>t.filter(d,f,h,r))),t.itemSort&&(a=a.sort((d,f)=>t.itemSort(d,f,r))),Me(a,d=>{const f=dg(t.callbacks,d);s.push(Ot(f,"labelColor",this,d)),i.push(Ot(f,"labelPointStyle",this,d)),o.push(Ot(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=Gi[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=ag(this,r),c=Object.assign({},a,l),d=lg(this.chart,r,c),f=cg(r,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const i=this.getCaretPosition(t,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:f}=Js(a),{x:h,y:p}=t,{width:m,height:x}=n;let v,y,g,b,S,j;return i==="center"?(S=p+x/2,s==="left"?(v=h,y=v-o,b=S+o,j=S-o):(v=h+m,y=v+o,b=S-o,j=S+o),g=v):(s==="left"?y=h+Math.max(l,d)+o:s==="right"?y=h+m-Math.max(c,f)-o:y=this.caretX,i==="top"?(b=p,S=b-o,v=y-o,g=y+o):(b=p+x,S=b+o,v=y+o,g=y-o),j=b),{x1:v,x2:y,x3:g,y1:b,y2:S,y3:j}}drawTitle(t,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const c=Zs(r.rtl,this.x,this.width);for(t.x=Ia(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=jt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===i&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,d=jt(i.bodyFont),f=Ia(this,"left",i),h=s.x(f),p=l<d.lineHeight?(d.lineHeight-l)/2:0,m=n.y+p;if(i.usePointStyle){const x={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=s.leftForLtr(h,c)+c/2,y=m+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Nm(t,x,v,y),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Nm(t,x,v,y)}else{t.lineWidth=ke(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const x=s.leftForLtr(h,c),v=s.leftForLtr(s.xPlus(h,1),c-2),y=Js(o.borderRadius);Object.values(y).some(g=>g!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Wl(t,{x,y:m,w:c,h:l,radius:y}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Wl(t,{x:v,y:m+1,w:c-2,h:l-2,radius:y}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(x,m,c,l),t.strokeRect(x,m,c,l),t.fillStyle=o.backgroundColor,t.fillRect(v,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=r,f=jt(r.bodyFont);let h=f.lineHeight,p=0;const m=Zs(r.rtl,this.x,this.width),x=function(N){n.fillText(N,m.x(t.x+p),t.y+h/2),t.y+=h+i},v=m.textAlign(o);let y,g,b,S,j,k,w;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,t.x=Ia(this,v,r),n.fillStyle=r.bodyColor,Me(this.beforeBody,x),p=a&&v!=="right"?o==="center"?c/2+d:c+2+d:0,S=0,k=s.length;S<k;++S){for(y=s[S],g=this.labelTextColors[S],n.fillStyle=g,Me(y.before,x),b=y.lines,a&&b.length&&(this._drawColorBox(n,t,S,m,r),h=Math.max(f.lineHeight,l)),j=0,w=b.length;j<w;++j)x(b[j]),h=f.lineHeight;Me(y.after,x)}p=0,h=f.lineHeight,Me(this.afterBody,x),t.y-=i}drawFooter(t,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=Zs(r.rtl,this.x,this.width);for(t.x=Ia(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=jt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:d}=r,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:m}=Js(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(t,n,r,s),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&i==="right"&&this.drawCaret(t,n,r,s),n.lineTo(a+c,l+d-m),n.quadraticCurveTo(a+c,l+d,a+c-m,l+d),o==="bottom"&&this.drawCaret(t,n,r,s),n.lineTo(a+p,l+d),n.quadraticCurveTo(a,l+d,a,l+d-p),o==="center"&&i==="left"&&this.drawCaret(t,n,r,s),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=Gi[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=ag(this,t),l=Object.assign({},o,this._size),c=lg(n,t,l),d=cg(t,l,c,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=hn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,s,n),fv(t,n.textDirection),i.y+=o.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),hv(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!$l(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(t,i,n,r),a=this._positionChanged(o,t),l=n||!$l(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,s){const i=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:s,options:i}=this,o=Gi[i.position].call(this,t,n);return o!==!1&&(r!==o.x||s!==o.y)}}de(Ld,"positioners",Gi);var $N={id:"tooltip",_element:Ld,positioners:Gi,afterInit(e,t,n){n&&(e.tooltip=new Ld({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Tv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const UN=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function HN(e,t,n,r){const s=e.indexOf(t);if(s===-1)return UN(e,t,n,r);const i=e.lastIndexOf(t);return s!==i?n:s}const VN=(e,t)=>e===null?null:Bt(Math.round(e),0,t);function fg(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Ad extends yi{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Ae(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:HN(r,t,De(n,t),this._addedLabels),VN(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return fg.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}de(Ad,"id","category"),de(Ad,"defaults",{ticks:{callback:fg}});function WN(e,t){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:f,includeBounds:h}=e,p=i||1,m=d-1,{min:x,max:v}=t,y=!Ae(o),g=!Ae(a),b=!Ae(c),S=(v-x)/(f+1);let j=xm((v-x)/m/p)*p,k,w,N,L;if(j<1e-14&&!y&&!g)return[{value:x},{value:v}];L=Math.ceil(v/j)-Math.floor(x/j),L>m&&(j=xm(L*j/m/p)*p),Ae(l)||(k=Math.pow(10,l),j=Math.ceil(j*k)/k),s==="ticks"?(w=Math.floor(x/j)*j,N=Math.ceil(v/j)*j):(w=x,N=v),y&&g&&i&&H4((a-o)/i,j/1e3)?(L=Math.round(Math.min((a-o)/j,d)),j=(a-o)/L,w=o,N=a):b?(w=y?o:w,N=g?a:N,L=c-1,j=(N-w)/L):(L=(N-w)/j,sl(L,Math.round(L),j/1e3)?L=Math.round(L):L=Math.ceil(L));const R=Math.max(ym(j),ym(w));k=Math.pow(10,Ae(l)?R:l),w=Math.round(w*k)/k,N=Math.round(N*k)/k;let A=0;for(y&&(h&&w!==o?(n.push({value:o}),w<o&&A++,sl(Math.round((w+A*j)*k)/k,o,hg(o,S,e))&&A++):w<o&&A++);A<L;++A){const M=Math.round((w+A*j)*k)/k;if(g&&M>a)break;n.push({value:M})}return g&&h&&N!==a?n.length&&sl(n[n.length-1].value,a,hg(a,S,e))?n[n.length-1].value=a:n.push({value:a}):(!g||N===a)&&n.push({value:N}),n}function hg(e,t,{horizontal:n,minRotation:r}){const s=is(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class KN extends yi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Ae(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(t){const l=Pr(s),c=Pr(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),t||o(s-l)}this.min=s,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=WN(s,i);return t.bounds==="ticks"&&V4(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const s=(r-n)/Math.max(t.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return rv(t,this.chart.options.locale,this.options.ticks.format)}}class Id extends KN{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=fn(t)?t:0,this.max=fn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=is(this.options.ticks.minRotation),s=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}de(Id,"id","linear"),de(Id,"defaults",{ticks:{callback:sv.formatters.numeric}});const Cc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ft=Object.keys(Cc);function pg(e,t){return e-t}function mg(e,t){if(Ae(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:i}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),fn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Vl(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function gg(e,t,n,r){const s=Ft.length;for(let i=Ft.indexOf(e);i<s-1;++i){const o=Cc[Ft[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return Ft[i]}return Ft[s-1]}function qN(e,t,n,r,s){for(let i=Ft.length-1;i>=Ft.indexOf(n);i--){const o=Ft[i];if(Cc[o].common&&e._adapter.diff(s,r,o)>=t-1)return o}return Ft[n?Ft.indexOf(n):0]}function YN(e){for(let t=Ft.indexOf(e)+1,n=Ft.length;t<n;++t)if(Cc[Ft[t]].common)return Ft[t]}function xg(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:s}=Zf(n,t),i=n[r]>=t?n[r]:n[s];e[i]=!0}}function GN(e,t,n,r){const s=e._adapter,i=+s.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function yg(e,t,n){const r=[],s={},i=t.length;let o,a;for(o=0;o<i;++o)a=t[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:GN(e,r,s,n)}class Gl extends yi{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new aE._date(t.adapters.date);s.init(n),io(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:mg(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=fn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=fn(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=G4(s,i,o);return this._unit=n.unit||(r.autoSkip?gg(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):qN(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:YN(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),yg(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,s,i;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Bt(n,0,o),r=Bt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||gg(i.minUnit,n,r,this._getLabelCapacity(n)),a=De(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=Vl(l)||l===!0,d={};let f=n,h,p;if(c&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(h=f,p=0;h<r;h=+t.add(h,a,o),p++)xg(d,h,m);return(h===r||s.bounds==="ticks"||p===1)&&xg(d,h,m),Object.keys(d).sort(pg).map(x=>+x)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return Ue(o,[t,n,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],f=c&&a[c],h=r[n],p=c&&f&&h&&h.major;return this._adapter.format(t,s||(p?f:d))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=is(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(t,0,yg(this,[t],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(mg(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Zy(t.sort(pg))}}de(Gl,"id","time"),de(Gl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fa(e,t,n){let r=0,s=e.length-1,i,o,a,l;n?(t>=e[r].pos&&t<=e[s].pos&&({lo:r,hi:s}=Dd(e,"pos",t)),{pos:i,time:a}=e[r],{pos:o,time:l}=e[s]):(t>=e[r].time&&t<=e[s].time&&({lo:r,hi:s}=Dd(e,"time",t)),{time:i,pos:a}=e[r],{time:o,pos:l}=e[s]);const c=o-i;return c?a+(l-a)*(t-i)/c:a}class vg extends Gl{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Fa(n,this.min),this._tableRange=Fa(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,s=[],i=[];let o,a,l,c,d;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],c=s[o],Math.round((d+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Fa(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Fa(this._table,r*this._tableRange+this._minPos,!0)}}de(vg,"id","timeseries"),de(vg,"defaults",Gl.defaults);const Rv="label";function bg(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function XN(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Dv(e,t){e.labels=t}function Pv(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rv;const r=[];e.datasets=t.map(s=>{const i=e.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function QN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rv;const n={labels:[],datasets:[]};return Dv(n,e.labels),Pv(n,e.datasets,t),n}function JN(e,t){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:d,updateMode:f,...h}=e,p=_.useRef(null),m=_.useRef(null),x=()=>{p.current&&(m.current=new kc(p.current,{type:o,data:QN(a,i),options:l&&{...l},plugins:c}),bg(t,m.current))},v=()=>{bg(t,null),m.current&&(m.current.destroy(),m.current=null)};return _.useEffect(()=>{!s&&m.current&&l&&XN(m.current,l)},[s,l]),_.useEffect(()=>{!s&&m.current&&Dv(m.current.config.data,a.labels)},[s,a.labels]),_.useEffect(()=>{!s&&m.current&&a.datasets&&Pv(m.current.config.data,a.datasets,i)},[s,a.datasets]),_.useEffect(()=>{m.current&&(s?(v(),setTimeout(x)):m.current.update(f))},[s,l,a.labels,a.datasets,f]),_.useEffect(()=>{m.current&&(v(),setTimeout(x))},[o]),_.useEffect(()=>(x(),()=>v()),[]),be.createElement("canvas",{ref:p,role:"img",height:n,width:r,...h},d)}const ZN=_.forwardRef(JN);function ek(e,t){return kc.register(t),_.forwardRef((n,r)=>be.createElement(ZN,{...n,ref:r,type:e}))}const Nu=ek("bar",il);kc.register(Yi,$N,DN,Ad,Id,ll,MN);const wg={tickets:"border-blue-400 text-blue-600 bg-white","En instance":"border-red-400 text-red-600 bg-white","En cours":"border-yellow-400 text-yellow-600 bg-white",Clôturé:"border-green-400 text-green-600 bg-white"},tk={"En instance":"hover:bg-red-50","En cours":"hover:bg-yellow-50",Clôturé:"hover:bg-green-50"},nk=()=>{const[e,t]=_.useState({total:0,en_cours:0,en_instance:0,cloture:0,par_priorite:[],par_categorie:[],par_demandeur:[],par_statut:{}}),[n,r]=_.useState(!0),[s,i]=_.useState(""),[o,a]=_.useState(!1),l=async()=>{a(!0),r(!0);try{const m=await oe.get("/api/dashboard/stats");t(m.data),i("")}catch{i("Erreur lors du chargement des statistiques")}finally{r(!1),setTimeout(()=>a(!1),600)}};_.useEffect(()=>{l()},[]);const c=()=>u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((m,x)=>u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]},x))}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[...Array(3)].map((m,x)=>u.jsxs("div",{className:`bg-white p-6 rounded-lg shadow ${x===2?"md:col-span-2":""}`,children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),u.jsx("div",{className:"h-80 bg-gray-200 rounded"})]},x))})]});if(n)return u.jsx(Ke,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Tableau de bord"}),u.jsx("button",{onClick:l,className:"ml-2 p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx(Lr,{className:o?"animate-spin-once":""})})]}),c()]})});if(s)return u.jsx(Ke,{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded",children:s})})});const d={labels:(e.par_demandeur||[]).map(m=>m.demandeur||""),datasets:[{label:"Nombre de tickets",data:(e.par_demandeur||[]).map(m=>m.total||0),backgroundColor:"rgba(255, 99, 132, 0.6)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]},f={labels:(e.par_priorite||[]).map(m=>m.priorite||""),datasets:[{label:"Nombre de tickets",data:(e.par_priorite||[]).map(m=>m.total||0),backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},h={labels:(e.par_categorie||[]).map(m=>m.categorie||""),datasets:[{label:"Nombre de tickets",data:(e.par_categorie||[]).map(m=>m.total||0),backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},p={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Répartition des tickets"}}};return u.jsx(Ke,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Tableau de bord"}),u.jsx("button",{onClick:l,className:"ml-2 p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx(Lr,{className:o?"animate-spin-once":""})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsxs(tr,{to:"/tickets",className:`border-l-4 p-6 rounded-lg shadow flex flex-col items-start hover:bg-gray-50 transition-colors cursor-pointer ${wg.tickets}`,children:[u.jsx("h3",{className:"text-lg font-bold text-black",children:"Total tickets"}),u.jsx("p",{className:"mt-2 text-3xl font-extrabold text-blue-600",children:e.total})]}),e.par_statut&&Array.isArray(e.par_statut)&&e.par_statut.map(m=>{const x=wg[m.designation]||"border-purple-500 bg-white",v=tk[m.designation]||"hover:bg-purple-50",y=(x.match(/text-[^ ]+/)||["text-purple-700"])[0];return u.jsxs(tr,{to:`/tickets?statut=${m.id}`,className:`border-l-4 p-6 rounded-lg shadow flex flex-col items-start transition-colors cursor-pointer ${x} ${v}`,style:{minWidth:220},children:[u.jsx("h3",{className:"text-lg font-bold text-black mb-2",children:m.designation}),u.jsx("p",{className:`mt-2 text-4xl font-extrabold ${y}`,children:m.total})]},m.id)})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Répartition par demandeur"}),u.jsx("div",{className:"h-80",children:u.jsx(Nu,{data:d,options:p})})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Répartition par priorité"}),u.jsx("div",{className:"h-80",children:u.jsx(Nu,{data:f,options:p})})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow md:col-span-2",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Répartition par catégorie"}),u.jsx("div",{className:"h-80",children:u.jsx(Nu,{data:h,options:p})})]})]})]})})};let rk={data:""},sk=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||rk,ik=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ok=/\/\*[^]*?\*\/|  +/g,_g=/\n+/g,xr=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?xr(o,i):i+"{"+xr(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=xr(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=xr.p?xr.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},$n={},Mv=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Mv(e[n]);return t}return e},ak=(e,t,n,r,s)=>{let i=Mv(e),o=$n[i]||($n[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!$n[o]){let l=i!==e?e:(c=>{let d,f,h=[{}];for(;d=ik.exec(c.replace(ok,""));)d[4]?h.shift():d[3]?(f=d[3].replace(_g," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(_g," ").trim();return h[0]})(e);$n[o]=xr(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&$n.g?$n.g:null;return n&&($n.g=$n[o]),((l,c,d,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})($n[o],t,r,a),o},lk=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":xr(a,""):a===!1?"":a}return r+s+(o??"")},"");function Tc(e){let t=this||{},n=e.call?e(t.p):e;return ak(n.unshift?n.raw?lk(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,sk(t.target),t.g,t.o,t.k)}let Ov,Fd,zd;Tc.bind({g:1});let rr=Tc.bind({k:1});function ck(e,t,n,r){xr.p=t,Ov=e,Fd=n,zd=r}function Ur(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:Fd&&Fd()},a),n.o=/ *go\d+/.test(l),a.className=Tc.apply(n,r)+(l?" "+l:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),zd&&c[0]&&zd(a),Ov(c,a)}return s}}var uk=e=>typeof e=="function",Xl=(e,t)=>uk(e)?e(t):e,dk=(()=>{let e=0;return()=>(++e).toString()})(),Lv=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),fk=20,Av=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,fk)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return Av(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},cl=[],as={toasts:[],pausedAt:void 0},Ns=e=>{as=Av(as,e),cl.forEach(t=>{t(as)})},hk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pk=(e={})=>{let[t,n]=_.useState(as),r=_.useRef(as);_.useEffect(()=>(r.current!==as&&n(as),cl.push(n),()=>{let i=cl.indexOf(n);i>-1&&cl.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,a,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((a=e[i.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||hk[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},mk=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||dk()}),Go=e=>(t,n)=>{let r=mk(t,e,n);return Ns({type:2,toast:r}),r.id},mt=(e,t)=>Go("blank")(e,t);mt.error=Go("error");mt.success=Go("success");mt.loading=Go("loading");mt.custom=Go("custom");mt.dismiss=e=>{Ns({type:3,toastId:e})};mt.remove=e=>Ns({type:4,toastId:e});mt.promise=(e,t,n)=>{let r=mt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Xl(t.success,s):void 0;return i?mt.success(i,{id:r,...n,...n==null?void 0:n.success}):mt.dismiss(r),s}).catch(s=>{let i=t.error?Xl(t.error,s):void 0;i?mt.error(i,{id:r,...n,...n==null?void 0:n.error}):mt.dismiss(r)}),e};var gk=(e,t)=>{Ns({type:1,toast:{id:e,height:t}})},xk=()=>{Ns({type:5,time:Date.now()})},co=new Map,yk=1e3,vk=(e,t=yk)=>{if(co.has(e))return;let n=setTimeout(()=>{co.delete(e),Ns({type:4,toastId:e})},t);co.set(e,n)},bk=e=>{let{toasts:t,pausedAt:n}=pk(e);_.useEffect(()=>{if(n)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&mt.dismiss(a.id);return}return setTimeout(()=>mt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,n]);let r=_.useCallback(()=>{n&&Ns({type:6,time:Date.now()})},[n]),s=_.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},d=t.filter(p=>(p.position||c)===(i.position||c)&&p.height),f=d.findIndex(p=>p.id===i.id),h=d.filter((p,m)=>m<f&&p.visible).length;return d.filter(p=>p.visible).slice(...a?[h+1]:[0,h]).reduce((p,m)=>p+(m.height||0)+l,0)},[t]);return _.useEffect(()=>{t.forEach(i=>{if(i.dismissed)vk(i.id,i.removeDelay);else{let o=co.get(i.id);o&&(clearTimeout(o),co.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:gk,startPause:xk,endPause:r,calculateOffset:s}}},wk=rr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_k=rr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Sk=rr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jk=Ur("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_k} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Sk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ek=rr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Nk=Ur("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Ek} 1s linear infinite;
`,kk=rr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ck=rr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Tk=Ur("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ck} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Rk=Ur("div")`
  position: absolute;
`,Dk=Ur("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Pk=rr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Mk=Ur("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Pk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ok=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?_.createElement(Mk,null,t):t:n==="blank"?null:_.createElement(Dk,null,_.createElement(Nk,{...r}),n!=="loading"&&_.createElement(Rk,null,n==="error"?_.createElement(jk,{...r}):_.createElement(Tk,{...r})))},Lk=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ak=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Ik="0%{opacity:0;} 100%{opacity:1;}",Fk="0%{opacity:1;} 100%{opacity:0;}",zk=Ur("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Bk=Ur("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$k=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Lv()?[Ik,Fk]:[Lk(n),Ak(n)];return{animation:t?`${rr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${rr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Uk=_.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?$k(e.position||t||"top-center",e.visible):{opacity:0},i=_.createElement(Ok,{toast:e}),o=_.createElement(Bk,{...e.ariaProps},Xl(e.message,e));return _.createElement(zk,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):_.createElement(_.Fragment,null,i,o))});ck(_.createElement);var Hk=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=_.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return _.createElement("div",{ref:i,className:t,style:n},s)},Vk=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Lv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},Wk=Tc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,za=16,Sg=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=bk(n);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:za,left:za,right:za,bottom:za,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||t,f=l.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),h=Vk(d,f);return _.createElement(Hk,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?Wk:"",style:h},c.type==="custom"?Xl(c.message,c):s?s(c):_.createElement(Uk,{toast:c,position:d}))}))};const Kk=(e,t)=>{const[n,r]=_.useState(e);return _.useEffect(()=>{const s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),n},qk=()=>{const[e]=f_(),[t,n]=_.useState([]),[r,s]=_.useState(!0),[i,o]=_.useState(""),[a,l]=_.useState(1),[c,d]=_.useState(!0),[f,h]=_.useState(!1),p=_.useRef(null),[m,x]=_.useState(!1),[v,y]=_.useState(!1),[g,b]=_.useState(()=>({categorie:e.get("categorie")||"",demandeur:e.get("demandeur")||"",societe:e.get("societe")||"",emplacement:e.get("emplacement")||"",statut:e.get("statut")?parseInt(e.get("statut"),10):"",priorite:e.get("priorite")||"",dateDebut:e.get("dateDebut")||"",dateDebutFin:e.get("dateDebutFin")||"",dateFinPrevueDebut:e.get("dateFinPrevueDebut")||"",dateFinPrevueFin:e.get("dateFinPrevueFin")||"",dateFinReelleDebut:e.get("dateFinReelleDebut")||"",dateFinReelleFin:e.get("dateFinReelleFin")||"",titre:e.get("titre")||"",showRejectedByDemandeur:!1})),[S,j]=_.useState(g.titre),k=Kk(S,500),[w,N]=_.useState(!1),[L,R]=_.useState([]),[A,M]=_.useState([]),[V,X]=_.useState([]),[Y,se]=_.useState([]),[z,O]=_.useState([]),[U,K]=_.useState([]);let te=null;try{te=JSON.parse(localStorage.getItem("user"))}catch{te=null}const I=te==null?void 0:te.niveau,ue=_.useCallback((T,W)=>{if(!W.trim())return T;const _e=W.toLowerCase();return T.filter(Be=>{var Re,Mt;return((Re=Be.Titre)==null?void 0:Re.toLowerCase().includes(_e))||((Mt=Be.Description)==null?void 0:Mt.toLowerCase().includes(_e))})},[]),ae=_.useMemo(()=>!t||!(I==="1"||I===1)?0:t.filter(T=>T.reports&&T.reports.some(W=>W.type==="rejet"&&W.Id_Demandeur===T.Id_Demandeur)).length,[t,I]),le=_.useMemo(()=>{let T=t;return S.trim()&&(T=ue(T,S)),(I==="1"||I===1)&&(g.showRejectedByDemandeur?T=T.filter(W=>W.reports&&W.reports.some(_e=>_e.type==="rejet"&&_e.Id_Demandeur===W.Id_Demandeur)):T=T.filter(W=>!(W.reports&&W.reports.some(_e=>_e.type==="rejet"&&_e.Id_Demandeur===W.Id_Demandeur)))),T},[t,S,ue,I,g.showRejectedByDemandeur]);_.useMemo(()=>!le||!te?0:le.filter(T=>T.Id_Demandeur===te.id&&T.reports&&T.reports.some(W=>!W.is_viewed)).length,[le,te]),_.useEffect(()=>{b(T=>({...T,titre:k}))},[k]);const ie=async(T=1)=>{try{T===1&&s(!0),x(!0);const W={...g};delete W.titre;const Be=(await oe.get("/api/tickets",{params:{...W,page:T,per_page:2,filter_unread_reports:v?!0:void 0}})).data,Re=Be.data||[],Mt=Be.total||0,En=Math.ceil(Mt/2);n(T===1?Re:Kt=>[...Kt,...Re]),d(T<En),l(T),o("")}catch(W){o("Erreur lors du chargement des tickets"),console.error("Erreur:",W)}finally{s(!1),h(!1),x(!1)}};_.useEffect(()=>{(async()=>{try{const W=await oe.get("/api/tickets/options");if(W.data&&W.data.options){const{options:_e}=W.data;K(_e.statuts||[]),R(_e.categories||[]),M(_e.demandeurs||[]),X(_e.societes||[]),se(_e.emplacements||[]),O(_e.priorites||[])}}catch(W){console.error("Erreur lors du chargement des options:",W)}})()},[]),_.useEffect(()=>{ie(1)},[g.categorie,g.demandeur,g.societe,g.emplacement,g.statut,g.priorite,g.dateDebut,g.dateDebutFin,g.dateFinPrevueDebut,g.dateFinPrevueFin,g.dateFinReelleDebut,g.dateFinReelleFin,k,v]),_.useEffect(()=>{const T=new IntersectionObserver(W=>{W[0].isIntersecting&&c&&!f&&!r&&(h(!0),ie(a+1))},{threshold:.1,rootMargin:"500px"});return p.current&&T.observe(p.current),()=>{p.current&&T.unobserve(p.current)}},[c,f,a,r]),_.useEffect(()=>{const T=W=>{const{ticketId:_e}=W.detail;n(Be=>Be.map(Re=>Re.id===_e?{...Re,reports:Re.reports.map(Mt=>({...Mt,is_viewed:!0}))}:Re))};return window.addEventListener("reportsViewed",T),()=>{window.removeEventListener("reportsViewed",T)}},[]);const Z=(T,W)=>{b(_e=>({..._e,[T]:W}))},we=T=>{j(T)},rt=T=>{const W=g.statut===T?"":T;Z("statut",W);const _e=new URLSearchParams(e);W!==""?_e.set("statut",W.toString()):_e.delete("statut"),window.history.replaceState(null,"",`?${_e.toString()}`)},Nt=async(T,W)=>{var _e,Be;try{const Re=U.find(pn=>pn.id===parseInt(W,10));if(!["En instance","En cours","Terminé"].includes(Re==null?void 0:Re.designation)&&!(I==="1"||I===1)){mt.error("Vous ne pouvez pas modifier ce statut.");return}const Kt={Id_Statut:parseInt(W,10)};(Re==null?void 0:Re.designation)==="Terminé"&&(Kt.DateFinReelle=new Date().toISOString().split("T")[0]);const In=await oe.put(`/api/tickets/${T}`,Kt);n(pn=>pn.map(tn=>tn.id===T?{...tn,Id_Statut:parseInt(W,10),statut:In.data.statut,DateFinReelle:(Re==null?void 0:Re.designation)==="Terminé"?Kt.DateFinReelle:tn.DateFinReelle}:tn)),mt.success("Statut mis à jour avec succès")}catch(Re){console.error("Error updating status:",Re),mt.error(((Be=(_e=Re.response)==null?void 0:_e.data)==null?void 0:Be.message)||"Erreur lors de la mise à jour du statut du ticket.")}},ve=()=>{b({categorie:"",demandeur:"",societe:"",emplacement:"",statut:"",priorite:"",dateDebut:"",dateDebutFin:"",dateFinPrevueDebut:"",dateFinPrevueFin:"",dateFinReelleDebut:"",dateFinReelleFin:"",titre:"",showRejectedByDemandeur:!1}),j(""),y(!1)},me=T=>{if(!T)return"-";let W=T;typeof T=="object"&&T.date&&(W=T.date),typeof W=="string"&&W.includes(".")&&(W=W.split(".")[0]);const _e=W.replace(" ","T"),Be=new Date(_e);return isNaN(Be)?"-":Be.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})};return r&&!t.length?u.jsxs(Ke,{children:[u.jsx(Sg,{position:"top-right"}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Liste des Tickets"})}),u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"})]})]})]}):u.jsxs(Ke,{children:[u.jsx(Sg,{position:"top-right"}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Liste des Tickets"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>N(!w),className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Filtres",children:u.jsx(Vy,{className:w?"text-blue-600":""})}),u.jsx("button",{onClick:()=>ie(1),className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx(Lr,{className:m?"animate-spin-once":""})}),!(I==="2"||I===2)&&u.jsx(tr,{to:"/create-ticket",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Créer un ticket"})]})]}),u.jsx("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-2",children:u.jsxs("div",{className:"flex gap-2",children:[U.map(T=>u.jsx("button",{onClick:()=>rt(T.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${g.statut===T.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:T.designation},T.id)),(I==="1"||I===1)&&u.jsxs("button",{onClick:()=>b(T=>({...T,showRejectedByDemandeur:!T.showRejectedByDemandeur,statut:T.showRejectedByDemandeur?T.statut:""})),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors flex items-center gap-2 ${g.showRejectedByDemandeur?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx("span",{children:"Tickets refusés par le demandeur"}),ae>0&&u.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold bg-purple-600 text-white rounded-full",children:ae})]})]})}),w&&u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Filtres"}),u.jsxs("button",{onClick:ve,className:"text-sm text-gray-600 hover:text-red-600 flex items-center gap-1",children:[u.jsx(rl,{})," Réinitialiser"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"flex flex-col w-full gap-2 md:col-span-3",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Rechercher par titre"}),u.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Rechercher par titre",value:S,onChange:T=>we(T.target.value)})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Société"}),u.jsxs("select",{value:g.societe,onChange:T=>Z("societe",T.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Toutes"}),V.map(T=>u.jsx("option",{value:T.id,children:T.designation},T.id))]})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Demandeur"}),u.jsxs("select",{value:g.demandeur,onChange:T=>Z("demandeur",T.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Tous"}),A.map(T=>u.jsx("option",{value:T.id,children:T.designation},T.id))]})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Catégorie"}),u.jsxs("select",{value:g.categorie,onChange:T=>Z("categorie",T.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Toutes"}),L.map(T=>u.jsx("option",{value:T.id,children:T.designation},T.id))]})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Emplacement"}),u.jsxs("select",{value:g.emplacement,onChange:T=>Z("emplacement",T.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Tous"}),Y.map(T=>u.jsx("option",{value:T.id,children:T.designation},T.id))]})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priorité"}),u.jsxs("select",{value:g.priorite,onChange:T=>Z("priorite",T.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Toutes"}),z.map(T=>u.jsx("option",{value:T.id,children:T.designation},T.id))]})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date de début"}),u.jsx("input",{type:"date",value:g.dateDebut,onChange:T=>Z("dateDebut",T.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Du"}),u.jsx("input",{type:"date",value:g.dateDebutFin,onChange:T=>Z("dateDebutFin",T.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Au"})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date de fin prévue"}),u.jsx("input",{type:"date",value:g.dateFinPrevueDebut,onChange:T=>Z("dateFinPrevueDebut",T.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Du"}),u.jsx("input",{type:"date",value:g.dateFinPrevueFin,onChange:T=>Z("dateFinPrevueFin",T.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Au"})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date de fin réelle"}),u.jsx("input",{type:"date",value:g.dateFinReelleDebut,onChange:T=>Z("dateFinReelleDebut",T.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Du"}),u.jsx("input",{type:"date",value:g.dateFinReelleFin,onChange:T=>Z("dateFinReelleFin",T.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Au"})]})]})]}),i&&u.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded",children:i}),!r&&le.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[u.jsx("span",{className:"text-2xl font-semibold text-gray-400 mb-2",children:"Pas de ticket"}),u.jsx("span",{className:"text-base text-gray-400",children:"Aucun ticket ne correspond à vos critères de recherche."})]}),u.jsxs("div",{className:"space-y-4",children:[le.map(T=>{var Re,Mt,En,Kt,In,pn,tn,qt,mn,ar,Fn,$,ne,ge,fe,Ie,Ze;console.log("TICKET DEBUG:",T.id,T.Titre,T.reports,T.Id_Demandeur);const W=T.reports&&T.reports.some(Ce=>Ce.type==="rejet"),Be=(()=>{var Ce;return((Ce=T.statut)==null?void 0:Ce.designation)==="Refusé"?"border-red-600 bg-red-50 hover:bg-red-100":W?"border-purple-600 bg-purple-50 hover:bg-purple-100":""})();return T.id===1&&(T.reports=[{type:"rejet",Id_Demandeur:T.Id_Demandeur}]),u.jsxs("div",{className:`rounded-2xl shadow-lg border flex flex-col md:flex-row items-center justify-between min-h-[140px] px-6 py-5 mb-6 transition-transform hover:scale-[1.015] hover:shadow-2xl group ${Be}`,style:{transition:"box-shadow 0.2s, transform 0.2s"},children:[u.jsx("div",{className:"flex-1 flex flex-col w-full",children:u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[u.jsx("h3",{className:`text-2xl font-bold uppercase tracking-wide group-hover:text-blue-700 transition-colors ${((Re=T.statut)==null?void 0:Re.designation)==="Refusé"?"text-red-700":W?"text-purple-700":"text-gray-900"}`,children:T.Titre}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${((Mt=T.statut)==null?void 0:Mt.designation)==="Refusé"?"bg-red-100 text-red-700 border-red-200":W?"bg-purple-100 text-purple-700 border-purple-200":"bg-blue-100 text-blue-700 border-blue-200"}`,children:((En=T.statut)==null?void 0:En.designation)||"Sans statut"}),u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-700 border border-green-200",children:((Kt=T.priorite)==null?void 0:Kt.designation)||"Sans priorité"}),((In=T.statut)==null?void 0:In.designation)==="Clôturé"&&u.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-yellow-100 text-gray-700 border border-gray-200",children:["Clôturé le : ",me(T.DateFinReelle)]}),W&&u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-orange-100 text-orange-700 border border-orange-200",children:"Refusé précédemment par le demandeur"})]})]}),u.jsx("p",{className:`text-base mb-4 line-clamp-2 ${((pn=T.statut)==null?void 0:pn.designation)==="Refusé"?"text-red-700":W?"text-purple-700":"text-gray-700"}`,children:T.Description||"Aucune description"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-1 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Demandeur :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:((tn=T.demandeur)==null?void 0:tn.designation)||"Non spécifié"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Date début :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:me(T.DateDebut)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Date fin prévue :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:me(T.DateFinPrevue)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Société :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:((qt=T.societe)==null?void 0:qt.designation)||"Non spécifiée"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Emplacement :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:((mn=T.emplacement)==null?void 0:mn.designation)||"Non spécifié"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Catégorie :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:((ar=T.categorie)==null?void 0:ar.designation)||"Non spécifiée"})]})]})]})}),u.jsxs("div",{className:"mt-6 md:mt-0 md:ml-6 flex-shrink-0 flex flex-col items-end justify-between h-full gap-2",children:[(I==="1"||I===1)&&u.jsx(u.Fragment,{children:["En instance","En cours","Terminé"].includes((Fn=T.statut)==null?void 0:Fn.designation)?u.jsx("select",{value:T.Id_Statut,onChange:Ce=>Nt(T.id,Ce.target.value),className:`mb-2 px-2 py-1 rounded border text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 ${(($=T.statut)==null?void 0:$.designation)==="Refusé"?"border-red-300 bg-red-50":W?"border-purple-300 bg-purple-50":"border-gray-300"}`,children:U&&U.length>0?U.filter(Ce=>["En instance","En cours","Terminé"].includes(Ce.designation)).map(Ce=>u.jsx("option",{value:Ce.id,children:Ce.designation},Ce.id)):u.jsx("option",{value:"",children:"Chargement des statuts..."})}):u.jsxs("div",{className:`mb-2 px-2 py-1 text-sm ${((ne=T.statut)==null?void 0:ne.designation)==="Refusé"?"text-red-700":W?"text-purple-700":"text-gray-700"}`,children:["Statut : ",((ge=T.statut)==null?void 0:ge.designation)||"Non défini"]})}),!(I==="1"||I===1)&&u.jsxs("div",{className:`mb-2 px-2 py-1 text-sm ${((fe=T.statut)==null?void 0:fe.designation)==="Refusé"?"text-red-700":W?"text-purple-700":"text-gray-700"}`,children:["Statut : ",((Ie=T.statut)==null?void 0:Ie.designation)||"Non défini"]}),u.jsxs(tr,{to:`/tickets/${T.id}`,className:`inline-flex items-center gap-2 text-white font-semibold px-5 py-2 rounded-lg shadow transition-colors text-base ${((Ze=T.statut)==null?void 0:Ze.designation)==="Refusé"?"bg-red-600 hover:bg-red-700":W?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Voir détails"]})]})]},T.id)}),c&&u.jsx("div",{ref:p,className:"h-16 flex items-center justify-center",children:f?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),u.jsx("span",{className:"text-sm text-gray-500",children:"Chargement..."})]}):u.jsx("div",{className:"h-4"})})]})]})]})};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jg;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(jg||(jg={}));var Eg;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Eg||(Eg={}));var Ng;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Ng||(Ng={}));var kg;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(kg||(kg={}));var Ql;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER"})(Ql||(Ql={}));var Cg;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Cg||(Cg={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Tg extends Fo{constructor(t,n){super(t),this.response=n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="https://generativelanguage.googleapis.com",Gk="v1",Xk="0.2.1",Qk="genai-js";var ws;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ws||(ws={}));class Xo{constructor(t,n,r,s){this.model=t,this.task=n,this.apiKey=r,this.stream=s}toString(){let t=`${Yk}/${Gk}/${this.model}:${this.task}`;return this.stream&&(t+="?alt=sse"),t}}function Jk(){return`${Qk}/${Xk}`}async function Qo(e,t,n){let r;try{if(r=await fetch(e.toString(),Object.assign(Object.assign({},Zk(n)),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":Jk(),"x-goog-api-key":e.apiKey},body:t})),!r.ok){let s="";try{const i=await r.json();s=i.error.message,i.error.details&&(s+=` ${JSON.stringify(i.error.details)}`)}catch{}throw new Error(`[${r.status} ${r.statusText}] ${s}`)}}catch(s){const i=new Fo(`Error fetching from ${e.toString()}: ${s.message}`);throw i.stack=s.stack,i}return r}function Zk(e){const t={};if((e==null?void 0:e.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),e.timeout),t.signal=r}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Iv(e.candidates[0]))throw new Tg(`${Jl(e)}`,e);return e5(e)}else if(e.promptFeedback)throw new Tg(`Text not available. ${Jl(e)}`,e);return""},e}function e5(e){var t,n,r,s;return!((s=(r=(n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||s===void 0)&&s.text?e.candidates[0].content.parts[0].text:""}const t5=[Ql.RECITATION,Ql.SAFETY];function Iv(e){return!!e.finishReason&&t5.includes(e.finishReason)}function Jl(e){var t,n,r;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const i=e.candidates[0];Iv(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function zo(e){return this instanceof zo?(this.v=e,this):new zo(e)}function n5(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(p){return new Promise(function(m,x){i.push([h,p,m,x])>1||a(h,p)})})}function a(h,p){try{l(r[h](p))}catch(m){f(i[0][3],m)}}function l(h){h.value instanceof zo?Promise.resolve(h.value.v).then(c,d):f(i[0][2],h)}function c(h){a("next",h)}function d(h){a("throw",h)}function f(h,p){h(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function r5(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=o5(t),[r,s]=n.tee();return{stream:i5(r),response:s5(s)}}async function s5(e){const t=[],n=e.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return uh(a5(t));t.push(s)}}function i5(e){return n5(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:s}=yield zo(n.read());if(s)break;yield yield zo(uh(r))}})}function o5(e){const t=e.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return t.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new Fo("Failed to parse stream"));return}r.close();return}s+=o;let l=s.match(Rg),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new Fo(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),s=s.substring(l[0].length),l=s.match(Rg)}return i()})}}})}function a5(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e)if(r.candidates)for(const s of r.candidates){const i=s.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:s.index}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[{text:""}]});for(const o of s.content.parts)o.text&&(n.candidates[i].content.parts[0].text+=o.text)}}return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fv(e,t,n,r){const s=new Xo(t,ws.STREAM_GENERATE_CONTENT,e,!0),i=await Qo(s,JSON.stringify(n),r);return r5(i)}async function zv(e,t,n,r){const s=new Xo(t,ws.GENERATE_CONTENT,e,!1),o=await(await Qo(s,JSON.stringify(n),r)).json();return{response:uh(o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(e,t){let n=[];if(typeof e=="string")n=[{text:e}];else for(const r of e)typeof r=="string"?n.push({text:r}):n.push(r);return{role:t,parts:n}}function ku(e){return e.contents?e:{contents:[uo(e,"user")]}}function l5(e){return typeof e=="string"||Array.isArray(e)?{content:uo(e,"user")}:e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="SILENT_ERROR";class c5{constructor(t,n,r,s){this.model=n,this.params=r,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(this._history=r.history.map(i=>{if(!i.role)throw new Error("Missing role for history item: "+JSON.stringify(i));return uo(i.parts,i.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t){var n,r;await this._sendPromise;const s=uo(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]};let o;return this._sendPromise=this._sendPromise.then(()=>zv(this._apiKey,this.model,i,this.requestOptions)).then(a=>{var l;if(a.response.candidates&&a.response.candidates.length>0){this._history.push(s);const c=Object.assign({parts:[],role:"model"},(l=a.response.candidates)===null||l===void 0?void 0:l[0].content);this._history.push(c)}else{const c=Jl(a.response);c&&console.warn(`sendMessage() was unsuccessful. ${c}. Inspect response object for details.`)}o=a}),await this._sendPromise,o}async sendMessageStream(t){var n,r;await this._sendPromise;const s=uo(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]},o=Fv(this._apiKey,this.model,i,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>o).catch(a=>{throw new Error(Dg)}).then(a=>a.response).then(a=>{if(a.candidates&&a.candidates.length>0){this._history.push(s);const l=Object.assign({},a.candidates[0].content);l.role||(l.role="model"),this._history.push(l)}else{const l=Jl(a);l&&console.warn(`sendMessageStream() was unsuccessful. ${l}. Inspect response object for details.`)}}).catch(a=>{a.message!==Dg&&console.error(a)}),o}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(e,t,n,r){const s=new Xo(t,ws.COUNT_TOKENS,e,!1);return(await Qo(s,JSON.stringify(Object.assign(Object.assign({},n),{model:t})),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(e,t,n,r){const s=new Xo(t,ws.EMBED_CONTENT,e,!1);return(await Qo(s,JSON.stringify(n),r)).json()}async function f5(e,t,n,r){const s=new Xo(t,ws.BATCH_EMBED_CONTENTS,e,!1),i=n.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await Qo(s,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(t,n,r){this.apiKey=t,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.requestOptions=r||{}}async generateContent(t){const n=ku(t);return zv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}async generateContentStream(t){const n=ku(t);return Fv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}startChat(t){return new c5(this.apiKey,this.model,t,this.requestOptions)}async countTokens(t){const n=ku(t);return u5(this.apiKey,this.model,n)}async embedContent(t){const n=l5(t);return d5(this.apiKey,this.model,n)}async batchEmbedContents(t){return f5(this.apiKey,this.model,t,this.requestOptions)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Fo("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new h5(this.apiKey,t,n)}}const Bv="AIzaSyCSZo6wMOi8s3mzCrjt-xZr4U-36U--bCo";console.warn("Initialisation du service Gemini avec la clé API:","Présente");const m5=new p5(Bv,{apiVersion:"v1beta"});console.warn("Instance GoogleGenerativeAI créée");const g5=m5.getGenerativeModel({model:"gemini-2.0-flash",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]});console.warn("Modèle Gemini configuré avec les paramètres:",{model:"gemini-2.0-flash",temperature:.7,maxOutputTokens:1024});const Pg=async(e,t,n)=>{console.warn("=== GEMINI API CALL ==="),console.warn("Message:",e),console.warn("Conversation history length:",t.length),console.warn("User info:",n);const r=3,s=2e3,i=a=>new Promise(l=>setTimeout(l,a)),o=async(a=0)=>{var l;try{if(!(n!=null&&n.ticketOptions))throw new Error("Les options de ticket ne sont pas disponibles. Veuillez rafraîchir la page.");const d=["categories","emplacements","priorites"].filter(y=>{var g;return!((g=n.ticketOptions[y])!=null&&g.length)});if(d.length>0)throw new Error(`Les options suivantes ne sont pas disponibles : ${d.join(", ")}. Veuillez rafraîchir la page.`);const f=y=>!y||!Array.isArray(y)?"":y.map(g=>g.designation||"").filter(Boolean).join(", "),h=`Tu es un assistant professionnel spécialisé dans la création de tickets de support IT.
Ton rôle est de guider les utilisateurs de manière professionnelle et efficace dans la création de leurs tickets.

RÈGLES STRICTES DE CONVERSATION :
1. Tu DOIS suivre l'ordre exact des étapes ci-dessous
2. Tu DOIS poser UNE SEULE question à la fois
3. Tu DOIS attendre la réponse de l'utilisateur avant de poser la question suivante
4. Tu DOIS vérifier que chaque information est complète avant de passer à l'étape suivante
5. Tu NE DOIS PAS proposer de créer le ticket avant d'avoir toutes les informations requises
6. Tu DOIS utiliser UNIQUEMENT les options fournies dans le contexte pour chaque choix
7. Tu NE DOIS JAMAIS demander les informations suivantes car elles sont déjà connues :
   - Le demandeur (${n.designation||"Non spécifié"})
   - La société (${((l=n.email)==null?void 0:l.split("@")[1])||"Non spécifiée"})
   - La date de création (automatique)
8. Tu NE DOIS JAMAIS confirmer la création du ticket - ce n'est pas ton rôle
9. À la fin, tu DOIS UNIQUEMENT demander si l'utilisateur souhaite procéder à la création du ticket
10. Si l'utilisateur répond "oui" à la création, tu DOIS :
    - Vérifier que toutes les informations sont présentes
    - Si des informations manquent, les demander à nouveau
    - Si toutes les informations sont présentes, indiquer que tu vas transmettre les informations pour la création

OPTIONS DISPONIBLES :
- Catégories : ${f(n.ticketOptions.categories)}
- Emplacements : ${f(n.ticketOptions.emplacements)}
- Priorités : ${f(n.ticketOptions.priorites)}

ÉTAPES OBLIGATOIRES (à suivre dans l'ordre) :

1. COLLECTE DU TITRE
   - Demander un titre concis et descriptif
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

2. COLLECTE DE LA DESCRIPTION
   - Demander une description détaillée du problème
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

3. DÉTERMINATION DE LA CATÉGORIE
   - Afficher les catégories disponibles : ${f(n.ticketOptions.categories)}
   - Demander à l'utilisateur de choisir une catégorie parmi celles listées
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

4. COLLECTE DE L'EMPLACEMENT
   - Afficher les emplacements disponibles : ${f(n.ticketOptions.emplacements)}
   - Demander à l'utilisateur de choisir un emplacement parmi ceux listés
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

5. DÉTERMINATION DE LA PRIORITÉ
   - Afficher les priorités disponibles : ${f(n.ticketOptions.priorites)}
   - Demander à l'utilisateur de choisir une priorité parmi celles listées
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

6. RÉSUMÉ ET DEMANDE DE CRÉATION
   - Présenter le résumé dans le format suivant :
     📋 RÉSUMÉ DU TICKET
     ──────────────────────────────
     📌 Titre : [titre]
     📝 Description : [description]
     🏷️ Catégorie : [catégorie]
     📍 Emplacement : [emplacement]
     ⚡ Priorité : [priorité]
     ──────────────────────────────
   - Demander si l'utilisateur souhaite procéder à la création du ticket
   - Si l'utilisateur répond "oui" :
     * Vérifier que toutes les informations sont présentes
     * Si des informations manquent, les demander à nouveau
     * Si toutes les informations sont présentes, indiquer que tu vas transmettre les informations pour la création

EXEMPLES DE RÉPONSES PROFESSIONNELLES :
- "Pour commencer, pourriez-vous me donner un titre concis qui décrit votre problème ?"
- "Merci pour le titre. Maintenant, pourriez-vous me donner une description détaillée du problème ?"
- "Voici les catégories disponibles : ${f(n.ticketOptions.categories)}. Quelle catégorie correspond le mieux à votre demande ?"
- "Voici les emplacements disponibles : ${f(n.ticketOptions.emplacements)}. Quel est l'emplacement concerné ?"
- "Voici les priorités disponibles : ${f(n.ticketOptions.priorites)}."
- "Je vais vérifier que toutes les informations sont présentes avant de procéder à la création du ticket."
- "Il manque certaines informations. Pourriez-vous me préciser [information manquante] ?"
- "Toutes les informations sont présentes. Je vais transmettre ces informations pour la création du ticket."`;console.warn("Construction du contexte de conversation");const p=g5.startChat({history:[{role:"user",parts:h},...t.map(y=>({role:y.role,parts:y.content}))]});console.warn("Chat initialisé avec l'historique"),console.warn("Envoi du message à l'API...");const m=6e4,x=await Promise.race([p.sendMessage(e).then(y=>(console.warn("Réponse brute de l'API:",y),y)),new Promise((y,g)=>setTimeout(()=>{console.error("Timeout: Délai d'attente dépassé après",m,"ms"),g(new Error("Le temps de réponse est trop long. Veuillez réessayer."))},m))]);console.warn("Réponse reçue de l'API");const v=await x.response;return console.warn("Texte de la réponse extrait:",v.text()),v.text()}catch(c){if(console.error("=== GEMINI API ERROR ==="),console.error("Type d'erreur:",c.constructor.name),console.error("Message d'erreur:",c.message),console.error("Stack trace:",c.stack),c.message.includes("API key"))throw console.error("Erreur de clé API"),new Error("Erreur de configuration de l'API. Veuillez vérifier la clé API.");if(c.message.includes("quota"))throw console.error("Erreur de quota dépassé"),new Error("Limite de requêtes atteinte. Veuillez réessayer plus tard.");if(c.message.includes("temps de réponse"))throw console.error("Erreur de timeout"),new Error("Le temps de réponse est trop long. Veuillez réessayer.");if(c.message.includes("safety"))throw console.error("Erreur de sécurité"),new Error("Le contenu a été bloqué pour des raisons de sécurité.");if(c.message.includes("overloaded")||c.message.includes("503")){if(console.error("Erreur de surcharge du modèle"),a<r)return console.log(`Tentative ${a+1}/${r} échouée. Nouvelle tentative dans ${s/1e3} secondes...`),await i(s),o(a+1);throw new Error("Le service est temporairement surchargé. Veuillez réessayer dans quelques instants.")}else throw console.error("Erreur inattendue:",c),new Error("Une erreur est survenue lors de la communication avec l'assistant. Veuillez réessayer.")}};return o()},Mg=(e,t,n)=>{console.log("Options reçues:",t),console.log("User info reçu:",n);const r={title:"",description:"",category:"",service:n.niveau===1?"Administration":n.niveau===2?"Direction Générale":n.niveau===3?"Direction Département":"Support",location:"",company:n.email.split("@")[1]||"Non spécifiée",requester:n.designation,status:"Nouveau",priority:"",startDate:"",endDate:"",createdAt:new Date().toISOString(),id_utilisateur:n.id||1,id_societe:n.id_societe||1,id_emplacement:null,id_priorite:null,id_categorie:null,id_statut:1,id_executant:1},s=c=>c.toLowerCase().trim(),i=(c,d)=>{if(!c||!d)return null;console.log("Recherche ID pour:",c,"dans les options:",d);const f=s(c),h=x=>x.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"").toLowerCase();let p=null;if(p=d.find(x=>s(x.designation)===f),p)return console.log("Correspondance exacte trouvée:",p),p.id;const m=h(f);return p=d.find(x=>h(x.designation)===m),p?(console.log("Correspondance normalisée trouvée:",p),p.id):(p=d.find(x=>{const v=s(x.designation);return v.includes(f)||f.includes(v)}),p?(console.log("Correspondance partielle trouvée:",p),p.id):(p=d.find(x=>{const v=h(x.designation);return o(m,v)>.8}),p?(console.log("Correspondance par similarité trouvée:",p),p.id):(console.log("Aucune correspondance trouvée pour:",c),null)))},o=(c,d)=>{if(c.length===0||d.length===0)return 0;if(c===d)return 1;const f=c.length>d.length?c:d,h=c.length>d.length?d:c;return f.length===0?1:(f.length-a(f,h))/parseFloat(f.length)},a=(c,d)=>{const f=Array(d.length+1).fill(null).map(()=>Array(c.length+1).fill(null));for(let h=0;h<=c.length;h++)f[0][h]=h;for(let h=0;h<=d.length;h++)f[h][0]=h;for(let h=1;h<=d.length;h++)for(let p=1;p<=c.length;p++){const m=c[p-1]===d[h-1]?0:1;f[h][p]=Math.min(f[h][p-1]+1,f[h-1][p]+1,f[h-1][p-1]+m)}return f[d.length][c.length]},l=(c,d)=>{const f=new RegExp(`${d}\\s*([^\\n📌📝🏷️📍⚡📅]+)`,"i"),h=c.match(f);if(!h)return null;let p=h[1].trim();return p=p.replace(/^(Titre|Description|Catégorie|Emplacement|Priorité|Date de début|Date de fin)\s*:\s*/i,""),p=p.replace(/^:\s*/,""),p};return e.forEach((c,d)=>{if(c.role==="assistant"){const f=c.content;if(console.log("Analyse du message:",f),f.includes("📋 RÉSUMÉ DU TICKET")){console.log("Résumé de ticket trouvé"),r.title=l(f,"📌"),console.log("Titre extrait:",r.title),r.description=l(f,"📝"),console.log("Description extraite:",r.description),r.category=l(f,"🏷️"),r.id_categorie=i(r.category,t.categories),console.log("Catégorie extraite:",r.category,"ID:",r.id_categorie),r.location=l(f,"📍"),r.id_emplacement=i(r.location,t.emplacements),console.log("Emplacement extrait:",r.location,"ID:",r.id_emplacement),r.priority=l(f,"⚡"),r.id_priorite=i(r.priority,t.priorites),console.log("Priorité extraite:",r.priority,"ID:",r.id_priorite);const h=l(f,"📅 Date de début"),p=l(f,"📅 Date de fin");if(h){const[m,x,v]=h.split("/");r.startDate=`${v}-${x}-${m}`,console.log("Date de début extraite:",r.startDate)}if(p){const[m,x,v]=p.split("/");r.endDate=`${v}-${x}-${m}`,console.log("Date de fin extraite:",r.endDate)}}}}),console.log("Ticket info final:",r),r},x5=async e=>{var t,n,r;try{const s=localStorage.getItem("token");if(!e.title||!e.description||!e.id_categorie||!e.id_emplacement||!e.id_priorite)throw console.error("Données manquantes:",{title:e.title,description:e.description,id_categorie:e.id_categorie,id_emplacement:e.id_emplacement,id_priorite:e.id_priorite}),new Error("Données de ticket incomplètes");const i=JSON.parse(localStorage.getItem("user"));if(!i||!i.id)throw console.error("Utilisateur non connecté ou ID invalide"),new Error("Vous devez être connecté pour créer un ticket.");e.id_utilisateur=i.id,e.id_demandeur=i.id;const o={titre:e.title,description:e.description,id_demandeur:e.id_demandeur,id_utilisateur:e.id_utilisateur,id_societe:e.id_societe,id_emplacement:e.id_emplacement,id_priorite:e.id_priorite,id_categorie:e.id_categorie,id_statut:e.id_statut,id_executant:e.id_executant};if(e.startDate&&(o.date_debut=e.startDate),e.endDate&&(o.date_fin_prevue=e.endDate),console.log("Données envoyées à l'API:",o),!s)throw new Error("Token d'authentification manquant. Veuillez vous reconnecter.");return(await Le.post("/api/tickets",o,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){if(console.error("Error in createTicketFromChat:",s),((t=s.response)==null?void 0:t.status)===422){const i=s.response.data.errors;if(i.id_demandeur)throw new Error("Erreur d'authentification. Veuillez vous reconnecter.");const o=Object.entries(i).map(([a,l])=>`${a}: ${l.join(", ")}`).join(`
`);throw new Error(`Erreurs de validation:
${o}`)}else throw((n=s.response)==null?void 0:n.status)===401?new Error("Session expirée. Veuillez vous reconnecter."):((r=s.response)==null?void 0:r.status)===403?new Error("Vous n'avez pas les permissions nécessaires pour créer un ticket."):new Error("Une erreur est survenue lors de la création du ticket. Veuillez réessayer.")}};function $v(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=$v(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function fs(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=$v(e))&&(r&&(r+=" "),r+=t);return r}function y5(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}y5(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Jo=e=>typeof e=="number"&&!isNaN(e),_s=e=>typeof e=="string",sr=e=>typeof e=="function",v5=e=>_s(e)||Jo(e),Bd=e=>_s(e)||sr(e)?e:null,b5=(e,t)=>e===!1||Jo(e)&&e>0?e:t,$d=e=>_.isValidElement(e)||_s(e)||sr(e)||Jo(e);function w5(e,t,n=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function _5({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:d,playToast:f}){let h=n?`${e}--${o}`:e,p=n?`${t}--${o}`:t,m=_.useRef(0);return _.useLayoutEffect(()=>{let x=c.current,v=h.split(" "),y=g=>{g.target===c.current&&(f(),x.removeEventListener("animationend",y),x.removeEventListener("animationcancel",y),m.current===0&&g.type!=="animationcancel"&&x.classList.remove(...v))};x.classList.add(...v),x.addEventListener("animationend",y),x.addEventListener("animationcancel",y)},[]),_.useEffect(()=>{let x=c.current,v=()=>{x.removeEventListener("animationend",v),r?w5(x,l,s):l()};d||(a?v():(m.current=1,x.className+=` ${p}`,x.addEventListener("animationend",v)))},[d]),be.createElement(be.Fragment,null,i)}}function Og(e,t){return{content:Uv(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Uv(e,t,n=!1){return _.isValidElement(e)&&!_s(e.type)?_.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):sr(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function S5({closeToast:e,theme:t,ariaLabel:n="close"}){return be.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},be.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},be.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function j5({delay:e,isRunning:t,closeToast:n,type:r="default",hide:s,className:i,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:d}){let f=s||o&&a===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(h.transform=`scaleX(${a})`);let p=fs("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),m=sr(i)?i({rtl:l,type:r,defaultClassName:p}):fs(p,i),x={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return be.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},be.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),be.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:m,style:h,...x}))}var E5=1,Hv=()=>`${E5++}`;function N5(e,t,n){let r=1,s=0,i=[],o=[],a=t,l=new Map,c=new Set,d=g=>(c.add(g),()=>c.delete(g)),f=()=>{o=Array.from(l.values()),c.forEach(g=>g())},h=({containerId:g,toastId:b,updateId:S})=>{let j=g?g!==e:e!==1,k=l.has(b)&&S==null;return j||k},p=(g,b)=>{l.forEach(S=>{var j;(b==null||b===S.props.toastId)&&((j=S.toggle)==null||j.call(S,g))})},m=g=>{var b,S;(S=(b=g.props)==null?void 0:b.onClose)==null||S.call(b,g.removalReason),g.isActive=!1},x=g=>{if(g==null)l.forEach(m);else{let b=l.get(g);b&&m(b)}f()},v=()=>{s-=i.length,i=[]},y=g=>{var b,S;let{toastId:j,updateId:k}=g.props,w=k==null;g.staleId&&l.delete(g.staleId),g.isActive=!0,l.set(j,g),f(),n(Og(g,w?"added":"updated")),w&&((S=(b=g.props).onOpen)==null||S.call(b))};return{id:e,props:a,observe:d,toggle:p,removeToast:x,toasts:l,clearQueue:v,buildToast:(g,b)=>{if(h(b))return;let{toastId:S,updateId:j,data:k,staleId:w,delay:N}=b,L=j==null;L&&s++;let R={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(b).filter(([M,V])=>V!=null)),toastId:S,updateId:j,data:k,isIn:!1,className:Bd(b.className||a.toastClassName),progressClassName:Bd(b.progressClassName||a.progressClassName),autoClose:b.isLoading?!1:b5(b.autoClose,a.autoClose),closeToast(M){l.get(S).removalReason=M,x(S)},deleteToast(){let M=l.get(S);if(M!=null){if(n(Og(M,"removed")),l.delete(S),s--,s<0&&(s=0),i.length>0){y(i.shift());return}f()}}};R.closeButton=a.closeButton,b.closeButton===!1||$d(b.closeButton)?R.closeButton=b.closeButton:b.closeButton===!0&&(R.closeButton=$d(a.closeButton)?a.closeButton:!0);let A={content:g,props:R,staleId:w};a.limit&&a.limit>0&&s>a.limit&&L?i.push(A):Jo(N)?setTimeout(()=>{y(A)},N):y(A)},setProps(g){a=g},setToggle:(g,b)=>{let S=l.get(g);S&&(S.toggle=b)},isToastActive:g=>{var b;return(b=l.get(g))==null?void 0:b.isActive},getSnapshot:()=>o}}var Ct=new Map,Bo=[],Ud=new Set,k5=e=>Ud.forEach(t=>t(e)),Vv=()=>Ct.size>0;function C5(){Bo.forEach(e=>Kv(e.content,e.options)),Bo=[]}var T5=(e,{containerId:t})=>{var n;return(n=Ct.get(t||1))==null?void 0:n.toasts.get(e)};function Wv(e,t){var n;if(t)return!!((n=Ct.get(t))!=null&&n.isToastActive(e));let r=!1;return Ct.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function R5(e){if(!Vv()){Bo=Bo.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||v5(e))Ct.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ct.get(e.containerId);t?t.removeToast(e.id):Ct.forEach(n=>{n.removeToast(e.id)})}}var D5=(e={})=>{Ct.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function Kv(e,t){$d(e)&&(Vv()||Bo.push({content:e,options:t}),Ct.forEach(n=>{n.buildToast(e,t)}))}function P5(e){var t;(t=Ct.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function qv(e,t){Ct.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function M5(e){let t=e.containerId||1;return{subscribe(n){let r=N5(t,e,k5);Ct.set(t,r);let s=r.observe(n);return C5(),()=>{s(),Ct.delete(t)}},setProps(n){var r;(r=Ct.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Ct.get(t))==null?void 0:n.getSnapshot()}}}function O5(e){return Ud.add(e),()=>{Ud.delete(e)}}function L5(e){return e&&(_s(e.toastId)||Jo(e.toastId))?e.toastId:Hv()}function Zo(e,t){return Kv(e,t),t.toastId}function Rc(e,t){return{...t,type:t&&t.type||e,toastId:L5(t)}}function Dc(e){return(t,n)=>Zo(t,Rc(e,n))}function je(e,t){return Zo(e,Rc("default",t))}je.loading=(e,t)=>Zo(e,Rc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function A5(e,{pending:t,error:n,success:r},s){let i;t&&(i=_s(t)?je.loading(t,s):je.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,d,f)=>{if(d==null){je.dismiss(i);return}let h={type:c,...o,...s,data:f},p=_s(d)?{render:d}:d;return i?je.update(i,{...h,...p}):je(p.render,{...h,...p}),f},l=sr(e)?e():e;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}je.promise=A5;je.success=Dc("success");je.info=Dc("info");je.error=Dc("error");je.warning=Dc("warning");je.warn=je.warning;je.dark=(e,t)=>Zo(e,Rc("default",{theme:"dark",...t}));function I5(e){R5(e)}je.dismiss=I5;je.clearWaitingQueue=D5;je.isActive=Wv;je.update=(e,t={})=>{let n=T5(e,t);if(n){let{props:r,content:s}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:Hv()};i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,Zo(o,i)}};je.done=e=>{je.update(e,{progress:1})};je.onChange=O5;je.play=e=>qv(!0,e);je.pause=e=>qv(!1,e);function F5(e){var t;let{subscribe:n,getSnapshot:r,setProps:s}=_.useRef(M5(e)).current;s(e);let i=(t=_.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function o(a){if(!i)return[];let l=new Map;return e.newestOnTop&&i.reverse(),i.forEach(c=>{let{position:d}=c.props;l.has(d)||l.set(d,[]),l.get(d).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:Wv,count:i==null?void 0:i.length}}function z5(e){let[t,n]=_.useState(!1),[r,s]=_.useState(!1),i=_.useRef(null),o=_.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:f}=e;P5({id:e.toastId,containerId:e.containerId,fn:n}),_.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{p()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||y(),window.addEventListener("focus",v),window.addEventListener("blur",y)}function p(){window.removeEventListener("focus",v),window.removeEventListener("blur",y)}function m(w){if(e.draggable===!0||e.draggable===w.pointerType){g();let N=i.current;o.canCloseOnClick=!0,o.canDrag=!0,N.style.transition="none",e.draggableDirection==="x"?(o.start=w.clientX,o.removalDistance=N.offsetWidth*(e.draggablePercent/100)):(o.start=w.clientY,o.removalDistance=N.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function x(w){let{top:N,bottom:L,left:R,right:A}=i.current.getBoundingClientRect();w.nativeEvent.type!=="touchend"&&e.pauseOnHover&&w.clientX>=R&&w.clientX<=A&&w.clientY>=N&&w.clientY<=L?y():v()}function v(){n(!0)}function y(){n(!1)}function g(){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",j)}function b(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",j)}function S(w){let N=i.current;if(o.canDrag&&N){o.didMove=!0,t&&y(),e.draggableDirection==="x"?o.delta=w.clientX-o.start:o.delta=w.clientY-o.start,o.start!==w.clientX&&(o.canCloseOnClick=!1);let L=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;N.style.transform=`translate3d(${L},0)`,N.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function j(){b();let w=i.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}w.style.transition="transform 0.2s, opacity 0.2s",w.style.removeProperty("transform"),w.style.removeProperty("opacity")}}let k={onPointerDown:m,onPointerUp:x};return a&&l&&(k.onMouseEnter=y,e.stacked||(k.onMouseLeave=v)),f&&(k.onClick=w=>{d&&d(w),o.canCloseOnClick&&c(!0)}),{playToast:v,pauseToast:y,isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:k}}var B5=typeof window<"u"?_.useLayoutEffect:_.useEffect,Pc=({theme:e,type:t,isLoading:n,...r})=>be.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function $5(e){return be.createElement(Pc,{...e},be.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function U5(e){return be.createElement(Pc,{...e},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function H5(e){return be.createElement(Pc,{...e},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function V5(e){return be.createElement(Pc,{...e},be.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function W5(){return be.createElement("div",{className:"Toastify__spinner"})}var Hd={info:U5,warning:$5,success:H5,error:V5,spinner:W5},K5=e=>e in Hd;function q5({theme:e,type:t,isLoading:n,icon:r}){let s=null,i={theme:e,type:t};return r===!1||(sr(r)?s=r({...i,isLoading:n}):_.isValidElement(r)?s=_.cloneElement(r,i):n?s=Hd.spinner():K5(t)&&(s=Hd[t](i))),s}var Y5=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=z5(e),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:f,closeToast:h,transition:p,position:m,className:x,style:v,progressClassName:y,updateId:g,role:b,progress:S,rtl:j,toastId:k,deleteToast:w,isIn:N,isLoading:L,closeOnClick:R,theme:A,ariaLabel:M}=e,V=fs("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":R}),X=sr(x)?x({rtl:j,position:m,type:d,defaultClassName:V}):fs(V,x),Y=q5(e),se=!!S||!l,z={closeToast:h,type:d,theme:A},O=null;return o===!1||(sr(o)?O=o(z):_.isValidElement(o)?O=_.cloneElement(o,z):O=S5(z)),be.createElement(p,{isIn:N,done:w,position:m,preventExitTransition:n,nodeRef:r,playToast:i},be.createElement("div",{id:k,tabIndex:0,onClick:c,"data-in":N,className:X,...s,style:v,ref:r,...N&&{role:b,"aria-label":M}},Y!=null&&be.createElement("div",{className:fs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},Y),Uv(a,e,!t),O,!e.customProgressBar&&be.createElement(j5,{...g&&!se?{key:`p-${g}`}:{},rtl:j,theme:A,delay:l,isRunning:t,isIn:N,closeToast:h,hide:f,type:d,className:y,controlledProgress:se,progress:S||0})))},G5=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),X5=_5(G5("bounce",!0)),Q5={position:"top-right",transition:X5,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function J5(e){let t={...Q5,...e},n=e.stacked,[r,s]=_.useState(!0),i=_.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=F5(t),{className:c,style:d,rtl:f,containerId:h,hotKeys:p}=t;function m(v){let y=fs("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":f});return sr(c)?c({position:v,rtl:f,defaultClassName:y}):fs(y,Bd(c))}function x(){n&&(s(!0),je.play())}return B5(()=>{var v;if(n){let y=i.current.querySelectorAll('[data-in="true"]'),g=12,b=(v=t.position)==null?void 0:v.includes("top"),S=0,j=0;Array.from(y).reverse().forEach((k,w)=>{let N=k;N.classList.add("Toastify__toast--stacked"),w>0&&(N.dataset.collapsed=`${r}`),N.dataset.pos||(N.dataset.pos=b?"top":"bot");let L=S*(r?.2:1)+(r?0:g*w);N.style.setProperty("--y",`${b?L:L*-1}px`),N.style.setProperty("--g",`${g}`),N.style.setProperty("--s",`${1-(r?j:0)}`),S+=N.offsetHeight,j+=.025})}},[r,l,n]),_.useEffect(()=>{function v(y){var g;let b=i.current;p(y)&&((g=b.querySelector('[tabIndex="0"]'))==null||g.focus(),s(!1),je.pause()),y.key==="Escape"&&(document.activeElement===b||b!=null&&b.contains(document.activeElement))&&(s(!0),je.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[p]),be.createElement("section",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{n&&(s(!1),je.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((v,y)=>{let g=y.length?{...d}:{...d,pointerEvents:"none"};return be.createElement("div",{tabIndex:-1,className:m(v),"data-stacked":n,style:g,key:`c-${v}`},y.map(({content:b,props:S})=>be.createElement(Y5,{...S,stacked:n,collapseAll:x,isIn:a(S.toastId,S.containerId),key:`t-${S.key}`},b)))}))}const Z5=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(""),[s,i]=_.useState(!1),[o,a]=_.useState(null),[l,c]=_.useState(null),[d,f]=_.useState(null),[h,p]=_.useState(null),[m,x]=_.useState(!1),[v,y]=_.useState(!1),[g,b]=_.useState(!1),[S,j]=_.useState(!1),[k,w]=_.useState(null),N=_.useRef(null),L=_.useRef(null),R=()=>{var I;(I=N.current)==null||I.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{R()},[e]),_.useEffect(()=>{(async()=>{try{const ue=await oe.get("/api/user");p(ue.data);const ae=await oe.get("/api/tickets/options");if(console.log("Options reçues du backend:",ae.data),ae.data.hasErrors){console.error("Erreurs lors de la récupération des options:",ae.data.errors),f("Erreur lors du chargement des options. Veuillez rafraîchir la page.");return}const le=ae.data.options,Z=["categories","emplacements","priorites"].filter(we=>{var rt;return!((rt=le[we])!=null&&rt.length)});if(Z.length>0){console.error("Options manquantes:",Z),f(`Les options suivantes ne sont pas disponibles : ${Z.join(", ")}. Veuillez rafraîchir la page.`);return}c(le)}catch(ue){console.error("Erreur lors du chargement des données:",ue),f("Erreur lors du chargement des données. Veuillez rafraîchir la page.")}})()},[]);const A=()=>{t([{role:"assistant",content:"Bonjour ! Je suis votre assistant pour la création de tickets. Je vais vous guider à travers le processus de création d'un ticket. Comment puis-je vous aider aujourd'hui ?"}])};_.useEffect(()=>{A()},[]);const M=(I,ue)=>{switch(ue){case"category":x(!1);break;case"location":y(!1);break;case"priority":b(!1);break}const ae=I.designation;r(""),t(Z=>[...Z,{role:"user",content:ae}]),i(!0),f(null);const le={...h,ticketOptions:{categories:l.categories||[],emplacements:l.emplacements||[],priorites:l.priorites||[]}};let ie="Support";h.niveau===1?ie="Administration":h.niveau===2&&(ie="Demandeur"),le.service=ie,Pg(ae,e,le).then(Z=>{const we=Z.toLowerCase();x(we.includes("catégorie")),y(we.includes("emplacement")),b(we.includes("priorité"));const rt=Z.split("?").filter(me=>me.trim().length>0),Nt=e[e.length-1];if(!(Nt&&Nt.role==="assistant"&&Nt.content.toLowerCase()===Z.toLowerCase()))if(rt.length>1){const me=rt[0]+"?";t(T=>[...T,{role:"assistant",content:me}])}else t(me=>[...me,{role:"assistant",content:Z}]);if(Z.includes("📋 RÉSUMÉ DU TICKET")){const me=Mg([...e,{role:"user",content:ae},{role:"assistant",content:Z}],l,h);console.log("Informations extraites du résumé:",me),a(me),x(!1),y(!1),b(!1),t(T=>[...T,{role:"assistant",content:"Voici le résumé de votre ticket :",component:z(me)}])}}).catch(Z=>{const we=Z.message||"Une erreur est survenue. Veuillez réessayer.";f(we),t(rt=>[...rt,{role:"assistant",content:we}])}).finally(()=>{i(!1)})},V=(I,ue,ae)=>{if(!I||I.length===0)return null;const le=()=>{switch(ue){case"category":return"bg-blue-50 hover:bg-blue-100 text-blue-800";case"location":return"bg-green-50 hover:bg-green-100 text-green-800";case"priority":return"bg-purple-50 hover:bg-purple-100 text-purple-800";default:return"bg-gray-50 hover:bg-gray-100 text-gray-800"}};return u.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg shadow-lg border border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:ae}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:I.map(ie=>u.jsx("button",{onClick:()=>M(ie,ue),className:`p-4 rounded-lg transition-all duration-200 ${le()} 
                                     flex items-center justify-center text-center font-medium
                                     transform hover:scale-105 hover:shadow-md`,children:ie.designation},ie.id))})]})},X=()=>!m||!(l!=null&&l.categories)?null:V(l.categories,"category","Sélectionnez une catégorie :"),Y=()=>!v||!(l!=null&&l.emplacements)?null:V(l.emplacements,"location","Sélectionnez un emplacement :"),se=()=>!g||!(l!=null&&l.priorites)?null:V(l.priorites,"priority","Sélectionnez une priorité :"),z=I=>I?u.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg shadow-lg border border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"📋 RÉSUMÉ DU TICKET"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsx("table",{className:"min-w-full bg-white",children:u.jsxs("tbody",{className:"divide-y divide-gray-200",children:[u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600 w-1/3",children:"Titre"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.title||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Description"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.description||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Catégorie"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.category||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Priorité"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                                        ${I.priority==="Urgent"?"bg-red-100 text-red-800":I.priority==="Moyenne"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:I.priority||"-"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Emplacement"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.location||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Date de début"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.startDate?new Date(I.startDate).toLocaleDateString("fr-FR"):"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Date de fin"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.endDate?new Date(I.endDate).toLocaleDateString("fr-FR"):"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Statut"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                                        ${I.status==="Nouveau"?"bg-blue-100 text-blue-800":I.status==="En cours"?"bg-yellow-100 text-yellow-800":I.status==="Terminé"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:I.status||"-"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Demandeur"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.requester||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Service"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.service||"-"})]})]})})})]}):null,O=async I=>{if(I.preventDefault(),!n.trim()||!h||!l){je.error("Veuillez attendre le chargement des données avant de continuer.");return}const ae=["categories","emplacements","priorites"].filter(ie=>{var Z;return!((Z=l[ie])!=null&&Z.length)});if(ae.length>0){je.error(`Les options suivantes ne sont pas disponibles : ${ae.join(", ")}. Veuillez rafraîchir la page.`);return}const le=n.trim();r(""),t(ie=>[...ie,{role:"user",content:le}]),i(!0),f(null);try{const ie={...h,ticketOptions:{categories:l.categories||[],emplacements:l.emplacements||[],priorites:l.priorites||[]}};let Z="Support";h.niveau===1?Z="Administration":h.niveau===2&&(Z="Demandeur"),ie.service=Z,console.log("Options envoyées au chat:",ie.ticketOptions);const we=await Pg(le,e,ie),rt=we.toLowerCase();x(rt.includes("catégorie")),y(rt.includes("emplacement")),b(rt.includes("priorité"));const Nt=we.split("?").filter(T=>T.trim().length>0),ve=e[e.length-1];if(!(ve&&ve.role==="assistant"&&ve.content.toLowerCase()===we.toLowerCase()))if(Nt.length>1){const T=Nt[0]+"?";t(W=>[...W,{role:"assistant",content:T}])}else t(T=>[...T,{role:"assistant",content:we}]);if(we.includes("📋 RÉSUMÉ DU TICKET")){const T=Mg([...e,{role:"user",content:le},{role:"assistant",content:we}],l,h);console.log("Informations extraites du résumé:",T),a(T),t(W=>[...W,{role:"assistant",content:"Voici le résumé de votre ticket :",component:z(T)}])}le.toLowerCase()==="oui"&&we.includes("Toutes les informations sont présentes")&&o&&U()}catch(ie){const Z=ie.message||"Une erreur est survenue. Veuillez réessayer.";f(Z),t(we=>[...we,{role:"assistant",content:Z}])}finally{i(!1)}},U=async()=>{if(o)try{i(!0),f(null);const I={...o,startDate:o.startDate?new Date(o.startDate).toISOString().split("T")[0]:null,endDate:o.endDate?new Date(o.endDate).toISOString().split("T")[0]:null},ue=await x5(I);t(ae=>[...ae,{role:"assistant",content:`Ticket créé avec succès ! Numéro du ticket : ${ue.id}`}]),a(null)}catch(I){const ue=I.message||"Une erreur est survenue lors de la création du ticket.";f(ue),t(ae=>[...ae,{role:"assistant",content:ue}])}finally{i(!1)}},K=I=>{I.role==="assistant"&&!s&&(r(I.content),O(new Event("submit")))},te=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),O(I))};return _.useEffect(()=>{L.current&&L.current.focus()},[e,s]),u.jsx(Ke,{children:u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx(J5,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Création de ticket assistée par IA"}),d&&u.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:d}),u.jsx("div",{className:"mb-6 overflow-x-auto",children:u.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-600",children:"Attribut"}),u.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-600",children:"Valeur"}),u.jsx("th",{className:"px-4 py-2 text-center text-sm font-semibold text-gray-600",children:"Statut"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-200",children:[u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Titre"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.title)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.title?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.title?"✓":"✗"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Description"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.description)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.description?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.description?"✓":"✗"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Catégorie"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.category)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.category?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.category?"✓":"✗"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Priorité"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.priority)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.priority?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.priority?"✓":"✗"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Emplacement"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.location)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.location?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.location?"✓":"✗"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Date de début"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.startDate)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.startDate?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.startDate?"✓":"✗"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Date de fin"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.endDate)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.endDate?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.endDate?"✓":"✗"})})]})]})]})}),u.jsxs("div",{className:"flex flex-col h-[600px] w-full max-w-2xl mx-auto bg-white rounded-lg shadow-lg",children:[u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((I,ue)=>u.jsx("div",{className:`flex ${I.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{onClick:()=>K(I),className:`max-w-[80%] rounded-lg p-3 cursor-pointer transition-all duration-200 ${I.role==="user"?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:[I.content,I.component]})},ue)),X(),Y(),se(),u.jsx("div",{ref:N})]}),u.jsx("form",{onSubmit:O,className:"border-t p-4",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{ref:L,type:"text",value:n,onChange:I=>r(I.target.value),onKeyPress:te,placeholder:"Tapez votre message...",className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:s}),u.jsx("button",{type:"submit",disabled:s,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Envoi...":"Envoyer"})]})}),o&&u.jsx("div",{className:"border-t p-4 bg-gray-50",children:u.jsx("button",{onClick:U,disabled:s,className:"w-full bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50",children:s?"Création en cours...":"Créer le ticket"})})]})]})})},e3=()=>{const e=An(),[t,n]=_.useState({designation:"",email:"",password:"",niveau:"",statut:"1",id_service:""}),r=[{id:1,designation:"Achat"},{id:2,designation:"Administration"},{id:3,designation:"Finance et Comptabilité"},{id:4,designation:"Marketing et Communication"},{id:5,designation:"Fabrication"},{id:6,designation:"Logistique"},{id:7,designation:"Commercial"}],[s,i]=_.useState(!1),[o,a]=_.useState(""),[l,c]=_.useState(""),d=h=>{const{name:p,value:m}=h.target;n(x=>({...x,[p]:m}))},f=async h=>{var p,m;h.preventDefault(),i(!0),a(""),c("");try{const x=await oe.post("/api/utilisateurs",t);c("Utilisateur créé avec succès !"),n({designation:"",email:"",password:"",niveau:"",statut:"1",id_service:""})}catch(x){console.error("Erreur lors de la création:",x),a(((m=(p=x.response)==null?void 0:p.data)==null?void 0:m.message)||"Erreur lors de la création de l'utilisateur")}finally{i(!1)}};return u.jsx(Ke,{children:u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Créer un nouvel utilisateur"}),o&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),l&&u.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:l}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Désignation"}),u.jsx("input",{type:"text",name:"designation",value:t.designation,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Nom complet de l'utilisateur"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:t.email,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"exemple@email.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),u.jsx("input",{type:"password",name:"password",value:t.password,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"••••••••"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Niveau"}),u.jsxs("select",{name:"niveau",value:t.niveau,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[u.jsx("option",{value:"",children:"Sélectionner un niveau"}),u.jsx("option",{value:"1",children:"Administrateur"}),u.jsx("option",{value:"2",children:"Directeur Général"}),u.jsx("option",{value:"3",children:"Directeur Département"}),u.jsx("option",{value:"4",children:"Demandeur"})]})]}),(t.niveau==="3"||t.niveau==="4")&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Service"}),u.jsxs("select",{name:"id_service",value:t.id_service,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[u.jsx("option",{value:"",children:"Sélectionner un service"}),r.map(h=>u.jsx("option",{value:h.id,children:h.designation},h.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),u.jsxs("select",{name:"statut",value:t.statut,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[u.jsx("option",{value:"1",children:"Actif"}),u.jsx("option",{value:"0",children:"Inactif"})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:()=>e("/dashboard"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 border border-transparent rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${s?"opacity-50 cursor-not-allowed":""}`,children:s?"Création en cours...":"Créer l'utilisateur"})]})]})]})})},t3=()=>{const[e,t]=_.useState(null),[n,r]=_.useState(!0),[s,i]=_.useState(""),[o,a]=_.useState(""),l=d=>d&&{1:"Administrateur",2:"Directeur Général",3:"Directeur Département",4:"Demandeur"}[d]||"Non spécifié";_.useEffect(()=>{(async()=>{try{const f=await oe.get("/api/user");console.log("Réponse API:",f.data),t(f.data),i("")}catch(f){i("Erreur lors du chargement du profil"),console.error("Erreur:",f)}finally{r(!1)}})()},[]);const c=()=>u.jsx("div",{className:"animate-pulse",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})});return n?u.jsx(Ke,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Mon Profil"}),c()]})}):s?u.jsx(Ke,{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded",children:s})})}):u.jsx(Ke,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Mon Profil"}),o&&u.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded",children:o}),u.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[u.jsx("div",{className:"px-4 py-5 sm:px-6",children:u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Informations du profil"})}),u.jsx("div",{className:"border-t border-gray-200",children:u.jsxs("dl",{children:[u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[u.jsx(ss,{className:"mr-2"})," Nom complet"]}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(e==null?void 0:e.designation)||"Non spécifié"})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[u.jsx(t4,{className:"mr-2"})," Email"]}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(e==null?void 0:e.email)||"Non spécifié"})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[u.jsx(a4,{className:"mr-2"})," Niveau d'accès"]}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l(e==null?void 0:e.niveau)})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[u.jsx(Wi,{className:"mr-2"})," Statut"]}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Actif"})})]})]})})]})]})})},ur={users:null,lastFetch:null,cacheDuration:5*60*1e3},n3=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(""),[o,a]=_.useState(""),[l,c]=_.useState(!1),[d,f]=_.useState(!1),[h,p]=_.useState(null);let m=null;try{m=JSON.parse(localStorage.getItem("user"))}catch{m=null}const x=j=>j&&{1:"Administrateur",2:"Directeur Général",3:"Directeur Département",4:"Demandeur"}[j]||"Non spécifié",v=async(j=!1)=>{if(c(!0),ur.users&&ur.lastFetch&&!j&&new Date().getTime()-ur.lastFetch<ur.cacheDuration){t(ur.users),r(!1),c(!1);return}try{const k=await oe.get("/api/users");t(k.data),ur.users=k.data,ur.lastFetch=new Date().getTime(),i("")}catch(k){i("Erreur lors du chargement des utilisateurs"),console.error("Erreur:",k)}finally{r(!1),setTimeout(()=>c(!1),600)}};_.useEffect(()=>{v()},[]);const y=async j=>{p(j),f(!0)},g=async()=>{try{await oe.delete(`/api/users/${h}`);const j=e.filter(k=>k.id!==h);t(j),ur.users=j,a("Utilisateur supprimé avec succès"),setTimeout(()=>a(""),3e3)}catch(j){i("Erreur lors de la suppression de l'utilisateur"),console.error("Erreur:",j)}finally{f(!1),p(null)}},b=async(j,k)=>{try{c(!0),await oe.patch(`/api/utilisateurs/${j}/statut`,{statut:k}),await v(!0),a(k===1?"Utilisateur activé avec succès":"Utilisateur désactivé avec succès"),setTimeout(()=>a(""),3e3)}catch(w){i("Erreur lors du changement de statut"),console.error("Erreur:",w)}finally{setTimeout(()=>c(!1),600)}},S=()=>u.jsx("div",{className:"animate-pulse",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),u.jsx("div",{className:"space-y-4",children:[1,2,3].map(j=>u.jsx("div",{className:"h-16 bg-gray-200 rounded"},j))})]})});return n?u.jsx(Ke,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Liste des Utilisateurs"}),S()]})}):s?u.jsx(Ke,{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded",children:s})})}):u.jsx(Ke,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Liste des Utilisateurs"}),u.jsx("button",{onClick:()=>{c(!0),v(!0)},className:"ml-4 p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx(Lr,{className:l?"animate-spin-once":""})})]}),o&&u.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded",children:o}),d&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:u.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:u.jsxs("div",{className:"mt-3 text-center",children:[u.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx(n4,{className:"h-6 w-6 text-red-600"})}),u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mt-4",children:"Confirmation de suppression"}),u.jsx("div",{className:"mt-2 px-7 py-3",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible."})}),u.jsxs("div",{className:"items-center px-4 py-3",children:[u.jsx("button",{onClick:g,className:"px-4 py-2 bg-red-600 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Supprimer"}),u.jsx("button",{onClick:()=>{f(!1),p(null)},className:"mt-3 px-4 py-2 bg-gray-100 text-gray-700 text-base font-medium rounded-md w-full shadow-sm hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Annuler"})]})]})})}),u.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilisateur"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Niveau d'accès"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(j=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:u.jsx(ss,{className:"h-10 w-10 text-gray-400"})}),u.jsx("div",{className:"ml-4",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.designation})})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:j.email})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:x(j.niveau)})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.statut===1?u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Actif"}):u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactif"})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(m==null?void 0:m.niveau)===1&&j.id!==(m==null?void 0:m.id)&&u.jsx("button",{onClick:()=>b(j.id,j.statut===1?0:1),className:j.statut===1?"text-red-600 hover:text-red-900 ml-4":"text-green-600 hover:text-green-900 ml-4",children:j.statut===1?"Désactiver":"Activer"}),j.id!==(m==null?void 0:m.id)&&u.jsx("button",{onClick:()=>y(j.id),className:"text-red-600 hover:text-red-900 ml-4",children:u.jsx(o4,{})})]})]},j.id))})]})})})]})})};var Yv={exports:{}},Gv={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=t.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],s=0,i=0;s<n.length;s++,i+=8)r[i>>>5]|=n[s]<<24-i%32;return r},wordsToBytes:function(n){for(var r=[],s=0;s<n.length*32;s+=8)r.push(n[s>>>5]>>>24-s%32&255);return r},bytesToHex:function(n){for(var r=[],s=0;s<n.length;s++)r.push((n[s]>>>4).toString(16)),r.push((n[s]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],s=0;s<n.length;s+=2)r.push(parseInt(n.substr(s,2),16));return r},bytesToBase64:function(n){for(var r=[],s=0;s<n.length;s+=3)for(var i=n[s]<<16|n[s+1]<<8|n[s+2],o=0;o<4;o++)s*8+o*6<=n.length*8?r.push(e.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],s=0,i=0;s<n.length;i=++s%4)i!=0&&r.push((e.indexOf(n.charAt(s-1))&Math.pow(2,-2*i+8)-1)<<i*2|e.indexOf(n.charAt(s))>>>6-i*2);return r}};Gv.exports=t})();var r3=Gv.exports,Vd={utf8:{stringToBytes:function(e){return Vd.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(Vd.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},Lg=Vd;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var s3=function(e){return e!=null&&(Xv(e)||i3(e)||!!e._isBuffer)};function Xv(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function i3(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Xv(e.slice(0,0))}(function(){var e=r3,t=Lg.utf8,n=s3,r=Lg.bin,s=function(i,o){i.constructor==String?o&&o.encoding==="binary"?i=r.stringToBytes(i):i=t.stringToBytes(i):n(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var a=e.bytesToWords(i),l=i.length*8,c=1732584193,d=-271733879,f=-1732584194,h=271733878,p=0;p<a.length;p++)a[p]=(a[p]<<8|a[p]>>>24)&16711935|(a[p]<<24|a[p]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var m=s._ff,x=s._gg,v=s._hh,y=s._ii,p=0;p<a.length;p+=16){var g=c,b=d,S=f,j=h;c=m(c,d,f,h,a[p+0],7,-680876936),h=m(h,c,d,f,a[p+1],12,-389564586),f=m(f,h,c,d,a[p+2],17,606105819),d=m(d,f,h,c,a[p+3],22,-1044525330),c=m(c,d,f,h,a[p+4],7,-176418897),h=m(h,c,d,f,a[p+5],12,1200080426),f=m(f,h,c,d,a[p+6],17,-1473231341),d=m(d,f,h,c,a[p+7],22,-45705983),c=m(c,d,f,h,a[p+8],7,1770035416),h=m(h,c,d,f,a[p+9],12,-1958414417),f=m(f,h,c,d,a[p+10],17,-42063),d=m(d,f,h,c,a[p+11],22,-1990404162),c=m(c,d,f,h,a[p+12],7,1804603682),h=m(h,c,d,f,a[p+13],12,-40341101),f=m(f,h,c,d,a[p+14],17,-1502002290),d=m(d,f,h,c,a[p+15],22,1236535329),c=x(c,d,f,h,a[p+1],5,-165796510),h=x(h,c,d,f,a[p+6],9,-1069501632),f=x(f,h,c,d,a[p+11],14,643717713),d=x(d,f,h,c,a[p+0],20,-373897302),c=x(c,d,f,h,a[p+5],5,-701558691),h=x(h,c,d,f,a[p+10],9,38016083),f=x(f,h,c,d,a[p+15],14,-660478335),d=x(d,f,h,c,a[p+4],20,-405537848),c=x(c,d,f,h,a[p+9],5,568446438),h=x(h,c,d,f,a[p+14],9,-1019803690),f=x(f,h,c,d,a[p+3],14,-187363961),d=x(d,f,h,c,a[p+8],20,1163531501),c=x(c,d,f,h,a[p+13],5,-1444681467),h=x(h,c,d,f,a[p+2],9,-51403784),f=x(f,h,c,d,a[p+7],14,1735328473),d=x(d,f,h,c,a[p+12],20,-1926607734),c=v(c,d,f,h,a[p+5],4,-378558),h=v(h,c,d,f,a[p+8],11,-2022574463),f=v(f,h,c,d,a[p+11],16,1839030562),d=v(d,f,h,c,a[p+14],23,-35309556),c=v(c,d,f,h,a[p+1],4,-1530992060),h=v(h,c,d,f,a[p+4],11,1272893353),f=v(f,h,c,d,a[p+7],16,-155497632),d=v(d,f,h,c,a[p+10],23,-1094730640),c=v(c,d,f,h,a[p+13],4,681279174),h=v(h,c,d,f,a[p+0],11,-358537222),f=v(f,h,c,d,a[p+3],16,-722521979),d=v(d,f,h,c,a[p+6],23,76029189),c=v(c,d,f,h,a[p+9],4,-640364487),h=v(h,c,d,f,a[p+12],11,-421815835),f=v(f,h,c,d,a[p+15],16,530742520),d=v(d,f,h,c,a[p+2],23,-995338651),c=y(c,d,f,h,a[p+0],6,-198630844),h=y(h,c,d,f,a[p+7],10,1126891415),f=y(f,h,c,d,a[p+14],15,-1416354905),d=y(d,f,h,c,a[p+5],21,-57434055),c=y(c,d,f,h,a[p+12],6,1700485571),h=y(h,c,d,f,a[p+3],10,-1894986606),f=y(f,h,c,d,a[p+10],15,-1051523),d=y(d,f,h,c,a[p+1],21,-2054922799),c=y(c,d,f,h,a[p+8],6,1873313359),h=y(h,c,d,f,a[p+15],10,-30611744),f=y(f,h,c,d,a[p+6],15,-1560198380),d=y(d,f,h,c,a[p+13],21,1309151649),c=y(c,d,f,h,a[p+4],6,-145523070),h=y(h,c,d,f,a[p+11],10,-1120210379),f=y(f,h,c,d,a[p+2],15,718787259),d=y(d,f,h,c,a[p+9],21,-343485551),c=c+g>>>0,d=d+b>>>0,f=f+S>>>0,h=h+j>>>0}return e.endian([c,d,f,h])};s._ff=function(i,o,a,l,c,d,f){var h=i+(o&a|~o&l)+(c>>>0)+f;return(h<<d|h>>>32-d)+o},s._gg=function(i,o,a,l,c,d,f){var h=i+(o&l|a&~l)+(c>>>0)+f;return(h<<d|h>>>32-d)+o},s._hh=function(i,o,a,l,c,d,f){var h=i+(o^a^l)+(c>>>0)+f;return(h<<d|h>>>32-d)+o},s._ii=function(i,o,a,l,c,d,f){var h=i+(a^(o|~l))+(c>>>0)+f;return(h<<d|h>>>32-d)+o},s._blocksize=16,s._digestsize=16,Yv.exports=function(i,o){if(i==null)throw new Error("Illegal argument "+i);var a=e.wordsToBytes(s(i,o));return o&&o.asBytes?a:o&&o.asString?r.bytesToString(a):e.bytesToHex(a)}})();var o3=Yv.exports;const a3=Wd(o3),l3=()=>{var Kt,In,pn,tn,qt,mn,ar,Fn;const{id:e}=cy(),t=An(),[n,r]=_.useState(null),[s,i]=_.useState(!0),[o,a]=_.useState(""),[l,c]=_.useState(!1),[d,f]=_.useState(""),[h,p]=_.useState(!1),[m,x]=_.useState(""),[v,y]=_.useState(""),[g,b]=_.useState(null),[S,j]=_.useState(null),[k,w]=_.useState([]),[N,L]=_.useState(""),[R,A]=_.useState(!1),[M,V]=_.useState(""),[X,Y]=_.useState(""),[se,z]=_.useState(!0),O=_.useRef(null),U=_.useRef(null),[K,te]=_.useState(!1),[I,ue]=_.useState(!1),[ae,le]=_.useState(null),[ie,Z]=_.useState("");_.useEffect(()=>{(async()=>{var ne,ge;try{const fe=await oe.get("/api/user");j(fe.data),console.log("User data fetched:",fe.data),console.log("User ID:",(ne=fe.data)==null?void 0:ne.id,typeof((ge=fe.data)==null?void 0:ge.id))}catch(fe){console.error("Erreur lors de la récupération des informations utilisateur:",fe)}})()},[]),_.useEffect(()=>{(async()=>{var ne,ge;try{i(!0);const fe=await oe.get(`/api/tickets/${e}`);r(fe.data),console.log("Ticket complet reçu:",fe.data),console.log("Ticket Demandeur ID:",(ne=fe.data)==null?void 0:ne.Id_Demandeur,typeof((ge=fe.data)==null?void 0:ge.Id_Demandeur)),a("")}catch(fe){a("Erreur lors du chargement du ticket"),console.error("Erreur:",fe)}finally{i(!1)}})()},[e]),_.useEffect(()=>{if(n!=null&&n.reports){w(n.reports);const $=n.reports.some(ne=>!ne.is_viewed);te($)}else n&&!(n!=null&&n.reports)?(w([]),te(!1)):(w([]),te(!1))},[n,S]);const we=$=>{if(!$)return"-";let ne=$;typeof $=="object"&&$.date&&(ne=$.date),typeof ne=="string"&&ne.includes(".")&&(ne=ne.split(".")[0]);const ge=ne.replace(" ","T"),fe=new Date(ge);return isNaN(fe)?"-":fe.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})},rt=async $=>{var ge,fe,Ie,Ze;$.preventDefault(),p(!0),x(""),y("");const ne=new FormData;ne.append("raison",d),g&&ne.append("attachment",g);try{const Ce=await oe.post(`/api/tickets/${n.id}/reports`,ne,{headers:{"Content-Type":"multipart/form-data"}});y("Report envoyé avec succès !"),f(""),b(null),c(!1);const lr=await oe.get(`/api/tickets/${n.id}/reports`);w(lr.data)}catch(Ce){console.error("Erreur complète:",Ce);const lr=((fe=(ge=Ce.response)==null?void 0:ge.data)==null?void 0:fe.message)||((Ze=(Ie=Ce.response)==null?void 0:Ie.data)==null?void 0:Ze.error)||"Erreur lors de l'envoi du report";x(lr)}finally{p(!1)}},Nt=async()=>{try{a("");const $=n.attachment_path.split("/").pop(),ne=$.toLowerCase().endsWith(".pdf"),ge=await oe.get(`/api/tickets/${n.id}/download`,{responseType:"blob",headers:{Accept:ne?"application/pdf":"*/*"}});if(!(ge.data instanceof Blob)||ge.data.size===0)throw new Error("Fichier vide ou invalide");const fe=window.URL.createObjectURL(new Blob([ge.data])),Ie=document.createElement("a");Ie.href=fe,Ie.setAttribute("download",$),document.body.appendChild(Ie),Ie.click(),setTimeout(()=>{document.body.removeChild(Ie),window.URL.revokeObjectURL(fe)},100)}catch($){console.error("Erreur téléchargement:",$),a(`Échec du téléchargement: ${$.message}`),$.response&&console.error("Détails erreur:",{status:$.response.status,headers:$.response.headers,data:$.response.data})}},ve=async $=>{var ne,ge;$.preventDefault(),A(!0),V(""),Y("");try{const fe=await oe.post(`/api/tickets/${n.id}/comment`,{content:N});Y("Commentaire ajouté avec succès !"),L("");const Ie=await oe.get(`/api/tickets/${e}`);r(Ie.data)}catch(fe){const Ie=((ge=(ne=fe.response)==null?void 0:ne.data)==null?void 0:ge.message)||"Erreur lors de l'ajout du commentaire";V(Ie)}finally{A(!1)}},me=()=>{var $;($=O.current)==null||$.scrollIntoView({behavior:"smooth"})},T=()=>{var $;($=U.current)==null||$.scrollIntoView({behavior:"smooth"})},W=$=>!$||$.length===0?null:{lastComment:$[$.length-1],totalCount:$.length};_.useEffect(()=>{if(!U.current||!K)return;const $=new IntersectionObserver(ne=>{ne[0].isIntersecting&&(_e(),te(!1),w(ge=>ge.map(fe=>({...fe,is_viewed:!0}))))},{threshold:.5});return $.observe(U.current),()=>{U.current&&$.unobserve(U.current)}},[K,e]);const _e=async()=>{var $;if(K)try{const ne=await oe.post(`/api/tickets/${e}/reports/mark-as-viewed`);console.log("Reports marqués comme vus:",ne.data),te(!1),w(fe=>fe.map(Ie=>({...Ie,is_viewed:!0})));const ge=await oe.get(`/api/tickets/${e}`);r(ge.data),window.dispatchEvent(new CustomEvent("reportsViewed",{detail:{ticketId:e}}))}catch(ne){console.error("Erreur lors du marquage des rapports comme vus:",ne),(($=ne.response)==null?void 0:$.status)===403?a("Seul le créateur du ticket peut marquer les rapports comme vus"):a("Erreur lors du marquage des rapports comme vus")}},Be=$=>{b($.target.files[0])},Re=async($,ne)=>{try{a("");const ge=ne.split("/").pop(),fe=ge.toLowerCase().endsWith(".pdf"),Ie=await oe.get(`/api/reports/${$}/download-attachment`,{responseType:"blob",headers:{Accept:fe?"application/pdf":"*/*"}});if(!(Ie.data instanceof Blob)||Ie.data.size===0)throw new Error("Fichier vide ou invalide");const Ze=window.URL.createObjectURL(new Blob([Ie.data])),Ce=document.createElement("a");Ce.href=Ze,Ce.setAttribute("download",ge),document.body.appendChild(Ce),Ce.click(),setTimeout(()=>{document.body.removeChild(Ce),window.URL.revokeObjectURL(Ze)},100)}catch(ge){console.error("Erreur téléchargement pièce jointe rapport:",ge),a(`Échec du téléchargement de la pièce jointe du rapport: ${ge.message}`),ge.response&&console.error("Détails erreur:",{status:ge.response.status,headers:ge.response.headers,data:ge.response.data})}},Mt=async()=>{try{await oe.delete(`/api/tickets/${e}`),t("/tickets")}catch($){console.error("Erreur lors de la suppression du ticket:",$),a("Erreur lors de la suppression du ticket")}},En=($,ne)=>{le(ne),Z($.content)};return s?u.jsx(Ke,{children:u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):o?u.jsx(Ke,{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o})})}):n?(console.log("DateCreation:",n.DateCreation),console.log("DateDebut:",n.DateDebut),console.log("DateFinPrevue:",n.DateFinPrevue),u.jsx(Ke,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Détails du ticket"}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx(tr,{to:"/tickets",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Retour à la liste"}),S&&n&&Number(S.id)===Number(n.Id_Utilisat)&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>setShowEditModal(!0),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Modifier"}),u.jsx("button",{onClick:()=>ue(!0),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Supprimer"})]})]})]}),u.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[u.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n.Titre}),u.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-blue-100 text-blue-700 border border-blue-200",children:((Kt=n.statut)==null?void 0:Kt.designation)||"Sans statut"}),u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-700 border border-green-200",children:((In=n.priorite)==null?void 0:In.designation)||"Sans priorité"}),n.reports&&n.reports.filter($=>!$.is_viewed).length>0&&n.Id_Demandeur===(S==null?void 0:S.id)&&u.jsxs("button",{onClick:T,className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-red-100 text-red-700 border border-red-200 hover:bg-red-200 transition-colors cursor-pointer",children:[n.reports.filter($=>!$.is_viewed).length," rapport(s) non lu(s)"]})]})]}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsxs("button",{onClick:me,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[u.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),"Ajouter un commentaire"]}),(S==null?void 0:S.niveau)===2&&u.jsx("button",{className:"ml-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",onClick:()=>c(!0),children:"Report"})]})]}),u.jsx("div",{className:"border-t border-gray-200",children:u.jsxs("dl",{children:[u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Description"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:n.Description||"Aucune description"})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Commentaires"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:n.formatted_comments&&n.formatted_comments.length>0?u.jsx("div",{className:"space-y-2",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-gray-900",children:W(n.formatted_comments).lastComment.content}),u.jsxs("div",{className:"text-sm text-gray-500",children:[((pn=W(n.formatted_comments).lastComment.user)==null?void 0:pn.designation)||"Utilisateur"," • ",W(n.formatted_comments).lastComment.date]})]}),n.formatted_comments.length>1&&u.jsxs("button",{onClick:()=>{z(!0),me()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:["+",n.formatted_comments.length-1]})]})}):u.jsx("span",{className:"text-gray-500",children:"Aucun commentaire"})})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Demandeur"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((tn=n.demandeur)==null?void 0:tn.designation)||"Non spécifié"})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Société"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((qt=n.societe)==null?void 0:qt.designation)||"Non spécifiée"})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Emplacement"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((mn=n.emplacement)==null?void 0:mn.designation)||"Non spécifié"})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Catégorie"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((ar=n.categorie)==null?void 0:ar.designation)||"Non spécifiée"})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de création"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:we(n.DateCreation)})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de début"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:we(n.DateDebut)})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de fin prévue"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:we(n.DateFinPrevue)})]}),n.DateFinReelle&&u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de fin réelle"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:we(n.DateFinReelle)})]}),n.attachment_path&&u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Pièce jointe"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("span",{className:"text-gray-600",children:n.attachment_path.split("/").pop()}),u.jsxs("button",{onClick:Nt,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[u.jsx("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Télécharger"]})]})})]})]})})]}),u.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mt-6",ref:U,children:[u.jsx("div",{className:"px-4 py-5 sm:px-6",children:u.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Reports",K&&u.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Nouveaux"})]})}),u.jsx("div",{className:"border-t border-gray-200",children:k.length>0?u.jsx("ul",{className:"divide-y divide-gray-200",children:k.map($=>{var ne;return console.log("Inspecting Report Object:",$),u.jsxs("li",{className:"px-4 py-4 sm:px-6",children:[u.jsx("div",{className:"text-sm text-gray-800",children:$.Raison}),u.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Reporté par ",(ne=$.responsable)==null?void 0:ne.designation," le ",we($.DateReport)]}),$.attachment_path&&u.jsxs("div",{className:"mt-2 text-sm",children:[u.jsx("span",{className:"text-gray-500",children:"Pièce jointe :"}),u.jsx("button",{onClick:()=>Re($.id,$.attachment_path),className:"ml-1 text-blue-600 hover:text-blue-800 font-medium underline",children:$.attachment_path.split("/").pop()})]})]},$.id)})}):u.jsx("div",{className:"px-4 py-4 sm:px-6 text-sm text-gray-500",children:"Aucun report disponible."})})]}),l&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[u.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl",onClick:()=>c(!1),"aria-label":"Fermer",children:"×"}),u.jsx("h2",{className:"text-lg font-bold mb-4",children:"Envoyer un report pour ce ticket"}),u.jsxs("form",{onSubmit:rt,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"raison",className:"block text-sm font-medium text-gray-700 mb-1",children:"Raison du report"}),u.jsx("textarea",{id:"raison",value:d,onChange:$=>f($.target.value),required:!0,rows:4,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:border-blue-300"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"reportAttachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pièce jointe (Optionnel)"}),u.jsx("input",{type:"file",id:"reportAttachment",onChange:Be,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),g&&u.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Fichier sélectionné : ",g.name]})]}),m&&u.jsx("p",{className:"text-red-500 text-sm",children:m}),v&&u.jsx("p",{className:"text-green-600 text-sm",children:v}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>c(!1),children:"Annuler"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:h,children:h?"Envoi...":"Envoyer"})]})]})]})}),u.jsxs("div",{ref:O,className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[u.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Commentaires"}),u.jsxs("span",{className:"text-sm text-gray-500",children:[((Fn=n.formatted_comments)==null?void 0:Fn.length)||0," commentaire(s)"]})]}),u.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[n.formatted_comments&&n.formatted_comments.length>0?u.jsx("div",{className:"space-y-6",children:n.formatted_comments.map(($,ne)=>{var ge,fe,Ie;return u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow duration-200",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:u.jsx("span",{className:"text-indigo-600 font-medium",children:(((ge=$.user)==null?void 0:ge.designation)||"U")[0].toUpperCase()})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:((fe=$.user)==null?void 0:fe.designation)||"Utilisateur"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("p",{className:"text-sm text-gray-500",children:$.date}),S&&((Ie=$.user)==null?void 0:Ie.id)===S.id&&u.jsx("button",{onClick:()=>En($,ne),className:"text-gray-400 hover:text-gray-600 transition-colors duration-200","aria-label":"Modifier le commentaire",children:u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})]}),ae===ne?u.jsxs("form",{onSubmit:async Ze=>{var vi;Ze.preventDefault();const Ce=n.formatted_comments[ne],lr=a3((((vi=Ce.user)==null?void 0:vi.id)||Ce.userId)+Ce.date+Ce.content);try{await oe.put(`/api/tickets/${n.id}/comment/${lr}`,{content:ie});const ea=await oe.get(`/api/tickets/${e}`);r(ea.data),le(null),Z("")}catch{alert("Erreur lors de la modification du commentaire")}},className:"mt-2",children:[u.jsx("textarea",{value:ie,onChange:Ze=>Z(Ze.target.value),className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3}),u.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[u.jsx("button",{type:"button",onClick:()=>le(null),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:"Annuler"}),u.jsx("button",{type:"submit",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-white bg-blue-600 hover:bg-blue-700",children:"Enregistrer"})]})]}):u.jsx("div",{className:"mt-2 text-sm text-gray-900 whitespace-pre-wrap break-words",children:$.content})]})]})},ne)})}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-gray-500",children:"Aucun commentaire"}),u.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Soyez le premier à commenter"})]}),u.jsx("div",{className:"mt-6",children:u.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700",children:"Ajouter un commentaire"}),u.jsx("div",{className:"mt-1",children:u.jsx("textarea",{id:"comment",name:"comment",rows:3,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",value:N,onChange:$=>L($.target.value),placeholder:"Écrivez votre commentaire ici..."})})]}),M&&u.jsx("div",{className:"text-red-600 text-sm",children:M}),X&&u.jsx("div",{className:"text-green-600 text-sm",children:X}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",disabled:R||!N.trim(),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${R||!N.trim()?"bg-indigo-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:R?"Envoi...":"Publier"})})]})})]})]}),I&&u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:u.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),u.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),u.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[u.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:u.jsxs("div",{className:"sm:flex sm:items-start",children:[u.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:u.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Confirmer la suppression"}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Êtes-vous sûr de vouloir supprimer ce ticket ? Cette action est irréversible."})})]})]})}),u.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[u.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>{ue(!1),Mt()},children:"Supprimer"}),u.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>ue(!1),children:"Annuler"})]})]})]})})]})})):u.jsx(Ke,{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded",children:"Ticket non trouvé"})})})},c3=()=>{const{id:e}=cy(),t=An(),[n,r]=_.useState(!0),[s,i]=_.useState(!1),[o,a]=_.useState(""),[l,c]=_.useState({Titre:"",Description:"",Id_Priorite:"",Id_Statut:"",Id_Demandeur:"",Id_Societe:"",Id_Emplacement:"",Id_Categorie:"",DateDebut:"",DateFinPrevue:"",attachment:null}),[d,f]=_.useState({priorites:[],statuts:[],demandeurs:[],societes:[],emplacements:[],categories:[]}),[h,p]=_.useState(null),m="http://localhost:8000";_.useEffect(()=>{(async()=>{var S,j;try{r(!0),a("");const w=(await oe.get(`/api/tickets/${e}`)).data;console.log("Réponse du backend:",w);const N=A=>A?typeof A=="string"?A:A.date?A.date.split(" ")[0]:"":"";c({Titre:w.Titre||"",Description:w.Description||"",Id_Priorite:w.Id_Priorite||"",Id_Statut:w.Id_Statut||"",Id_Demandeur:w.Id_Demandeur||"",Id_Societe:w.Id_Societe||"",Id_Emplacement:w.Id_Emplacement||"",Id_Categorie:w.Id_Categorie||"",DateDebut:N(w.DateDebut),DateFinPrevue:N(w.DateFinPrevue),attachment:w.attachment?new Blob([w.attachment]):null});const L=await oe.get("/api/tickets/options"),{options:R}=L.data;if(f({priorites:R.priorites||[],statuts:R.statuts||[],demandeurs:R.demandeurs||[],societes:R.societes||[],emplacements:R.emplacements||[],categories:R.categories||[]}),w.attachment_path){const A=w.attachment_path.split("/").pop();p({name:A,url:`${m}/api/tickets/${e}/download`})}else p(null)}catch(k){console.error("Erreur:",k),a(((j=(S=k.response)==null?void 0:S.data)==null?void 0:j.error)||"Erreur lors du chargement des données")}finally{r(!1)}})()},[e]);const x=b=>{const{name:S,value:j}=b.target;if(S==="DateFinPrevue"&&l.DateDebut&&new Date(j)<new Date(l.DateDebut)){a("La date de fin prévue ne peut pas être antérieure à la date de début");return}c(k=>({...k,[S]:j})),a("")},v=b=>{const S=b.target.files[0];S&&c(j=>({...j,attachment:S}))},y=async b=>{var S,j,k,w,N,L,R;b.preventDefault(),a(""),i(!0);try{const A=X=>X?new Date(X).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}):null,M={Titre:l.Titre,Description:l.Description,Id_Priorite:parseInt(l.Id_Priorite),Id_Statut:parseInt(l.Id_Statut),Id_Demandeur:parseInt(l.Id_Demandeur),Id_Societe:parseInt(l.Id_Societe),Id_Emplacement:parseInt(l.Id_Emplacement),Id_Categorie:parseInt(l.Id_Categorie),DateDebut:A(l.DateDebut),DateFinPrevue:A(l.DateFinPrevue)};console.log("Données envoyées au backend:",M);let V;if(l.attachment){const X=new FormData;Object.keys(M).forEach(Y=>{X.append(Y,M[Y])}),X.append("attachment",l.attachment),V=await oe.put(`/api/tickets/${e}`,X)}else V=await oe.put(`/api/tickets/${e}`,M);if(console.log("Réponse du backend:",V.data),V.data&&V.data.id)window.location.href=`/tickets/${e}`;else throw new Error("Erreur lors de la modification du ticket")}catch(A){console.error("Erreur complète:",A),console.error("Détails de l'erreur:",{status:(S=A.response)==null?void 0:S.status,data:(j=A.response)==null?void 0:j.data,headers:(k=A.response)==null?void 0:k.headers});let M="Erreur lors de la modification du ticket";(N=(w=A.response)==null?void 0:w.data)!=null&&N.message?M=A.response.data.message:(R=(L=A.response)==null?void 0:L.data)!=null&&R.errors?M=Object.values(A.response.data.errors).flat().join(" "):A.message&&(M=A.message),a(M),alert("Erreur lors de la modification du ticket : "+M)}finally{i(!1)}},g=async()=>{try{if(!h)return;const b=h.name,S=b.toLowerCase().endsWith(".pdf"),j=await oe.get(`${m}/api/tickets/${e}/download`,{responseType:"blob",headers:{Accept:S?"application/pdf":"*/*"}});if(!(j.data instanceof Blob)||j.data.size===0)throw new Error("Fichier vide ou invalide");const k=window.URL.createObjectURL(new Blob([j.data])),w=document.createElement("a");w.href=k,w.setAttribute("download",b),document.body.appendChild(w),w.click(),setTimeout(()=>{document.body.removeChild(w),window.URL.revokeObjectURL(k)},100)}catch(b){alert("Erreur lors du téléchargement de la pièce jointe"),console.error(b)}};return n?u.jsx(Ke,{children:u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):u.jsx(Ke,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Modifier le ticket"}),u.jsx(tr,{to:`/tickets/${e}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Annuler"})]}),o&&u.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded",children:o}),u.jsxs("form",{onSubmit:y,className:"space-y-6 bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Titre",className:"block text-sm font-medium text-gray-700",children:"Titre"}),u.jsx("input",{type:"text",name:"Titre",id:"Titre",required:!0,value:l.Titre,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Priorite",className:"block text-sm font-medium text-gray-700",children:"Priorité"}),u.jsxs("select",{name:"Id_Priorite",id:"Id_Priorite",required:!0,value:l.Id_Priorite,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[u.jsx("option",{value:"",children:"Sélectionner une priorité"}),d.priorites.map(b=>u.jsx("option",{value:b.id,children:b.designation},b.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Statut",className:"block text-sm font-medium text-gray-700",children:"Statut"}),u.jsxs("select",{name:"Id_Statut",id:"Id_Statut",required:!0,value:l.Id_Statut,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[u.jsx("option",{value:"",children:"Sélectionner un statut"}),d.statuts.map(b=>u.jsx("option",{value:b.id,children:b.designation},b.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Demandeur",className:"block text-sm font-medium text-gray-700",children:"Demandeur"}),u.jsxs("select",{name:"Id_Demandeur",id:"Id_Demandeur",required:!0,value:l.Id_Demandeur,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[u.jsx("option",{value:"",children:"Sélectionner un demandeur"}),d.demandeurs.map(b=>u.jsx("option",{value:b.id,children:b.designation},b.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Societe",className:"block text-sm font-medium text-gray-700",children:"Société"}),u.jsxs("select",{name:"Id_Societe",id:"Id_Societe",required:!0,value:l.Id_Societe,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[u.jsx("option",{value:"",children:"Sélectionner une société"}),d.societes.map(b=>u.jsx("option",{value:b.id,children:b.designation},b.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Emplacement",className:"block text-sm font-medium text-gray-700",children:"Emplacement"}),u.jsxs("select",{name:"Id_Emplacement",id:"Id_Emplacement",required:!0,value:l.Id_Emplacement,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[u.jsx("option",{value:"",children:"Sélectionner un emplacement"}),d.emplacements.map(b=>u.jsx("option",{value:b.id,children:b.designation},b.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Categorie",className:"block text-sm font-medium text-gray-700",children:"Catégorie"}),u.jsxs("select",{name:"Id_Categorie",id:"Id_Categorie",required:!0,value:l.Id_Categorie,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[u.jsx("option",{value:"",children:"Sélectionner une catégorie"}),d.categories.map(b=>u.jsx("option",{value:b.id,children:b.designation},b.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"DateDebut",className:"block text-sm font-medium text-gray-700",children:"Date de début"}),u.jsx("input",{type:"date",name:"DateDebut",id:"DateDebut",required:!0,value:l.DateDebut,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"DateFinPrevue",className:"block text-sm font-medium text-gray-700",children:"Date de fin prévue"}),u.jsx("input",{type:"date",name:"DateFinPrevue",id:"DateFinPrevue",required:!0,value:l.DateFinPrevue,onChange:x,min:l.DateDebut||void 0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{htmlFor:"Description",className:"block text-sm font-medium text-gray-700",children:"Description"}),u.jsx("textarea",{name:"Description",id:"Description",rows:"3",required:!0,value:l.Description,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700",children:"Pièce jointe"}),h&&u.jsxs("div",{className:"mt-2 mb-4",children:[u.jsxs("p",{className:"text-sm text-gray-500",children:["Pièce jointe actuelle : ",h.name]}),u.jsx("button",{type:"button",onClick:g,className:"text-blue-600 hover:text-blue-800 text-sm underline",children:"Télécharger"})]}),u.jsx("input",{type:"file",name:"attachment",id:"attachment",onChange:v,className:`mt-1 block w-full text-sm text-gray-500
                file:mr-4 file:py-2 file:px-4
                file:rounded-md file:border-0
                file:text-sm file:font-semibold
                file:bg-blue-50 file:text-blue-700
                hover:file:bg-blue-100`}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Taille maximale : 10MB"})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:()=>t(`/tickets/${e}`),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:s,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Enregistrement...":"Enregistrer"})]})]})]})})},u3=5*60*1e3,d3=({entity:e,label:t})=>{const[n,r]=_.useState([]),[s,i]=_.useState(""),[o,a]=_.useState(null),[l,c]=_.useState(""),[d,f]=_.useState(!0),[h,p]=_.useState(!0),[m,x]=_.useState(null),[v,y]=_.useState(null),[g,b]=_.useState(!1),S=M=>`entity_cache_${M}`,j=async()=>{try{p(!0),x(null);const M=S(e),V=localStorage.getItem(M);if(V){const{data:Y,timestamp:se}=JSON.parse(V);if(Date.now()-se<u3){r(Y),p(!1);return}}const X=await oe.get(`/api/${e}?all=1`);r(X.data),localStorage.setItem(M,JSON.stringify({data:X.data,timestamp:Date.now()}))}catch(M){console.error(`Erreur lors du chargement des ${t}s:`,M),x(`Erreur lors du chargement des ${t}s`)}finally{p(!1)}};_.useEffect(()=>{j()},[e]);const k=()=>{localStorage.removeItem(S(e))},w=()=>{localStorage.removeItem("create_ticket_options_cache")},N=async()=>{if(s.trim())try{await oe.post(`/api/${e}`,{designation:s,is_active:!0}),i(""),k(),w(),await j()}catch(M){console.error("Erreur lors de l'ajout:",M),alert(`Erreur lors de l'ajout du/de la ${t.toLowerCase()}`)}},L=M=>{a(M.id),c(M.designation),f(M.is_active)},R=async()=>{if(l.trim())try{await oe.put(`/api/${e}/${o}`,{designation:l,is_active:d}),a(null),c(""),f(!0),k(),w(),await j()}catch(M){console.error("Erreur lors de la mise à jour:",M),alert(`Erreur lors de la mise à jour du/de la ${t.toLowerCase()}`)}},A=async(M,V)=>{y(M);try{const X=n.find(Y=>Y.id===M);if(!X)throw new Error("Item not found");await oe.put(`/api/${e}/${M}`,{designation:X.designation,is_active:!V}),r(Y=>Y.map(se=>se.id===M?{...se,is_active:!V}:se)),k(),w()}catch{alert("Erreur lors de la mise à jour du statut")}finally{y(null)}};return m?u.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded shadow",children:[u.jsx("div",{className:"text-red-600 mb-4",children:m}),u.jsx("button",{onClick:j,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Réessayer"})]}):u.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded shadow",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h2",{className:"text-xl font-bold",children:["Gestion des ",t,"s"]}),u.jsx("button",{onClick:()=>{b(!0),j(),setTimeout(()=>b(!1),600)},className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx(Lr,{className:g?"animate-spin-once":""})})]}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("input",{type:"text",value:s,onChange:M=>i(M.target.value),placeholder:`Nouveau/Nouvelle ${t.toLowerCase()}`,className:"border rounded px-2 py-1 flex-1"}),u.jsx("button",{onClick:N,className:"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700 transition-colors",children:"Ajouter"})]}),u.jsxs("table",{className:"w-full border",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border px-2 py-1",children:"Nom"}),u.jsx("th",{className:"border px-2 py-1",children:"Statut"}),u.jsx("th",{className:"border px-2 py-1",children:"Actions"})]})}),u.jsx("tbody",{children:h?Array.from({length:3}).map((M,V)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border px-2 py-1",children:u.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse"})}),u.jsx("td",{className:"border px-2 py-1 text-center",children:u.jsx("div",{className:"h-6 w-16 mx-auto bg-gray-200 rounded animate-pulse"})}),u.jsx("td",{className:"border px-2 py-1",children:u.jsx("div",{className:"h-6 w-24 bg-gray-200 rounded animate-pulse"})})]},V)):n.map(M=>u.jsxs("tr",{children:[u.jsx("td",{className:"border px-2 py-1",children:o===M.id?u.jsx("input",{value:l,onChange:V=>c(V.target.value),className:"border rounded px-2 py-1 w-full"}):M.designation}),u.jsx("td",{className:"border px-2 py-1 text-center",children:u.jsx("span",{className:M.is_active?"inline-block px-2 py-1 text-base font-semibold bg-green-100 text-green-800 rounded-full":"inline-block px-2 py-1 text-base font-semibold bg-red-100 text-red-800 rounded-full",children:M.is_active?"Actif":"Inactif"})}),u.jsx("td",{className:"border px-2 py-1",children:o===M.id?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:R,className:"bg-green-600 text-white px-2 py-1 rounded mr-2 hover:bg-green-700 transition-colors",children:"Valider"}),u.jsx("button",{onClick:()=>a(null),className:"bg-gray-400 text-white px-2 py-1 rounded hover:bg-gray-500 transition-colors",children:"Annuler"})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>A(M.id,M.is_active),disabled:v===M.id,className:(M.is_active?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600")+" text-white px-3 py-1 rounded transition-colors font-semibold mr-2"+(v===M.id?" opacity-60 cursor-not-allowed":""),children:v===M.id?"Changement...":M.is_active?"Désactiver":"Activer"}),u.jsx("button",{onClick:()=>L(M),className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 transition-colors font-semibold",children:"Modifier"})]})})]},M.id))})]})]})},Ba=[{entity:"categories",label:"Catégorie"},{entity:"emplacements",label:"Emplacement"},{entity:"societes",label:"Société"},{entity:"demandeurs",label:"Demandeur"},{entity:"services",label:"Service"},{entity:"priorites",label:"Priorité"},{entity:"statuts",label:"Statut"}],f3=()=>{const[e,t]=_.useState(Ba[0].entity),[n,r]=_.useState([Ba[0].entity]),s=i=>{t(i),r(o=>o.includes(i)?o:[...o,i])};return u.jsx(Ke,{children:u.jsxs("div",{className:"max-w-5xl mx-auto p-6 bg-white rounded shadow",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gestion des référentiels"}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Ba.map(i=>u.jsxs("button",{onClick:()=>s(i.entity),className:`px-4 py-2 rounded font-semibold border transition-colors ${e===i.entity?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-blue-100"}`,children:[i.label,"s"]},i.entity))}),u.jsx("div",{children:Ba.map(i=>u.jsx("div",{style:{display:e===i.entity?"block":"none"},children:u.jsx(d3,{entity:i.entity,label:i.label})},i.entity))})]})})};function Ag(e){if(!e)return"-";let t=e;typeof e=="object"&&e.date&&(t=e.date),typeof t=="string"&&t.includes(".")&&(t=t.split(".")[0]);const n=t.replace(" ","T"),r=new Date(n);return isNaN(r)?"-":r.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})}const h3=()=>{var te,I,ue,ae,le,ie,Z,we,rt,Nt;const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[o,a]=_.useState(""),[l,c]=_.useState(""),[d,f]=_.useState(!1),[h,p]=_.useState(!1),[m,x]=_.useState(!1),[v,y]=_.useState(null),[g,b]=_.useState(""),[S,j]=_.useState(""),[k,w]=_.useState(""),[N,L]=_.useState(!1),[R,A]=_.useState(null),[M,V]=_.useState(!1);_.useEffect(()=>{X()},[d]);const X=async()=>{p(!0);try{const ve=await oe.get("/api/tickets/pending",{params:{show_rejected:d}});t(ve.data),r(!1)}catch{i("Erreur lors du chargement des tickets"),r(!1)}finally{setTimeout(()=>p(!1),600)}},Y=ve=>{y(ve),b(""),j(""),w(""),x(!0)},se=()=>{x(!1),y(null),b(""),j(""),w("")},z=async()=>{if(!g||!S){w("Veuillez renseigner les deux dates.");return}if(S<g){w("La date de fin prévue doit être postérieure à la date de début.");return}try{await oe.post(`/api/tickets/${v}/approve`,{DateDebut:g,DateFinPrevue:S}),a("Le ticket a été approuvé avec succès."),c(""),se(),X()}catch{w("Une erreur est survenue lors de l'approbation du ticket.")}},O=async ve=>{try{await oe.post(`/api/tickets/${ve}/reject`),a("Le ticket a été refusé avec succès."),c(""),X()}catch{c("Une erreur est survenue lors du refus du ticket."),a("")}},U=async ve=>{V(!0),L(!0);try{const me=await oe.get(`/api/tickets/${ve}`);A(me.data)}catch{A(null)}V(!1)},K=()=>{L(!1),A(null)};return n?u.jsx("div",{children:"Chargement..."}):s?u.jsx("div",{children:s}):u.jsx(Ke,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:d?"Tickets refusés":"Tickets en attente"}),u.jsx("button",{onClick:X,className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx(Lr,{className:h?"animate-spin-once":""})})]}),u.jsx("button",{onClick:()=>f(!d),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d?"bg-blue-600 text-white hover:bg-blue-700":"bg-red-600 text-white hover:bg-red-700"}`,children:d?"Voir les tickets en attente":"Voir les tickets refusés"})]}),o&&u.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-800 rounded",children:o}),l&&u.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-800 rounded",children:l}),m&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Définir les dates du ticket"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),u.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2",value:g,onChange:ve=>b(ve.target.value)})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin prévue"}),u.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2",value:S,onChange:ve=>j(ve.target.value),min:g})]}),k&&u.jsx("div",{className:"mb-2 text-red-600 text-sm",children:k}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:se,className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",children:"Annuler"}),u.jsx("button",{onClick:z,className:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700",children:"Valider"})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Demandeur"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de création"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorité"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(ve=>{var me,T;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:ve.Titre})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:(me=ve.demandeur)==null?void 0:me.designation})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:ve.DateCreation&&ve.DateCreation.date?new Date(ve.DateCreation.date.replace(" ","T")).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"}):"Date non disponible"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:(T=ve.priorite)==null?void 0:T.designation})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[u.jsx("button",{onClick:()=>U(ve.id),className:"text-blue-600 hover:text-blue-900 mr-2",title:"Voir le détail",children:u.jsx(Hy,{})}),!d&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>Y(ve.id),className:"text-green-600 hover:text-green-900 mr-4",children:"Approuver"}),u.jsx("button",{onClick:()=>O(ve.id),className:"text-red-600 hover:text-red-900",children:"Refuser"})]})]})]},ve.id)})})]})})}),N&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:u.jsxs("div",{className:"relative bg-white p-8 rounded-xl shadow-xl w-full max-w-2xl",children:[u.jsx("button",{onClick:K,className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 text-2xl transition",title:"Fermer",children:"×"}),u.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-6",children:"Résumé du ticket"}),M?u.jsx("div",{className:"text-center text-blue-600 font-semibold",children:"Chargement..."}):R?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-3 mb-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Titre :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:R.Titre})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Description :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:R.Description})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Catégorie :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:(te=R.categorie)==null?void 0:te.designation})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Emplacement :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:(I=R.emplacement)==null?void 0:I.designation})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Service :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:(ae=(ue=R.demandeur)==null?void 0:ue.service)==null?void 0:ae.designation})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Date de début :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:Ag(R.DateDebut)})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Date de fin :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:Ag(R.DateFinPrevue)})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Priorité :"}),u.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-semibold ${((le=R.priorite)==null?void 0:le.designation)==="Urgent"?"bg-red-50 text-red-600 border border-red-200":"bg-green-50 text-green-700 border border-green-200"}`,children:(ie=R.priorite)==null?void 0:ie.designation})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Statut :"}),u.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-semibold ${((Z=R.statut)==null?void 0:Z.designation)==="Nouveau"?"bg-blue-50 text-blue-700 border border-blue-200":((we=R.statut)==null?void 0:we.designation)==="Refusé"?"bg-red-50 text-red-700 border border-red-200":"bg-gray-50 text-gray-700 border border-gray-200"}`,children:(rt=R.statut)==null?void 0:rt.designation})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Demandeur :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:(Nt=R.demandeur)==null?void 0:Nt.designation})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-2",children:[u.jsx("button",{onClick:()=>{K(),Y(R.id)},className:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700 font-semibold shadow-sm transition",children:"Approuver"}),u.jsx("button",{onClick:()=>{K(),O(R.id)},className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 font-semibold shadow-sm transition",children:"Refuser"})]})]}):u.jsx("div",{className:"text-center text-red-600",children:"Erreur lors du chargement du ticket."})]})})]})})},p3=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[o,a]=_.useState(null),[l,c]=_.useState(!1);_.useEffect(()=>{d()},[]);const d=async()=>{c(!0);try{const p=await oe.get("/api/tickets/completed");t(p.data),r(!1)}catch{i("Erreur lors du chargement des tickets"),r(!1)}finally{setTimeout(()=>c(!1),600)}},f=async p=>{try{await oe.post(`/api/tickets/${p}/demandeur-approve`),a("Ticket approuvé avec succès"),d()}catch{i("Erreur lors de l'approbation du ticket")}},h=async p=>{try{await oe.post(`/api/tickets/${p}/demandeur-reject`),a("Ticket refusé et remis en cours"),d()}catch{i("Erreur lors du refus du ticket")}};return n?u.jsx("div",{children:"Chargement..."}):s?u.jsx("div",{children:s}):u.jsx(Ke,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Tickets terminés"}),u.jsx("button",{onClick:d,className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx(Lr,{className:l?"animate-spin-once":""})})]})}),o&&u.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded-lg",children:o}),u.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de création"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de fin"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorité"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(p=>{var m,x,v,y;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.Titre})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${((m=p.statut)==null?void 0:m.designation)==="Terminé"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:(x=p.statut)==null?void 0:x.designation})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:p.DateCreation&&p.DateCreation.date?new Date(p.DateCreation.date.replace(" ","T")).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"}):"Date non disponible"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:p.DateFinReelle?new Date(p.DateFinReelle.replace(" ","T")).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"}):"Date non disponible"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:(v=p.priorite)==null?void 0:v.designation})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(tr,{to:`/tickets/${p.id}`,className:"text-indigo-600 hover:text-indigo-900",children:"Voir les détails"}),((y=p.statut)==null?void 0:y.designation)==="Terminé"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>f(p.id),className:"text-green-600 hover:text-green-900",children:"Approuver"}),u.jsx("button",{onClick:()=>h(p.id),className:"text-red-600 hover:text-red-900",children:"Refuser"})]})]})})]},p.id)})})]})})})]})})},m3=()=>{const e=An(),[t,n]=_.useState({fullName:"",email:"",level:"",service:""}),[r,s]=_.useState([]),[i,o]=_.useState(!1),[a,l]=_.useState(""),[c,d]=_.useState(""),[f,h]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const v=await oe.get("/api/public/services");v.data&&Array.isArray(v.data)?s(v.data):(console.error("Format de données invalide:",v.data),l("Format de données invalide reçu du serveur"))}catch(v){console.error("Erreur détaillée:",v),l("Erreur lors du chargement des services. Veuillez réessayer plus tard.")}})()},[]);const p=x=>{const v=x.target.value;n({...t,level:v,service:""}),h(v==="employe"||v==="directeur_departement")},m=async x=>{var v,y;x.preventDefault(),o(!0),l(""),d("");try{await oe.post("/api/public/register-request",t),d("Votre demande d'inscription a été envoyée avec succès. Vous recevrez un email une fois votre compte approuvé."),n({fullName:"",email:"",level:"",service:""})}catch(g){l(((y=(v=g.response)==null?void 0:v.data)==null?void 0:y.message)||"Une erreur est survenue lors de l'envoi de la demande. Veuillez réessayer plus tard.")}finally{o(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Demande d'inscription"}),u.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Remplissez ce formulaire pour demander un compte. Un administrateur examinera votre demande."})]}),a&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:a}),c&&u.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:c}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[u.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fullName",className:"sr-only",children:"Nom complet"}),u.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Nom complet",value:t.fullName,onChange:x=>n({...t,fullName:x.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),u.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email",value:t.email,onChange:x=>n({...t,email:x.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"level",className:"sr-only",children:"Niveau"}),u.jsxs("select",{id:"level",name:"level",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",value:t.level,onChange:p,children:[u.jsx("option",{value:"",children:"Sélectionnez votre niveau"}),u.jsx("option",{value:"employe",children:"Employé"}),u.jsx("option",{value:"directeur_departement",children:"Directeur de département"}),u.jsx("option",{value:"directeur_general",children:"Directeur général"})]})]}),f&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"service",className:"sr-only",children:"Service"}),u.jsxs("select",{id:"service",name:"service",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",value:t.service,onChange:x=>n({...t,service:x.target.value}),children:[u.jsx("option",{value:"",children:"Sélectionnez votre service"}),r.map(x=>u.jsx("option",{value:x.id,children:x.name},x.id))]})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:i,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Envoi en cours...":"Envoyer la demande"})})]}),u.jsx("div",{className:"text-center mt-4",children:u.jsx("button",{onClick:()=>e("/login"),className:"text-indigo-600 hover:text-indigo-500",children:"Déjà un compte ? Connectez-vous"})})]})})},g3=()=>{var se;const e=An(),[t,n]=_.useState([]),[r,s]=_.useState(!0),[i,o]=_.useState(null),[a,l]=_.useState(!1),[c,d]=_.useState(""),[f,h]=_.useState("all"),[p,m]=_.useState(!1),[x,v]=_.useState(""),[y,g]=_.useState(""),[b,S]=_.useState(""),[j,k]=_.useState(!1);_.useEffect(()=>{const z=JSON.parse(localStorage.getItem("user"));if(!z||z.niveau!==1){e("/unauthorized");return}w()},[e]);const w=async()=>{try{k(!0);const z=localStorage.getItem("token"),O=await Le.get("/api/admin/register-requests",{headers:{Authorization:`Bearer ${z}`,Accept:"application/json","Content-Type":"application/json"}});n(O.data),s(!1)}catch(z){console.error("Error fetching requests:",z),je.error("Erreur lors du chargement des demandes"),s(!1)}finally{setTimeout(()=>k(!1),600)}},N=async z=>{o(t.find(O=>O.id===z)),m(!0)},L=async()=>{if(x!==y){S("Les mots de passe ne correspondent pas");return}if(x.length<8){S("Le mot de passe doit contenir au moins 8 caractères");return}try{const z=localStorage.getItem("token");await Le.post(`/api/admin/register-requests/${i.id}/approve`,{password:x},{headers:{Authorization:`Bearer ${z}`,Accept:"application/json","Content-Type":"application/json"}}),je.success("Demande approuvée avec succès"),m(!1),v(""),g(""),S(""),w()}catch(z){console.error("Error approving request:",z),je.error("Erreur lors de l'approbation de la demande")}},R=async z=>{try{const O=localStorage.getItem("token");await Le.post(`/api/admin/register-requests/${z}/reject`,{},{headers:{Authorization:`Bearer ${O}`,Accept:"application/json","Content-Type":"application/json"}}),je.success("Demande rejetée avec succès"),w()}catch(O){console.error("Error rejecting request:",O),je.error("Erreur lors du rejet de la demande")}},A=z=>{o(z),l(!0)},M=z=>{switch(z){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},V=z=>{switch(z){case"pending":return"En attente";case"approved":return"Approuvé";case"rejected":return"Rejeté";default:return z}},X=z=>z==="directeur_general"?"Directeur General":z.split("_").map(O=>O.charAt(0).toUpperCase()+O.slice(1)).join(" "),Y=t.filter(z=>{var K,te;const O=z.full_name.toLowerCase().includes(c.toLowerCase())||z.email.toLowerCase().includes(c.toLowerCase())||((te=(K=z.service)==null?void 0:K.designation)==null?void 0:te.toLowerCase().includes(c.toLowerCase())),U=f==="all"||z.status===f;return O&&U});return r?u.jsx(Ke,{children:u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):u.jsx(Ke,{children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-4 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des demandes d'inscription"}),u.jsx("button",{onClick:w,className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx(Lr,{className:j?"animate-spin-once":""})})]}),u.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Gérez les demandes d'inscription des nouveaux utilisateurs"})]}),u.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(s4,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Rechercher par nom, email ou service...",value:c,onChange:z=>d(z.target.value)})]})}),u.jsx("div",{className:"w-full sm:w-48",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Vy,{className:"h-5 w-5 text-gray-400"})}),u.jsxs("select",{className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:f,onChange:z=>h(z.target.value),children:[u.jsx("option",{value:"all",children:"Tous les statuts"}),u.jsx("option",{value:"pending",children:"En attente"}),u.jsx("option",{value:"approved",children:"Approuvé"}),u.jsx("option",{value:"rejected",children:"Rejeté"})]})]})})]}),u.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[160px] max-w-[260px]",children:"Nom complet"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px] max-w-[260px]",children:"Email"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px] max-w-[180px]",children:"Niveau"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px] max-w-[200px]",children:"Service"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px] max-w-[140px]",children:"Statut"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px] max-w-[180px]",children:"Date de demande"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px] max-w-[140px]",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.map(z=>{var O;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words max-w-[220px] align-top",children:z.full_name}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words max-w-[220px] align-top",children:z.email}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words min-w-[120px] max-w-[180px] align-top",children:X(z.level)}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words max-w-[180px] align-top",children:z.level==="directeur_general"?"Pas de service":((O=z.service)==null?void 0:O.designation)||"N/A"}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap min-w-[100px] max-w-[140px] align-top",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${M(z.status)}`,children:V(z.status)})}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap min-w-[140px] max-w-[180px] align-top",children:new Date(z.created_at).toLocaleDateString()}),u.jsx("td",{className:"px-4 py-4 text-sm font-medium whitespace-nowrap min-w-[120px] max-w-[140px] align-top",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>A(z),className:"text-blue-600 hover:text-blue-900",title:"Voir les détails",children:u.jsx(Hy,{className:"h-5 w-5"})}),z.status==="pending"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>N(z.id),className:"text-green-600 hover:text-green-900",title:"Approuver",children:u.jsx(ZS,{className:"h-5 w-5"})}),u.jsx("button",{onClick:()=>R(z.id),className:"text-red-600 hover:text-red-900",title:"Rejeter",children:u.jsx(rl,{className:"h-5 w-5"})})]})]})})]},z.id)})})]})})}),a&&i&&u.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Détails de la demande"}),u.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-500",children:u.jsx(rl,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Nom complet"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.full_name})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.email})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Niveau"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:X(i.level)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Service"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((se=i.service)==null?void 0:se.designation)||"N/A"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Statut"}),u.jsx("p",{className:"mt-1",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${M(i.status)}`,children:V(i.status)})})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date de demande"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(i.created_at).toLocaleString()})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date d'action"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.status==="approved"||i.status==="rejected"?new Date(i.updated_at).toLocaleString():"-"})]})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[i.status==="pending"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{N(i.id),l(!1)},className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Approuver"}),u.jsx("button",{onClick:()=>{R(i.id),l(!1)},className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Rejeter"})]}),u.jsx("button",{onClick:()=>l(!1),className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",children:"Fermer"})]})]})}),p&&i&&u.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Définir le mot de passe"}),u.jsx("button",{onClick:()=>{m(!1),v(""),g(""),S("")},className:"text-gray-400 hover:text-gray-500",children:u.jsx(rl,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),u.jsx("input",{type:"password",id:"password",value:x,onChange:z=>v(z.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Entrez le mot de passe"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),u.jsx("input",{type:"password",id:"confirmPassword",value:y,onChange:z=>g(z.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirmez le mot de passe"})]}),b&&u.jsx("p",{className:"text-sm text-red-600",children:b})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[u.jsx("button",{onClick:()=>{m(!1),v(""),g(""),S("")},className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",children:"Annuler"}),u.jsx("button",{onClick:L,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Confirmer"})]})]})})]})})},rn=({children:e})=>localStorage.getItem("token")?e:u.jsx(py,{to:"/",replace:!0}),Lt=()=>u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[u.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Oops! Something went wrong"}),u.jsx("p",{className:"text-gray-600",children:"Please try refreshing the page or contact support if the problem persists."})]})}),x3=Qw([{path:"/",element:u.jsx(c4,{}),errorElement:u.jsx(Lt,{})},{path:"/register",element:u.jsx(m3,{}),errorElement:u.jsx(Lt,{})},{path:"/dashboard",element:u.jsx(rn,{children:u.jsx(nk,{})}),errorElement:u.jsx(Lt,{})},{path:"/tickets",element:u.jsx(rn,{children:u.jsx(qk,{})}),errorElement:u.jsx(Lt,{})},{path:"/tickets/:id",element:u.jsx(rn,{children:u.jsx(l3,{})}),errorElement:u.jsx(Lt,{})},{path:"/tickets/:id/edit",element:u.jsx(rn,{children:u.jsx(c3,{})}),errorElement:u.jsx(Lt,{})},{path:"/create-ticket",element:u.jsx(rn,{children:u.jsx(Z5,{})}),errorElement:u.jsx(Lt,{})},{path:"/create-user",element:u.jsx(rn,{children:u.jsx(e3,{})}),errorElement:u.jsx(Lt,{})},{path:"/profile",element:u.jsx(rn,{children:u.jsx(t3,{})}),errorElement:u.jsx(Lt,{})},{path:"/users",element:u.jsx(rn,{children:u.jsx(n3,{})}),errorElement:u.jsx(Lt,{})},{path:"/admin/entities",element:u.jsx(rn,{children:u.jsx(f3,{})}),errorElement:u.jsx(Lt,{})},{path:"/admin/pending-tickets",element:u.jsx(rn,{children:u.jsx(h3,{})}),errorElement:u.jsx(Lt,{})},{path:"/admin/register-requests",element:u.jsx(rn,{children:u.jsx(g3,{})}),errorElement:u.jsx(Lt,{})},{path:"/completed-tickets",element:u.jsx(rn,{children:u.jsx(p3,{})}),errorElement:u.jsx(Lt,{})},{path:"*",element:u.jsx(py,{to:"/",replace:!0})}]);function y3(){return u.jsx(o_,{router:x3})}Xx(document.getElementById("root")).render(u.jsx(_.StrictMode,{children:u.jsx(y3,{})}));
