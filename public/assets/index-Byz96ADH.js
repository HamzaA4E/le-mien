var z1=Object.defineProperty;var B1=(e,t,n)=>t in e?z1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Z=(e,t,n)=>B1(e,typeof t!="symbol"?t+"":t,n);function f0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function vf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h0={exports:{}},vc={},p0={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=Symbol.for("react.element"),$1=Symbol.for("react.portal"),U1=Symbol.for("react.fragment"),H1=Symbol.for("react.strict_mode"),V1=Symbol.for("react.profiler"),W1=Symbol.for("react.provider"),K1=Symbol.for("react.context"),q1=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),G1=Symbol.for("react.memo"),X1=Symbol.for("react.lazy"),Uh=Symbol.iterator;function Q1(e){return e===null||typeof e!="object"?null:(e=Uh&&e[Uh]||e["@@iterator"],typeof e=="function"?e:null)}var m0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g0=Object.assign,x0={};function Ni(e,t,n){this.props=e,this.context=t,this.refs=x0,this.updater=n||m0}Ni.prototype.isReactComponent={};Ni.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ni.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y0(){}y0.prototype=Ni.prototype;function bf(e,t,n){this.props=e,this.context=t,this.refs=x0,this.updater=n||m0}var wf=bf.prototype=new y0;wf.constructor=bf;g0(wf,Ni.prototype);wf.isPureReactComponent=!0;var Hh=Array.isArray,v0=Object.prototype.hasOwnProperty,_f={current:null},b0={key:!0,ref:!0,__self:!0,__source:!0};function w0(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)v0.call(t,r)&&!b0.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ia,type:e,key:i,ref:o,props:s,_owner:_f.current}}function J1(e,t){return{$$typeof:ia,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ia}function Z1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vh=/\/+/g;function tu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Z1(""+e.key):t.toString(36)}function ll(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ia:case $1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+tu(o,0):r,Hh(s)?(n="",e!=null&&(n=e.replace(Vh,"$&/")+"/"),ll(s,t,n,"",function(u){return u})):s!=null&&(Sf(s)&&(s=J1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Vh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Hh(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+tu(i,a);o+=ll(i,t,n,l,s)}else if(l=Q1(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+tu(i,a++),o+=ll(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _a(e,t,n){if(e==null)return e;var r=[],s=0;return ll(e,r,"","",function(i){return t.call(n,i,s++)}),r}function eb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},cl={transition:null},tb={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:cl,ReactCurrentOwner:_f};function _0(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:_a,forEach:function(e,t,n){_a(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _a(e,function(){t++}),t},toArray:function(e){return _a(e,function(t){return t})||[]},only:function(e){if(!Sf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=Ni;ve.Fragment=U1;ve.Profiler=V1;ve.PureComponent=bf;ve.StrictMode=H1;ve.Suspense=Y1;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tb;ve.act=_0;ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=_f.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)v0.call(t,l)&&!b0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ia,type:e.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(e){return e={$$typeof:K1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:W1,_context:e},e.Consumer=e};ve.createElement=w0;ve.createFactory=function(e){var t=w0.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:q1,render:e}};ve.isValidElement=Sf;ve.lazy=function(e){return{$$typeof:X1,_payload:{_status:-1,_result:e},_init:eb}};ve.memo=function(e,t){return{$$typeof:G1,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=cl.transition;cl.transition={};try{e()}finally{cl.transition=t}};ve.unstable_act=_0;ve.useCallback=function(e,t){return Ot.current.useCallback(e,t)};ve.useContext=function(e){return Ot.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};ve.useEffect=function(e,t){return Ot.current.useEffect(e,t)};ve.useId=function(){return Ot.current.useId()};ve.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return Ot.current.useMemo(e,t)};ve.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};ve.useRef=function(e){return Ot.current.useRef(e)};ve.useState=function(e){return Ot.current.useState(e)};ve.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return Ot.current.useTransition()};ve.version="18.3.1";p0.exports=ve;var w=p0.exports;const Ce=vf(w),nb=f0({__proto__:null,default:Ce},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb=w,sb=Symbol.for("react.element"),ib=Symbol.for("react.fragment"),ob=Object.prototype.hasOwnProperty,ab=rb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lb={key:!0,ref:!0,__self:!0,__source:!0};function S0(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ob.call(t,r)&&!lb.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:sb,type:e,key:i,ref:o,props:s,_owner:ab.current}}vc.Fragment=ib;vc.jsx=S0;vc.jsxs=S0;h0.exports=vc;var c=h0.exports,j0={exports:{}},nn={},E0={exports:{}},N0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,B){var q=O.length;O.push(B);e:for(;0<q;){var le=q-1>>>1,$=O[le];if(0<s($,B))O[le]=B,O[q]=$,q=le;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],q=O.pop();if(q!==B){O[0]=q;e:for(var le=0,$=O.length,I=$>>>1;le<I;){var G=2*(le+1)-1,ne=O[G],ee=G+1,X=O[ee];if(0>s(ne,q))ee<$&&0>s(X,ne)?(O[le]=X,O[ee]=q,le=ee):(O[le]=ne,O[G]=q,le=G);else if(ee<$&&0>s(X,q))O[le]=X,O[ee]=q,le=ee;else break e}}return B}function s(O,B){var q=O.sortIndex-B.sortIndex;return q!==0?q:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,p=!1,x=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=O)r(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(u)}}function S(O){if(g=!1,v(O),!x)if(n(l)!==null)x=!0,K(j);else{var B=n(u);B!==null&&re(S,B.startTime-O)}}function j(O,B){x=!1,g&&(g=!1,y(E),E=-1),p=!0;var q=h;try{for(v(B),f=n(l);f!==null&&(!(f.expirationTime>B)||O&&!L());){var le=f.callback;if(typeof le=="function"){f.callback=null,h=f.priorityLevel;var $=le(f.expirationTime<=B);B=e.unstable_now(),typeof $=="function"?f.callback=$:f===n(l)&&r(l),v(B)}else r(l);f=n(l)}if(f!==null)var I=!0;else{var G=n(u);G!==null&&re(S,G.startTime-B),I=!1}return I}finally{f=null,h=q,p=!1}}var k=!1,_=null,E=-1,D=5,C=-1;function L(){return!(e.unstable_now()-C<D)}function A(){if(_!==null){var O=e.unstable_now();C=O;var B=!0;try{B=_(!0,O)}finally{B?W():(k=!1,_=null)}}else k=!1}var W;if(typeof m=="function")W=function(){m(A)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Q=Y.port2;Y.port1.onmessage=A,W=function(){Q.postMessage(null)}}else W=function(){b(A,0)};function K(O){_=O,k||(k=!0,W())}function re(O,B){E=b(function(){O(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,K(j))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var q=h;h=B;try{return O()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var q=h;h=O;try{return B()}finally{h=q}},e.unstable_scheduleCallback=function(O,B,q){var le=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?le+q:le):q=le,O){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=q+$,O={id:d++,callback:B,priorityLevel:O,startTime:q,expirationTime:$,sortIndex:-1},q>le?(O.sortIndex=q,t(u,O),n(l)===null&&O===n(u)&&(g?(y(E),E=-1):g=!0,re(S,q-le))):(O.sortIndex=$,t(l,O),x||p||(x=!0,K(j))),O},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(O){var B=h;return function(){var q=h;h=B;try{return O.apply(this,arguments)}finally{h=q}}}})(N0);E0.exports=N0;var cb=E0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub=w,en=cb;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k0=new Set,Mo={};function Fs(e,t){gi(e,t),gi(e+"Capture",t)}function gi(e,t){for(Mo[e]=t,e=0;e<t.length;e++)k0.add(t[e])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=Object.prototype.hasOwnProperty,db=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wh={},Kh={};function fb(e){return Zu.call(Kh,e)?!0:Zu.call(Wh,e)?!1:db.test(e)?Kh[e]=!0:(Wh[e]=!0,!1)}function hb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pb(e,t,n,r){if(t===null||typeof t>"u"||hb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var jf=/[\-:]([a-z])/g;function Ef(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jf,Ef);bt[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jf,Ef);bt[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jf,Ef);bt[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nf(e,t,n,r){var s=bt.hasOwnProperty(t)?bt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pb(t,n,s,r)&&(n=null),r||s===null?fb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hr=ub.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sa=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),kf=Symbol.for("react.strict_mode"),ed=Symbol.for("react.profiler"),C0=Symbol.for("react.provider"),T0=Symbol.for("react.context"),Cf=Symbol.for("react.forward_ref"),td=Symbol.for("react.suspense"),nd=Symbol.for("react.suspense_list"),Tf=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),R0=Symbol.for("react.offscreen"),qh=Symbol.iterator;function zi(e){return e===null||typeof e!="object"?null:(e=qh&&e[qh]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,nu;function ro(e){if(nu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nu=t&&t[1]||""}return`
`+nu+e}var ru=!1;function su(e,t){if(!e||ru)return"";ru=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ru=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ro(e):""}function mb(e){switch(e.tag){case 5:return ro(e.type);case 16:return ro("Lazy");case 13:return ro("Suspense");case 19:return ro("SuspenseList");case 0:case 2:case 15:return e=su(e.type,!1),e;case 11:return e=su(e.type.render,!1),e;case 1:return e=su(e.type,!0),e;default:return""}}function rd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xs:return"Fragment";case Gs:return"Portal";case ed:return"Profiler";case kf:return"StrictMode";case td:return"Suspense";case nd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T0:return(e.displayName||"Context")+".Consumer";case C0:return(e._context.displayName||"Context")+".Provider";case Cf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tf:return t=e.displayName||null,t!==null?t:rd(e.type)||"Memo";case _r:t=e._payload,e=e._init;try{return rd(e(t))}catch{}}return null}function gb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rd(t);case 8:return t===kf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function M0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xb(e){var t=M0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ja(e){e._valueTracker||(e._valueTracker=xb(e))}function D0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=M0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sd(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Yh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function P0(e,t){t=t.checked,t!=null&&Nf(e,"checked",t,!1)}function id(e,t){P0(e,t);var n=Hr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?od(e,t.type,n):t.hasOwnProperty("defaultValue")&&od(e,t.type,Hr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function od(e,t,n){(t!=="number"||Rl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var so=Array.isArray;function li(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ad(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(so(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hr(n)}}function O0(e,t){var n=Hr(t.value),r=Hr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function L0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ld(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?L0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ea,A0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ea=Ea||document.createElement("div"),Ea.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ea.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Do(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yb=["Webkit","ms","Moz","O"];Object.keys(po).forEach(function(e){yb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),po[t]=po[e]})});function I0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||po.hasOwnProperty(e)&&po[e]?(""+t).trim():t+"px"}function F0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=I0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var vb=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cd(e,t){if(t){if(vb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function ud(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dd=null;function Rf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fd=null,ci=null,ui=null;function Jh(e){if(e=la(e)){if(typeof fd!="function")throw Error(U(280));var t=e.stateNode;t&&(t=jc(t),fd(e.stateNode,e.type,t))}}function z0(e){ci?ui?ui.push(e):ui=[e]:ci=e}function B0(){if(ci){var e=ci,t=ui;if(ui=ci=null,Jh(e),t)for(e=0;e<t.length;e++)Jh(t[e])}}function $0(e,t){return e(t)}function U0(){}var iu=!1;function H0(e,t,n){if(iu)return e(t,n);iu=!0;try{return $0(e,t,n)}finally{iu=!1,(ci!==null||ui!==null)&&(U0(),B0())}}function Po(e,t){var n=e.stateNode;if(n===null)return null;var r=jc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var hd=!1;if(or)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){hd=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{hd=!1}function bb(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var mo=!1,Ml=null,Dl=!1,pd=null,wb={onError:function(e){mo=!0,Ml=e}};function _b(e,t,n,r,s,i,o,a,l){mo=!1,Ml=null,bb.apply(wb,arguments)}function Sb(e,t,n,r,s,i,o,a,l){if(_b.apply(this,arguments),mo){if(mo){var u=Ml;mo=!1,Ml=null}else throw Error(U(198));Dl||(Dl=!0,pd=u)}}function zs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function V0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zh(e){if(zs(e)!==e)throw Error(U(188))}function jb(e){var t=e.alternate;if(!t){if(t=zs(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Zh(s),e;if(i===r)return Zh(s),t;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function W0(e){return e=jb(e),e!==null?K0(e):null}function K0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=K0(e);if(t!==null)return t;e=e.sibling}return null}var q0=en.unstable_scheduleCallback,ep=en.unstable_cancelCallback,Eb=en.unstable_shouldYield,Nb=en.unstable_requestPaint,rt=en.unstable_now,kb=en.unstable_getCurrentPriorityLevel,Mf=en.unstable_ImmediatePriority,Y0=en.unstable_UserBlockingPriority,Pl=en.unstable_NormalPriority,Cb=en.unstable_LowPriority,G0=en.unstable_IdlePriority,bc=null,Fn=null;function Tb(e){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(bc,e,void 0,(e.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Db,Rb=Math.log,Mb=Math.LN2;function Db(e){return e>>>=0,e===0?32:31-(Rb(e)/Mb|0)|0}var Na=64,ka=4194304;function io(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ol(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=io(a):(i&=o,i!==0&&(r=io(i)))}else o=n&~s,o!==0?r=io(o):i!==0&&(r=io(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Sn(t),s=1<<n,r|=e[n],t&=~s;return r}function Pb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ob(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Sn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Pb(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function md(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function X0(){var e=Na;return Na<<=1,!(Na&4194240)&&(Na=64),e}function ou(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Sn(t),e[t]=n}function Lb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Sn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Df(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Sn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ae=0;function Q0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var J0,Pf,Z0,ex,tx,gd=!1,Ca=[],Pr=null,Or=null,Lr=null,Oo=new Map,Lo=new Map,Er=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tp(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(t.pointerId)}}function $i(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=la(t),t!==null&&Pf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ib(e,t,n,r,s){switch(t){case"focusin":return Pr=$i(Pr,e,t,n,r,s),!0;case"dragenter":return Or=$i(Or,e,t,n,r,s),!0;case"mouseover":return Lr=$i(Lr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Oo.set(i,$i(Oo.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Lo.set(i,$i(Lo.get(i)||null,e,t,n,r,s)),!0}return!1}function nx(e){var t=ps(e.target);if(t!==null){var n=zs(t);if(n!==null){if(t=n.tag,t===13){if(t=V0(n),t!==null){e.blockedOn=t,tx(e.priority,function(){Z0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);dd=r,n.target.dispatchEvent(r),dd=null}else return t=la(n),t!==null&&Pf(t),e.blockedOn=n,!1;t.shift()}return!0}function np(e,t,n){ul(e)&&n.delete(t)}function Fb(){gd=!1,Pr!==null&&ul(Pr)&&(Pr=null),Or!==null&&ul(Or)&&(Or=null),Lr!==null&&ul(Lr)&&(Lr=null),Oo.forEach(np),Lo.forEach(np)}function Ui(e,t){e.blockedOn===t&&(e.blockedOn=null,gd||(gd=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,Fb)))}function Ao(e){function t(s){return Ui(s,e)}if(0<Ca.length){Ui(Ca[0],e);for(var n=1;n<Ca.length;n++){var r=Ca[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pr!==null&&Ui(Pr,e),Or!==null&&Ui(Or,e),Lr!==null&&Ui(Lr,e),Oo.forEach(t),Lo.forEach(t),n=0;n<Er.length;n++)r=Er[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)nx(n),n.blockedOn===null&&Er.shift()}var di=hr.ReactCurrentBatchConfig,Ll=!0;function zb(e,t,n,r){var s=Ae,i=di.transition;di.transition=null;try{Ae=1,Of(e,t,n,r)}finally{Ae=s,di.transition=i}}function Bb(e,t,n,r){var s=Ae,i=di.transition;di.transition=null;try{Ae=4,Of(e,t,n,r)}finally{Ae=s,di.transition=i}}function Of(e,t,n,r){if(Ll){var s=xd(e,t,n,r);if(s===null)gu(e,t,r,Al,n),tp(e,r);else if(Ib(s,e,t,n,r))r.stopPropagation();else if(tp(e,r),t&4&&-1<Ab.indexOf(e)){for(;s!==null;){var i=la(s);if(i!==null&&J0(i),i=xd(e,t,n,r),i===null&&gu(e,t,r,Al,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else gu(e,t,r,null,n)}}var Al=null;function xd(e,t,n,r){if(Al=null,e=Rf(r),e=ps(e),e!==null)if(t=zs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=V0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Al=e,null}function rx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kb()){case Mf:return 1;case Y0:return 4;case Pl:case Cb:return 16;case G0:return 536870912;default:return 16}default:return 16}}var Cr=null,Lf=null,dl=null;function sx(){if(dl)return dl;var e,t=Lf,n=t.length,r,s="value"in Cr?Cr.value:Cr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return dl=s.slice(e,1<r?1-r:void 0)}function fl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ta(){return!0}function rp(){return!1}function rn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ta:rp,this.isPropagationStopped=rp,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),t}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Af=rn(ki),aa=Xe({},ki,{view:0,detail:0}),$b=rn(aa),au,lu,Hi,wc=Xe({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hi&&(Hi&&e.type==="mousemove"?(au=e.screenX-Hi.screenX,lu=e.screenY-Hi.screenY):lu=au=0,Hi=e),au)},movementY:function(e){return"movementY"in e?e.movementY:lu}}),sp=rn(wc),Ub=Xe({},wc,{dataTransfer:0}),Hb=rn(Ub),Vb=Xe({},aa,{relatedTarget:0}),cu=rn(Vb),Wb=Xe({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Kb=rn(Wb),qb=Xe({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yb=rn(qb),Gb=Xe({},ki,{data:0}),ip=rn(Gb),Xb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jb[e])?!!t[e]:!1}function If(){return Zb}var e2=Xe({},aa,{key:function(e){if(e.key){var t=Xb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(e){return e.type==="keypress"?fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),t2=rn(e2),n2=Xe({},wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),op=rn(n2),r2=Xe({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),s2=rn(r2),i2=Xe({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),o2=rn(i2),a2=Xe({},wc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),l2=rn(a2),c2=[9,13,27,32],Ff=or&&"CompositionEvent"in window,go=null;or&&"documentMode"in document&&(go=document.documentMode);var u2=or&&"TextEvent"in window&&!go,ix=or&&(!Ff||go&&8<go&&11>=go),ap=" ",lp=!1;function ox(e,t){switch(e){case"keyup":return c2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ax(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qs=!1;function d2(e,t){switch(e){case"compositionend":return ax(t);case"keypress":return t.which!==32?null:(lp=!0,ap);case"textInput":return e=t.data,e===ap&&lp?null:e;default:return null}}function f2(e,t){if(Qs)return e==="compositionend"||!Ff&&ox(e,t)?(e=sx(),dl=Lf=Cr=null,Qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ix&&t.locale!=="ko"?null:t.data;default:return null}}var h2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!h2[e.type]:t==="textarea"}function lx(e,t,n,r){z0(r),t=Il(t,"onChange"),0<t.length&&(n=new Af("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xo=null,Io=null;function p2(e){vx(e,0)}function _c(e){var t=ei(e);if(D0(t))return e}function m2(e,t){if(e==="change")return t}var cx=!1;if(or){var uu;if(or){var du="oninput"in document;if(!du){var up=document.createElement("div");up.setAttribute("oninput","return;"),du=typeof up.oninput=="function"}uu=du}else uu=!1;cx=uu&&(!document.documentMode||9<document.documentMode)}function dp(){xo&&(xo.detachEvent("onpropertychange",ux),Io=xo=null)}function ux(e){if(e.propertyName==="value"&&_c(Io)){var t=[];lx(t,Io,e,Rf(e)),H0(p2,t)}}function g2(e,t,n){e==="focusin"?(dp(),xo=t,Io=n,xo.attachEvent("onpropertychange",ux)):e==="focusout"&&dp()}function x2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _c(Io)}function y2(e,t){if(e==="click")return _c(t)}function v2(e,t){if(e==="input"||e==="change")return _c(t)}function b2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:b2;function Fo(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zu.call(t,s)||!Nn(e[s],t[s]))return!1}return!0}function fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hp(e,t){var n=fp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fp(n)}}function dx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fx(){for(var e=window,t=Rl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Rl(e.document)}return t}function zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function w2(e){var t=fx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dx(n.ownerDocument.documentElement,n)){if(r!==null&&zf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=hp(n,i);var o=hp(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _2=or&&"documentMode"in document&&11>=document.documentMode,Js=null,yd=null,yo=null,vd=!1;function pp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vd||Js==null||Js!==Rl(r)||(r=Js,"selectionStart"in r&&zf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yo&&Fo(yo,r)||(yo=r,r=Il(yd,"onSelect"),0<r.length&&(t=new Af("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Js)))}function Ra(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zs={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionend:Ra("Transition","TransitionEnd")},fu={},hx={};or&&(hx=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function Sc(e){if(fu[e])return fu[e];if(!Zs[e])return e;var t=Zs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hx)return fu[e]=t[n];return e}var px=Sc("animationend"),mx=Sc("animationiteration"),gx=Sc("animationstart"),xx=Sc("transitionend"),yx=new Map,mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(e,t){yx.set(e,t),Fs(t,[e])}for(var hu=0;hu<mp.length;hu++){var pu=mp[hu],S2=pu.toLowerCase(),j2=pu[0].toUpperCase()+pu.slice(1);Yr(S2,"on"+j2)}Yr(px,"onAnimationEnd");Yr(mx,"onAnimationIteration");Yr(gx,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(xx,"onTransitionEnd");gi("onMouseEnter",["mouseout","mouseover"]);gi("onMouseLeave",["mouseout","mouseover"]);gi("onPointerEnter",["pointerout","pointerover"]);gi("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E2=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function gp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Sb(r,t,void 0,e),e.currentTarget=null}function vx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;gp(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;gp(s,a,u),i=l}}}if(Dl)throw e=pd,Dl=!1,pd=null,e}function He(e,t){var n=t[jd];n===void 0&&(n=t[jd]=new Set);var r=e+"__bubble";n.has(r)||(bx(t,e,2,!1),n.add(r))}function mu(e,t,n){var r=0;t&&(r|=4),bx(n,e,r,t)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function zo(e){if(!e[Ma]){e[Ma]=!0,k0.forEach(function(n){n!=="selectionchange"&&(E2.has(n)||mu(n,!1,e),mu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ma]||(t[Ma]=!0,mu("selectionchange",!1,t))}}function bx(e,t,n,r){switch(rx(t)){case 1:var s=zb;break;case 4:s=Bb;break;default:s=Of}n=s.bind(null,t,n,e),s=void 0,!hd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function gu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ps(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}H0(function(){var u=i,d=Rf(n),f=[];e:{var h=yx.get(e);if(h!==void 0){var p=Af,x=e;switch(e){case"keypress":if(fl(n)===0)break e;case"keydown":case"keyup":p=t2;break;case"focusin":x="focus",p=cu;break;case"focusout":x="blur",p=cu;break;case"beforeblur":case"afterblur":p=cu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Hb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=s2;break;case px:case mx:case gx:p=Kb;break;case xx:p=o2;break;case"scroll":p=$b;break;case"wheel":p=l2;break;case"copy":case"cut":case"paste":p=Yb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=op}var g=(t&4)!==0,b=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var m=u,v;m!==null;){v=m;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=Po(m,y),S!=null&&g.push(Bo(m,S,v)))),b)break;m=m.return}0<g.length&&(h=new p(h,x,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==dd&&(x=n.relatedTarget||n.fromElement)&&(ps(x)||x[ar]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?ps(x):null,x!==null&&(b=zs(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(g=sp,S="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=op,S="onPointerLeave",y="onPointerEnter",m="pointer"),b=p==null?h:ei(p),v=x==null?h:ei(x),h=new g(S,m+"leave",p,n,d),h.target=b,h.relatedTarget=v,S=null,ps(d)===u&&(g=new g(y,m+"enter",x,n,d),g.target=v,g.relatedTarget=b,S=g),b=S,p&&x)t:{for(g=p,y=x,m=0,v=g;v;v=Ws(v))m++;for(v=0,S=y;S;S=Ws(S))v++;for(;0<m-v;)g=Ws(g),m--;for(;0<v-m;)y=Ws(y),v--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ws(g),y=Ws(y)}g=null}else g=null;p!==null&&xp(f,h,p,g,!1),x!==null&&b!==null&&xp(f,b,x,g,!0)}}e:{if(h=u?ei(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=m2;else if(cp(h))if(cx)j=v2;else{j=x2;var k=g2}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=y2);if(j&&(j=j(e,u))){lx(f,j,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&od(h,"number",h.value)}switch(k=u?ei(u):window,e){case"focusin":(cp(k)||k.contentEditable==="true")&&(Js=k,yd=u,yo=null);break;case"focusout":yo=yd=Js=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,pp(f,n,d);break;case"selectionchange":if(_2)break;case"keydown":case"keyup":pp(f,n,d)}var _;if(Ff)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Qs?ox(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(ix&&n.locale!=="ko"&&(Qs||E!=="onCompositionStart"?E==="onCompositionEnd"&&Qs&&(_=sx()):(Cr=d,Lf="value"in Cr?Cr.value:Cr.textContent,Qs=!0)),k=Il(u,E),0<k.length&&(E=new ip(E,e,null,n,d),f.push({event:E,listeners:k}),_?E.data=_:(_=ax(n),_!==null&&(E.data=_)))),(_=u2?d2(e,n):f2(e,n))&&(u=Il(u,"onBeforeInput"),0<u.length&&(d=new ip("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}vx(f,t)})}function Bo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Il(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Po(e,n),i!=null&&r.unshift(Bo(e,i,s)),i=Po(e,t),i!=null&&r.push(Bo(e,i,s))),e=e.return}return r}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xp(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Po(n,i),l!=null&&o.unshift(Bo(n,l,a))):s||(l=Po(n,i),l!=null&&o.push(Bo(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var N2=/\r\n?/g,k2=/\u0000|\uFFFD/g;function yp(e){return(typeof e=="string"?e:""+e).replace(N2,`
`).replace(k2,"")}function Da(e,t,n){if(t=yp(t),yp(e)!==t&&n)throw Error(U(425))}function Fl(){}var bd=null,wd=null;function _d(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sd=typeof setTimeout=="function"?setTimeout:void 0,C2=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,T2=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(e){return vp.resolve(null).then(e).catch(R2)}:Sd;function R2(e){setTimeout(function(){throw e})}function xu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ao(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ao(t)}function Ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ci=Math.random().toString(36).slice(2),An="__reactFiber$"+Ci,$o="__reactProps$"+Ci,ar="__reactContainer$"+Ci,jd="__reactEvents$"+Ci,M2="__reactListeners$"+Ci,D2="__reactHandles$"+Ci;function ps(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ar]||n[An]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bp(e);e!==null;){if(n=e[An])return n;e=bp(e)}return t}e=n,n=e.parentNode}return null}function la(e){return e=e[An]||e[ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ei(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function jc(e){return e[$o]||null}var Ed=[],ti=-1;function Gr(e){return{current:e}}function Ve(e){0>ti||(e.current=Ed[ti],Ed[ti]=null,ti--)}function $e(e,t){ti++,Ed[ti]=e.current,e.current=t}var Vr={},Tt=Gr(Vr),Vt=Gr(!1),Cs=Vr;function xi(e,t){var n=e.type.contextTypes;if(!n)return Vr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Wt(e){return e=e.childContextTypes,e!=null}function zl(){Ve(Vt),Ve(Tt)}function wp(e,t,n){if(Tt.current!==Vr)throw Error(U(168));$e(Tt,t),$e(Vt,n)}function wx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,gb(e)||"Unknown",s));return Xe({},n,r)}function Bl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vr,Cs=Tt.current,$e(Tt,e),$e(Vt,Vt.current),!0}function _p(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=wx(e,t,Cs),r.__reactInternalMemoizedMergedChildContext=e,Ve(Vt),Ve(Tt),$e(Tt,e)):Ve(Vt),$e(Vt,n)}var Zn=null,Ec=!1,yu=!1;function _x(e){Zn===null?Zn=[e]:Zn.push(e)}function P2(e){Ec=!0,_x(e)}function Xr(){if(!yu&&Zn!==null){yu=!0;var e=0,t=Ae;try{var n=Zn;for(Ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zn=null,Ec=!1}catch(s){throw Zn!==null&&(Zn=Zn.slice(e+1)),q0(Mf,Xr),s}finally{Ae=t,yu=!1}}return null}var ni=[],ri=0,$l=null,Ul=0,ln=[],cn=0,Ts=null,tr=1,nr="";function cs(e,t){ni[ri++]=Ul,ni[ri++]=$l,$l=e,Ul=t}function Sx(e,t,n){ln[cn++]=tr,ln[cn++]=nr,ln[cn++]=Ts,Ts=e;var r=tr;e=nr;var s=32-Sn(r)-1;r&=~(1<<s),n+=1;var i=32-Sn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,tr=1<<32-Sn(t)+s|n<<s|r,nr=i+e}else tr=1<<i|n<<s|r,nr=e}function Bf(e){e.return!==null&&(cs(e,1),Sx(e,1,0))}function $f(e){for(;e===$l;)$l=ni[--ri],ni[ri]=null,Ul=ni[--ri],ni[ri]=null;for(;e===Ts;)Ts=ln[--cn],ln[cn]=null,nr=ln[--cn],ln[cn]=null,tr=ln[--cn],ln[cn]=null}var Zt=null,Jt=null,qe=!1,_n=null;function jx(e,t){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zt=e,Jt=Ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zt=e,Jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ts!==null?{id:tr,overflow:nr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Zt=e,Jt=null,!0):!1;default:return!1}}function Nd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kd(e){if(qe){var t=Jt;if(t){var n=t;if(!Sp(e,t)){if(Nd(e))throw Error(U(418));t=Ar(n.nextSibling);var r=Zt;t&&Sp(e,t)?jx(r,n):(e.flags=e.flags&-4097|2,qe=!1,Zt=e)}}else{if(Nd(e))throw Error(U(418));e.flags=e.flags&-4097|2,qe=!1,Zt=e}}}function jp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function Pa(e){if(e!==Zt)return!1;if(!qe)return jp(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_d(e.type,e.memoizedProps)),t&&(t=Jt)){if(Nd(e))throw Ex(),Error(U(418));for(;t;)jx(e,t),t=Ar(t.nextSibling)}if(jp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jt=Ar(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jt=null}}else Jt=Zt?Ar(e.stateNode.nextSibling):null;return!0}function Ex(){for(var e=Jt;e;)e=Ar(e.nextSibling)}function yi(){Jt=Zt=null,qe=!1}function Uf(e){_n===null?_n=[e]:_n.push(e)}var O2=hr.ReactCurrentBatchConfig;function Vi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function Oa(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ep(e){var t=e._init;return t(e._payload)}function Nx(e){function t(y,m){if(e){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Br(y,m),y.index=0,y.sibling=null,y}function i(y,m,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,S){return m===null||m.tag!==6?(m=Eu(v,y.mode,S),m.return=y,m):(m=s(m,v),m.return=y,m)}function l(y,m,v,S){var j=v.type;return j===Xs?d(y,m,v.props.children,S,v.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===_r&&Ep(j)===m.type)?(S=s(m,v.props),S.ref=Vi(y,m,v),S.return=y,S):(S=vl(v.type,v.key,v.props,null,y.mode,S),S.ref=Vi(y,m,v),S.return=y,S)}function u(y,m,v,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Nu(v,y.mode,S),m.return=y,m):(m=s(m,v.children||[]),m.return=y,m)}function d(y,m,v,S,j){return m===null||m.tag!==7?(m=js(v,y.mode,S,j),m.return=y,m):(m=s(m,v),m.return=y,m)}function f(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Eu(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Sa:return v=vl(m.type,m.key,m.props,null,y.mode,v),v.ref=Vi(y,null,m),v.return=y,v;case Gs:return m=Nu(m,y.mode,v),m.return=y,m;case _r:var S=m._init;return f(y,S(m._payload),v)}if(so(m)||zi(m))return m=js(m,y.mode,v,null),m.return=y,m;Oa(y,m)}return null}function h(y,m,v,S){var j=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:a(y,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sa:return v.key===j?l(y,m,v,S):null;case Gs:return v.key===j?u(y,m,v,S):null;case _r:return j=v._init,h(y,m,j(v._payload),S)}if(so(v)||zi(v))return j!==null?null:d(y,m,v,S,null);Oa(y,v)}return null}function p(y,m,v,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,a(m,y,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Sa:return y=y.get(S.key===null?v:S.key)||null,l(m,y,S,j);case Gs:return y=y.get(S.key===null?v:S.key)||null,u(m,y,S,j);case _r:var k=S._init;return p(y,m,v,k(S._payload),j)}if(so(S)||zi(S))return y=y.get(v)||null,d(m,y,S,j,null);Oa(m,S)}return null}function x(y,m,v,S){for(var j=null,k=null,_=m,E=m=0,D=null;_!==null&&E<v.length;E++){_.index>E?(D=_,_=null):D=_.sibling;var C=h(y,_,v[E],S);if(C===null){_===null&&(_=D);break}e&&_&&C.alternate===null&&t(y,_),m=i(C,m,E),k===null?j=C:k.sibling=C,k=C,_=D}if(E===v.length)return n(y,_),qe&&cs(y,E),j;if(_===null){for(;E<v.length;E++)_=f(y,v[E],S),_!==null&&(m=i(_,m,E),k===null?j=_:k.sibling=_,k=_);return qe&&cs(y,E),j}for(_=r(y,_);E<v.length;E++)D=p(_,y,E,v[E],S),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?E:D.key),m=i(D,m,E),k===null?j=D:k.sibling=D,k=D);return e&&_.forEach(function(L){return t(y,L)}),qe&&cs(y,E),j}function g(y,m,v,S){var j=zi(v);if(typeof j!="function")throw Error(U(150));if(v=j.call(v),v==null)throw Error(U(151));for(var k=j=null,_=m,E=m=0,D=null,C=v.next();_!==null&&!C.done;E++,C=v.next()){_.index>E?(D=_,_=null):D=_.sibling;var L=h(y,_,C.value,S);if(L===null){_===null&&(_=D);break}e&&_&&L.alternate===null&&t(y,_),m=i(L,m,E),k===null?j=L:k.sibling=L,k=L,_=D}if(C.done)return n(y,_),qe&&cs(y,E),j;if(_===null){for(;!C.done;E++,C=v.next())C=f(y,C.value,S),C!==null&&(m=i(C,m,E),k===null?j=C:k.sibling=C,k=C);return qe&&cs(y,E),j}for(_=r(y,_);!C.done;E++,C=v.next())C=p(_,y,E,C.value,S),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?E:C.key),m=i(C,m,E),k===null?j=C:k.sibling=C,k=C);return e&&_.forEach(function(A){return t(y,A)}),qe&&cs(y,E),j}function b(y,m,v,S){if(typeof v=="object"&&v!==null&&v.type===Xs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Sa:e:{for(var j=v.key,k=m;k!==null;){if(k.key===j){if(j=v.type,j===Xs){if(k.tag===7){n(y,k.sibling),m=s(k,v.props.children),m.return=y,y=m;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===_r&&Ep(j)===k.type){n(y,k.sibling),m=s(k,v.props),m.ref=Vi(y,k,v),m.return=y,y=m;break e}n(y,k);break}else t(y,k);k=k.sibling}v.type===Xs?(m=js(v.props.children,y.mode,S,v.key),m.return=y,y=m):(S=vl(v.type,v.key,v.props,null,y.mode,S),S.ref=Vi(y,m,v),S.return=y,y=S)}return o(y);case Gs:e:{for(k=v.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(y,m.sibling),m=s(m,v.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=Nu(v,y.mode,S),m.return=y,y=m}return o(y);case _r:return k=v._init,b(y,m,k(v._payload),S)}if(so(v))return x(y,m,v,S);if(zi(v))return g(y,m,v,S);Oa(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,v),m.return=y,y=m):(n(y,m),m=Eu(v,y.mode,S),m.return=y,y=m),o(y)):n(y,m)}return b}var vi=Nx(!0),kx=Nx(!1),Hl=Gr(null),Vl=null,si=null,Hf=null;function Vf(){Hf=si=Vl=null}function Wf(e){var t=Hl.current;Ve(Hl),e._currentValue=t}function Cd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fi(e,t){Vl=e,Hf=si=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ht=!0),e.firstContext=null)}function hn(e){var t=e._currentValue;if(Hf!==e)if(e={context:e,memoizedValue:t,next:null},si===null){if(Vl===null)throw Error(U(308));si=e,Vl.dependencies={lanes:0,firstContext:e}}else si=si.next=e;return t}var ms=null;function Kf(e){ms===null?ms=[e]:ms.push(e)}function Cx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Kf(t)):(n.next=s.next,s.next=n),t.interleaved=n,lr(e,r)}function lr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sr=!1;function qf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,lr(e,n)}return s=r.interleaved,s===null?(t.next=t,Kf(r)):(t.next=s.next,s.next=t),r.interleaved=t,lr(e,n)}function hl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Df(e,n)}}function Np(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wl(e,t,n,r){var s=e.updateQueue;Sr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,g=a;switch(h=t,p=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(p,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(p,f,h):x,h==null)break e;f=Xe({},f,h);break e;case 2:Sr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function kp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var ca={},zn=Gr(ca),Uo=Gr(ca),Ho=Gr(ca);function gs(e){if(e===ca)throw Error(U(174));return e}function Yf(e,t){switch($e(Ho,t),$e(Uo,e),$e(zn,ca),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ld(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ld(t,e)}Ve(zn),$e(zn,t)}function bi(){Ve(zn),Ve(Uo),Ve(Ho)}function Rx(e){gs(Ho.current);var t=gs(zn.current),n=ld(t,e.type);t!==n&&($e(Uo,e),$e(zn,n))}function Gf(e){Uo.current===e&&(Ve(zn),Ve(Uo))}var Ye=Gr(0);function Kl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vu=[];function Xf(){for(var e=0;e<vu.length;e++)vu[e]._workInProgressVersionPrimary=null;vu.length=0}var pl=hr.ReactCurrentDispatcher,bu=hr.ReactCurrentBatchConfig,Rs=0,Ge=null,ut=null,ht=null,ql=!1,vo=!1,Vo=0,L2=0;function _t(){throw Error(U(321))}function Qf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nn(e[n],t[n]))return!1;return!0}function Jf(e,t,n,r,s,i){if(Rs=i,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pl.current=e===null||e.memoizedState===null?z2:B2,e=n(r,s),vo){i=0;do{if(vo=!1,Vo=0,25<=i)throw Error(U(301));i+=1,ht=ut=null,t.updateQueue=null,pl.current=$2,e=n(r,s)}while(vo)}if(pl.current=Yl,t=ut!==null&&ut.next!==null,Rs=0,ht=ut=Ge=null,ql=!1,t)throw Error(U(300));return e}function Zf(){var e=Vo!==0;return Vo=0,e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ge.memoizedState=ht=e:ht=ht.next=e,ht}function pn(){if(ut===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=ht===null?Ge.memoizedState:ht.next;if(t!==null)ht=t,ut=e;else{if(e===null)throw Error(U(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ht===null?Ge.memoizedState=ht=e:ht=ht.next=e}return ht}function Wo(e,t){return typeof t=="function"?t(e):t}function wu(e){var t=pn(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=ut,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Rs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ge.lanes|=d,Ms|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Nn(r,t.memoizedState)||(Ht=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ge.lanes|=i,Ms|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _u(e){var t=pn(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Nn(i,t.memoizedState)||(Ht=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Mx(){}function Dx(e,t){var n=Ge,r=pn(),s=t(),i=!Nn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ht=!0),r=r.queue,eh(Lx.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,Ko(9,Ox.bind(null,n,r,s,t),void 0,null),pt===null)throw Error(U(349));Rs&30||Px(n,t,s)}return s}function Px(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ox(e,t,n,r){t.value=n,t.getSnapshot=r,Ax(t)&&Ix(e)}function Lx(e,t,n){return n(function(){Ax(t)&&Ix(e)})}function Ax(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nn(e,n)}catch{return!0}}function Ix(e){var t=lr(e,1);t!==null&&jn(t,e,1,-1)}function Cp(e){var t=On();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t.queue=e,e=e.dispatch=F2.bind(null,Ge,e),[t.memoizedState,e]}function Ko(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fx(){return pn().memoizedState}function ml(e,t,n,r){var s=On();Ge.flags|=e,s.memoizedState=Ko(1|t,n,void 0,r===void 0?null:r)}function Nc(e,t,n,r){var s=pn();r=r===void 0?null:r;var i=void 0;if(ut!==null){var o=ut.memoizedState;if(i=o.destroy,r!==null&&Qf(r,o.deps)){s.memoizedState=Ko(t,n,i,r);return}}Ge.flags|=e,s.memoizedState=Ko(1|t,n,i,r)}function Tp(e,t){return ml(8390656,8,e,t)}function eh(e,t){return Nc(2048,8,e,t)}function zx(e,t){return Nc(4,2,e,t)}function Bx(e,t){return Nc(4,4,e,t)}function $x(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ux(e,t,n){return n=n!=null?n.concat([e]):null,Nc(4,4,$x.bind(null,t,e),n)}function th(){}function Hx(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vx(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wx(e,t,n){return Rs&21?(Nn(n,t)||(n=X0(),Ge.lanes|=n,Ms|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ht=!0),e.memoizedState=n)}function A2(e,t){var n=Ae;Ae=n!==0&&4>n?n:4,e(!0);var r=bu.transition;bu.transition={};try{e(!1),t()}finally{Ae=n,bu.transition=r}}function Kx(){return pn().memoizedState}function I2(e,t,n){var r=zr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qx(e))Yx(t,n);else if(n=Cx(e,t,n,r),n!==null){var s=Pt();jn(n,e,r,s),Gx(n,t,r)}}function F2(e,t,n){var r=zr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qx(e))Yx(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Nn(a,o)){var l=t.interleaved;l===null?(s.next=s,Kf(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Cx(e,t,s,r),n!==null&&(s=Pt(),jn(n,e,r,s),Gx(n,t,r))}}function qx(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function Yx(e,t){vo=ql=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Df(e,n)}}var Yl={readContext:hn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},z2={readContext:hn,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:hn,useEffect:Tp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ml(4194308,4,$x.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ml(4194308,4,e,t)},useInsertionEffect:function(e,t){return ml(4,2,e,t)},useMemo:function(e,t){var n=On();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=On();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=I2.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:Cp,useDebugValue:th,useDeferredValue:function(e){return On().memoizedState=e},useTransition:function(){var e=Cp(!1),t=e[0];return e=A2.bind(null,e[1]),On().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,s=On();if(qe){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),pt===null)throw Error(U(349));Rs&30||Px(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Tp(Lx.bind(null,r,i,e),[e]),r.flags|=2048,Ko(9,Ox.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=On(),t=pt.identifierPrefix;if(qe){var n=nr,r=tr;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=L2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},B2={readContext:hn,useCallback:Hx,useContext:hn,useEffect:eh,useImperativeHandle:Ux,useInsertionEffect:zx,useLayoutEffect:Bx,useMemo:Vx,useReducer:wu,useRef:Fx,useState:function(){return wu(Wo)},useDebugValue:th,useDeferredValue:function(e){var t=pn();return Wx(t,ut.memoizedState,e)},useTransition:function(){var e=wu(Wo)[0],t=pn().memoizedState;return[e,t]},useMutableSource:Mx,useSyncExternalStore:Dx,useId:Kx,unstable_isNewReconciler:!1},$2={readContext:hn,useCallback:Hx,useContext:hn,useEffect:eh,useImperativeHandle:Ux,useInsertionEffect:zx,useLayoutEffect:Bx,useMemo:Vx,useReducer:_u,useRef:Fx,useState:function(){return _u(Wo)},useDebugValue:th,useDeferredValue:function(e){var t=pn();return ut===null?t.memoizedState=e:Wx(t,ut.memoizedState,e)},useTransition:function(){var e=_u(Wo)[0],t=pn().memoizedState;return[e,t]},useMutableSource:Mx,useSyncExternalStore:Dx,useId:Kx,unstable_isNewReconciler:!1};function vn(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Td(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kc={isMounted:function(e){return(e=e._reactInternals)?zs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pt(),s=zr(e),i=sr(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ir(e,i,s),t!==null&&(jn(t,e,s,r),hl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pt(),s=zr(e),i=sr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ir(e,i,s),t!==null&&(jn(t,e,s,r),hl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pt(),r=zr(e),s=sr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ir(e,s,r),t!==null&&(jn(t,e,r,n),hl(t,e,r))}};function Rp(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Fo(n,r)||!Fo(s,i):!0}function Xx(e,t,n){var r=!1,s=Vr,i=t.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=Wt(t)?Cs:Tt.current,r=t.contextTypes,i=(r=r!=null)?xi(e,s):Vr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kc.enqueueReplaceState(t,t.state,null)}function Rd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},qf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=Wt(t)?Cs:Tt.current,s.context=xi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Td(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&kc.enqueueReplaceState(s,s.state,null),Wl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function wi(e,t){try{var n="",r=t;do n+=mb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Su(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Md(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var U2=typeof WeakMap=="function"?WeakMap:Map;function Qx(e,t,n){n=sr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xl||(Xl=!0,$d=r),Md(e,t)},n}function Jx(e,t,n){n=sr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Md(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Md(e,t),typeof r!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Dp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new U2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=nw.bind(null,e,t,n),t.then(e,e))}function Pp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Op(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sr(-1,1),t.tag=2,Ir(n,t,1))),n.lanes|=1),e)}var H2=hr.ReactCurrentOwner,Ht=!1;function Mt(e,t,n,r){t.child=e===null?kx(t,null,n,r):vi(t,e.child,n,r)}function Lp(e,t,n,r,s){n=n.render;var i=t.ref;return fi(t,s),r=Jf(e,t,n,r,i,s),n=Zf(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cr(e,t,s)):(qe&&n&&Bf(t),t.flags|=1,Mt(e,t,r,s),t.child)}function Ap(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ch(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Zx(e,t,i,r,s)):(e=vl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fo,n(o,r)&&e.ref===t.ref)return cr(e,t,s)}return t.flags|=1,e=Br(i,r),e.ref=t.ref,e.return=t,t.child=e}function Zx(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Fo(i,r)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ht=!0);else return t.lanes=e.lanes,cr(e,t,s)}return Dd(e,t,n,r,s)}function ey(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(oi,Xt),Xt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(oi,Xt),Xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(oi,Xt),Xt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,$e(oi,Xt),Xt|=r;return Mt(e,t,s,n),t.child}function ty(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Dd(e,t,n,r,s){var i=Wt(n)?Cs:Tt.current;return i=xi(t,i),fi(t,s),n=Jf(e,t,n,r,i,s),r=Zf(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cr(e,t,s)):(qe&&r&&Bf(t),t.flags|=1,Mt(e,t,n,s),t.child)}function Ip(e,t,n,r,s){if(Wt(n)){var i=!0;Bl(t)}else i=!1;if(fi(t,s),t.stateNode===null)gl(e,t),Xx(t,n,r),Rd(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=hn(u):(u=Wt(n)?Cs:Tt.current,u=xi(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Mp(t,o,r,u),Sr=!1;var h=t.memoizedState;o.state=h,Wl(t,r,o,s),l=t.memoizedState,a!==r||h!==l||Vt.current||Sr?(typeof d=="function"&&(Td(t,n,d,r),l=t.memoizedState),(a=Sr||Rp(t,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Tx(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:vn(t.type,a),o.props=u,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=hn(l):(l=Wt(n)?Cs:Tt.current,l=xi(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Mp(t,o,r,l),Sr=!1,h=t.memoizedState,o.state=h,Wl(t,r,o,s);var x=t.memoizedState;a!==f||h!==x||Vt.current||Sr?(typeof p=="function"&&(Td(t,n,p,r),x=t.memoizedState),(u=Sr||Rp(t,n,u,r,h,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Pd(e,t,n,r,i,s)}function Pd(e,t,n,r,s,i){ty(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&_p(t,n,!1),cr(e,t,i);r=t.stateNode,H2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=vi(t,e.child,null,i),t.child=vi(t,null,a,i)):Mt(e,t,a,i),t.memoizedState=r.state,s&&_p(t,n,!0),t.child}function ny(e){var t=e.stateNode;t.pendingContext?wp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wp(e,t.context,!1),Yf(e,t.containerInfo)}function Fp(e,t,n,r,s){return yi(),Uf(s),t.flags|=256,Mt(e,t,n,r),t.child}var Od={dehydrated:null,treeContext:null,retryLane:0};function Ld(e){return{baseLanes:e,cachePool:null,transitions:null}}function ry(e,t,n){var r=t.pendingProps,s=Ye.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),$e(Ye,s&1),e===null)return kd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Rc(o,r,0,null),e=js(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ld(n),t.memoizedState=Od,e):nh(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return V2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Br(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Br(a,i):(i=js(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Ld(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Od,r}return i=e.child,e=i.sibling,r=Br(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function nh(e,t){return t=Rc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function La(e,t,n,r){return r!==null&&Uf(r),vi(t,e.child,null,n),e=nh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function V2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Su(Error(U(422))),La(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Rc({mode:"visible",children:r.children},s,0,null),i=js(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&vi(t,e.child,null,o),t.child.memoizedState=Ld(o),t.memoizedState=Od,i);if(!(t.mode&1))return La(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=Su(i,r,void 0),La(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ht||a){if(r=pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,lr(e,s),jn(r,e,s,-1))}return lh(),r=Su(Error(U(421))),La(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Jt=Ar(s.nextSibling),Zt=t,qe=!0,_n=null,e!==null&&(ln[cn++]=tr,ln[cn++]=nr,ln[cn++]=Ts,tr=e.id,nr=e.overflow,Ts=t),t=nh(t,r.children),t.flags|=4096,t)}function zp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cd(e.return,t,n)}function ju(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function sy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Mt(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zp(e,n,t);else if(e.tag===19)zp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Kl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ju(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Kl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ju(t,!0,n,null,i);break;case"together":ju(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ms|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Br(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Br(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function W2(e,t,n){switch(t.tag){case 3:ny(t),yi();break;case 5:Rx(t);break;case 1:Wt(t.type)&&Bl(t);break;case 4:Yf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;$e(Hl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?ry(e,t,n):($e(Ye,Ye.current&1),e=cr(e,t,n),e!==null?e.sibling:null);$e(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,ey(e,t,n)}return cr(e,t,n)}var iy,Ad,oy,ay;iy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ad=function(){};oy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,gs(zn.current);var i=null;switch(n){case"input":s=sd(e,s),r=sd(e,r),i=[];break;case"select":s=Xe({},s,{value:void 0}),r=Xe({},r,{value:void 0}),i=[];break;case"textarea":s=ad(e,s),r=ad(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Fl)}cd(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ay=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wi(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function K2(e,t,n){var r=t.pendingProps;switch($f(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return Wt(t.type)&&zl(),St(t),null;case 3:return r=t.stateNode,bi(),Ve(Vt),Ve(Tt),Xf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_n!==null&&(Vd(_n),_n=null))),Ad(e,t),St(t),null;case 5:Gf(t);var s=gs(Ho.current);if(n=t.type,e!==null&&t.stateNode!=null)oy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return St(t),null}if(e=gs(zn.current),Pa(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[An]=t,r[$o]=i,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<oo.length;s++)He(oo[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Yh(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":Xh(r,i),He("invalid",r)}cd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Da(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Da(r.textContent,a,e),s=["children",""+a]):Mo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":ja(r),Gh(r,i,!0);break;case"textarea":ja(r),Qh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Fl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=L0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[An]=t,e[$o]=r,iy(e,t,!1,!1),t.stateNode=e;e:{switch(o=ud(n,r),n){case"dialog":He("cancel",e),He("close",e),s=r;break;case"iframe":case"object":case"embed":He("load",e),s=r;break;case"video":case"audio":for(s=0;s<oo.length;s++)He(oo[s],e);s=r;break;case"source":He("error",e),s=r;break;case"img":case"image":case"link":He("error",e),He("load",e),s=r;break;case"details":He("toggle",e),s=r;break;case"input":Yh(e,r),s=sd(e,r),He("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Xe({},r,{value:void 0}),He("invalid",e);break;case"textarea":Xh(e,r),s=ad(e,r),He("invalid",e);break;default:s=r}cd(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?F0(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&A0(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Do(e,l):typeof l=="number"&&Do(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&He("scroll",e):l!=null&&Nf(e,i,l,o))}switch(n){case"input":ja(e),Gh(e,r,!1);break;case"textarea":ja(e),Qh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?li(e,!!r.multiple,i,!1):r.defaultValue!=null&&li(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)ay(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=gs(Ho.current),gs(zn.current),Pa(t)){if(r=t.stateNode,n=t.memoizedProps,r[An]=t,(i=r.nodeValue!==n)&&(e=Zt,e!==null))switch(e.tag){case 3:Da(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Da(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[An]=t,t.stateNode=r}return St(t),null;case 13:if(Ve(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Jt!==null&&t.mode&1&&!(t.flags&128))Ex(),yi(),t.flags|=98560,i=!1;else if(i=Pa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[An]=t}else yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),i=!1}else _n!==null&&(Vd(_n),_n=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?dt===0&&(dt=3):lh())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return bi(),Ad(e,t),e===null&&zo(t.stateNode.containerInfo),St(t),null;case 10:return Wf(t.type._context),St(t),null;case 17:return Wt(t.type)&&zl(),St(t),null;case 19:if(Ve(Ye),i=t.memoizedState,i===null)return St(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Wi(i,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Kl(e),o!==null){for(t.flags|=128,Wi(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(Ye,Ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&rt()>_i&&(t.flags|=128,r=!0,Wi(i,!1),t.lanes=4194304)}else{if(!r)if(e=Kl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!qe)return St(t),null}else 2*rt()-i.renderingStartTime>_i&&n!==1073741824&&(t.flags|=128,r=!0,Wi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=rt(),t.sibling=null,n=Ye.current,$e(Ye,r?n&1|2:n&1),t):(St(t),null);case 22:case 23:return ah(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xt&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function q2(e,t){switch($f(t),t.tag){case 1:return Wt(t.type)&&zl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bi(),Ve(Vt),Ve(Tt),Xf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gf(t),null;case 13:if(Ve(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Ye),null;case 4:return bi(),null;case 10:return Wf(t.type._context),null;case 22:case 23:return ah(),null;case 24:return null;default:return null}}var Aa=!1,Nt=!1,Y2=typeof WeakSet=="function"?WeakSet:Set,te=null;function ii(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(e,t,r)}else n.current=null}function Id(e,t,n){try{n()}catch(r){et(e,t,r)}}var Bp=!1;function G2(e,t){if(bd=Ll,e=fx(),zf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wd={focusedElem:e,selectionRange:n},Ll=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,b=x.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vn(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){et(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return x=Bp,Bp=!1,x}function bo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Id(t,n,i)}s=s.next}while(s!==r)}}function Cc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ly(e){var t=e.alternate;t!==null&&(e.alternate=null,ly(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[An],delete t[$o],delete t[jd],delete t[M2],delete t[D2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cy(e){return e.tag===5||e.tag===3||e.tag===4}function $p(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fl));else if(r!==4&&(e=e.child,e!==null))for(zd(e,t,n),e=e.sibling;e!==null;)zd(e,t,n),e=e.sibling}function Bd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Bd(e,t,n),e=e.sibling;e!==null;)Bd(e,t,n),e=e.sibling}var gt=null,bn=!1;function yr(e,t,n){for(n=n.child;n!==null;)uy(e,t,n),n=n.sibling}function uy(e,t,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(bc,n)}catch{}switch(n.tag){case 5:Nt||ii(n,t);case 6:var r=gt,s=bn;gt=null,yr(e,t,n),gt=r,bn=s,gt!==null&&(bn?(e=gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(bn?(e=gt,n=n.stateNode,e.nodeType===8?xu(e.parentNode,n):e.nodeType===1&&xu(e,n),Ao(e)):xu(gt,n.stateNode));break;case 4:r=gt,s=bn,gt=n.stateNode.containerInfo,bn=!0,yr(e,t,n),gt=r,bn=s;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Id(n,t,o),s=s.next}while(s!==r)}yr(e,t,n);break;case 1:if(!Nt&&(ii(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,t,a)}yr(e,t,n);break;case 21:yr(e,t,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,yr(e,t,n),Nt=r):yr(e,t,n);break;default:yr(e,t,n)}}function Up(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Y2),t.forEach(function(r){var s=sw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,bn=!1;break e;case 3:gt=a.stateNode.containerInfo,bn=!0;break e;case 4:gt=a.stateNode.containerInfo,bn=!0;break e}a=a.return}if(gt===null)throw Error(U(160));uy(i,o,s),gt=null,bn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){et(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dy(t,e),t=t.sibling}function dy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(t,e),Rn(e),r&4){try{bo(3,e,e.return),Cc(3,e)}catch(g){et(e,e.return,g)}try{bo(5,e,e.return)}catch(g){et(e,e.return,g)}}break;case 1:yn(t,e),Rn(e),r&512&&n!==null&&ii(n,n.return);break;case 5:if(yn(t,e),Rn(e),r&512&&n!==null&&ii(n,n.return),e.flags&32){var s=e.stateNode;try{Do(s,"")}catch(g){et(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&P0(s,i),ud(a,o);var u=ud(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?F0(s,f):d==="dangerouslySetInnerHTML"?A0(s,f):d==="children"?Do(s,f):Nf(s,d,f,u)}switch(a){case"input":id(s,i);break;case"textarea":O0(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?li(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?li(s,!!i.multiple,i.defaultValue,!0):li(s,!!i.multiple,i.multiple?[]:"",!1))}s[$o]=i}catch(g){et(e,e.return,g)}}break;case 6:if(yn(t,e),Rn(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){et(e,e.return,g)}}break;case 3:if(yn(t,e),Rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ao(t.containerInfo)}catch(g){et(e,e.return,g)}break;case 4:yn(t,e),Rn(e);break;case 13:yn(t,e),Rn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ih=rt())),r&4&&Up(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Nt=(u=Nt)||d,yn(t,e),Nt=u):yn(t,e),Rn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(f=te=d;te!==null;){switch(h=te,p=h.child,h.tag){case 0:case 11:case 14:case 15:bo(4,h,h.return);break;case 1:ii(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){et(r,n,g)}}break;case 5:ii(h,h.return);break;case 22:if(h.memoizedState!==null){Vp(f);continue}}p!==null?(p.return=h,te=p):Vp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=I0("display",o))}catch(g){et(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){et(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yn(t,e),Rn(e),r&4&&Up(e);break;case 21:break;default:yn(t,e),Rn(e)}}function Rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cy(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Do(s,""),r.flags&=-33);var i=$p(e);Bd(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$p(e);zd(e,a,o);break;default:throw Error(U(161))}}catch(l){et(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X2(e,t,n){te=e,fy(e)}function fy(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Aa;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=Aa;var u=Nt;if(Aa=o,(Nt=l)&&!u)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?Wp(s):l!==null?(l.return=o,te=l):Wp(s);for(;i!==null;)te=i,fy(i),i=i.sibling;te=s,Aa=a,Nt=u}Hp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):Hp(e)}}function Hp(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||Cc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:vn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&kp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ao(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Nt||t.flags&512&&Fd(t)}catch(h){et(t,t.return,h)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function Vp(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function Wp(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Cc(4,t)}catch(l){et(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){et(t,s,l)}}var i=t.return;try{Fd(t)}catch(l){et(t,i,l)}break;case 5:var o=t.return;try{Fd(t)}catch(l){et(t,o,l)}}}catch(l){et(t,t.return,l)}if(t===e){te=null;break}var a=t.sibling;if(a!==null){a.return=t.return,te=a;break}te=t.return}}var Q2=Math.ceil,Gl=hr.ReactCurrentDispatcher,rh=hr.ReactCurrentOwner,fn=hr.ReactCurrentBatchConfig,ke=0,pt=null,at=null,vt=0,Xt=0,oi=Gr(0),dt=0,qo=null,Ms=0,Tc=0,sh=0,wo=null,$t=null,ih=0,_i=1/0,Jn=null,Xl=!1,$d=null,Fr=null,Ia=!1,Tr=null,Ql=0,_o=0,Ud=null,xl=-1,yl=0;function Pt(){return ke&6?rt():xl!==-1?xl:xl=rt()}function zr(e){return e.mode&1?ke&2&&vt!==0?vt&-vt:O2.transition!==null?(yl===0&&(yl=X0()),yl):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:rx(e.type)),e):1}function jn(e,t,n,r){if(50<_o)throw _o=0,Ud=null,Error(U(185));oa(e,n,r),(!(ke&2)||e!==pt)&&(e===pt&&(!(ke&2)&&(Tc|=n),dt===4&&Nr(e,vt)),Kt(e,r),n===1&&ke===0&&!(t.mode&1)&&(_i=rt()+500,Ec&&Xr()))}function Kt(e,t){var n=e.callbackNode;Ob(e,t);var r=Ol(e,e===pt?vt:0);if(r===0)n!==null&&ep(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ep(n),t===1)e.tag===0?P2(Kp.bind(null,e)):_x(Kp.bind(null,e)),T2(function(){!(ke&6)&&Xr()}),n=null;else{switch(Q0(r)){case 1:n=Mf;break;case 4:n=Y0;break;case 16:n=Pl;break;case 536870912:n=G0;break;default:n=Pl}n=by(n,hy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hy(e,t){if(xl=-1,yl=0,ke&6)throw Error(U(327));var n=e.callbackNode;if(hi()&&e.callbackNode!==n)return null;var r=Ol(e,e===pt?vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Jl(e,r);else{t=r;var s=ke;ke|=2;var i=my();(pt!==e||vt!==t)&&(Jn=null,_i=rt()+500,Ss(e,t));do try{ew();break}catch(a){py(e,a)}while(!0);Vf(),Gl.current=i,ke=s,at!==null?t=0:(pt=null,vt=0,t=dt)}if(t!==0){if(t===2&&(s=md(e),s!==0&&(r=s,t=Hd(e,s))),t===1)throw n=qo,Ss(e,0),Nr(e,r),Kt(e,rt()),n;if(t===6)Nr(e,r);else{if(s=e.current.alternate,!(r&30)&&!J2(s)&&(t=Jl(e,r),t===2&&(i=md(e),i!==0&&(r=i,t=Hd(e,i))),t===1))throw n=qo,Ss(e,0),Nr(e,r),Kt(e,rt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:us(e,$t,Jn);break;case 3:if(Nr(e,r),(r&130023424)===r&&(t=ih+500-rt(),10<t)){if(Ol(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Pt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Sd(us.bind(null,e,$t,Jn),t);break}us(e,$t,Jn);break;case 4:if(Nr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Sn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Q2(r/1960))-r,10<r){e.timeoutHandle=Sd(us.bind(null,e,$t,Jn),r);break}us(e,$t,Jn);break;case 5:us(e,$t,Jn);break;default:throw Error(U(329))}}}return Kt(e,rt()),e.callbackNode===n?hy.bind(null,e):null}function Hd(e,t){var n=wo;return e.current.memoizedState.isDehydrated&&(Ss(e,t).flags|=256),e=Jl(e,t),e!==2&&(t=$t,$t=n,t!==null&&Vd(t)),e}function Vd(e){$t===null?$t=e:$t.push.apply($t,e)}function J2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nr(e,t){for(t&=~sh,t&=~Tc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Sn(t),r=1<<n;e[n]=-1,t&=~r}}function Kp(e){if(ke&6)throw Error(U(327));hi();var t=Ol(e,0);if(!(t&1))return Kt(e,rt()),null;var n=Jl(e,t);if(e.tag!==0&&n===2){var r=md(e);r!==0&&(t=r,n=Hd(e,r))}if(n===1)throw n=qo,Ss(e,0),Nr(e,t),Kt(e,rt()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,us(e,$t,Jn),Kt(e,rt()),null}function oh(e,t){var n=ke;ke|=1;try{return e(t)}finally{ke=n,ke===0&&(_i=rt()+500,Ec&&Xr())}}function Ds(e){Tr!==null&&Tr.tag===0&&!(ke&6)&&hi();var t=ke;ke|=1;var n=fn.transition,r=Ae;try{if(fn.transition=null,Ae=1,e)return e()}finally{Ae=r,fn.transition=n,ke=t,!(ke&6)&&Xr()}}function ah(){Xt=oi.current,Ve(oi)}function Ss(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,C2(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch($f(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zl();break;case 3:bi(),Ve(Vt),Ve(Tt),Xf();break;case 5:Gf(r);break;case 4:bi();break;case 13:Ve(Ye);break;case 19:Ve(Ye);break;case 10:Wf(r.type._context);break;case 22:case 23:ah()}n=n.return}if(pt=e,at=e=Br(e.current,null),vt=Xt=t,dt=0,qo=null,sh=Tc=Ms=0,$t=wo=null,ms!==null){for(t=0;t<ms.length;t++)if(n=ms[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ms=null}return e}function py(e,t){do{var n=at;try{if(Vf(),pl.current=Yl,ql){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ql=!1}if(Rs=0,ht=ut=Ge=null,vo=!1,Vo=0,rh.current=null,n===null||n.return===null){dt=1,qo=t,at=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Pp(o);if(p!==null){p.flags&=-257,Op(p,o,a,i,t),p.mode&1&&Dp(i,u,t),t=p,l=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(l),t.updateQueue=g}else x.add(l);break e}else{if(!(t&1)){Dp(i,u,t),lh();break e}l=Error(U(426))}}else if(qe&&a.mode&1){var b=Pp(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Op(b,o,a,i,t),Uf(wi(l,a));break e}}i=l=wi(l,a),dt!==4&&(dt=2),wo===null?wo=[i]:wo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Qx(i,l,t);Np(i,y);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Fr===null||!Fr.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Jx(i,a,t);Np(i,S);break e}}i=i.return}while(i!==null)}xy(n)}catch(j){t=j,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function my(){var e=Gl.current;return Gl.current=Yl,e===null?Yl:e}function lh(){(dt===0||dt===3||dt===2)&&(dt=4),pt===null||!(Ms&268435455)&&!(Tc&268435455)||Nr(pt,vt)}function Jl(e,t){var n=ke;ke|=2;var r=my();(pt!==e||vt!==t)&&(Jn=null,Ss(e,t));do try{Z2();break}catch(s){py(e,s)}while(!0);if(Vf(),ke=n,Gl.current=r,at!==null)throw Error(U(261));return pt=null,vt=0,dt}function Z2(){for(;at!==null;)gy(at)}function ew(){for(;at!==null&&!Eb();)gy(at)}function gy(e){var t=vy(e.alternate,e,Xt);e.memoizedProps=e.pendingProps,t===null?xy(e):at=t,rh.current=null}function xy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=q2(n,t),n!==null){n.flags&=32767,at=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,at=null;return}}else if(n=K2(n,t,Xt),n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);dt===0&&(dt=5)}function us(e,t,n){var r=Ae,s=fn.transition;try{fn.transition=null,Ae=1,tw(e,t,n,r)}finally{fn.transition=s,Ae=r}return null}function tw(e,t,n,r){do hi();while(Tr!==null);if(ke&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Lb(e,i),e===pt&&(at=pt=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ia||(Ia=!0,by(Pl,function(){return hi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=fn.transition,fn.transition=null;var o=Ae;Ae=1;var a=ke;ke|=4,rh.current=null,G2(e,n),dy(n,e),w2(wd),Ll=!!bd,wd=bd=null,e.current=n,X2(n),Nb(),ke=a,Ae=o,fn.transition=i}else e.current=n;if(Ia&&(Ia=!1,Tr=e,Ql=s),i=e.pendingLanes,i===0&&(Fr=null),Tb(n.stateNode),Kt(e,rt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xl)throw Xl=!1,e=$d,$d=null,e;return Ql&1&&e.tag!==0&&hi(),i=e.pendingLanes,i&1?e===Ud?_o++:(_o=0,Ud=e):_o=0,Xr(),null}function hi(){if(Tr!==null){var e=Q0(Ql),t=fn.transition,n=Ae;try{if(fn.transition=null,Ae=16>e?16:e,Tr===null)var r=!1;else{if(e=Tr,Tr=null,Ql=0,ke&6)throw Error(U(331));var s=ke;for(ke|=4,te=e.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:bo(8,d,i)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var h=d.sibling,p=d.return;if(ly(d),d===u){te=null;break}if(h!==null){h.return=p,te=h;break}te=p}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bo(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,te=y;break e}te=i.return}}var m=e.current;for(te=m;te!==null;){o=te;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,te=v;else e:for(o=m;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cc(9,a)}}catch(j){et(a,a.return,j)}if(a===o){te=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,te=S;break e}te=a.return}}if(ke=s,Xr(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(bc,e)}catch{}r=!0}return r}finally{Ae=n,fn.transition=t}}return!1}function qp(e,t,n){t=wi(n,t),t=Qx(e,t,1),e=Ir(e,t,1),t=Pt(),e!==null&&(oa(e,1,t),Kt(e,t))}function et(e,t,n){if(e.tag===3)qp(e,e,n);else for(;t!==null;){if(t.tag===3){qp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fr===null||!Fr.has(r))){e=wi(n,e),e=Jx(t,e,1),t=Ir(t,e,1),e=Pt(),t!==null&&(oa(t,1,e),Kt(t,e));break}}t=t.return}}function nw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pt(),e.pingedLanes|=e.suspendedLanes&n,pt===e&&(vt&n)===n&&(dt===4||dt===3&&(vt&130023424)===vt&&500>rt()-ih?Ss(e,0):sh|=n),Kt(e,t)}function yy(e,t){t===0&&(e.mode&1?(t=ka,ka<<=1,!(ka&130023424)&&(ka=4194304)):t=1);var n=Pt();e=lr(e,t),e!==null&&(oa(e,t,n),Kt(e,n))}function rw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yy(e,n)}function sw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),yy(e,n)}var vy;vy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)Ht=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ht=!1,W2(e,t,n);Ht=!!(e.flags&131072)}else Ht=!1,qe&&t.flags&1048576&&Sx(t,Ul,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;gl(e,t),e=t.pendingProps;var s=xi(t,Tt.current);fi(t,n),s=Jf(null,t,r,e,s,n);var i=Zf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wt(r)?(i=!0,Bl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qf(t),s.updater=kc,t.stateNode=s,s._reactInternals=t,Rd(t,r,e,n),t=Pd(null,t,r,!0,i,n)):(t.tag=0,qe&&i&&Bf(t),Mt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(gl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ow(r),e=vn(r,e),s){case 0:t=Dd(null,t,r,e,n);break e;case 1:t=Ip(null,t,r,e,n);break e;case 11:t=Lp(null,t,r,e,n);break e;case 14:t=Ap(null,t,r,vn(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),Dd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),Ip(e,t,r,s,n);case 3:e:{if(ny(t),e===null)throw Error(U(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Tx(e,t),Wl(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=wi(Error(U(423)),t),t=Fp(e,t,r,n,s);break e}else if(r!==s){s=wi(Error(U(424)),t),t=Fp(e,t,r,n,s);break e}else for(Jt=Ar(t.stateNode.containerInfo.firstChild),Zt=t,qe=!0,_n=null,n=kx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yi(),r===s){t=cr(e,t,n);break e}Mt(e,t,r,n)}t=t.child}return t;case 5:return Rx(t),e===null&&kd(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,_d(r,s)?o=null:i!==null&&_d(r,i)&&(t.flags|=32),ty(e,t),Mt(e,t,o,n),t.child;case 6:return e===null&&kd(t),null;case 13:return ry(e,t,n);case 4:return Yf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vi(t,null,r,n):Mt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),Lp(e,t,r,s,n);case 7:return Mt(e,t,t.pendingProps,n),t.child;case 8:return Mt(e,t,t.pendingProps.children,n),t.child;case 12:return Mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,$e(Hl,r._currentValue),r._currentValue=o,i!==null)if(Nn(i.value,o)){if(i.children===s.children&&!Vt.current){t=cr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=sr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Cd(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cd(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Mt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,fi(t,n),s=hn(s),r=r(s),t.flags|=1,Mt(e,t,r,n),t.child;case 14:return r=t.type,s=vn(r,t.pendingProps),s=vn(r.type,s),Ap(e,t,r,s,n);case 15:return Zx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),gl(e,t),t.tag=1,Wt(r)?(e=!0,Bl(t)):e=!1,fi(t,n),Xx(t,r,s),Rd(t,r,s,n),Pd(null,t,r,!0,e,n);case 19:return sy(e,t,n);case 22:return ey(e,t,n)}throw Error(U(156,t.tag))};function by(e,t){return q0(e,t)}function iw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,r){return new iw(e,t,n,r)}function ch(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ow(e){if(typeof e=="function")return ch(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cf)return 11;if(e===Tf)return 14}return 2}function Br(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vl(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")ch(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xs:return js(n.children,s,i,t);case kf:o=8,s|=8;break;case ed:return e=un(12,n,t,s|2),e.elementType=ed,e.lanes=i,e;case td:return e=un(13,n,t,s),e.elementType=td,e.lanes=i,e;case nd:return e=un(19,n,t,s),e.elementType=nd,e.lanes=i,e;case R0:return Rc(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C0:o=10;break e;case T0:o=9;break e;case Cf:o=11;break e;case Tf:o=14;break e;case _r:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=un(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function js(e,t,n,r){return e=un(7,e,r,t),e.lanes=n,e}function Rc(e,t,n,r){return e=un(22,e,r,t),e.elementType=R0,e.lanes=n,e.stateNode={isHidden:!1},e}function Eu(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function Nu(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ou(0),this.expirationTimes=ou(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ou(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function uh(e,t,n,r,s,i,o,a,l){return e=new aw(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=un(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qf(i),e}function lw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wy(e){if(!e)return Vr;e=e._reactInternals;e:{if(zs(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(Wt(n))return wx(e,n,t)}return t}function _y(e,t,n,r,s,i,o,a,l){return e=uh(n,r,!0,e,s,i,o,a,l),e.context=wy(null),n=e.current,r=Pt(),s=zr(n),i=sr(r,s),i.callback=t??null,Ir(n,i,s),e.current.lanes=s,oa(e,s,r),Kt(e,r),e}function Mc(e,t,n,r){var s=t.current,i=Pt(),o=zr(s);return n=wy(n),t.context===null?t.context=n:t.pendingContext=n,t=sr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ir(s,t,o),e!==null&&(jn(e,s,o,i),hl(e,s,o)),o}function Zl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dh(e,t){Yp(e,t),(e=e.alternate)&&Yp(e,t)}function cw(){return null}var Sy=typeof reportError=="function"?reportError:function(e){console.error(e)};function fh(e){this._internalRoot=e}Dc.prototype.render=fh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Mc(e,t,null,null)};Dc.prototype.unmount=fh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ds(function(){Mc(null,e,null,null)}),t[ar]=null}};function Dc(e){this._internalRoot=e}Dc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ex();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Er.length&&t!==0&&t<Er[n].priority;n++);Er.splice(n,0,e),n===0&&nx(e)}};function hh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gp(){}function uw(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Zl(o);i.call(u)}}var o=_y(t,r,e,0,null,!1,!1,"",Gp);return e._reactRootContainer=o,e[ar]=o.current,zo(e.nodeType===8?e.parentNode:e),Ds(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Zl(l);a.call(u)}}var l=uh(e,0,!1,null,null,!1,!1,"",Gp);return e._reactRootContainer=l,e[ar]=l.current,zo(e.nodeType===8?e.parentNode:e),Ds(function(){Mc(t,l,n,r)}),l}function Oc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Zl(o);a.call(l)}}Mc(t,o,e,s)}else o=uw(n,t,e,s,r);return Zl(o)}J0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=io(t.pendingLanes);n!==0&&(Df(t,n|1),Kt(t,rt()),!(ke&6)&&(_i=rt()+500,Xr()))}break;case 13:Ds(function(){var r=lr(e,1);if(r!==null){var s=Pt();jn(r,e,1,s)}}),dh(e,1)}};Pf=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var n=Pt();jn(t,e,134217728,n)}dh(e,134217728)}};Z0=function(e){if(e.tag===13){var t=zr(e),n=lr(e,t);if(n!==null){var r=Pt();jn(n,e,t,r)}dh(e,t)}};ex=function(){return Ae};tx=function(e,t){var n=Ae;try{return Ae=e,t()}finally{Ae=n}};fd=function(e,t,n){switch(t){case"input":if(id(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=jc(r);if(!s)throw Error(U(90));D0(r),id(r,s)}}}break;case"textarea":O0(e,n);break;case"select":t=n.value,t!=null&&li(e,!!n.multiple,t,!1)}};$0=oh;U0=Ds;var dw={usingClientEntryPoint:!1,Events:[la,ei,jc,z0,B0,oh]},Ki={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fw={bundleType:Ki.bundleType,version:Ki.version,rendererPackageName:Ki.rendererPackageName,rendererConfig:Ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=W0(e),e===null?null:e.stateNode},findFiberByHostInstance:Ki.findFiberByHostInstance||cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{bc=Fa.inject(fw),Fn=Fa}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dw;nn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hh(t))throw Error(U(200));return lw(e,t,null,n)};nn.createRoot=function(e,t){if(!hh(e))throw Error(U(299));var n=!1,r="",s=Sy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=uh(e,1,!1,null,null,n,!1,r,s),e[ar]=t.current,zo(e.nodeType===8?e.parentNode:e),new fh(t)};nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=W0(t),e=e===null?null:e.stateNode,e};nn.flushSync=function(e){return Ds(e)};nn.hydrate=function(e,t,n){if(!Pc(t))throw Error(U(200));return Oc(null,e,t,!0,n)};nn.hydrateRoot=function(e,t,n){if(!hh(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Sy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=_y(t,null,e,1,n??null,s,!1,i,o),e[ar]=t.current,zo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Dc(t)};nn.render=function(e,t,n){if(!Pc(t))throw Error(U(200));return Oc(null,e,t,!1,n)};nn.unmountComponentAtNode=function(e){if(!Pc(e))throw Error(U(40));return e._reactRootContainer?(Ds(function(){Oc(null,null,e,!1,function(){e._reactRootContainer=null,e[ar]=null})}),!0):!1};nn.unstable_batchedUpdates=oh;nn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pc(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Oc(e,t,n,!1,r)};nn.version="18.3.1-next-f1338f8080-20240426";function jy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jy)}catch(e){console.error(e)}}jy(),j0.exports=nn;var ph=j0.exports;const hw=vf(ph),pw=f0({__proto__:null,default:hw},[ph]);var Ey,Xp=ph;Ey=Xp.createRoot,Xp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}var ot;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ot||(ot={}));const Qp="popstate";function mw(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Yo("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ps(s)}return xw(t,n,null,e)}function ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Si(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gw(){return Math.random().toString(36).substr(2,8)}function Jp(e,t){return{usr:e.state,key:e.key,idx:t}}function Yo(e,t,n,r){return n===void 0&&(n=null),Ke({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qr(t):t,{state:n,key:t&&t.key||r||gw()})}function Ps(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Qr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xw(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ot.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ke({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ot.Pop;let b=d(),y=b==null?null:b-u;u=b,l&&l({action:a,location:g.location,delta:y})}function h(b,y){a=ot.Push;let m=Yo(g.location,b,y);u=d()+1;let v=Jp(m,u),S=g.createHref(m);try{o.pushState(v,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}i&&l&&l({action:a,location:g.location,delta:1})}function p(b,y){a=ot.Replace;let m=Yo(g.location,b,y);u=d();let v=Jp(m,u),S=g.createHref(m);o.replaceState(v,"",S),i&&l&&l({action:a,location:g.location,delta:0})}function x(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:Ps(b);return m=m.replace(/ $/,"%20"),ye(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Qp,f),l=b,()=>{s.removeEventListener(Qp,f),l=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(b){return o.go(b)}};return g}var Le;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Le||(Le={}));const yw=new Set(["lazy","caseSensitive","path","id","index","children"]);function vw(e){return e.index===!0}function ec(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(ye(s.index!==!0||!s.children,"Cannot specify children on an index route"),ye(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),vw(s)){let l=Ke({},s,t(s),{id:a});return r[a]=l,l}else{let l=Ke({},s,t(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=ec(s.children,t,o,r)),l}})}function fs(e,t,n){return n===void 0&&(n="/"),bl(e,t,n,!1)}function bl(e,t,n,r){let s=typeof t=="string"?Qr(t):t,i=Ti(s.pathname||"/",n);if(i==null)return null;let o=Ny(e);ww(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Dw(i);a=Rw(o[l],u,r)}return a}function bw(e,t){let{route:n,pathname:r,params:s}=e;return{id:n.id,pathname:r,params:s,data:t[n.id],handle:n.handle}}function Ny(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ir([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ny(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Cw(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ky(i.path))s(i,o,l)}),t}function ky(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ky(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function ww(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Tw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _w=/^:[\w-]+$/,Sw=3,jw=2,Ew=1,Nw=10,kw=-2,Zp=e=>e==="*";function Cw(e,t){let n=e.split("/"),r=n.length;return n.some(Zp)&&(r+=kw),t&&(r+=jw),n.filter(s=>!Zp(s)).reduce((s,i)=>s+(_w.test(i)?Sw:i===""?Ew:Nw),r)}function Tw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Rw(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=em({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=em({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ir([i,f.pathname]),pathnameBase:Lw(ir([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ir([i,f.pathnameBase]))}return o}function em(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Mw(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=a[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=a[f];return p&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Mw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Si(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Dw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Si(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ti(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Pw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Qr(e):e;return{pathname:n?n.startsWith("/")?n:Ow(n,t):t,search:Aw(r),hash:Iw(s)}}function Ow(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ku(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Lc(e,t){let n=Cy(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ac(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Qr(e):(s=Ke({},e),ye(!s.pathname||!s.pathname.includes("?"),ku("?","pathname","search",s)),ye(!s.pathname||!s.pathname.includes("#"),ku("#","pathname","hash",s)),ye(!s.search||!s.search.includes("#"),ku("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=Pw(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ir=e=>e.join("/").replace(/\/\/+/g,"/"),Lw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Aw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Iw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class tc{constructor(t,n,r,s){s===void 0&&(s=!1),this.status=t,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Go(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ty=["post","put","patch","delete"],Fw=new Set(Ty),zw=["get",...Ty],Bw=new Set(zw),$w=new Set([301,302,303,307,308]),Uw=new Set([307,308]),Cu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qi={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},mh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vw=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Ry="remix-router-transitions";function Ww(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ye(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let T=e.detectErrorBoundary;s=R=>({hasErrorBoundary:T(R)})}else s=Vw;let i={},o=ec(e.routes,s,void 0,i),a,l=e.basename||"/",u=e.dataStrategy||Gw,d=e.patchRoutesOnNavigation,f=Ke({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,p=new Set,x=null,g=null,b=null,y=e.hydrationData!=null,m=fs(o,e.history.location,l),v=!1,S=null;if(m==null&&!d){let T=Bt(404,{pathname:e.history.location.pathname}),{matches:R,route:M}=dm(o);m=R,S={[M.id]:T}}m&&!e.hydrationData&&ya(m,o,e.history.location.pathname).active&&(m=null);let j;if(m)if(m.some(T=>T.route.lazy))j=!1;else if(!m.some(T=>T.route.loader))j=!0;else if(f.v7_partialHydration){let T=e.hydrationData?e.hydrationData.loaderData:null,R=e.hydrationData?e.hydrationData.errors:null;if(R){let M=m.findIndex(z=>R[z.route.id]!==void 0);j=m.slice(0,M+1).every(z=>!Kd(z.route,T,R))}else j=m.every(M=>!Kd(M.route,T,R))}else j=e.hydrationData!=null;else if(j=!1,m=[],f.v7_partialHydration){let T=ya(null,o,e.history.location.pathname);T.active&&T.matches&&(v=!0,m=T.matches)}let k,_={historyAction:e.history.action,location:e.history.location,matches:m,initialized:j,navigation:Cu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||S,fetchers:new Map,blockers:new Map},E=ot.Pop,D=!1,C,L=!1,A=new Map,W=null,Y=!1,Q=!1,K=[],re=new Set,O=new Map,B=0,q=-1,le=new Map,$=new Set,I=new Map,G=new Map,ne=new Set,ee=new Map,X=new Map,ce;function Me(){if(h=e.history.listen(T=>{let{action:R,location:M,delta:z}=T;if(ce){ce(),ce=void 0;return}Si(X.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=$s({currentLocation:_.location,nextLocation:M,historyAction:R});if(J&&z!=null){let ue=new Promise(pe=>{ce=pe});e.history.go(z*-1),rs(J,{state:"blocked",location:M,proceed(){rs(J,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),ue.then(()=>e.history.go(z))},reset(){let pe=new Map(_.blockers);pe.set(J,qi),F({blockers:pe})}});return}return Qe(R,M)}),n){c_(t,A);let T=()=>u_(t,A);t.addEventListener("pagehide",T),W=()=>t.removeEventListener("pagehide",T)}return _.initialized||Qe(ot.Pop,_.location,{initialHydration:!0}),k}function ze(){h&&h(),W&&W(),p.clear(),C&&C.abort(),_.fetchers.forEach((T,R)=>V(R)),_.blockers.forEach((T,R)=>xr(R))}function N(T){return p.add(T),()=>p.delete(T)}function F(T,R){R===void 0&&(R={}),_=Ke({},_,T);let M=[],z=[];f.v7_fetcherPersist&&_.fetchers.forEach((J,ue)=>{J.state==="idle"&&(ne.has(ue)?z.push(ue):M.push(ue))}),ne.forEach(J=>{!_.fetchers.has(J)&&!O.has(J)&&z.push(J)}),[...p].forEach(J=>J(_,{deletedFetchers:z,viewTransitionOpts:R.viewTransitionOpts,flushSync:R.flushSync===!0})),f.v7_fetcherPersist?(M.forEach(J=>_.fetchers.delete(J)),z.forEach(J=>V(J))):z.forEach(J=>ne.delete(J))}function H(T,R,M){var z,J;let{flushSync:ue}=M===void 0?{}:M,pe=_.actionData!=null&&_.navigation.formMethod!=null&&wn(_.navigation.formMethod)&&_.navigation.state==="loading"&&((z=T.state)==null?void 0:z._isRedirect)!==!0,ie;R.actionData?Object.keys(R.actionData).length>0?ie=R.actionData:ie=null:pe?ie=_.actionData:ie=null;let oe=R.loaderData?cm(_.loaderData,R.loaderData,R.matches||[],R.errors):_.loaderData,se=_.blockers;se.size>0&&(se=new Map(se),se.forEach((je,mt)=>se.set(mt,qi)));let ae=D===!0||_.navigation.formMethod!=null&&wn(_.navigation.formMethod)&&((J=T.state)==null?void 0:J._isRedirect)!==!0;a&&(o=a,a=void 0),Y||E===ot.Pop||(E===ot.Push?e.history.push(T,T.state):E===ot.Replace&&e.history.replace(T,T.state));let ge;if(E===ot.Pop){let je=A.get(_.location.pathname);je&&je.has(T.pathname)?ge={currentLocation:_.location,nextLocation:T}:A.has(T.pathname)&&(ge={currentLocation:T,nextLocation:_.location})}else if(L){let je=A.get(_.location.pathname);je?je.add(T.pathname):(je=new Set([T.pathname]),A.set(_.location.pathname,je)),ge={currentLocation:_.location,nextLocation:T}}F(Ke({},R,{actionData:ie,loaderData:oe,historyAction:E,location:T,initialized:!0,navigation:Cu,revalidation:"idle",restoreScrollPosition:Bh(T,R.matches||_.matches),preventScrollReset:ae,blockers:se}),{viewTransitionOpts:ge,flushSync:ue===!0}),E=ot.Pop,D=!1,L=!1,Y=!1,Q=!1,K=[]}async function Te(T,R){if(typeof T=="number"){e.history.go(T);return}let M=Wd(_.location,_.matches,l,f.v7_prependBasename,T,f.v7_relativeSplatPath,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:z,submission:J,error:ue}=tm(f.v7_normalizeFormMethod,!1,M,R),pe=_.location,ie=Yo(_.location,z,R&&R.state);ie=Ke({},ie,e.history.encodeLocation(ie));let oe=R&&R.replace!=null?R.replace:void 0,se=ot.Push;oe===!0?se=ot.Replace:oe===!1||J!=null&&wn(J.formMethod)&&J.formAction===_.location.pathname+_.location.search&&(se=ot.Replace);let ae=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,ge=(R&&R.flushSync)===!0,je=$s({currentLocation:pe,nextLocation:ie,historyAction:se});if(je){rs(je,{state:"blocked",location:ie,proceed(){rs(je,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),Te(T,R)},reset(){let mt=new Map(_.blockers);mt.set(je,qi),F({blockers:mt})}});return}return await Qe(se,ie,{submission:J,pendingError:ue,preventScrollReset:ae,replace:R&&R.replace,enableViewTransition:R&&R.viewTransition,flushSync:ge})}function xe(){if(Wn(),F({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){Qe(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}Qe(E||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:L===!0})}}async function Qe(T,R,M){C&&C.abort(),C=null,E=T,Y=(M&&M.startUninterruptedRevalidation)===!0,L1(_.location,_.matches),D=(M&&M.preventScrollReset)===!0,L=(M&&M.enableViewTransition)===!0;let z=a||o,J=M&&M.overrideNavigation,ue=M!=null&&M.initialHydration&&_.matches&&_.matches.length>0&&!v?_.matches:fs(z,R,l),pe=(M&&M.flushSync)===!0;if(ue&&_.initialized&&!Q&&t_(_.location,R)&&!(M&&M.submission&&wn(M.submission.formMethod))){H(R,{matches:ue},{flushSync:pe});return}let ie=ya(ue,z,R.pathname);if(ie.active&&ie.matches&&(ue=ie.matches),!ue){let{error:Be,notFoundMatches:De,route:Je}=Li(R.pathname);H(R,{matches:De,loaderData:{},errors:{[Je.id]:Be}},{flushSync:pe});return}C=new AbortController;let oe=Ks(e.history,R,C.signal,M&&M.submission),se;if(M&&M.pendingError)se=[hs(ue).route.id,{type:Le.error,error:M.pendingError}];else if(M&&M.submission&&wn(M.submission.formMethod)){let Be=await Hn(oe,R,M.submission,ue,ie.active,{replace:M.replace,flushSync:pe});if(Be.shortCircuited)return;if(Be.pendingActionResult){let[De,Je]=Be.pendingActionResult;if(Qt(Je)&&Go(Je.error)&&Je.error.status===404){C=null,H(R,{matches:Be.matches,loaderData:{},errors:{[De]:Je.error}});return}}ue=Be.matches||ue,se=Be.pendingActionResult,J=Tu(R,M.submission),pe=!1,ie.active=!1,oe=Ks(e.history,oe.url,oe.signal)}let{shortCircuited:ae,matches:ge,loaderData:je,errors:mt}=await sn(oe,R,ue,ie.active,J,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,M&&M.initialHydration===!0,pe,se);ae||(C=null,H(R,Ke({matches:ge||ue},um(se),{loaderData:je,errors:mt})))}async function Hn(T,R,M,z,J,ue){ue===void 0&&(ue={}),Wn();let pe=a_(R,M);if(F({navigation:pe},{flushSync:ue.flushSync===!0}),J){let se=await va(z,R.pathname,T.signal);if(se.type==="aborted")return{shortCircuited:!0};if(se.type==="error"){let ae=hs(se.partialMatches).route.id;return{matches:se.partialMatches,pendingActionResult:[ae,{type:Le.error,error:se.error}]}}else if(se.matches)z=se.matches;else{let{notFoundMatches:ae,error:ge,route:je}=Li(R.pathname);return{matches:ae,pendingActionResult:[je.id,{type:Le.error,error:ge}]}}}let ie,oe=ao(z,R);if(!oe.route.action&&!oe.route.lazy)ie={type:Le.error,error:Bt(405,{method:T.method,pathname:R.pathname,routeId:oe.route.id})};else if(ie=(await xn("action",_,T,[oe],z,null))[oe.route.id],T.signal.aborted)return{shortCircuited:!0};if(xs(ie)){let se;return ue&&ue.replace!=null?se=ue.replace:se=om(ie.response.headers.get("Location"),new URL(T.url),l)===_.location.pathname+_.location.search,await Gt(T,ie,!0,{submission:M,replace:se}),{shortCircuited:!0}}if(Rr(ie))throw Bt(400,{type:"defer-action"});if(Qt(ie)){let se=hs(z,oe.route.id);return(ue&&ue.replace)!==!0&&(E=ot.Push),{matches:z,pendingActionResult:[se.route.id,ie]}}return{matches:z,pendingActionResult:[oe.route.id,ie]}}async function sn(T,R,M,z,J,ue,pe,ie,oe,se,ae){let ge=J||Tu(R,ue),je=ue||pe||hm(ge),mt=!Y&&(!f.v7_partialHydration||!oe);if(z){if(mt){let Ze=Vn(ae);F(Ke({navigation:ge},Ze!==void 0?{actionData:Ze}:{}),{flushSync:se})}let Re=await va(M,R.pathname,T.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let Ze=hs(Re.partialMatches).route.id;return{matches:Re.partialMatches,loaderData:{},errors:{[Ze]:Re.error}}}else if(Re.matches)M=Re.matches;else{let{error:Ze,notFoundMatches:Hs,route:Fi}=Li(R.pathname);return{matches:Hs,loaderData:{},errors:{[Fi.id]:Ze}}}}let Be=a||o,[De,Je]=rm(e.history,_,M,je,R,f.v7_partialHydration&&oe===!0,f.v7_skipActionErrorRevalidation,Q,K,re,ne,I,$,Be,l,ae);if(Zc(Re=>!(M&&M.some(Ze=>Ze.route.id===Re))||De&&De.some(Ze=>Ze.route.id===Re)),q=++B,De.length===0&&Je.length===0){let Re=Ie();return H(R,Ke({matches:M,loaderData:{},errors:ae&&Qt(ae[1])?{[ae[0]]:ae[1].error}:null},um(ae),Re?{fetchers:new Map(_.fetchers)}:{}),{flushSync:se}),{shortCircuited:!0}}if(mt){let Re={};if(!z){Re.navigation=ge;let Ze=Vn(ae);Ze!==void 0&&(Re.actionData=Ze)}Je.length>0&&(Re.fetchers=Cn(Je)),F(Re,{flushSync:se})}Je.forEach(Re=>{fe(Re.key),Re.controller&&O.set(Re.key,Re.controller)});let Us=()=>Je.forEach(Re=>fe(Re.key));C&&C.signal.addEventListener("abort",Us);let{loaderResults:Ai,fetcherResults:Kn}=await mr(_,M,De,Je,T);if(T.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Us),Je.forEach(Re=>O.delete(Re.key));let Tn=za(Ai);if(Tn)return await Gt(T,Tn.result,!0,{replace:ie}),{shortCircuited:!0};if(Tn=za(Kn),Tn)return $.add(Tn.key),await Gt(T,Tn.result,!0,{replace:ie}),{shortCircuited:!0};let{loaderData:eu,errors:Ii}=lm(_,M,Ai,ae,Je,Kn,ee);ee.forEach((Re,Ze)=>{Re.subscribe(Hs=>{(Hs||Re.done)&&ee.delete(Ze)})}),f.v7_partialHydration&&oe&&_.errors&&(Ii=Ke({},_.errors,Ii));let ss=Ie(),ba=Se(q),wa=ss||ba||Je.length>0;return Ke({matches:M,loaderData:eu,errors:Ii},wa?{fetchers:new Map(_.fetchers)}:{})}function Vn(T){if(T&&!Qt(T[1]))return{[T[0]]:T[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function Cn(T){return T.forEach(R=>{let M=_.fetchers.get(R.key),z=Yi(void 0,M?M.data:void 0);_.fetchers.set(R.key,z)}),new Map(_.fetchers)}function gn(T,R,M,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");fe(T);let J=(z&&z.flushSync)===!0,ue=a||o,pe=Wd(_.location,_.matches,l,f.v7_prependBasename,M,f.v7_relativeSplatPath,R,z==null?void 0:z.relative),ie=fs(ue,pe,l),oe=ya(ie,ue,pe);if(oe.active&&oe.matches&&(ie=oe.matches),!ie){Rt(T,R,Bt(404,{pathname:pe}),{flushSync:J});return}let{path:se,submission:ae,error:ge}=tm(f.v7_normalizeFormMethod,!0,pe,z);if(ge){Rt(T,R,ge,{flushSync:J});return}let je=ao(ie,se),mt=(z&&z.preventScrollReset)===!0;if(ae&&wn(ae.formMethod)){ts(T,R,se,je,ie,oe.active,J,mt,ae);return}I.set(T,{routeId:R,path:se}),ns(T,R,se,je,ie,oe.active,J,mt,ae)}async function ts(T,R,M,z,J,ue,pe,ie,oe){Wn(),I.delete(T);function se(it){if(!it.route.action&&!it.route.lazy){let Vs=Bt(405,{method:oe.formMethod,pathname:M,routeId:R});return Rt(T,R,Vs,{flushSync:pe}),!0}return!1}if(!ue&&se(z))return;let ae=_.fetchers.get(T);At(T,l_(oe,ae),{flushSync:pe});let ge=new AbortController,je=Ks(e.history,M,ge.signal,oe);if(ue){let it=await va(J,new URL(je.url).pathname,je.signal,T);if(it.type==="aborted")return;if(it.type==="error"){Rt(T,R,it.error,{flushSync:pe});return}else if(it.matches){if(J=it.matches,z=ao(J,M),se(z))return}else{Rt(T,R,Bt(404,{pathname:M}),{flushSync:pe});return}}O.set(T,ge);let mt=B,De=(await xn("action",_,je,[z],J,T))[z.route.id];if(je.signal.aborted){O.get(T)===ge&&O.delete(T);return}if(f.v7_fetcherPersist&&ne.has(T)){if(xs(De)||Qt(De)){At(T,wr(void 0));return}}else{if(xs(De))if(O.delete(T),q>mt){At(T,wr(void 0));return}else return $.add(T),At(T,Yi(oe)),Gt(je,De,!1,{fetcherSubmission:oe,preventScrollReset:ie});if(Qt(De)){Rt(T,R,De.error);return}}if(Rr(De))throw Bt(400,{type:"defer-action"});let Je=_.navigation.location||_.location,Us=Ks(e.history,Je,ge.signal),Ai=a||o,Kn=_.navigation.state!=="idle"?fs(Ai,_.navigation.location,l):_.matches;ye(Kn,"Didn't find any matches after fetcher action");let Tn=++B;le.set(T,Tn);let eu=Yi(oe,De.data);_.fetchers.set(T,eu);let[Ii,ss]=rm(e.history,_,Kn,oe,Je,!1,f.v7_skipActionErrorRevalidation,Q,K,re,ne,I,$,Ai,l,[z.route.id,De]);ss.filter(it=>it.key!==T).forEach(it=>{let Vs=it.key,$h=_.fetchers.get(Vs),F1=Yi(void 0,$h?$h.data:void 0);_.fetchers.set(Vs,F1),fe(Vs),it.controller&&O.set(Vs,it.controller)}),F({fetchers:new Map(_.fetchers)});let ba=()=>ss.forEach(it=>fe(it.key));ge.signal.addEventListener("abort",ba);let{loaderResults:wa,fetcherResults:Re}=await mr(_,Kn,Ii,ss,Us);if(ge.signal.aborted)return;ge.signal.removeEventListener("abort",ba),le.delete(T),O.delete(T),ss.forEach(it=>O.delete(it.key));let Ze=za(wa);if(Ze)return Gt(Us,Ze.result,!1,{preventScrollReset:ie});if(Ze=za(Re),Ze)return $.add(Ze.key),Gt(Us,Ze.result,!1,{preventScrollReset:ie});let{loaderData:Hs,errors:Fi}=lm(_,Kn,wa,void 0,ss,Re,ee);if(_.fetchers.has(T)){let it=wr(De.data);_.fetchers.set(T,it)}Se(Tn),_.navigation.state==="loading"&&Tn>q?(ye(E,"Expected pending action"),C&&C.abort(),H(_.navigation.location,{matches:Kn,loaderData:Hs,errors:Fi,fetchers:new Map(_.fetchers)})):(F({errors:Fi,loaderData:cm(_.loaderData,Hs,Kn,Fi),fetchers:new Map(_.fetchers)}),Q=!1)}async function ns(T,R,M,z,J,ue,pe,ie,oe){let se=_.fetchers.get(T);At(T,Yi(oe,se?se.data:void 0),{flushSync:pe});let ae=new AbortController,ge=Ks(e.history,M,ae.signal);if(ue){let De=await va(J,new URL(ge.url).pathname,ge.signal,T);if(De.type==="aborted")return;if(De.type==="error"){Rt(T,R,De.error,{flushSync:pe});return}else if(De.matches)J=De.matches,z=ao(J,M);else{Rt(T,R,Bt(404,{pathname:M}),{flushSync:pe});return}}O.set(T,ae);let je=B,Be=(await xn("loader",_,ge,[z],J,T))[z.route.id];if(Rr(Be)&&(Be=await gh(Be,ge.signal,!0)||Be),O.get(T)===ae&&O.delete(T),!ge.signal.aborted){if(ne.has(T)){At(T,wr(void 0));return}if(xs(Be))if(q>je){At(T,wr(void 0));return}else{$.add(T),await Gt(ge,Be,!1,{preventScrollReset:ie});return}if(Qt(Be)){Rt(T,R,Be.error);return}ye(!Rr(Be),"Unhandled fetcher deferred data"),At(T,wr(Be.data))}}async function Gt(T,R,M,z){let{submission:J,fetcherSubmission:ue,preventScrollReset:pe,replace:ie}=z===void 0?{}:z;R.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let oe=R.response.headers.get("Location");ye(oe,"Expected a Location header on the redirect Response"),oe=om(oe,new URL(T.url),l);let se=Yo(_.location,oe,{_isRedirect:!0});if(n){let De=!1;if(R.response.headers.has("X-Remix-Reload-Document"))De=!0;else if(mh.test(oe)){const Je=e.history.createURL(oe);De=Je.origin!==t.location.origin||Ti(Je.pathname,l)==null}if(De){ie?t.location.replace(oe):t.location.assign(oe);return}}C=null;let ae=ie===!0||R.response.headers.has("X-Remix-Replace")?ot.Replace:ot.Push,{formMethod:ge,formAction:je,formEncType:mt}=_.navigation;!J&&!ue&&ge&&je&&mt&&(J=hm(_.navigation));let Be=J||ue;if(Uw.has(R.response.status)&&Be&&wn(Be.formMethod))await Qe(ae,se,{submission:Ke({},Be,{formAction:oe}),preventScrollReset:pe||D,enableViewTransition:M?L:void 0});else{let De=Tu(se,J);await Qe(ae,se,{overrideNavigation:De,fetcherSubmission:ue,preventScrollReset:pe||D,enableViewTransition:M?L:void 0})}}async function xn(T,R,M,z,J,ue){let pe,ie={};try{pe=await Xw(u,T,R,M,z,J,ue,i,s)}catch(oe){return z.forEach(se=>{ie[se.route.id]={type:Le.error,error:oe}}),ie}for(let[oe,se]of Object.entries(pe))if(n_(se)){let ae=se.result;ie[oe]={type:Le.redirect,response:Zw(ae,M,oe,J,l,f.v7_relativeSplatPath)}}else ie[oe]=await Jw(se);return ie}async function mr(T,R,M,z,J){let ue=T.matches,pe=xn("loader",T,J,M,R,null),ie=Promise.all(z.map(async ae=>{if(ae.matches&&ae.match&&ae.controller){let je=(await xn("loader",T,Ks(e.history,ae.path,ae.controller.signal),[ae.match],ae.matches,ae.key))[ae.match.route.id];return{[ae.key]:je}}else return Promise.resolve({[ae.key]:{type:Le.error,error:Bt(404,{pathname:ae.path})}})})),oe=await pe,se=(await ie).reduce((ae,ge)=>Object.assign(ae,ge),{});return await Promise.all([i_(R,oe,J.signal,ue,T.loaderData),o_(R,se,z)]),{loaderResults:oe,fetcherResults:se}}function Wn(){Q=!0,K.push(...Zc()),I.forEach((T,R)=>{O.has(R)&&re.add(R),fe(R)})}function At(T,R,M){M===void 0&&(M={}),_.fetchers.set(T,R),F({fetchers:new Map(_.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function Rt(T,R,M,z){z===void 0&&(z={});let J=hs(_.matches,R);V(T),F({errors:{[J.route.id]:M},fetchers:new Map(_.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function gr(T){return G.set(T,(G.get(T)||0)+1),ne.has(T)&&ne.delete(T),_.fetchers.get(T)||Hw}function V(T){let R=_.fetchers.get(T);O.has(T)&&!(R&&R.state==="loading"&&le.has(T))&&fe(T),I.delete(T),le.delete(T),$.delete(T),f.v7_fetcherPersist&&ne.delete(T),re.delete(T),_.fetchers.delete(T)}function he(T){let R=(G.get(T)||0)-1;R<=0?(G.delete(T),ne.add(T),f.v7_fetcherPersist||V(T)):G.set(T,R),F({fetchers:new Map(_.fetchers)})}function fe(T){let R=O.get(T);R&&(R.abort(),O.delete(T))}function we(T){for(let R of T){let M=gr(R),z=wr(M.data);_.fetchers.set(R,z)}}function Ie(){let T=[],R=!1;for(let M of $){let z=_.fetchers.get(M);ye(z,"Expected fetcher: "+M),z.state==="loading"&&($.delete(M),T.push(M),R=!0)}return we(T),R}function Se(T){let R=[];for(let[M,z]of le)if(z<T){let J=_.fetchers.get(M);ye(J,"Expected fetcher: "+M),J.state==="loading"&&(fe(M),le.delete(M),R.push(M))}return we(R),R.length>0}function wt(T,R){let M=_.blockers.get(T)||qi;return X.get(T)!==R&&X.set(T,R),M}function xr(T){_.blockers.delete(T),X.delete(T)}function rs(T,R){let M=_.blockers.get(T)||qi;ye(M.state==="unblocked"&&R.state==="blocked"||M.state==="blocked"&&R.state==="blocked"||M.state==="blocked"&&R.state==="proceeding"||M.state==="blocked"&&R.state==="unblocked"||M.state==="proceeding"&&R.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+R.state);let z=new Map(_.blockers);z.set(T,R),F({blockers:z})}function $s(T){let{currentLocation:R,nextLocation:M,historyAction:z}=T;if(X.size===0)return;X.size>1&&Si(!1,"A router only supports one blocker at a time");let J=Array.from(X.entries()),[ue,pe]=J[J.length-1],ie=_.blockers.get(ue);if(!(ie&&ie.state==="proceeding")&&pe({currentLocation:R,nextLocation:M,historyAction:z}))return ue}function Li(T){let R=Bt(404,{pathname:T}),M=a||o,{matches:z,route:J}=dm(M);return Zc(),{notFoundMatches:z,route:J,error:R}}function Zc(T){let R=[];return ee.forEach((M,z)=>{(!T||T(z))&&(M.cancel(),R.push(z),ee.delete(z))}),R}function O1(T,R,M){if(x=T,b=R,g=M||null,!y&&_.navigation===Cu){y=!0;let z=Bh(_.location,_.matches);z!=null&&F({restoreScrollPosition:z})}return()=>{x=null,b=null,g=null}}function zh(T,R){return g&&g(T,R.map(z=>bw(z,_.loaderData)))||T.key}function L1(T,R){if(x&&b){let M=zh(T,R);x[M]=b()}}function Bh(T,R){if(x){let M=zh(T,R),z=x[M];if(typeof z=="number")return z}return null}function ya(T,R,M){if(d)if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:bl(R,M,l,!0)}}else return{active:!0,matches:bl(R,M,l,!0)||[]};return{active:!1,matches:null}}async function va(T,R,M,z){if(!d)return{type:"success",matches:T};let J=T;for(;;){let ue=a==null,pe=a||o,ie=i;try{await d({signal:M,path:R,matches:J,fetcherKey:z,patch:(ae,ge)=>{M.aborted||im(ae,ge,pe,ie,s)}})}catch(ae){return{type:"error",error:ae,partialMatches:J}}finally{ue&&!M.aborted&&(o=[...o])}if(M.aborted)return{type:"aborted"};let oe=fs(pe,R,l);if(oe)return{type:"success",matches:oe};let se=bl(pe,R,l,!0);if(!se||J.length===se.length&&J.every((ae,ge)=>ae.route.id===se[ge].route.id))return{type:"success",matches:null};J=se}}function A1(T){i={},a=ec(T,s,void 0,i)}function I1(T,R){let M=a==null;im(T,R,a||o,i,s),M&&(o=[...o],F({}))}return k={get basename(){return l},get future(){return f},get state(){return _},get routes(){return o},get window(){return t},initialize:Me,subscribe:N,enableScrollRestoration:O1,navigate:Te,fetch:gn,revalidate:xe,createHref:T=>e.history.createHref(T),encodeLocation:T=>e.history.encodeLocation(T),getFetcher:gr,deleteFetcher:he,dispose:ze,getBlocker:wt,deleteBlocker:xr,patchRoutes:I1,_internalFetchControllers:O,_internalActiveDeferreds:ee,_internalSetRoutes:A1},k}function Kw(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Wd(e,t,n,r,s,i,o,a){let l,u;if(o){l=[];for(let f of t)if(l.push(f),f.route.id===o){u=f;break}}else l=t,u=t[t.length-1];let d=Ac(s||".",Lc(l,i),Ti(e.pathname,n)||e.pathname,a==="path");if(s==null&&(d.search=e.search,d.hash=e.hash),(s==null||s===""||s===".")&&u){let f=xh(d.search);if(u.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let h=new URLSearchParams(d.search),p=h.getAll("index");h.delete("index"),p.filter(g=>g).forEach(g=>h.append("index",g));let x=h.toString();d.search=x?"?"+x:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:ir([n,d.pathname])),Ps(d)}function tm(e,t,n,r){if(!r||!Kw(r))return{path:n};if(r.formMethod&&!s_(r.formMethod))return{path:n,error:Bt(405,{method:r.formMethod})};let s=()=>({path:n,error:Bt(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),a=Py(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!wn(o))return s();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,x)=>{let[g,b]=x;return""+p+g+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!wn(o))return s();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}ye(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=qd(r.formData),u=r.formData;else if(r.body instanceof FormData)l=qd(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=am(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=am(l)}catch{return s()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(wn(d.formMethod))return{path:n,submission:d};let f=Qr(n);return t&&f.search&&xh(f.search)&&l.append("index",""),f.search="?"+l,{path:Ps(f),submission:d}}function nm(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(s=>s.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function rm(e,t,n,r,s,i,o,a,l,u,d,f,h,p,x,g){let b=g?Qt(g[1])?g[1].error:g[1].data:void 0,y=e.createURL(t.location),m=e.createURL(s),v=n;i&&t.errors?v=nm(n,Object.keys(t.errors)[0],!0):g&&Qt(g[1])&&(v=nm(n,g[0]));let S=g?g[1].statusCode:void 0,j=o&&S&&S>=400,k=v.filter((E,D)=>{let{route:C}=E;if(C.lazy)return!0;if(C.loader==null)return!1;if(i)return Kd(C,t.loaderData,t.errors);if(qw(t.loaderData,t.matches[D],E)||l.some(W=>W===E.route.id))return!0;let L=t.matches[D],A=E;return sm(E,Ke({currentUrl:y,currentParams:L.params,nextUrl:m,nextParams:A.params},r,{actionResult:b,actionStatus:S,defaultShouldRevalidate:j?!1:a||y.pathname+y.search===m.pathname+m.search||y.search!==m.search||My(L,A)}))}),_=[];return f.forEach((E,D)=>{if(i||!n.some(Y=>Y.route.id===E.routeId)||d.has(D))return;let C=fs(p,E.path,x);if(!C){_.push({key:D,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let L=t.fetchers.get(D),A=ao(C,E.path),W=!1;h.has(D)?W=!1:u.has(D)?(u.delete(D),W=!0):L&&L.state!=="idle"&&L.data===void 0?W=a:W=sm(A,Ke({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:S,defaultShouldRevalidate:j?!1:a})),W&&_.push({key:D,routeId:E.routeId,path:E.path,matches:C,match:A,controller:new AbortController})}),[k,_]}function Kd(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,s=n!=null&&n[e.id]!==void 0;return!r&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!s}function qw(e,t,n){let r=!t||n.route.id!==t.route.id,s=e[n.route.id]===void 0;return r||s}function My(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function sm(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function im(e,t,n,r,s){var i;let o;if(e){let u=r[e];ye(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),o=u.children}else o=n;let a=t.filter(u=>!o.some(d=>Dy(u,d))),l=ec(a,s,[e||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...l)}function Dy(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var s;return(s=t.children)==null?void 0:s.some(i=>Dy(n,i))}):!1}async function Yw(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let s=n[e.id];ye(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";Si(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!yw.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Ke({},t(s),{lazy:void 0}))}async function Gw(e){let{matches:t}=e,n=t.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function Xw(e,t,n,r,s,i,o,a,l,u){let d=i.map(p=>p.route.lazy?Yw(p.route,l,a):void 0),f=i.map((p,x)=>{let g=d[x],b=s.some(m=>m.route.id===p.route.id);return Ke({},p,{shouldLoad:b,resolve:async m=>(m&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(b=!0),b?Qw(t,r,p,g,m,u):Promise.resolve({type:Le.data,result:void 0}))})}),h=await e({matches:f,request:r,params:i[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return h}async function Qw(e,t,n,r,s,i){let o,a,l=u=>{let d,f=new Promise((x,g)=>d=g);a=()=>d(),t.signal.addEventListener("abort",a);let h=x=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:i},...x!==void 0?[x]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(g=>h(g)):h())}}catch(x){return{type:"error",result:x}}})();return Promise.race([p,f])};try{let u=n.route[e];if(r)if(u){let d,[f]=await Promise.all([l(u).catch(h=>{d=h}),r]);if(d!==void 0)throw d;o=f}else if(await r,u=n.route[e],u)o=await l(u);else if(e==="action"){let d=new URL(t.url),f=d.pathname+d.search;throw Bt(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:Le.data,result:void 0};else if(u)o=await l(u);else{let d=new URL(t.url),f=d.pathname+d.search;throw Bt(404,{pathname:f})}ye(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Le.error,result:u}}finally{a&&t.signal.removeEventListener("abort",a)}return o}async function Jw(e){let{result:t,type:n}=e;if(Oy(t)){let f;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(h){return{type:Le.error,error:h}}return n===Le.error?{type:Le.error,error:new tc(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:Le.data,data:f,statusCode:t.status,headers:t.headers}}if(n===Le.error){if(fm(t)){var r,s;if(t.data instanceof Error){var i,o;return{type:Le.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:Le.error,error:new tc(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:Go(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:Le.error,error:t,statusCode:Go(t)?t.status:void 0}}if(r_(t)){var a,l;return{type:Le.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(fm(t)){var u,d;return{type:Le.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}}return{type:Le.data,data:t}}function Zw(e,t,n,r,s,i){let o=e.headers.get("Location");if(ye(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!mh.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Wd(new URL(t.url),a,s,!0,o,i),e.headers.set("Location",o)}return e}function om(e,t,n){if(mh.test(e)){let r=e,s=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=Ti(s.pathname,n)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function Ks(e,t,n,r){let s=e.createURL(Py(t)).toString(),i={signal:n};if(r&&wn(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=qd(r.formData):i.body=r.formData}return new Request(s,i)}function qd(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function am(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function e_(e,t,n,r,s){let i={},o=null,a,l=!1,u={},d=n&&Qt(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,p=t[h];if(ye(!xs(p),"Cannot handle redirect results in processLoaderData"),Qt(p)){let x=p.error;d!==void 0&&(x=d,d=void 0),o=o||{};{let g=hs(e,h);o[g.route.id]==null&&(o[g.route.id]=x)}i[h]=void 0,l||(l=!0,a=Go(p.error)?p.error.status:500),p.headers&&(u[h]=p.headers)}else Rr(p)?(r.set(h,p.deferredData),i[h]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[h]=p.headers)):(i[h]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[h]=p.headers))}),d!==void 0&&n&&(o={[n[0]]:d},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:u}}function lm(e,t,n,r,s,i,o){let{loaderData:a,errors:l}=e_(t,n,r,o);return s.forEach(u=>{let{key:d,match:f,controller:h}=u,p=i[d];if(ye(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Qt(p)){let x=hs(e.matches,f==null?void 0:f.route.id);l&&l[x.route.id]||(l=Ke({},l,{[x.route.id]:p.error})),e.fetchers.delete(d)}else if(xs(p))ye(!1,"Unhandled fetcher revalidation redirect");else if(Rr(p))ye(!1,"Unhandled fetcher deferred data");else{let x=wr(p.data);e.fetchers.set(d,x)}}),{loaderData:a,errors:l}}function cm(e,t,n,r){let s=Ke({},t);for(let i of n){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(s[o]=t[o]):e[o]!==void 0&&i.route.loader&&(s[o]=e[o]),r&&r.hasOwnProperty(o))break}return s}function um(e){return e?Qt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function hs(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function dm(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Bt(e,t){let{pathname:n,routeId:r,method:s,type:i,message:o}=t===void 0?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",l='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new tc(e||500,a,new Error(l),!0)}function za(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,s]=t[n];if(xs(s))return{key:r,result:s}}}function Py(e){let t=typeof e=="string"?Qr(e):e;return Ps(Ke({},t,{hash:""}))}function t_(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function n_(e){return Oy(e.result)&&$w.has(e.result.status)}function Rr(e){return e.type===Le.deferred}function Qt(e){return e.type===Le.error}function xs(e){return(e&&e.type)===Le.redirect}function fm(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function r_(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Oy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function s_(e){return Bw.has(e.toLowerCase())}function wn(e){return Fw.has(e.toLowerCase())}async function i_(e,t,n,r,s){let i=Object.entries(t);for(let o=0;o<i.length;o++){let[a,l]=i[o],u=e.find(h=>(h==null?void 0:h.route.id)===a);if(!u)continue;let d=r.find(h=>h.route.id===u.route.id),f=d!=null&&!My(d,u)&&(s&&s[u.route.id])!==void 0;Rr(l)&&f&&await gh(l,n,!1).then(h=>{h&&(t[a]=h)})}}async function o_(e,t,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=t[s];e.find(u=>(u==null?void 0:u.route.id)===i)&&Rr(a)&&(ye(o,"Expected an AbortController for revalidating fetcher deferred result"),await gh(a,o.signal,!0).then(u=>{u&&(t[s]=u)}))}}async function gh(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Le.data,data:e.deferredData.unwrappedData}}catch(s){return{type:Le.error,error:s}}return{type:Le.data,data:e.deferredData.data}}}function xh(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ao(e,t){let n=typeof t=="string"?Qr(t).search:t.search;if(e[e.length-1].route.index&&xh(n||""))return e[e.length-1];let r=Cy(e);return r[r.length-1]}function hm(e){let{formMethod:t,formAction:n,formEncType:r,text:s,formData:i,json:o}=e;if(!(!t||!n||!r)){if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Tu(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function a_(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Yi(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function l_(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function wr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function c_(e,t){try{let n=e.sessionStorage.getItem(Ry);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function u_(e,t){if(t.size>0){let n={};for(let[r,s]of t)n[r]=[...s];try{e.sessionStorage.setItem(Ry,JSON.stringify(n))}catch(r){Si(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nc.apply(this,arguments)}const Ic=w.createContext(null),Ly=w.createContext(null),Jr=w.createContext(null),yh=w.createContext(null),pr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Ay=w.createContext(null);function d_(e,t){let{relative:n}=t===void 0?{}:t;Ri()||ye(!1);let{basename:r,navigator:s}=w.useContext(Jr),{hash:i,pathname:o,search:a}=zy(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ir([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Ri(){return w.useContext(yh)!=null}function Zr(){return Ri()||ye(!1),w.useContext(yh).location}function Iy(e){w.useContext(Jr).static||w.useLayoutEffect(e)}function Un(){let{isDataRoute:e}=w.useContext(pr);return e?S_():f_()}function f_(){Ri()||ye(!1);let e=w.useContext(Ic),{basename:t,future:n,navigator:r}=w.useContext(Jr),{matches:s}=w.useContext(pr),{pathname:i}=Zr(),o=JSON.stringify(Lc(s,n.v7_relativeSplatPath)),a=w.useRef(!1);return Iy(()=>{a.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Ac(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ir([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}function Fy(){let{matches:e}=w.useContext(pr),t=e[e.length-1];return t?t.params:{}}function zy(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(Jr),{matches:s}=w.useContext(pr),{pathname:i}=Zr(),o=JSON.stringify(Lc(s,r.v7_relativeSplatPath));return w.useMemo(()=>Ac(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function h_(e,t,n,r){Ri()||ye(!1);let{navigator:s,static:i}=w.useContext(Jr),{matches:o}=w.useContext(pr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Zr(),f;f=d;let h=f.pathname||"/",p=h;if(u!=="/"){let b=u.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=!i&&n&&n.matches&&n.matches.length>0?n.matches:fs(e,{pathname:p});return y_(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ir([u,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:ir([u,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r)}function p_(){let e=__(),t=Go(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const m_=w.createElement(p_,null);class g_ extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(pr.Provider,{value:this.props.routeContext},w.createElement(Ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x_(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(Ic);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(pr.Provider,{value:t},r)}function y_(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,x=!1,g=null,b=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||m_,l&&(u<0&&h===0?(j_("route-fallback"),x=!0,b=null):u===h&&(x=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),m=()=>{let v;return p?v=g:x?v=b:f.route.Component?v=w.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,w.createElement(x_,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(g_,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var By=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(By||{}),$y=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($y||{});function v_(e){let t=w.useContext(Ic);return t||ye(!1),t}function b_(e){let t=w.useContext(Ly);return t||ye(!1),t}function w_(e){let t=w.useContext(pr);return t||ye(!1),t}function Uy(e){let t=w_(),n=t.matches[t.matches.length-1];return n.route.id||ye(!1),n.route.id}function __(){var e;let t=w.useContext(Ay),n=b_($y.UseRouteError),r=Uy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function S_(){let{router:e}=v_(By.UseNavigateStable),t=Uy(),n=w.useRef(!1);return Iy(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,nc({fromRouteId:t},i)))},[e,t])}const pm={};function j_(e,t,n){pm[e]||(pm[e]=!0)}function E_(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Hy(e){let{to:t,replace:n,state:r,relative:s}=e;Ri()||ye(!1);let{future:i,static:o}=w.useContext(Jr),{matches:a}=w.useContext(pr),{pathname:l}=Zr(),u=Un(),d=Ac(t,Lc(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function N_(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ot.Pop,navigator:i,static:o=!1,future:a}=e;Ri()&&ye(!1);let l=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:o,future:nc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Qr(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:x="default"}=r,g=w.useMemo(()=>{let b=Ti(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:x},navigationType:s}},[l,d,f,h,p,x,s]);return g==null?null:w.createElement(Jr.Provider,{value:u},w.createElement(yh.Provider,{children:n,value:g}))}new Promise(()=>{});function k_(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:w.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:w.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:w.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xo.apply(this,arguments)}function C_(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function T_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function R_(e,t){return e.button===0&&(!t||t==="_self")&&!T_(e)}function Yd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function M_(e,t){let n=Yd(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const D_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],P_="6";try{window.__reactRouterVersion=P_}catch{}function O_(e,t){return Ww({basename:void 0,future:Xo({},void 0,{v7_prependBasename:!0}),history:mw({window:void 0}),hydrationData:L_(),routes:e,mapRouteProperties:k_,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function L_(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Xo({},t,{errors:A_(t.errors)})),t}function A_(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,s]of t)if(s&&s.__type==="RouteErrorResponse")n[r]=new tc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const I_=w.createContext({isTransitioning:!1}),F_=w.createContext(new Map),z_="startTransition",mm=nb[z_],B_="flushSync",gm=pw[B_];function $_(e){mm?mm(e):e()}function Gi(e){gm?gm(e):e()}class U_{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function H_(e){let{fallbackElement:t,router:n,future:r}=e,[s,i]=w.useState(n.state),[o,a]=w.useState(),[l,u]=w.useState({isTransitioning:!1}),[d,f]=w.useState(),[h,p]=w.useState(),[x,g]=w.useState(),b=w.useRef(new Map),{v7_startTransition:y}=r||{},m=w.useCallback(E=>{y?$_(E):E()},[y]),v=w.useCallback((E,D)=>{let{deletedFetchers:C,flushSync:L,viewTransitionOpts:A}=D;E.fetchers.forEach((Y,Q)=>{Y.data!==void 0&&b.current.set(Q,Y.data)}),C.forEach(Y=>b.current.delete(Y));let W=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!A||W){L?Gi(()=>i(E)):m(()=>i(E));return}if(L){Gi(()=>{h&&(d&&d.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let Y=n.window.document.startViewTransition(()=>{Gi(()=>i(E))});Y.finished.finally(()=>{Gi(()=>{f(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),Gi(()=>p(Y));return}h?(d&&d.resolve(),h.skipTransition(),g({state:E,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(a(E),u({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[n.window,h,d,b,m]);w.useLayoutEffect(()=>n.subscribe(v),[n,v]),w.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new U_)},[l]),w.useEffect(()=>{if(d&&o&&n.window){let E=o,D=d.promise,C=n.window.document.startViewTransition(async()=>{m(()=>i(E)),await D});C.finished.finally(()=>{f(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(C)}},[m,o,d,n.window]),w.useEffect(()=>{d&&o&&s.location.key===o.location.key&&d.resolve()},[d,h,s.location,o]),w.useEffect(()=>{!l.isTransitioning&&x&&(a(x.state),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),g(void 0))},[l.isTransitioning,x]),w.useEffect(()=>{},[]);let S=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,D,C)=>n.navigate(E,{state:D,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(E,D,C)=>n.navigate(E,{replace:!0,state:D,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[n]),j=n.basename||"/",k=w.useMemo(()=>({router:n,navigator:S,static:!1,basename:j}),[n,S,j]),_=w.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return w.useEffect(()=>E_(r,n.future),[r,n.future]),w.createElement(w.Fragment,null,w.createElement(Ic.Provider,{value:k},w.createElement(Ly.Provider,{value:s},w.createElement(F_.Provider,{value:b.current},w.createElement(I_.Provider,{value:l},w.createElement(N_,{basename:j,location:s.location,navigationType:s.historyAction,navigator:S,future:_},s.initialized||n.future.v7_partialHydration?w.createElement(V_,{routes:n.routes,future:n.future,state:s}):t))))),null)}const V_=w.memo(W_);function W_(e){let{routes:t,future:n,state:r}=e;return h_(t,void 0,r,n)}const K_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ur=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=C_(t,D_),{basename:p}=w.useContext(Jr),x,g=!1;if(typeof u=="string"&&q_.test(u)&&(x=u,K_))try{let v=new URL(window.location.href),S=u.startsWith("//")?new URL(v.protocol+u):new URL(u),j=Ti(S.pathname,p);S.origin===v.origin&&j!=null?u=j+S.search+S.hash:g=!0}catch{}let b=d_(u,{relative:s}),y=Y_(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function m(v){r&&r(v),v.defaultPrevented||y(v)}return w.createElement("a",Xo({},h,{href:x||b,onClick:g||i?r:m,ref:n,target:l}))});var xm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xm||(xm={}));var ym;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ym||(ym={}));function Y_(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Un(),u=Zr(),d=zy(e,{relative:o});return w.useCallback(f=>{if(R_(f,n)){f.preventDefault();let h=r!==void 0?r:Ps(u)===Ps(d);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,e,i,o,a])}function G_(e){let t=w.useRef(Yd(e)),n=w.useRef(!1),r=Zr(),s=w.useMemo(()=>M_(r.search,n.current?null:t.current),[r.search]),i=Un(),o=w.useCallback((a,l)=>{const u=Yd(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}function Vy(e,t){return function(){return e.apply(t,arguments)}}const{toString:X_}=Object.prototype,{getPrototypeOf:vh}=Object,{iterator:Fc,toStringTag:Wy}=Symbol,zc=(e=>t=>{const n=X_.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kn=e=>(e=e.toLowerCase(),t=>zc(t)===e),Bc=e=>t=>typeof t===e,{isArray:Mi}=Array,Qo=Bc("undefined");function Q_(e){return e!==null&&!Qo(e)&&e.constructor!==null&&!Qo(e.constructor)&&qt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ky=kn("ArrayBuffer");function J_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ky(e.buffer),t}const Z_=Bc("string"),qt=Bc("function"),qy=Bc("number"),$c=e=>e!==null&&typeof e=="object",e4=e=>e===!0||e===!1,wl=e=>{if(zc(e)!=="object")return!1;const t=vh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Wy in e)&&!(Fc in e)},t4=kn("Date"),n4=kn("File"),r4=kn("Blob"),s4=kn("FileList"),i4=e=>$c(e)&&qt(e.pipe),o4=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||qt(e.append)&&((t=zc(e))==="formdata"||t==="object"&&qt(e.toString)&&e.toString()==="[object FormData]"))},a4=kn("URLSearchParams"),[l4,c4,u4,d4]=["ReadableStream","Request","Response","Headers"].map(kn),f4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ua(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Mi(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function Yy(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Gy=e=>!Qo(e)&&e!==ys;function Gd(){const{caseless:e}=Gy(this)&&this||{},t={},n=(r,s)=>{const i=e&&Yy(t,s)||s;wl(t[i])&&wl(r)?t[i]=Gd(t[i],r):wl(r)?t[i]=Gd({},r):Mi(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&ua(arguments[r],n);return t}const h4=(e,t,n,{allOwnKeys:r}={})=>(ua(t,(s,i)=>{n&&qt(s)?e[i]=Vy(s,n):e[i]=s},{allOwnKeys:r}),e),p4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),m4=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},g4=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&vh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},x4=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},y4=e=>{if(!e)return null;if(Mi(e))return e;let t=e.length;if(!qy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},v4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vh(Uint8Array)),b4=(e,t)=>{const r=(e&&e[Fc]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},w4=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},_4=kn("HTMLFormElement"),S4=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),vm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),j4=kn("RegExp"),Xy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ua(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},E4=e=>{Xy(e,(t,n)=>{if(qt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(qt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},N4=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Mi(e)?r(e):r(String(e).split(t)),n},k4=()=>{},C4=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function T4(e){return!!(e&&qt(e.append)&&e[Wy]==="FormData"&&e[Fc])}const R4=e=>{const t=new Array(10),n=(r,s)=>{if($c(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const i=Mi(r)?[]:{};return ua(r,(o,a)=>{const l=n(o,s+1);!Qo(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},M4=kn("AsyncFunction"),D4=e=>e&&($c(e)||qt(e))&&qt(e.then)&&qt(e.catch),Qy=((e,t)=>e?setImmediate:t?((n,r)=>(ys.addEventListener("message",({source:s,data:i})=>{s===ys&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ys.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",qt(ys.postMessage)),P4=typeof queueMicrotask<"u"?queueMicrotask.bind(ys):typeof process<"u"&&process.nextTick||Qy,O4=e=>e!=null&&qt(e[Fc]),P={isArray:Mi,isArrayBuffer:Ky,isBuffer:Q_,isFormData:o4,isArrayBufferView:J_,isString:Z_,isNumber:qy,isBoolean:e4,isObject:$c,isPlainObject:wl,isReadableStream:l4,isRequest:c4,isResponse:u4,isHeaders:d4,isUndefined:Qo,isDate:t4,isFile:n4,isBlob:r4,isRegExp:j4,isFunction:qt,isStream:i4,isURLSearchParams:a4,isTypedArray:v4,isFileList:s4,forEach:ua,merge:Gd,extend:h4,trim:f4,stripBOM:p4,inherits:m4,toFlatObject:g4,kindOf:zc,kindOfTest:kn,endsWith:x4,toArray:y4,forEachEntry:b4,matchAll:w4,isHTMLForm:_4,hasOwnProperty:vm,hasOwnProp:vm,reduceDescriptors:Xy,freezeMethods:E4,toObjectSet:N4,toCamelCase:S4,noop:k4,toFiniteNumber:C4,findKey:Yy,global:ys,isContextDefined:Gy,isSpecCompliantForm:T4,toJSONObject:R4,isAsyncFn:M4,isThenable:D4,setImmediate:Qy,asap:P4,isIterable:O4};function me(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}P.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const Jy=me.prototype,Zy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Zy[e]={value:e}});Object.defineProperties(me,Zy);Object.defineProperty(Jy,"isAxiosError",{value:!0});me.from=(e,t,n,r,s,i)=>{const o=Object.create(Jy);return P.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),me.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const L4=null;function Xd(e){return P.isPlainObject(e)||P.isArray(e)}function ev(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function bm(e,t,n){return e?e.concat(t).map(function(s,i){return s=ev(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function A4(e){return P.isArray(e)&&!e.some(Xd)}const I4=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function Uc(e,t,n){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!P.isUndefined(b[g])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(P.isDate(x))return x.toISOString();if(!l&&P.isBlob(x))throw new me("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(x)||P.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,g,b){let y=x;if(x&&!b&&typeof x=="object"){if(P.endsWith(g,"{}"))g=r?g:g.slice(0,-2),x=JSON.stringify(x);else if(P.isArray(x)&&A4(x)||(P.isFileList(x)||P.endsWith(g,"[]"))&&(y=P.toArray(x)))return g=ev(g),y.forEach(function(v,S){!(P.isUndefined(v)||v===null)&&t.append(o===!0?bm([g],S,i):o===null?g:g+"[]",u(v))}),!1}return Xd(x)?!0:(t.append(bm(b,g,i),u(x)),!1)}const f=[],h=Object.assign(I4,{defaultVisitor:d,convertValue:u,isVisitable:Xd});function p(x,g){if(!P.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(x),P.forEach(x,function(y,m){(!(P.isUndefined(y)||y===null)&&s.call(t,y,P.isString(m)?m.trim():m,g,h))===!0&&p(y,g?g.concat(m):[m])}),f.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return p(e),t}function wm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function bh(e,t){this._pairs=[],e&&Uc(e,this,t)}const tv=bh.prototype;tv.append=function(t,n){this._pairs.push([t,n])};tv.toString=function(t){const n=t?function(r){return t.call(this,r,wm)}:wm;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function F4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nv(e,t,n){if(!t)return e;const r=n&&n.encode||F4;P.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=P.isURLSearchParams(t)?t.toString():new bh(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class _m{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(r){r!==null&&t(r)})}}const rv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},z4=typeof URLSearchParams<"u"?URLSearchParams:bh,B4=typeof FormData<"u"?FormData:null,$4=typeof Blob<"u"?Blob:null,U4={isBrowser:!0,classes:{URLSearchParams:z4,FormData:B4,Blob:$4},protocols:["http","https","file","blob","url","data"]},wh=typeof window<"u"&&typeof document<"u",Qd=typeof navigator=="object"&&navigator||void 0,H4=wh&&(!Qd||["ReactNative","NativeScript","NS"].indexOf(Qd.product)<0),V4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",W4=wh&&window.location.href||"http://localhost",K4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wh,hasStandardBrowserEnv:H4,hasStandardBrowserWebWorkerEnv:V4,navigator:Qd,origin:W4},Symbol.toStringTag,{value:"Module"})),kt={...K4,...U4};function q4(e,t){return Uc(e,new kt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return kt.isNode&&P.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Y4(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function G4(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function sv(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&P.isArray(s)?s.length:o,l?(P.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!P.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&P.isArray(s[o])&&(s[o]=G4(s[o])),!a)}if(P.isFormData(e)&&P.isFunction(e.entries)){const n={};return P.forEachEntry(e,(r,s)=>{t(Y4(r),s,n,0)}),n}return null}function X4(e,t,n){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const da={transitional:rv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=P.isObject(t);if(i&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return s?JSON.stringify(sv(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return q4(t,this.formSerializer).toString();if((a=P.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Uc(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),X4(t)):t}],transformResponse:[function(t){const n=this.transitional||da.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?me.from(a,me.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{da.headers[e]={}});const Q4=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),J4=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&Q4[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Sm=Symbol("internals");function Xi(e){return e&&String(e).trim().toLowerCase()}function _l(e){return e===!1||e==null?e:P.isArray(e)?e.map(_l):String(e)}function Z4(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const eS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ru(e,t,n,r,s){if(P.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!P.isString(t)){if(P.isString(r))return t.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(t)}}function tS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function nS(e,t){const n=P.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let Yt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,u){const d=Xi(l);if(!d)throw new Error("header name must be a non-empty string");const f=P.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||l]=_l(a))}const o=(a,l)=>P.forEach(a,(u,d)=>i(u,d,l));if(P.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(P.isString(t)&&(t=t.trim())&&!eS(t))o(J4(t),n);else if(P.isObject(t)&&P.isIterable(t)){let a={},l,u;for(const d of t){if(!P.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?P.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Xi(t),t){const r=P.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Z4(s);if(P.isFunction(n))return n.call(this,s,r);if(P.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Xi(t),t){const r=P.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Ru(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Xi(o),o){const a=P.findKey(r,o);a&&(!n||Ru(r,r[a],a,n))&&(delete r[a],s=!0)}}return P.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Ru(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return P.forEach(this,(s,i)=>{const o=P.findKey(r,i);if(o){n[o]=_l(s),delete n[i];return}const a=t?tS(i):String(i).trim();a!==i&&delete n[i],n[a]=_l(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return P.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&P.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Sm]=this[Sm]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Xi(o);r[a]||(nS(s,o),r[a]=!0)}return P.isArray(t)?t.forEach(i):i(t),this}};Yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Yt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});P.freezeMethods(Yt);function Mu(e,t){const n=this||da,r=t||n,s=Yt.from(r.headers);let i=r.data;return P.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function iv(e){return!!(e&&e.__CANCEL__)}function Di(e,t,n){me.call(this,e??"canceled",me.ERR_CANCELED,t,n),this.name="CanceledError"}P.inherits(Di,me,{__CANCEL__:!0});function ov(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new me("Request failed with status code "+n.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function rS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function sS(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=r[i];o||(o=u),n[s]=l,r[s]=u;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function iS(e,t){let n=0,r=1e3/t,s,i;const o=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const rc=(e,t,n=3)=>{let r=0;const s=sS(50,250);return iS(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},jm=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Em=e=>(...t)=>P.asap(()=>e(...t)),oS=kt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,kt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(kt.origin),kt.navigator&&/(msie|trident)/i.test(kt.navigator.userAgent)):()=>!0,aS=kt.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];P.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),P.isString(r)&&o.push("path="+r),P.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lS(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cS(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function av(e,t,n){let r=!lS(t);return e&&(r||n==!1)?cS(e,t):t}const Nm=e=>e instanceof Yt?{...e}:e;function Os(e,t){t=t||{};const n={};function r(u,d,f,h){return P.isPlainObject(u)&&P.isPlainObject(d)?P.merge.call({caseless:h},u,d):P.isPlainObject(d)?P.merge({},d):P.isArray(d)?d.slice():d}function s(u,d,f,h){if(P.isUndefined(d)){if(!P.isUndefined(u))return r(void 0,u,f,h)}else return r(u,d,f,h)}function i(u,d){if(!P.isUndefined(d))return r(void 0,d)}function o(u,d){if(P.isUndefined(d)){if(!P.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,f)=>s(Nm(u),Nm(d),f,!0)};return P.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=l[d]||s,h=f(e[d],t[d],d);P.isUndefined(h)&&f!==a||(n[d]=h)}),n}const lv=e=>{const t=Os({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=Yt.from(o),t.url=nv(av(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(P.isFormData(n)){if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(kt.hasStandardBrowserEnv&&(r&&P.isFunction(r)&&(r=r(t)),r||r!==!1&&oS(t.url))){const u=s&&i&&aS.read(i);u&&o.set(s,u)}return t},uS=typeof XMLHttpRequest<"u",dS=uS&&function(e){return new Promise(function(n,r){const s=lv(e);let i=s.data;const o=Yt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,d,f,h,p,x;function g(){p&&p(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function y(){if(!b)return;const v=Yt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),j={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:e,request:b};ov(function(_){n(_),g()},function(_){r(_),g()},j),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(r(new me("Request aborted",me.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new me("Network Error",me.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||rv;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new me(S,j.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&P.forEach(o.toJSON(),function(S,j){b.setRequestHeader(j,S)}),P.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),a&&a!=="json"&&(b.responseType=s.responseType),u&&([h,x]=rc(u,!0),b.addEventListener("progress",h)),l&&b.upload&&([f,p]=rc(l),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=v=>{b&&(r(!v||v.type?new Di(null,e,b):v),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const m=rS(s.url);if(m&&kt.protocols.indexOf(m)===-1){r(new me("Unsupported protocol "+m+":",me.ERR_BAD_REQUEST,e));return}b.send(i||null)})},fS=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof me?d:new Di(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new me(`timeout ${t} of ms exceeded`,me.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>P.asap(a),l}},hS=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},pS=async function*(e,t){for await(const n of mS(e))yield*hS(n,t)},mS=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},km=(e,t,n,r)=>{const s=pS(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await s.next();if(u){a(),l.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Hc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cv=Hc&&typeof ReadableStream=="function",gS=Hc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),uv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},xS=cv&&uv(()=>{let e=!1;const t=new Request(kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Cm=64*1024,Jd=cv&&uv(()=>P.isReadableStream(new Response("").body)),sc={stream:Jd&&(e=>e.body)};Hc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!sc[t]&&(sc[t]=P.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new me(`Response type '${t}' is not supported`,me.ERR_NOT_SUPPORT,r)})})})(new Response);const yS=async e=>{if(e==null)return 0;if(P.isBlob(e))return e.size;if(P.isSpecCompliantForm(e))return(await new Request(kt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(P.isArrayBufferView(e)||P.isArrayBuffer(e))return e.byteLength;if(P.isURLSearchParams(e)&&(e=e+""),P.isString(e))return(await gS(e)).byteLength},vS=async(e,t)=>{const n=P.toFiniteNumber(e.getContentLength());return n??yS(t)},bS=Hc&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=lv(e);u=u?(u+"").toLowerCase():"text";let p=fS([s,i&&i.toAbortSignal()],o),x;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(l&&xS&&n!=="get"&&n!=="head"&&(b=await vS(d,r))!==0){let j=new Request(t,{method:"POST",body:r,duplex:"half"}),k;if(P.isFormData(r)&&(k=j.headers.get("content-type"))&&d.setContentType(k),j.body){const[_,E]=jm(b,rc(Em(l)));r=km(j.body,Cm,_,E)}}P.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;x=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:y?f:void 0});let m=await fetch(x);const v=Jd&&(u==="stream"||u==="response");if(Jd&&(a||v&&g)){const j={};["status","statusText","headers"].forEach(D=>{j[D]=m[D]});const k=P.toFiniteNumber(m.headers.get("content-length")),[_,E]=a&&jm(k,rc(Em(a),!0))||[];m=new Response(km(m.body,Cm,_,()=>{E&&E(),g&&g()}),j)}u=u||"text";let S=await sc[P.findKey(sc,u)||"text"](m,e);return!v&&g&&g(),await new Promise((j,k)=>{ov(j,k,{data:S,headers:Yt.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:x})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new me("Network Error",me.ERR_NETWORK,e,x),{cause:y.cause||y}):me.from(y,y&&y.code,e,x)}}),Zd={http:L4,xhr:dS,fetch:bS};P.forEach(Zd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Tm=e=>`- ${e}`,wS=e=>P.isFunction(e)||e===null||e===!1,dv={getAdapter:e=>{e=P.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!wS(n)&&(r=Zd[(o=String(n)).toLowerCase()],r===void 0))throw new me(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Tm).join(`
`):" "+Tm(i[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Zd};function Du(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Di(null,e)}function Rm(e){return Du(e),e.headers=Yt.from(e.headers),e.data=Mu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dv.getAdapter(e.adapter||da.adapter)(e).then(function(r){return Du(e),r.data=Mu.call(e,e.transformResponse,r),r.headers=Yt.from(r.headers),r},function(r){return iv(r)||(Du(e),r&&r.response&&(r.response.data=Mu.call(e,e.transformResponse,r.response),r.response.headers=Yt.from(r.response.headers))),Promise.reject(r)})}const fv="1.9.0",Vc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Mm={};Vc.transitional=function(t,n,r){function s(i,o){return"[Axios v"+fv+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new me(s(o," has been removed"+(n?" in "+n:"")),me.ERR_DEPRECATED);return n&&!Mm[o]&&(Mm[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Vc.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function _S(e,t,n){if(typeof e!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new me("option "+i+" must be "+l,me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new me("Unknown option "+i,me.ERR_BAD_OPTION)}}const Sl={assertOptions:_S,validators:Vc},Mn=Sl.validators;let Es=class{constructor(t){this.defaults=t||{},this.interceptors={request:new _m,response:new _m}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Os(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Sl.assertOptions(r,{silentJSONParsing:Mn.transitional(Mn.boolean),forcedJSONParsing:Mn.transitional(Mn.boolean),clarifyTimeoutError:Mn.transitional(Mn.boolean)},!1),s!=null&&(P.isFunction(s)?n.paramsSerializer={serialize:s}:Sl.assertOptions(s,{encode:Mn.function,serialize:Mn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sl.assertOptions(n,{baseUrl:Mn.spelling("baseURL"),withXsrfToken:Mn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&P.merge(i.common,i[n.method]);i&&P.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=Yt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!l){const x=[Rm.bind(this),void 0];for(x.unshift.apply(x,a),x.push.apply(x,u),h=x.length,d=Promise.resolve(n);f<h;)d=d.then(x[f++],x[f++]);return d}h=a.length;let p=n;for(f=0;f<h;){const x=a[f++],g=a[f++];try{p=x(p)}catch(b){g.call(this,b);break}}try{d=Rm.call(this,p)}catch(x){return Promise.reject(x)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Os(this.defaults,t);const n=av(t.baseURL,t.url,t.allowAbsoluteUrls);return nv(n,t.params,t.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(t){Es.prototype[t]=function(n,r){return this.request(Os(r||{},{method:t,url:n,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Os(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Es.prototype[t]=n(),Es.prototype[t+"Form"]=n(!0)});let SS=class hv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new Di(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new hv(function(s){t=s}),cancel:t}}};function jS(e){return function(n){return e.apply(null,n)}}function ES(e){return P.isObject(e)&&e.isAxiosError===!0}const ef={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ef).forEach(([e,t])=>{ef[t]=e});function pv(e){const t=new Es(e),n=Vy(Es.prototype.request,t);return P.extend(n,Es.prototype,t,{allOwnKeys:!0}),P.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return pv(Os(e,s))},n}const Pe=pv(da);Pe.Axios=Es;Pe.CanceledError=Di;Pe.CancelToken=SS;Pe.isCancel=iv;Pe.VERSION=fv;Pe.toFormData=Uc;Pe.AxiosError=me;Pe.Cancel=Pe.CanceledError;Pe.all=function(t){return Promise.all(t)};Pe.spread=jS;Pe.isAxiosError=ES;Pe.mergeConfig=Os;Pe.AxiosHeaders=Yt;Pe.formToJSON=e=>sv(P.isHTMLForm(e)?new FormData(e):e);Pe.getAdapter=dv.getAdapter;Pe.HttpStatusCode=ef;Pe.default=Pe;const{Axios:RC,AxiosError:MC,CanceledError:DC,isCancel:PC,CancelToken:OC,VERSION:LC,all:AC,Cancel:IC,isAxiosError:FC,spread:zC,toFormData:BC,AxiosHeaders:$C,HttpStatusCode:UC,formToJSON:HC,getAdapter:VC,mergeConfig:WC}=Pe,NS=()=>window.location.origin,mv=NS();console.log("API URL:",mv);const de=Pe.create({baseURL:mv,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0}),kS=async()=>{try{const e=await de.get("/sanctum/csrf-cookie");return console.log("CSRF Token Response:",e),e}catch(e){console.error("Erreur lors de la récupération du token CSRF:",e);return}};de.interceptors.request.use(async function(e){const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.data instanceof FormData?delete e.headers["Content-Type"]:e.headers["Content-Type"]="application/json",console.log("Request Config:",{url:e.url,method:e.method,headers:e.headers,data:e.data instanceof FormData?"FormData":e.data}),e});de.interceptors.response.use(e=>e,async e=>{var n,r,s,i;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!t._retry){if(t._retry=!0,((r=e.response.data)==null?void 0:r.message)==="Unauthenticated.")return localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",Promise.reject(e);if(((s=e.response.data)==null?void 0:s.message)==="CSRF token mismatch.")return await kS(),de(t)}return((i=e.response)==null?void 0:i.status)===404&&console.error("Route non trouvée:",t.url),Promise.reject(e)});var gv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dm=Ce.createContext&&Ce.createContext(gv),CS=["attr","size","title"];function TS(e,t){if(e==null)return{};var n=RS(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function RS(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ic.apply(this,arguments)}function Pm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function oc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pm(Object(n),!0).forEach(function(r){MS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MS(e,t,n){return t=DS(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DS(e){var t=PS(e,"string");return typeof t=="symbol"?t:t+""}function PS(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xv(e){return e&&e.map((t,n)=>Ce.createElement(t.tag,oc({key:n},t.attr),xv(t.child)))}function nt(e){return t=>Ce.createElement(OS,ic({attr:oc({},e.attr)},t),xv(e.child))}function OS(e){var t=n=>{var{attr:r,size:s,title:i}=e,o=TS(e,CS),a=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Ce.createElement("svg",ic({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:oc(oc({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Ce.createElement("title",null,i),e.children)};return Dm!==void 0?Ce.createElement(Dm.Consumer,null,n=>t(n)):t(gv)}function LS(e){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function AS(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function IS(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function lo(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function FS(e){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(e)}function zS(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function BS(e){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function yv(e){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function vv(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function Ba(e){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function $S(e){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Om(e){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function US(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function HS(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Wr(e){return nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function $a(e){return nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(e)}function jl(e){return nt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function VS(e){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Lm(e){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function WS(e){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function vs(e){return nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function KS(e){return nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}const qS=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(""),[o,a]=w.useState(!1),l=Un();w.useEffect(()=>{(async()=>{try{await de.get("/sanctum/csrf-cookie")}catch(f){console.error("Erreur lors de la récupération du token CSRF:",f)}})()},[]);const u=async d=>{var f,h;d.preventDefault(),i(""),a(!0);try{const p=await de.post("/api/login",{email:e,password:n});p.data.token&&(localStorage.setItem("token",p.data.token),localStorage.setItem("user",JSON.stringify(p.data.user)),l("/dashboard",{replace:!0}))}catch(p){console.error("Erreur de connexion:",p),i(((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.message)||"Une erreur est survenue lors de la connexion. Veuillez réessayer.")}finally{a(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-indigo-500 to-purple-600 p-4",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Connexion"}),c.jsx("p",{className:"text-gray-600",children:"Bienvenue sur la plateforme de gestion des tickets"})]}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:s}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(vs,{className:"text-gray-400"})}),c.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:d=>t(d.target.value),required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:o})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx($S,{className:"text-gray-400"})}),c.jsx("input",{type:"password",placeholder:"Mot de passe",value:n,onChange:d=>r(d.target.value),required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:o})]}),c.jsx("button",{type:"submit",className:`w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors ${o?"opacity-50 cursor-not-allowed":""}`,disabled:o,children:o?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-white rounded-full animate-spin mr-2"}),"Connexion en cours..."]}):"Se connecter"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-gray-600",children:["Vous n'avez pas de compte ?"," ",c.jsx(ur,{to:"/register",className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Demander un compte"})]})})]})})},YS="modulepreload",GS=function(e){return"/"+e},Am={},bv=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=GS(l),l in Am)return;Am[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":YS,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};Pe.defaults.baseURL="http://localhost:8000";const XS=()=>{const e=Zr(),t=Un(),[n,r]=w.useState(!1),[s,i]=w.useState(0),[o,a]=w.useState(0),[l,u]=w.useState(0);let d=null;try{d=JSON.parse(localStorage.getItem("user"))}catch{d=null}const f=d==null?void 0:d.niveau;w.useEffect(()=>{const g=async()=>{try{const m={Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"};if(f===1){const j=await Pe.get("/api/admin/register-requests/count",{headers:m});i(j.data.count)}const v=await Pe.get("/api/tickets/pending/count",{headers:m});a(v.data.count);const S=await Pe.get("/api/tickets/completed/count",{headers:m});u(S.data.count)}catch(y){console.error("Error fetching counts:",y)}};g();const b=setInterval(g,3e4);return()=>clearInterval(b)},[f]);const h=g=>e.pathname===g,p=async()=>{r(!0);try{const g=localStorage.getItem("token");if(!g){t("/login");return}await Pe.post("/api/logout",{},{headers:{Authorization:`Bearer ${g}`,Accept:"application/json","Content-Type":"application/json"}}),localStorage.removeItem("token"),localStorage.removeItem("user"),t("/login")}catch(g){console.error("Erreur lors de la déconnexion:",g),localStorage.removeItem("token"),localStorage.removeItem("user")}finally{r(!1),t("/login")}};let x=[{path:"/dashboard",icon:c.jsx(Ba,{}),text:"Tableau de bord"},{path:"/tickets",icon:c.jsx($a,{}),text:"Tickets"},{path:"/admin/pending-tickets",icon:c.jsx(lo,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/admin/register-requests",icon:c.jsx(Lm,{}),text:"Demandes d'inscription",badge:s>0?s:null},{path:"/create-user",icon:c.jsx(Lm,{}),text:"Créer un utilisateur"},{path:"/users",icon:c.jsx(KS,{}),text:"Liste des utilisateurs"},{path:"/admin/entities",icon:c.jsx(FS,{}),text:"Gestion des référentiels"},{path:"/profile",icon:c.jsx(vs,{}),text:"Mon Profil"}];return f==="2"||f===2?x=[{path:"/dashboard",icon:c.jsx(Ba,{}),text:"Tableau de bord"},{path:"/tickets",icon:c.jsx($a,{}),text:"Tickets"},{path:"/admin/pending-tickets",icon:c.jsx(lo,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/profile",icon:c.jsx(vs,{}),text:"Mon Profil"}]:f==="3"||f===3?x=[{path:"/dashboard",icon:c.jsx(Ba,{}),text:"Tableau de bord"},{path:"/tickets",icon:c.jsx($a,{}),text:"Tickets"},{path:"/admin/pending-tickets",icon:c.jsx(lo,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/create-ticket",icon:c.jsx(Om,{}),text:"Créer un ticket (IA)"},{path:"/profile",icon:c.jsx(vs,{}),text:"Mon Profil"}]:(f==="4"||f===4)&&(x=[{path:"/dashboard",icon:c.jsx(Ba,{}),text:"Tableau de bord"},{path:"/create-ticket",icon:c.jsx(Om,{}),text:"Créer un ticket (IA)"},{path:"/tickets",icon:c.jsx($a,{}),text:"Mes Tickets"},{path:"/admin/pending-tickets",icon:c.jsx(lo,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/completed-tickets",icon:c.jsx(AS,{}),text:"Tickets terminés",badge:l>0?l:null},{path:"/profile",icon:c.jsx(vs,{}),text:"Mon Profil"}]),c.jsxs("div",{className:"fixed top-0 left-0 h-screen w-64 bg-gray-800 text-white p-4 flex flex-col z-40",children:[c.jsx("div",{className:"mb-8",children:c.jsx("h1",{className:"text-2xl font-bold",children:"Gestion Tickets"})}),c.jsx("nav",{children:c.jsxs("ul",{className:"space-y-2",children:[x.map(g=>c.jsx("li",{children:c.jsxs(ur,{to:g.path,className:`flex items-center space-x-2 p-2 rounded-lg transition-colors ${h(g.path)?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[c.jsx("span",{className:"text-lg",children:g.icon}),c.jsx("span",{className:"flex-1",children:g.text}),g.badge&&c.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:g.badge})]})},g.path)),c.jsx("li",{children:c.jsxs("button",{onClick:p,className:"flex items-center space-x-2 p-2 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white w-full",disabled:n,children:[c.jsx("span",{className:"text-lg",children:n?c.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.908l2-2.617zm10 0l2 2.617A7.962 7.962 0 0020 12h-4a8 8 0 01-2 5.291z"})]}):c.jsx(HS,{})}),c.jsx("span",{children:n?"Déconnexion...":"Déconnexion"})]})})]})})]})},Ue=({children:e})=>c.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[c.jsx(XS,{}),c.jsx("main",{className:"flex-1 p-8 ml-64",children:e})]});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fa(e){return e+.5|0}const Mr=(e,t,n)=>Math.max(Math.min(e,n),t);function co(e){return Mr(fa(e*2.55),0,255)}function $r(e){return Mr(fa(e*255),0,255)}function er(e){return Mr(fa(e/2.55)/100,0,1)}function Im(e){return Mr(fa(e*100),0,100)}const on={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},tf=[..."0123456789ABCDEF"],QS=e=>tf[e&15],JS=e=>tf[(e&240)>>4]+tf[e&15],Ua=e=>(e&240)>>4===(e&15),ZS=e=>Ua(e.r)&&Ua(e.g)&&Ua(e.b)&&Ua(e.a);function ej(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&on[e[1]]*17,g:255&on[e[2]]*17,b:255&on[e[3]]*17,a:t===5?on[e[4]]*17:255}:(t===7||t===9)&&(n={r:on[e[1]]<<4|on[e[2]],g:on[e[3]]<<4|on[e[4]],b:on[e[5]]<<4|on[e[6]],a:t===9?on[e[7]]<<4|on[e[8]]:255})),n}const tj=(e,t)=>e<255?t(e):"";function nj(e){var t=ZS(e)?QS:JS;return e?"#"+t(e.r)+t(e.g)+t(e.b)+tj(e.a,t):void 0}const rj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function wv(e,t,n){const r=t*Math.min(n,1-n),s=(i,o=(i+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function sj(e,t,n){const r=(s,i=(s+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function ij(e,t,n){const r=wv(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function oj(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}function _h(e){const n=e.r/255,r=e.g/255,s=e.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,u,d;return i!==o&&(d=i-o,u=a>.5?d/(2-i-o):d/(i+o),l=oj(n,r,s,d,i),l=l*60+.5),[l|0,u||0,a]}function Sh(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map($r)}function jh(e,t,n){return Sh(wv,e,t,n)}function aj(e,t,n){return Sh(ij,e,t,n)}function lj(e,t,n){return Sh(sj,e,t,n)}function _v(e){return(e%360+360)%360}function cj(e){const t=rj.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?co(+t[5]):$r(+t[5]));const s=_v(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=aj(s,i,o):t[1]==="hsv"?r=lj(s,i,o):r=jh(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function uj(e,t){var n=_h(e);n[0]=_v(n[0]+t),n=jh(n),e.r=n[0],e.g=n[1],e.b=n[2]}function dj(e){if(!e)return;const t=_h(e),n=t[0],r=Im(t[1]),s=Im(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${er(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const Fm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function fj(){const e={},t=Object.keys(zm),n=Object.keys(Fm);let r,s,i,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,Fm[i]);i=parseInt(zm[o],16),e[a]=[i>>16&255,i>>8&255,i&255]}return e}let Ha;function hj(e){Ha||(Ha=fj(),Ha.transparent=[0,0,0,0]);const t=Ha[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const pj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mj(e){const t=pj.exec(e);let n=255,r,s,i;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?co(o):Mr(o*255,0,255)}return r=+t[1],s=+t[3],i=+t[5],r=255&(t[2]?co(r):Mr(r,0,255)),s=255&(t[4]?co(s):Mr(s,0,255)),i=255&(t[6]?co(i):Mr(i,0,255)),{r,g:s,b:i,a:n}}}function gj(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${er(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Pu=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,qs=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function xj(e,t,n){const r=qs(er(e.r)),s=qs(er(e.g)),i=qs(er(e.b));return{r:$r(Pu(r+n*(qs(er(t.r))-r))),g:$r(Pu(s+n*(qs(er(t.g))-s))),b:$r(Pu(i+n*(qs(er(t.b))-i))),a:e.a+n*(t.a-e.a)}}function Va(e,t,n){if(e){let r=_h(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=jh(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Sv(e,t){return e&&Object.assign(t||{},e)}function Bm(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=$r(e[3]))):(t=Sv(e,{r:0,g:0,b:0,a:1}),t.a=$r(t.a)),t}function yj(e){return e.charAt(0)==="r"?mj(e):cj(e)}class Jo{constructor(t){if(t instanceof Jo)return t;const n=typeof t;let r;n==="object"?r=Bm(t):n==="string"&&(r=ej(t)||hj(t)||yj(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Sv(this._rgb);return t&&(t.a=er(t.a)),t}set rgb(t){this._rgb=Bm(t)}rgbString(){return this._valid?gj(this._rgb):void 0}hexString(){return this._valid?nj(this._rgb):void 0}hslString(){return this._valid?dj(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,s=t.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=xj(this._rgb,t._rgb,n)),this}clone(){return new Jo(this.rgb)}alpha(t){return this._rgb.a=$r(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=fa(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Va(this._rgb,2,t),this}darken(t){return Va(this._rgb,2,-t),this}saturate(t){return Va(this._rgb,1,t),this}desaturate(t){return Va(this._rgb,1,-t),this}rotate(t){return uj(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function qn(){}const vj=(()=>{let e=0;return()=>e++})();function be(e){return e==null}function lt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ee(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function mn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Dn(e,t){return mn(e)?e:t}function _e(e,t){return typeof e>"u"?t:e}const bj=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,jv=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Fe(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Oe(e,t,n,r){let s,i,o;if(lt(e))for(i=e.length,s=0;s<i;s++)t.call(n,e[s],s);else if(Ee(e))for(o=Object.keys(e),i=o.length,s=0;s<i;s++)t.call(n,e[o[s]],o[s])}function ac(e,t){let n,r,s,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],i=t[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function lc(e){if(lt(e))return e.map(lc);if(Ee(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=lc(e[n[s]]);return t}return e}function Ev(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function wj(e,t,n,r){if(!Ev(e))return;const s=t[e],i=n[e];Ee(s)&&Ee(i)?Bn(s,i,r):t[e]=lc(i)}function Bn(e,t,n){const r=lt(t)?t:[t],s=r.length;if(!Ee(e))return e;n=n||{};const i=n.merger||wj;let o;for(let a=0;a<s;++a){if(o=r[a],!Ee(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)i(l[u],e,o,n)}return e}function So(e,t){return Bn(e,t,{merger:_j})}function _j(e,t,n){if(!Ev(e))return;const r=t[e],s=n[e];Ee(r)&&Ee(s)?So(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=lc(s))}const $m={"":e=>e,x:e=>e.x,y:e=>e.y};function Sj(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function jj(e){const t=Sj(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Kr(e,t){return($m[t]||($m[t]=jj(t)))(e)}function Eh(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Zo=e=>typeof e<"u",qr=e=>typeof e=="function",Um=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Ej(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const st=Math.PI,ct=2*st,cc=Number.POSITIVE_INFINITY,Nj=st/180,ft=st/2,is=st/4,Hm=st*2/3,Nv=Math.log10,Ur=Math.sign;function El(e,t,n){return Math.abs(e-t)<n}function Vm(e){const t=Math.round(e);e=El(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Nv(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function kj(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((s,i)=>s-i).pop(),t}function Cj(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ji(e){return!Cj(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Tj(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Rj(e,t,n){let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function In(e){return e*(st/180)}function Mj(e){return e*(180/st)}function Wm(e){if(!mn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function kv(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*st&&(i+=ct),{angle:i,distance:s}}function Dj(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function os(e){return(e%ct+ct)%ct}function uc(e,t,n,r){const s=os(e),i=os(t),o=os(n),a=os(i-s),l=os(o-s),u=os(s-i),d=os(s-o);return s===i||s===o||r&&i===o||a>l&&u<d}function Ct(e,t,n){return Math.max(t,Math.min(n,e))}function Pj(e){return Ct(e,-32768,32767)}function bs(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Nh(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const ws=(e,t,n,r)=>Nh(e,n,r?s=>{const i=e[s][t];return i<n||i===n&&e[s+1][t]===n}:s=>e[s][t]<n),Oj=(e,t,n)=>Nh(e,n,r=>e[r][t]>=n);function Lj(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}const Cv=["push","pop","shift","splice","unshift"];function Aj(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Cv.forEach(n=>{const r="_onData"+Eh(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function Km(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);s!==-1&&r.splice(s,1),!(r.length>0)&&(Cv.forEach(i=>{delete e[i]}),delete e._chartjs)}function Tv(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Rv=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Mv(e,t){let n=[],r=!1;return function(...s){n=s,r||(r=!0,Rv.call(window,()=>{r=!1,e.apply(t,n)}))}}function Ij(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const kh=e=>e==="start"?"left":e==="end"?"right":"center",jt=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Fj=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function Dv(e,t,n){const r=t.length;let s=0,i=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=o.axis,{min:f,max:h,minDefined:p,maxDefined:x}=o.getUserBounds();if(p){if(s=Math.min(ws(l,d,f).lo,n?r:ws(t,d,o.getPixelForValue(f)).lo),u){const g=l.slice(0,s+1).reverse().findIndex(b=>!be(b[a.axis]));s-=Math.max(0,g)}s=Ct(s,0,r-1)}if(x){let g=Math.max(ws(l,o.axis,h,!0).hi+1,n?0:ws(t,d,o.getPixelForValue(h),!0).hi+1);if(u){const b=l.slice(g-1).findIndex(y=>!be(y[a.axis]));g+=Math.max(0,b)}i=Ct(g,s,r)-s}else i=r-s}return{start:s,count:i}}function Pv(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=s,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Wa=e=>e===0||e===1,qm=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ct/n)),Ym=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*ct/n)+1,jo={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ft)+1,easeOutSine:e=>Math.sin(e*ft),easeInOutSine:e=>-.5*(Math.cos(st*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Wa(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Wa(e)?e:qm(e,.075,.3),easeOutElastic:e=>Wa(e)?e:Ym(e,.075,.3),easeInOutElastic(e){return Wa(e)?e:e<.5?.5*qm(e*2,.1125,.45):.5+.5*Ym(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-jo.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?jo.easeInBounce(e*2)*.5:jo.easeOutBounce(e*2-1)*.5+.5};function Ov(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Gm(e){return Ov(e)?e:new Jo(e)}function Ou(e){return Ov(e)?e:new Jo(e).saturate(.5).darken(.1).hexString()}const zj=["x","y","borderWidth","radius","tension"],Bj=["color","borderColor","backgroundColor"];function $j(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Bj},numbers:{type:"number",properties:zj}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Uj(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Xm=new Map;function Hj(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Xm.get(n);return r||(r=new Intl.NumberFormat(e,t),Xm.set(n,r)),r}function Wc(e,t,n){return Hj(t,n).format(e)}const Vj={values(e){return lt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let s,i=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=Wj(e,n)}const o=Nv(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Wc(e,r,l)}};function Wj(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Lv={formatters:Vj};function Kj(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Lv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ls=Object.create(null),nf=Object.create(null);function Eo(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];e=e[i]||(e[i]=Object.create(null))}return e}function Lu(e,t,n){return typeof t=="string"?Bn(Eo(e,t),n):Bn(Eo(e,""),t)}class qj{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Ou(s.backgroundColor),this.hoverBorderColor=(r,s)=>Ou(s.borderColor),this.hoverColor=(r,s)=>Ou(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Lu(this,t,n)}get(t){return Eo(this,t)}describe(t,n){return Lu(nf,t,n)}override(t,n){return Lu(Ls,t,n)}route(t,n,r,s){const i=Eo(this,t),o=Eo(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[s];return Ee(l)?Object.assign({},u,l):_e(l,u)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var tt=new qj({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$j,Uj,Kj]);function Yj(e){return!e||be(e.size)||be(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Qm(e,t,n,r,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,n.push(s)),i>r&&(r=i),r}function as(e,t,n){const r=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function Jm(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function rf(e,t,n,r){Av(e,t,n,r,null)}function Av(e,t,n,r,s){let i,o,a,l,u,d,f,h;const p=t.pointStyle,x=t.rotation,g=t.radius;let b=(x||0)*Nj;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,r,s/2,g,0,0,ct):e.arc(n,r,g,0,ct),e.closePath();break;case"triangle":d=s?s/2:g,e.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*g),b+=Hm,e.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*g),b+=Hm,e.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*g),e.closePath();break;case"rectRounded":u=g*.516,l=g-u,o=Math.cos(b+is)*l,f=Math.cos(b+is)*(s?s/2-u:l),a=Math.sin(b+is)*l,h=Math.sin(b+is)*(s?s/2-u:l),e.arc(n-f,r-a,u,b-st,b-ft),e.arc(n+h,r-o,u,b-ft,b),e.arc(n+f,r+a,u,b,b+ft),e.arc(n-h,r+o,u,b+ft,b+st),e.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*g,d=s?s/2:l,e.rect(n-d,r-l,2*d,2*l);break}b+=is;case"rectRot":f=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,h=Math.sin(b)*(s?s/2:g),e.moveTo(n-f,r-a),e.lineTo(n+h,r-o),e.lineTo(n+f,r+a),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":b+=is;case"cross":f=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,h=Math.sin(b)*(s?s/2:g),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":f=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,h=Math.sin(b)*(s?s/2:g),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),b+=is,f=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,h=Math.sin(b)*(s?s/2:g),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=s?s/2:Math.cos(b)*g,a=Math.sin(b)*g,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(b)*(s?s/2:g),r+Math.sin(b)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Ch(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Th(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Rh(e){e.restore()}function Gj(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),be(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Xj(e,t,n,r,s){if(s.strikethrough||s.underline){const i=e.measureText(r),o=t-i.actualBoundingBoxLeft,a=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,d),e.lineTo(a,d),e.stroke()}}function Qj(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function ea(e,t,n,r,s,i={}){const o=lt(t)?t:[t],a=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(e.save(),e.font=s.string,Gj(e,i),l=0;l<o.length;++l)u=o[l],i.backdrop&&Qj(e,i.backdrop),a&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),be(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(u,n,r,i.maxWidth)),e.fillText(u,n,r,i.maxWidth),Xj(e,n,r,u,i),r+=Number(s.lineHeight);e.restore()}function dc(e,t){const{x:n,y:r,w:s,h:i,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*st,st,!0),e.lineTo(n,r+i-o.bottomLeft),e.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,st,ft,!0),e.lineTo(n+s-o.bottomRight,r+i),e.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,ft,0,!0),e.lineTo(n+s,r+o.topRight),e.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-ft,!0),e.lineTo(n+o.topLeft,r)}const Jj=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Zj=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function eE(e,t){const n=(""+e).match(Jj);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const tE=e=>+e||0;function Mh(e,t){const n={},r=Ee(t),s=r?Object.keys(t):t,i=Ee(e)?r?o=>_e(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=tE(i(o));return n}function Iv(e){return Mh(e,{top:"y",right:"x",bottom:"y",left:"x"})}function pi(e){return Mh(e,["topLeft","topRight","bottomLeft","bottomRight"])}function tn(e){const t=Iv(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function yt(e,t){e=e||{},t=t||tt.font;let n=_e(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=_e(e.style,t.style);r&&!(""+r).match(Zj)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:_e(e.family,t.family),lineHeight:eE(_e(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:_e(e.weight,t.weight),string:""};return s.string=Yj(s),s}function We(e,t,n,r){let s,i,o;for(s=0,i=e.length;s<i;++s)if(o=e[s],o!==void 0&&(t!==void 0&&typeof o=="function"&&(o=o(t)),n!==void 0&&lt(o)&&(o=o[n%o.length]),o!==void 0))return o}function nE(e,t,n){const{min:r,max:s}=e,i=jv(t,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Pi(e,t){return Object.assign(Object.create(e),t)}function Dh(e,t=[""],n,r,s=()=>e[0]){const i=n||e;typeof r>"u"&&(r=$v("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>Dh([a,...e],t,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return zv(a,l,()=>uE(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return eg(a).includes(l)},ownKeys(a){return eg(a)},set(a,l,u){const d=a._storage||(a._storage=s());return a[l]=d[l]=u,delete a._keys,!0}})}function Ei(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Fv(e,r),setContext:i=>Ei(e,i,n,r),override:i=>Ei(e.override(i),t,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,a){return zv(i,o,()=>sE(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,a){return e[o]=a,delete i[o],!0}})}function Fv(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:qr(n)?n:()=>n,isIndexable:qr(r)?r:()=>r}}const rE=(e,t)=>e?e+Eh(t):t,Ph=(e,t)=>Ee(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function zv(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function sE(e,t,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=e;let a=r[t];return qr(a)&&o.isScriptable(t)&&(a=iE(t,a,e,n)),lt(a)&&a.length&&(a=oE(t,a,e,o.isIndexable)),Ph(t,a)&&(a=Ei(a,s,i&&i[t],o)),a}function iE(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(i,o||r);return a.delete(e),Ph(e,l)&&(l=Oh(s._scopes,s,e,l)),l}function oE(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(Ee(t[0])){const l=t,u=s._scopes.filter(d=>d!==l);t=[];for(const d of l){const f=Oh(u,s,e,d);t.push(Ei(f,i,o&&o[e],a))}}return t}function Bv(e,t,n){return qr(e)?e(t,n):e}const aE=(e,t)=>e===!0?t:typeof e=="string"?Kr(t,e):void 0;function lE(e,t,n,r,s){for(const i of t){const o=aE(n,i);if(o){e.add(o);const a=Bv(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Oh(e,t,n,r){const s=t._rootScopes,i=Bv(t._fallback,n,r),o=[...e,...s],a=new Set;a.add(r);let l=Zm(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=Zm(a,o,i,l,r),l===null)?!1:Dh(Array.from(a),[""],s,i,()=>cE(t,n,r))}function Zm(e,t,n,r,s){for(;n;)n=lE(e,t,n,r,s);return n}function cE(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];return lt(s)&&Ee(n)?n:s||{}}function uE(e,t,n,r){let s;for(const i of t)if(s=$v(rE(i,e),n),typeof s<"u")return Ph(e,s)?Oh(n,r,e,s):s}function $v(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function eg(e){let t=e._keys;return t||(t=e._keys=dE(e._scopes)),t}function dE(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(r);return Array.from(t)}function Uv(e,t,n,r){const{iScale:s}=e,{key:i="r"}=this._parsing,o=new Array(r);let a,l,u,d;for(a=0,l=r;a<l;++a)u=a+n,d=t[u],o[a]={r:s.parse(Kr(d,i),u)};return o}function Lh(){return typeof window<"u"&&typeof document<"u"}function Ah(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function fc(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Kc=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function fE(e,t){return Kc(e).getPropertyValue(t)}const hE=["top","right","bottom","left"];function Ns(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=hE[s];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const pE=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function mE(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(pE(s,i,e.target))a=s,l=i;else{const u=t.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function ds(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=Kc(n),i=s.boxSizing==="border-box",o=Ns(s,"padding"),a=Ns(s,"border","width"),{x:l,y:u,box:d}=mE(e,n),f=o.left+(d&&a.left),h=o.top+(d&&a.top);let{width:p,height:x}=t;return i&&(p-=o.width+a.width,x-=o.height+a.height),{x:Math.round((l-f)/p*n.width/r),y:Math.round((u-h)/x*n.height/r)}}function gE(e,t,n){let r,s;if(t===void 0||n===void 0){const i=e&&Ah(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const o=i.getBoundingClientRect(),a=Kc(i),l=Ns(a,"border","width"),u=Ns(a,"padding");t=o.width-u.width-l.width,n=o.height-u.height-l.height,r=fc(a.maxWidth,i,"clientWidth"),s=fc(a.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:r||cc,maxHeight:s||cc}}const Ka=e=>Math.round(e*10)/10;function xE(e,t,n,r){const s=Kc(e),i=Ns(s,"margin"),o=fc(s.maxWidth,e,"clientWidth")||cc,a=fc(s.maxHeight,e,"clientHeight")||cc,l=gE(e,t,n);let{width:u,height:d}=l;if(s.boxSizing==="content-box"){const h=Ns(s,"border","width"),p=Ns(s,"padding");u-=p.width+h.width,d-=p.height+h.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=Ka(Math.min(u,o,l.maxWidth)),d=Ka(Math.min(d,a,l.maxHeight)),u&&!d&&(d=Ka(u/2)),(t!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,u=Ka(Math.floor(d*r))),{width:u,height:d}}function tg(e,t,n){const r=t||1,s=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(e.currentDevicePixelRatio=r,o.height=s,o.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const yE=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Lh()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function ng(e,t){const n=fE(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const vE=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},bE=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function mi(e,t,n){return e?vE(t,n):bE()}function Hv(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Vv(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function qa(e,t,n){return e.options.clip?e[n]:t[n]}function wE(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:qa(n,t,"left"),right:qa(n,t,"right"),top:qa(r,t,"top"),bottom:qa(r,t,"bottom")}:t}function _E(e,t){const n=t._clip;if(n.disabled)return!1;const r=wE(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class SE{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Rv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,t,"progress")),i.length||(r.running=!1,this._notify(s,r,t,"complete"),r.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Xn=new SE;const rg="transparent",jE={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=Gm(e||rg),s=r.valid&&Gm(t||rg);return s&&s.valid?s.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class EE{constructor(t,n,r,s){const i=n[r];s=We([t.to,s,i,t.from]);const o=We([t.from,i,s]);this._active=!0,this._fn=t.fn||jE[t.type||typeof o],this._easing=jo[t.easing]||jo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=We([t.to,n,s,t.from]),this._from=We([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class Wv{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Ee(t))return;const n=Object.keys(tt.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const i=t[s];if(!Ee(i))return;const o={};for(const a of n)o[a]=i[a];(lt(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,s=kE(t,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&NE(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,n){const r=this._properties,s=[],i=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(t,n));continue}const d=n[u];let f=i[u];const h=r.get(u);if(f)if(h&&f.active()){f.update(h,d,a);continue}else f.cancel();if(!h||!h.duration){t[u]=d;continue}i[u]=f=new EE(h,t,u,d),s.push(f)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Xn.add(this._chart,r),!0}}function NE(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const i=e[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function kE(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function sg(e,t){const n=e&&e.options||{},r=n.reverse,s=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:r?i:s,end:r?s:i}}function CE(e,t,n){if(n===!1)return!1;const r=sg(e,n),s=sg(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function TE(e){let t,n,r,s;return Ee(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:e===!1}}function Kv(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function ig(e,t,n,r={}){const s=e.keys,i=r.mode==="single";let o,a,l,u;if(t===null)return;let d=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(d=!0,r.all)continue;break}u=e.values[l],mn(u)&&(i||t===0||Ur(t)===Ur(u))&&(t+=u)}return!d&&!r.all?0:t}function RE(e,t){const{iScale:n,vScale:r}=t,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,u,d;for(l=0,u=o.length;l<u;++l)d=o[l],a[l]={[s]:d,[i]:e[d]};return a}function Au(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function ME(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function DE(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function PE(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function og(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const i=e[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function ag(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,u=o.axis,d=ME(i,o,r),f=t.length;let h;for(let p=0;p<f;++p){const x=t[p],{[l]:g,[u]:b}=x,y=x._stacks||(x._stacks={});h=y[u]=PE(s,d,g),h[a]=b,h._top=og(h,o,!0,r.type),h._bottom=og(h,o,!1,r.type);const m=h._visualValues||(h._visualValues={});m[a]=b}}function Iu(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function OE(e,t){return Pi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function LE(e,t,n){return Pi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Qi(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const s of t){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Fu=e=>e==="reset"||e==="none",lg=(e,t)=>t?e:Object.assign({},e),AE=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Kv(n,!0),values:null};class En{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Au(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Qi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,h,p,x)=>f==="x"?h:f==="r"?x:p,i=n.xAxisID=_e(r.xAxisID,Iu(t,"x")),o=n.yAxisID=_e(r.yAxisID,Iu(t,"y")),a=n.rAxisID=_e(r.rAxisID,Iu(t,"r")),l=n.indexAxis,u=n.iAxisID=s(l,i,o,a),d=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Km(this._data,this),t._stacked&&Qi(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Ee(n)){const s=this._cachedMeta;this._data=RE(n,s)}else if(r!==n){if(r){Km(r,this);const s=this._cachedMeta;Qi(s),s._parsed=[]}n&&Object.isExtensible(n)&&Aj(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Au(n.vScale,n),n.stack!==r.stack&&(s=!0,Qi(n),n.stack=r.stack),this._resyncElements(t),(s||i!==n._stacked)&&(ag(this,n._parsed),n._stacked=Au(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=t===0&&n===s.length?!0:r._sorted,u=t>0&&r._parsed[t-1],d,f,h;if(this._parsing===!1)r._parsed=s,r._sorted=!0,h=s;else{lt(s[t])?h=this.parseArrayData(r,s,t,n):Ee(s[t])?h=this.parseObjectData(r,s,t,n):h=this.parsePrimitiveData(r,s,t,n);const p=()=>f[a]===null||u&&f[a]<u[a];for(d=0;d<n;++d)r._parsed[d+t]=f=h[d],l&&(p()&&(l=!1),u=f);r._sorted=l}o&&ag(this,h)}parsePrimitiveData(t,n,r,s){const{iScale:i,vScale:o}=t,a=i.axis,l=o.axis,u=i.getLabels(),d=i===o,f=new Array(s);let h,p,x;for(h=0,p=s;h<p;++h)x=h+r,f[h]={[a]:d||i.parse(u[x],x),[l]:o.parse(n[x],x)};return f}parseArrayData(t,n,r,s){const{xScale:i,yScale:o}=t,a=new Array(s);let l,u,d,f;for(l=0,u=s;l<u;++l)d=l+r,f=n[d],a[l]={x:i.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(t,n,r,s){const{xScale:i,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let d,f,h,p;for(d=0,f=s;d<f;++d)h=d+r,p=n[h],u[d]={x:i.parse(Kr(p,a),h),y:o.parse(Kr(p,l),h)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const s=this.chart,i=this._cachedMeta,o=n[t.axis],a={keys:Kv(s,!0),values:n._stacks[t.axis]._visualValues};return ig(a,o,i.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=ig(s,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&t===r.iScale,o=s.length,a=this._getOtherScale(t),l=AE(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=DE(a);let h,p;function x(){p=s[h];const g=p[a.axis];return!mn(p[t.axis])||d>g||f<g}for(h=0;h<o&&!(!x()&&(this.updateRangeFromParsed(u,t,p,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!x()){this.updateRangeFromParsed(u,t,p,l);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][t.axis],mn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=TE(_e(this.options.clip,CE(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(t,i,a,l),d=a;d<a+l;++d){const f=s[d];f.hidden||(f.active&&u?o.push(f):f.draw(t,i))}for(d=0;d<o.length;++d)o[d].draw(t,i)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=LE(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=s.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=OE(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=t+"-"+n,a=i[o],l=this.enableOptionSharing&&Zo(r);if(a)return lg(a,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],h=u.getOptionScopes(this.getDataset(),d),p=Object.keys(tt.elements[t]),x=()=>this.getContext(r,s,n),g=u.resolveNamedOptions(h,p,x,f);return g.$shared&&(g.$shared=l,i[o]=Object.freeze(lg(g,l))),g}_resolveAnimations(t,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(t,r,n))}const u=new Wv(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Fu(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(t,n,r,s){Fu(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!Fu(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,t):i<s&&this._removeElements(i,s-i)}_insertElements(t,n,r=!0){const s=this._cachedMeta,i=s.data,o=t+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(i),a=t;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),r&&this.updateElements(i,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&Qi(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Z(En,"defaults",{}),Z(En,"datasetElementType",null),Z(En,"dataElementType",null);function IE(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=Tv(r.sort((s,i)=>s-i))}return e._cache.$bar}function FE(e){const t=e.iScale,n=IE(t,e.type);let r=t._length,s,i,o,a;const l=()=>{o===32767||o===-32768||(Zo(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,i=n.length;s<i;++s)o=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,i=t.ticks.length;s<i;++s)o=t.getPixelForTick(s),l();return r}function zE(e,t,n,r){const s=n.barThickness;let i,o;return be(s)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:t.pixels[e]-i/2}}function BE(e,t,n,r){const s=t.pixels,i=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?t.end-t.start:a-i)),a===null&&(a=i+i-o);const u=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:u}}function $E(e,t,n,r){const s=n.parse(e[0],r),i=n.parse(e[1],r),o=Math.min(s,i),a=Math.max(s,i);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:s,end:i,min:o,max:a}}function qv(e,t,n,r){return lt(e)?$E(e,t,n,r):t[n.axis]=n.parse(e,r),t}function cg(e,t,n,r){const s=e.iScale,i=e.vScale,o=s.getLabels(),a=s===i,l=[];let u,d,f,h;for(u=n,d=n+r;u<d;++u)h=t[u],f={},f[s.axis]=a||s.parse(o[u],u),l.push(qv(h,f,i,u));return l}function zu(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function UE(e,t,n){return e!==0?Ur(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function HE(e){let t,n,r,s,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:t,top:s,bottom:i}}function VE(e,t,n,r){let s=t.borderSkipped;const i={};if(!s){e.borderSkipped=i;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:d}=HE(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[ug(d,o,a,l)]=!0,s=u)),i[ug(s,o,a,l)]=!0,e.borderSkipped=i}function ug(e,t,n,r){return r?(e=WE(e,t,n),e=dg(e,n,t)):e=dg(e,t,n),e}function WE(e,t,n){return e===t?n:e===n?t:e}function dg(e,t,n){return e==="start"?t:e==="end"?n:e}function KE(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Bu extends En{parsePrimitiveData(t,n,r,s){return cg(t,n,r,s)}parseArrayData(t,n,r,s){return cg(t,n,r,s)}parseObjectData(t,n,r,s){const{iScale:i,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?a:l,d=o.axis==="x"?a:l,f=[];let h,p,x,g;for(h=r,p=r+s;h<p;++h)g=n[h],x={},x[i.axis]=i.parse(Kr(g,u),h),f.push(qv(Kr(g,d),x,o,h));return f}updateRangeFromParsed(t,n,r,s){super.updateRangeFromParsed(t,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(t),o=i._custom,a=zu(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,s);for(let p=n;p<n+r;p++){const x=this.getParsed(p),g=i||be(x[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,d),y=(x._stacks||{})[a.axis],m={horizontal:u,base:g.base,enableBorderRadius:!y||zu(x._custom)||o===y._top||o===y._bottom,x:u?g.head:b.center,y:u?b.center:g.head,height:u?b.size:Math.abs(g.size),width:u?Math.abs(g.size):b.size};h&&(m.options=f||this.resolveDataElementOptions(p,t[p].active?"active":s));const v=m.options||t[p].options;VE(m,v,y,o),KE(m,v,d.ratio),this.updateElement(t[p],p,m,s)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],u=d=>{const f=d._parsed.find(p=>p[r.axis]===l),h=f&&f[d.vScale.axis];if(be(h)||isNaN(h))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,r){const s=this._getStacks(t,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const a=t.barThickness;return{min:a||FE(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(t),u=l._custom,d=zu(u);let f=l[n.axis],h=0,p=r?this.applyStack(n,l,r):f,x,g;p!==f&&(h=p-f,p=f),d&&(f=u.barStart,p=u.barEnd-u.barStart,f!==0&&Ur(f)!==Ur(u.barEnd)&&(h=0),h+=f);const b=!be(i)&&!d?i:h;let y=n.getPixelForValue(b);if(this.chart.getDataVisibility(t)?x=n.getPixelForValue(h+p):x=y,g=x-y,Math.abs(g)<o){g=UE(g,n,a)*o,f===a&&(y-=g/2);const m=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),S=Math.min(m,v),j=Math.max(m,v);y=Math.max(Math.min(y,j),S),x=y+g,r&&!d&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(x)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const m=Ur(g)*n.getLineWidthForValue(a)/2;y+=m,g-=m}return{size:g,base:y,head:x,center:x+g/2}}_calculateBarIndexPixels(t,n){const r=n.scale,s=this.options,i=s.skipNull,o=_e(s.maxBarThickness,1/0);let a,l;if(n.grouped){const u=i?this._getStackCount(t):n.stackCount,d=s.barThickness==="flex"?BE(t,n,s,u):zE(t,n,s,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);a=d.start+d.chunk*f+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}Z(Bu,"id","bar"),Z(Bu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Z(Bu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class $u extends En{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,s){const i=super.parsePrimitiveData(t,n,r,s);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+r).radius;return i}parseArrayData(t,n,r,s){const i=super.parseArrayData(t,n,r,s);for(let o=0;o<i.length;o++){const a=n[r+o];i[o]._custom=_e(a[2],this.resolveDataElementOptions(o+r).radius)}return i}parseObjectData(t,n,r,s){const i=super.parseObjectData(t,n,r,s);for(let o=0;o<i.length;o++){const a=n[r+o];i[o]._custom=_e(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=i.getLabelForValue(o.y),u=o._custom;return{label:r[t]||"",value:"("+a+", "+l+(u?", "+u:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,s){const i=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(n,s),d=o.axis,f=a.axis;for(let h=n;h<n+r;h++){const p=t[h],x=!i&&this.getParsed(h),g={},b=g[d]=i?o.getPixelForDecimal(.5):o.getPixelForValue(x[d]),y=g[f]=i?a.getBasePixel():a.getPixelForValue(x[f]);g.skip=isNaN(b)||isNaN(y),u&&(g.options=l||this.resolveDataElementOptions(h,p.active?"active":s),i&&(g.options.radius=0)),this.updateElement(p,h,g,s)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const i=s.radius;return n!=="active"&&(s.radius=0),s.radius+=_e(r&&r._custom,i),s}}Z($u,"id","bubble"),Z($u,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Z($u,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function qE(e,t,n){let r=1,s=1,i=0,o=0;if(t<ct){const a=e,l=a+t,u=Math.cos(a),d=Math.sin(a),f=Math.cos(l),h=Math.sin(l),p=(v,S,j)=>uc(v,a,l,!0)?1:Math.max(S,S*n,j,j*n),x=(v,S,j)=>uc(v,a,l,!0)?-1:Math.min(S,S*n,j,j*n),g=p(0,u,f),b=p(ft,d,h),y=x(st,u,f),m=x(st+ft,d,h);r=(g-y)/2,s=(b-m)/2,i=-(g+y)/2,o=-(b+m)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class uo extends En{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if(Ee(r[t])){const{key:l="value"}=this._parsing;i=u=>+Kr(r[u],l)}let o,a;for(o=t,a=t+n;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return In(this.options.rotation-90)}_getCircumference(){return In(this.options.circumference)}_getRotationExtents(){let t=ct,n=-ct;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();t=Math.min(t,i),n=Math.max(n,i+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(bj(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:x,offsetY:g}=qE(f,d,l),b=(r.width-o)/h,y=(r.height-o)/p,m=Math.max(Math.min(b,y)/2,0),v=jv(this.options.radius,m),S=Math.max(v*l,0),j=(v-S)/this._getVisibleDatasetWeightTotal();this.offsetX=x*v,this.offsetY=g*v,s.total=this.calculateTotal(),this.outerRadius=v-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*i/ct)}updateElements(t,n,r,s){const i=s==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=i&&u.animateScale,p=h?0:this.innerRadius,x=h?0:this.outerRadius,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(n,s);let y=this._getRotation(),m;for(m=0;m<n;++m)y+=this._circumference(m,i);for(m=n;m<n+r;++m){const v=this._circumference(m,i),S=t[m],j={x:d+this.offsetX,y:f+this.offsetY,startAngle:y,endAngle:y+v,circumference:v,outerRadius:x,innerRadius:p};b&&(j.options=g||this.resolveDataElementOptions(m,S.active?"active":s)),y+=v,this.updateElement(S,m,j,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,s;for(s=0;s<n.length;s++){const i=t._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?ct*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=Wc(n._parsed[t],r.options.locale);return{label:s[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const r=this.chart;let s,i,o,a,l;if(!t){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,i=t.length;s<i;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,s=t.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(_e(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Z(uo,"id","doughnut"),Z(uo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Z(uo,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Z(uo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Uu extends En{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Dv(n,s,o);this._drawStart=a,this._drawCount=l,Pv(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:u},t),this.updateElements(s,a,l,t)}updateElements(t,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s),h=o.axis,p=a.axis,{spanGaps:x,segment:g}=this.options,b=ji(x)?x:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||s==="none",m=n+r,v=t.length;let S=n>0&&this.getParsed(n-1);for(let j=0;j<v;++j){const k=t[j],_=y?k:{};if(j<n||j>=m){_.skip=!0;continue}const E=this.getParsed(j),D=be(E[p]),C=_[h]=o.getPixelForValue(E[h],j),L=_[p]=i||D?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[p],j);_.skip=isNaN(C)||isNaN(L)||D,_.stop=j>0&&Math.abs(E[h]-S[h])>b,g&&(_.parsed=E,_.raw=u.data[j]),f&&(_.options=d||this.resolveDataElementOptions(j,k.active?"active":s)),y||this.updateElement(k,j,_,s),S=E}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Z(Uu,"id","line"),Z(Uu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Z(Uu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Hu extends En{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=Wc(n._parsed[t].r,r.options.locale);return{label:s[t]||"",value:i}}parseObjectData(t,n,r,s){return Uv.bind(this)(t,n,r,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,s)=>{const i=this.getParsed(s).r;!isNaN(i)&&this.chart.getDataVisibility(s)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),i=Math.max(s/2,0),o=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),a=(i-o)/t.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,s){const i=s==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,h=u.getIndexAngle(0)-.5*st;let p=h,x;const g=360/this.countVisibleElements();for(x=0;x<n;++x)p+=this._computeAngle(x,s,g);for(x=n;x<n+r;x++){const b=t[x];let y=p,m=p+this._computeAngle(x,s,g),v=o.getDataVisibility(x)?u.getDistanceFromCenterForValue(this.getParsed(x).r):0;p=m,i&&(l.animateScale&&(v=0),l.animateRotate&&(y=m=h));const S={x:d,y:f,innerRadius:0,outerRadius:v,startAngle:y,endAngle:m,options:this.resolveDataElementOptions(x,b.active?"active":s)};this.updateElement(b,x,S,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?In(this.resolveDataElementOptions(t,n).angle||r):0}}Z(Hu,"id","polarArea"),Z(Hu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Z(Hu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class fg extends uo{}Z(fg,"id","pie"),Z(fg,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Vu extends En{getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,s){return Uv.bind(this)(t,n,r,s)}update(t){const n=this._cachedMeta,r=n.dataset,s=n.data||[],i=n.iScale.getLabels();if(r.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:i.length===s.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,r,s){const i=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+r;a++){const l=t[a],u=this.resolveDataElementOptions(a,l.active?"active":s),d=i.getPointPositionForValue(a,this.getParsed(a).r),f=o?i.xCenter:d.x,h=o?i.yCenter:d.y,p={x:f,y:h,angle:d.angle,skip:isNaN(f)||isNaN(h),options:u};this.updateElement(l,a,p,s)}}}Z(Vu,"id","radar"),Z(Vu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Z(Vu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Wu extends En{getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=i.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled;let{start:i,count:o}=Dv(n,r,s);if(this._drawStart=i,this._drawCount=o,Pv(n)&&(i=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:u},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(n,s),f=this.getSharedOptions(d),h=this.includeOptions(s,f),p=o.axis,x=a.axis,{spanGaps:g,segment:b}=this.options,y=ji(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||s==="none";let v=n>0&&this.getParsed(n-1);for(let S=n;S<n+r;++S){const j=t[S],k=this.getParsed(S),_=m?j:{},E=be(k[x]),D=_[p]=o.getPixelForValue(k[p],S),C=_[x]=i||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[x],S);_.skip=isNaN(D)||isNaN(C)||E,_.stop=S>0&&Math.abs(k[p]-v[p])>y,b&&(_.parsed=k,_.raw=u.data[S]),h&&(_.options=f||this.resolveDataElementOptions(S,j.active?"active":s)),m||this.updateElement(j,S,_,s),v=k}this.updateSharedOptions(f,s,d)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;const i=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,i,o)/2}}Z(Wu,"id","scatter"),Z(Wu,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Z(Wu,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function ls(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ih{constructor(t){Z(this,"options");this.options=t||{}}static override(t){Object.assign(Ih.prototype,t)}init(){}formats(){return ls()}parse(){return ls()}format(){return ls()}add(){return ls()}diff(){return ls()}startOf(){return ls()}endOf(){return ls()}}var YE={_date:Ih};function GE(e,t,n,r){const{controller:s,data:i,_sorted:o}=e,a=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&i.length){const u=a._reversePixels?Oj:ws;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const h=u(i,t,n-f),p=u(i,t,n+f);return{lo:h.lo,hi:p.hi}}}}else{const d=u(i,t,n);if(l){const{vScale:f}=s._cachedMeta,{_parsed:h}=e,p=h.slice(0,d.lo+1).reverse().findIndex(g=>!be(g[f.axis]));d.lo-=Math.max(0,p);const x=h.slice(d.hi).findIndex(g=>!be(g[f.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:i.length-1}}function qc(e,t,n,r,s){const i=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=i.length;a<l;++a){const{index:u,data:d}=i[a],{lo:f,hi:h}=GE(i[a],t,o,s);for(let p=f;p<=h;++p){const x=d[p];x.skip||r(x,u,p)}}}function XE(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,s){const i=t?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Ku(e,t,n,r,s){const i=[];return!s&&!e.isPointInArea(t)||qc(e,n,t,function(a,l,u){!s&&!Ch(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&i.push({element:a,datasetIndex:l,index:u})},!0),i}function QE(e,t,n,r){let s=[];function i(o,a,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:f}=kv(o,{x:t.x,y:t.y});uc(f,u,d)&&s.push({element:o,datasetIndex:a,index:l})}return qc(e,n,t,i),s}function JE(e,t,n,r,s,i){let o=[];const a=XE(n);let l=Number.POSITIVE_INFINITY;function u(d,f,h){const p=d.inRange(t.x,t.y,s);if(r&&!p)return;const x=d.getCenterPoint(s);if(!(!!i||e.isPointInArea(x))&&!p)return;const b=a(t,x);b<l?(o=[{element:d,datasetIndex:f,index:h}],l=b):b===l&&o.push({element:d,datasetIndex:f,index:h})}return qc(e,n,t,u),o}function qu(e,t,n,r,s,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!r?QE(e,t,n,s):JE(e,t,n,r,s,i)}function hg(e,t,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return qc(e,n,t,(l,u,d)=>{l[o]&&l[o](t[n],s)&&(i.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(t.x,t.y,s))}),r&&!a?[]:i}var ZE={modes:{index(e,t,n,r){const s=ds(t,e),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ku(e,s,i,r,o):qu(e,s,i,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,f=u.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:d})}),l):[]},dataset(e,t,n,r){const s=ds(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ku(e,s,i,r,o):qu(e,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=e.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point(e,t,n,r){const s=ds(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return Ku(e,s,i,r,o)},nearest(e,t,n,r){const s=ds(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return qu(e,s,i,n.intersect,r,o)},x(e,t,n,r){const s=ds(t,e);return hg(e,s,"x",n.intersect,r)},y(e,t,n,r){const s=ds(t,e);return hg(e,s,"y",n.intersect,r)}}};const Yv=["left","top","right","bottom"];function Ji(e,t){return e.filter(n=>n.pos===t)}function pg(e,t){return e.filter(n=>Yv.indexOf(n.pos)===-1&&n.box.axis===t)}function Zi(e,t){return e.sort((n,r)=>{const s=t?r:n,i=t?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function eN(e){const t=[];let n,r,s,i,o,a;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return t}function tN(e){const t={};for(const n of e){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!Yv.includes(s))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function nN(e,t){const n=tN(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let i,o,a;for(i=0,o=e.length;i<o;++i){a=e[i];const{fullSize:l}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*r:l&&t.availableWidth,a.height=s):(a.width=r,a.height=d?d*s:l&&t.availableHeight)}return n}function rN(e){const t=eN(e),n=Zi(t.filter(u=>u.box.fullSize),!0),r=Zi(Ji(t,"left"),!0),s=Zi(Ji(t,"right")),i=Zi(Ji(t,"top"),!0),o=Zi(Ji(t,"bottom")),a=pg(t,"x"),l=pg(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Ji(t,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function mg(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Gv(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function sN(e,t,n,r){const{pos:s,box:i}=n,o=e.maxPadding;if(!Ee(s)){n.size&&(e[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,e[s]+=n.size}i.getPadding&&Gv(o,i.getPadding());const a=Math.max(0,t.outerWidth-mg(o,e,"left","right")),l=Math.max(0,t.outerHeight-mg(o,e,"top","bottom")),u=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function iN(e){const t=e.maxPadding;function n(r){const s=Math.max(t[r]-e[r],0);return e[r]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function oN(e,t){const n=t.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(t[o],n[o])}),i}return r(e?["left","right"]:["top","bottom"])}function fo(e,t,n,r){const s=[];let i,o,a,l,u,d;for(i=0,o=e.length,u=0;i<o;++i){a=e[i],l=a.box,l.update(a.width||t.w,a.height||t.h,oN(a.horizontal,t));const{same:f,other:h}=sN(t,n,a,r);u|=f&&s.length,d=d||h,l.fullSize||s.push(a)}return u&&fo(s,t,n,r)||d}function Ya(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function gg(e,t,n,r){const s=n.padding;let{x:i,y:o}=t;for(const a of e){const l=a.box,u=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const f=t.w*d,h=u.size||l.height;Zo(u.start)&&(o=u.start),l.fullSize?Ya(l,s.left,o,n.outerWidth-s.right-s.left,h):Ya(l,t.left+u.placed,o,f,h),u.start=o,u.placed+=f,o=l.bottom}else{const f=t.h*d,h=u.size||l.width;Zo(u.start)&&(i=u.start),l.fullSize?Ya(l,i,s.top,h,n.outerHeight-s.bottom-s.top):Ya(l,i,t.top+u.placed,h,f),u.start=i,u.placed+=f,i=l.right}}t.x=i,t.y=o}var dn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=tn(e.options.layout.padding),i=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=rN(e.boxes),l=a.vertical,u=a.horizontal;Oe(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=l.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},s);Gv(h,tn(r));const p=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),x=nN(l.concat(u),f);fo(a.fullSize,p,f,x),fo(l,p,f,x),fo(u,p,f,x)&&fo(l,p,f,x),iN(p),gg(a.leftAndTop,p,f,x),p.x+=p.w,p.y+=p.h,gg(a.rightAndBottom,p,f,x),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Oe(a.chartArea,g=>{const b=g.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Xv{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,s){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(t){return!0}updateConfig(t){}}class aN extends Xv{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Nl="$chartjs",lN={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xg=e=>e===null||e==="";function cN(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[Nl]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",xg(s)){const i=ng(e,"width");i!==void 0&&(e.width=i)}if(xg(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=ng(e,"height");i!==void 0&&(e.height=i)}return e}const Qv=yE?{passive:!0}:!1;function uN(e,t,n){e&&e.addEventListener(t,n,Qv)}function dN(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Qv)}function fN(e,t){const n=lN[e.type]||e.type,{x:r,y:s}=ds(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:s!==void 0?s:null}}function hc(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function hN(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||hc(a.addedNodes,r),o=o&&!hc(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function pN(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||hc(a.removedNodes,r),o=o&&!hc(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ta=new Map;let yg=0;function Jv(){const e=window.devicePixelRatio;e!==yg&&(yg=e,ta.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function mN(e,t){ta.size||window.addEventListener("resize",Jv),ta.set(e,t)}function gN(e){ta.delete(e),ta.size||window.removeEventListener("resize",Jv)}function xN(e,t,n){const r=e.canvas,s=r&&Ah(r);if(!s)return;const i=Mv((a,l)=>{const u=s.clientWidth;n(a,l),u<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(s),mN(e,i),o}function Yu(e,t,n){n&&n.disconnect(),t==="resize"&&gN(e)}function yN(e,t,n){const r=e.canvas,s=Mv(i=>{e.ctx!==null&&n(fN(i,e))},e);return uN(r,t,s),s}class vN extends Xv{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(cN(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[Nl])return!1;const r=n[Nl].initial;["height","width"].forEach(i=>{const o=r[i];be(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Nl],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:hN,detach:pN,resize:xN}[n]||yN;s[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),s=r[n];if(!s)return;({attach:Yu,detach:Yu,resize:Yu}[n]||dN)(t,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,s){return xE(t,n,r,s)}isAttached(t){const n=t&&Ah(t);return!!(n&&n.isConnected)}}function bN(e){return!Lh()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?aN:vN}class $n{constructor(){Z(this,"x");Z(this,"y");Z(this,"active",!1);Z(this,"options");Z(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return ji(this.x)&&ji(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const s={};return t.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}Z($n,"defaults",{}),Z($n,"defaultRoutes");function wN(e,t){const n=e.options.ticks,r=_N(e),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?jN(t):[],o=i.length,a=i[0],l=i[o-1],u=[];if(o>s)return EN(t,u,i,o/s),u;const d=SN(i,t,s);if(o>0){let f,h;const p=o>1?Math.round((l-a)/(o-1)):null;for(Ga(t,u,d,be(p)?0:a-p,a),f=0,h=o-1;f<h;f++)Ga(t,u,d,i[f],i[f+1]);return Ga(t,u,d,l,be(p)?t.length:l+p),u}return Ga(t,u,d),u}function _N(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}function SN(e,t,n){const r=NN(e),s=t.length/n;if(!r)return Math.max(s,1);const i=kj(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function jN(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function EN(e,t,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===i&&(t.push(e[o]),s++,i=n[s*r])}function Ga(e,t,n,r,s){const i=_e(r,0),o=Math.min(_e(s,e.length),e.length);let a=0,l,u,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(u=Math.max(i,0);u<o;u++)u===d&&(t.push(e[u]),a++,d=Math.round(i+a*n))}function NN(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const kN=e=>e==="left"?"right":e==="right"?"left":e,vg=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,bg=(e,t)=>Math.min(t||e,e);function wg(e,t){const n=[],r=e.length/t,s=e.length;let i=0;for(;i<s;i+=r)n.push(e[Math.floor(i)]);return n}function CN(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),i=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(l-i,o-l):t===0?u=(e.getPixelForTick(1)-l)/2:u=(l-e.getPixelForTick(s-1))/2,l+=s<t?u:-u,l<i-a||l>o+a)))return l}function TN(e,t){Oe(e,n=>{const r=n.gc,s=r.length/2;let i;if(s>t){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function eo(e){return e.drawTicks?e.tickLength:0}function _g(e,t){if(!e.display)return 0;const n=yt(e.font,t),r=tn(e.padding);return(lt(e.text)?e.text.length:1)*n.lineHeight+r.height}function RN(e,t){return Pi(e,{scale:t,type:"scale"})}function MN(e,t,n){return Pi(e,{tick:n,index:t,type:"tick"})}function DN(e,t,n){let r=kh(e);return(n&&t!=="right"||!n&&t==="right")&&(r=kN(r)),r}function PN(e,t,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=e,{chartArea:u,scales:d}=l;let f=0,h,p,x;const g=o-s,b=a-i;if(e.isHorizontal()){if(p=jt(r,i,a),Ee(n)){const y=Object.keys(n)[0],m=n[y];x=d[y].getPixelForValue(m)+g-t}else n==="center"?x=(u.bottom+u.top)/2+g-t:x=vg(e,n,t);h=a-i}else{if(Ee(n)){const y=Object.keys(n)[0],m=n[y];p=d[y].getPixelForValue(m)-b+t}else n==="center"?p=(u.left+u.right)/2-b+t:p=vg(e,n,t);x=jt(r,o,s),f=n==="left"?-ft:ft}return{titleX:p,titleY:x,maxWidth:h,rotation:f}}class Oi extends $n{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return t=Dn(t,Number.POSITIVE_INFINITY),n=Dn(n,Number.NEGATIVE_INFINITY),r=Dn(r,Number.POSITIVE_INFINITY),s=Dn(s,Number.NEGATIVE_INFINITY),{min:Dn(t,r),max:Dn(n,s),minDefined:mn(t),maxDefined:mn(n)}}getMinMax(t){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Dn(n,Dn(r,n)),max:Dn(r,Dn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Fe(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=nE(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?wg(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=wN(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Fe(this.options.afterUpdate,[this])}beforeSetDimensions(){Fe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Fe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Fe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Fe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r],i.label=Fe(n.callback,[i.value,r,t],this)}afterTickToLabelConversion(){Fe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Fe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=bg(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,p=Ct(this.chart.width-f,0,this.maxWidth);a=t.offset?this.maxWidth/r:p/(r-1),f+6>a&&(a=p/(r-(t.offset?.5:1)),l=this.maxHeight-eo(t.grid)-n.padding-_g(t.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),o=Mj(Math.min(Math.asin(Ct((d.highest.height+6)/a,-1,1)),Math.asin(Ct(l/u,-1,1))-Math.asin(Ct(h/u,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Fe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Fe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=_g(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=eo(i)+l):(t.height=this.maxHeight,t.width=eo(i)+l),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),p=r.padding*2,x=In(this.labelRotation),g=Math.cos(x),b=Math.sin(x);if(a){const y=r.mirror?0:b*f.width+g*h.height;t.height=Math.min(this.maxHeight,t.height+y+p)}else{const y=r.mirror?0:g*f.width+b*h.height;t.width=Math.min(this.maxWidth,t.width+y+p)}this._calculatePadding(u,d,b,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?u?(h=s*t.width,p=r*n.height):(h=r*t.height,p=s*n.width):i==="start"?p=n.width:i==="end"?h=t.width:i!=="inner"&&(h=t.width/2,p=n.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=t.height/2;i==="start"?(d=0,f=t.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Fe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)be(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=wg(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/bg(n,r));let u=0,d=0,f,h,p,x,g,b,y,m,v,S,j;for(f=0;f<n;f+=l){if(x=t[f].label,g=this._resolveTickFontOptions(f),s.font=b=g.string,y=i[b]=i[b]||{data:{},gc:[]},m=g.lineHeight,v=S=0,!be(x)&&!lt(x))v=Qm(s,y.data,y.gc,v,x),S=m;else if(lt(x))for(h=0,p=x.length;h<p;++h)j=x[h],!be(j)&&!lt(j)&&(v=Qm(s,y.data,y.gc,v,j),S+=m);o.push(v),a.push(S),u=Math.max(v,u),d=Math.max(S,d)}TN(i,n);const k=o.indexOf(u),_=a.indexOf(d),E=D=>({width:o[D]||0,height:a[D]||0});return{first:E(0),last:E(n-1),widest:E(k),highest:E(_),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Pj(this._alignToPixels?as(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=MN(this.getContext(),t,r))}return this.$context||(this.$context=RN(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=In(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=eo(i),p=[],x=a.setContext(this.getContext()),g=x.display?x.width:0,b=g/2,y=function(K){return as(r,K,g)};let m,v,S,j,k,_,E,D,C,L,A,W;if(o==="top")m=y(this.bottom),_=this.bottom-h,D=m-b,L=y(t.top)+b,W=t.bottom;else if(o==="bottom")m=y(this.top),L=t.top,W=y(t.bottom)-b,_=m+b,D=this.top+h;else if(o==="left")m=y(this.right),k=this.right-h,E=m-b,C=y(t.left)+b,A=t.right;else if(o==="right")m=y(this.left),C=t.left,A=y(t.right)-b,k=m+b,E=this.left+h;else if(n==="x"){if(o==="center")m=y((t.top+t.bottom)/2+.5);else if(Ee(o)){const K=Object.keys(o)[0],re=o[K];m=y(this.chart.scales[K].getPixelForValue(re))}L=t.top,W=t.bottom,_=m+b,D=_+h}else if(n==="y"){if(o==="center")m=y((t.left+t.right)/2);else if(Ee(o)){const K=Object.keys(o)[0],re=o[K];m=y(this.chart.scales[K].getPixelForValue(re))}k=m-b,E=k-h,C=t.left,A=t.right}const Y=_e(s.ticks.maxTicksLimit,f),Q=Math.max(1,Math.ceil(f/Y));for(v=0;v<f;v+=Q){const K=this.getContext(v),re=i.setContext(K),O=a.setContext(K),B=re.lineWidth,q=re.color,le=O.dash||[],$=O.dashOffset,I=re.tickWidth,G=re.tickColor,ne=re.tickBorderDash||[],ee=re.tickBorderDashOffset;S=CN(this,v,l),S!==void 0&&(j=as(r,S,B),u?k=E=C=A=j:_=D=L=W=j,p.push({tx1:k,ty1:_,tx2:E,ty2:D,x1:C,y1:L,x2:A,y2:W,width:B,color:q,borderDash:le,borderDashOffset:$,tickWidth:I,tickColor:G,tickBorderDash:ne,tickBorderDashOffset:ee}))}return this._ticksLength=f,this._borderValue=m,p}_computeLabelItems(t){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:f}=i,h=eo(r.grid),p=h+d,x=f?-d:p,g=-In(this.labelRotation),b=[];let y,m,v,S,j,k,_,E,D,C,L,A,W="middle";if(s==="top")k=this.bottom-x,_=this._getXAxisLabelAlignment();else if(s==="bottom")k=this.top+x,_=this._getXAxisLabelAlignment();else if(s==="left"){const Q=this._getYAxisLabelAlignment(h);_=Q.textAlign,j=Q.x}else if(s==="right"){const Q=this._getYAxisLabelAlignment(h);_=Q.textAlign,j=Q.x}else if(n==="x"){if(s==="center")k=(t.top+t.bottom)/2+p;else if(Ee(s)){const Q=Object.keys(s)[0],K=s[Q];k=this.chart.scales[Q].getPixelForValue(K)+p}_=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")j=(t.left+t.right)/2-p;else if(Ee(s)){const Q=Object.keys(s)[0],K=s[Q];j=this.chart.scales[Q].getPixelForValue(K)}_=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?W="top":l==="end"&&(W="bottom"));const Y=this._getLabelSizes();for(y=0,m=a.length;y<m;++y){v=a[y],S=v.label;const Q=i.setContext(this.getContext(y));E=this.getPixelForTick(y)+i.labelOffset,D=this._resolveTickFontOptions(y),C=D.lineHeight,L=lt(S)?S.length:1;const K=L/2,re=Q.color,O=Q.textStrokeColor,B=Q.textStrokeWidth;let q=_;o?(j=E,_==="inner"&&(y===m-1?q=this.options.reverse?"left":"right":y===0?q=this.options.reverse?"right":"left":q="center"),s==="top"?u==="near"||g!==0?A=-L*C+C/2:u==="center"?A=-Y.highest.height/2-K*C+C:A=-Y.highest.height+C/2:u==="near"||g!==0?A=C/2:u==="center"?A=Y.highest.height/2-K*C:A=Y.highest.height-L*C,f&&(A*=-1),g!==0&&!Q.showLabelBackdrop&&(j+=C/2*Math.sin(g))):(k=E,A=(1-L)*C/2);let le;if(Q.showLabelBackdrop){const $=tn(Q.backdropPadding),I=Y.heights[y],G=Y.widths[y];let ne=A-$.top,ee=0-$.left;switch(W){case"middle":ne-=I/2;break;case"bottom":ne-=I;break}switch(_){case"center":ee-=G/2;break;case"right":ee-=G;break;case"inner":y===m-1?ee-=G:y>0&&(ee-=G/2);break}le={left:ee,top:ne,width:G+$.width,height:I+$.height,color:Q.backdropColor}}b.push({label:S,font:D,textOffset:A,options:{rotation:g,color:re,strokeColor:O,strokeWidth:B,textAlign:q,textBaseline:W,translation:[j,k],backdrop:le}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-In(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=t+i,l=o.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,s,i,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const a=(l,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=as(t,this.left,o)-o/2,d=as(t,this.right,a)+a/2,f=h=l):(f=as(t,this.top,o)-o/2,h=as(t,this.bottom,a)+a/2,u=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Th(r,s);const i=this.getLabelItems(t);for(const o of i){const a=o.options,l=o.font,u=o.label,d=o.textOffset;ea(r,u,0,d,l,a)}s&&Rh(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=yt(r.font),o=tn(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||Ee(n)?(l+=o.bottom,lt(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=PN(this,l,n,a);ea(t,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:h,textAlign:DN(a,n,s),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=_e(t.grid&&t.grid.z,-1),s=_e(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Oi.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return yt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Xa{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;AN(n)&&(r=this.register(n));const s=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in s||(s[i]=t,ON(t,o,r),this.override&&tt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,s=this.scope;r in n&&delete n[r],s&&r in tt[s]&&(delete tt[s][r],this.override&&delete Ls[r])}}function ON(e,t,n){const r=Bn(Object.create(null),[n?tt.get(n):{},tt.get(t),e.defaults]);tt.set(t,r),e.defaultRoutes&&LN(t,e.defaultRoutes),e.descriptors&&tt.describe(t,e.descriptors)}function LN(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),s=r.pop(),i=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");tt.route(i,s,l,a)})}function AN(e){return"id"in e&&"defaults"in e}class IN{constructor(){this.controllers=new Xa(En,"datasets",!0),this.elements=new Xa($n,"elements"),this.plugins=new Xa(Object,"plugins"),this.scales=new Xa(Oi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(t,i,s):Oe(s,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const s=Eh(t);Fe(r["before"+s],[],r),n[t](r),Fe(r["after"+s],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return s}}var Ln=new IN;class FN{constructor(){this._init=[]}notify(t,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(i,t,n,r);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,s){s=s||{};for(const i of t){const o=i.plugin,a=o[r],l=[n,s,i.options];if(Fe(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){be(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,s=_e(r.options&&r.options.plugins,{}),i=zN(r);return s===!1&&!n?[]:$N(t,i,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),t,"stop"),this._notify(s(r,n),t,"start")}}function zN(e){const t={},n=[],r=Object.keys(Ln.plugins.items);for(let i=0;i<r.length;i++)n.push(Ln.getPlugin(r[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function BN(e,t){return!t&&e===!1?null:e===!0?{}:e}function $N(e,{plugins:t,localIds:n},r,s){const i=[],o=e.getContext();for(const a of t){const l=a.id,u=BN(r[l],s);u!==null&&i.push({plugin:a,options:UN(e.config,{plugin:a,local:n[l]},u,o)})}return i}function UN(e,{plugin:t,local:n},r,s){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(r,i);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sf(e,t){const n=tt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function HN(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function VN(e,t){return e===t?"_index_":"_value_"}function Sg(e){if(e==="x"||e==="y"||e==="r")return e}function WN(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function of(e,...t){if(Sg(e))return e;for(const n of t){const r=n.axis||WN(n.position)||e.length>1&&Sg(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function jg(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function KN(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return jg(e,"x",n[0])||jg(e,"y",n[0])}return{}}function qN(e,t){const n=Ls[e.type]||{scales:{}},r=t.scales||{},s=sf(e.type,t),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Ee(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=of(o,a,KN(o,e),tt.scales[a.type]),u=VN(l,s),d=n.scales||{};i[o]=So(Object.create(null),[{axis:l},a,d[l],d[u]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||sf(a,t),d=(Ls[a]||{}).scales||{};Object.keys(d).forEach(f=>{const h=HN(f,l),p=o[h+"AxisID"]||h;i[p]=i[p]||Object.create(null),So(i[p],[{axis:h},r[p],d[f]])})}),Object.keys(i).forEach(o=>{const a=i[o];So(a,[tt.scales[a.type],tt.scale])}),i}function Zv(e){const t=e.options||(e.options={});t.plugins=_e(t.plugins,{}),t.scales=qN(e,t)}function e1(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function YN(e){return e=e||{},e.data=e1(e.data),Zv(e),e}const Eg=new Map,t1=new Set;function Qa(e,t){let n=Eg.get(e);return n||(n=t(),Eg.set(e,n),t1.add(n)),n}const to=(e,t,n)=>{const r=Kr(t,n);r!==void 0&&e.add(r)};class GN{constructor(t){this._config=YN(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=e1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Zv(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Qa(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Qa(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Qa(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Qa(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let s=r.get(t);return(!s||n)&&(s=new Map,r.set(t,s)),s}getOptionScopes(t,n,r){const{options:s,type:i}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{t&&(l.add(t),d.forEach(f=>to(l,t,f))),d.forEach(f=>to(l,s,f)),d.forEach(f=>to(l,Ls[i]||{},f)),d.forEach(f=>to(l,tt,f)),d.forEach(f=>to(l,nf,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),t1.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ls[n]||{},tt.datasets[n]||{},{type:n},tt,nf]}resolveNamedOptions(t,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Ng(this._resolverCache,t,s);let l=o;if(QN(o,n)){i.$shared=!1,r=qr(r)?r():r;const u=this.createResolver(t,r,a);l=Ei(o,r,u)}for(const u of n)i[u]=l[u];return i}createResolver(t,n,r=[""],s){const{resolver:i}=Ng(this._resolverCache,t,r);return Ee(n)?Ei(i,n,void 0,s):i}}function Ng(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let i=r.get(s);return i||(i={resolver:Dh(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const XN=e=>Ee(e)&&Object.getOwnPropertyNames(e).some(t=>qr(e[t]));function QN(e,t){const{isScriptable:n,isIndexable:r}=Fv(e);for(const s of t){const i=n(s),o=r(s),a=(o||i)&&e[s];if(i&&(qr(a)||XN(a))||o&&lt(a))return!0}return!1}var JN="4.4.9";const ZN=["top","bottom","left","right","chartArea"];function kg(e,t){return e==="top"||e==="bottom"||ZN.indexOf(e)===-1&&t==="x"}function Cg(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Tg(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Fe(n&&n.onComplete,[e],t)}function ek(e){const t=e.chart,n=t.options.animation;Fe(n&&n.onProgress,[e],t)}function n1(e){return Lh()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const kl={},Rg=e=>{const t=n1(e);return Object.values(kl).filter(n=>n.canvas===t).pop()};function tk(e,t,n){const r=Object.keys(e);for(const s of r){const i=+s;if(i>=t){const o=e[s];delete e[s],(n>0||i>t)&&(e[i+n]=o)}}}function nk(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}class jr{static register(...t){Ln.add(...t),Mg()}static unregister(...t){Ln.remove(...t),Mg()}constructor(t,n){const r=this.config=new GN(n),s=n1(t),i=Rg(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||bN(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,d=l&&l.width;if(this.id=vj(),this.ctx=a,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new FN,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ij(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],kl[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Xn.listen(this,"complete",Tg),Xn.listen(this,"progress",ek),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return be(t)?n&&i?i:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ln}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Jm(this.canvas,this.ctx),this}stop(){return Xn.stop(this),this}resize(t,n){Xn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,tg(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Fe(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Oe(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=of(o,a),u=l==="r",d=l==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Oe(i,o=>{const a=o.options,l=a.id,u=of(l,a),d=_e(a.type,o.dtype);(a.position===void 0||kg(a.position,u)!==kg(o.dposition))&&(a.position=o.dposition),s[l]=!0;let f=null;if(l in r&&r[l].type===d)f=r[l];else{const h=Ln.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,t)}),Oe(s,(o,a)=>{o||delete r[a]}),Oe(r,o=>{dn.configure(this,o,o.options),dn.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(Cg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||sf(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Ln.getController(a),{datasetElementType:u,dataElementType:d}=tt.datasets[a];Object.assign(l,{dataElementType:Ln.getElement(d),datasetElementType:u&&Ln.getElement(u)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Oe(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||Oe(i,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Cg("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Oe(this.scales,t=>{dn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Um(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;tk(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(t.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!Um(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;dn.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Oe(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,qr(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Xn.has(this)?this.attached&&!Xn.running(this)&&Xn.start(this):(this.draw(),Tg({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=_E(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Th(n,s),t.controller.draw(),s&&Rh(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Ch(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const i=ZE.modes[n];return typeof i=="function"?i(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Pi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,s);Zo(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Xn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Jm(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete kl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),t[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};Oe(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},s=(l,u)=>{t[l]&&(n.removeEventListener(this,l,u),delete t[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Oe(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Oe(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!ac(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const s=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=i(n,t),a=r?t:i(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(t,s,r,o),l=Ej(t),u=nk(t,this._lastEvent,r,l);r&&(this._lastEvent=null,Fe(i.onHover,[t,a,this],this),l&&Fe(i.onClick,[t,a,this],this));const d=!ac(a,s);return(d||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=u,d}_getActiveElements(t,n,r,s){if(t.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,s)}}Z(jr,"defaults",tt),Z(jr,"instances",kl),Z(jr,"overrides",Ls),Z(jr,"registry",Ln),Z(jr,"version",JN),Z(jr,"getChart",Rg);function Mg(){return Oe(jr.instances,e=>e._plugins.invalidate())}function rk(e,t,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=t;let u=s/a;e.beginPath(),e.arc(i,o,a,r-u,n+u),l>s?(u=s/l,e.arc(i,o,l,n+u,r-u,!0)):e.arc(i,o,s,n+ft,r-ft),e.closePath(),e.clip()}function sk(e){return Mh(e,["outerStart","outerEnd","innerStart","innerEnd"])}function ik(e,t,n,r){const s=sk(e.options.borderRadius),i=(n-t)/2,o=Math.min(i,r*t/2),a=l=>{const u=(n-Math.min(i,l))*r/2;return Ct(l,0,Math.min(i,u))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Ct(s.innerStart,0,o),innerEnd:Ct(s.innerEnd,0,o)}}function Ys(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function pc(e,t,n,r,s,i){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:d}=t,f=Math.max(t.outerRadius+r+n-u,0),h=d>0?d+r+n+u:0;let p=0;const x=s-l;if(r){const Q=d>0?d-r:0,K=f>0?f-r:0,re=(Q+K)/2,O=re!==0?x*re/(re+r):x;p=(x-O)/2}const g=Math.max(.001,x*f-n/st)/f,b=(x-g)/2,y=l+b+p,m=s-b-p,{outerStart:v,outerEnd:S,innerStart:j,innerEnd:k}=ik(t,h,f,m-y),_=f-v,E=f-S,D=y+v/_,C=m-S/E,L=h+j,A=h+k,W=y+j/L,Y=m-k/A;if(e.beginPath(),i){const Q=(D+C)/2;if(e.arc(o,a,f,D,Q),e.arc(o,a,f,Q,C),S>0){const B=Ys(E,C,o,a);e.arc(B.x,B.y,S,C,m+ft)}const K=Ys(A,m,o,a);if(e.lineTo(K.x,K.y),k>0){const B=Ys(A,Y,o,a);e.arc(B.x,B.y,k,m+ft,Y+Math.PI)}const re=(m-k/h+(y+j/h))/2;if(e.arc(o,a,h,m-k/h,re,!0),e.arc(o,a,h,re,y+j/h,!0),j>0){const B=Ys(L,W,o,a);e.arc(B.x,B.y,j,W+Math.PI,y-ft)}const O=Ys(_,y,o,a);if(e.lineTo(O.x,O.y),v>0){const B=Ys(_,D,o,a);e.arc(B.x,B.y,v,y-ft,D)}}else{e.moveTo(o,a);const Q=Math.cos(D)*f+o,K=Math.sin(D)*f+a;e.lineTo(Q,K);const re=Math.cos(C)*f+o,O=Math.sin(C)*f+a;e.lineTo(re,O)}e.closePath()}function ok(e,t,n,r,s){const{fullCircles:i,startAngle:o,circumference:a}=t;let l=t.endAngle;if(i){pc(e,t,n,r,l,s);for(let u=0;u<i;++u)e.fill();isNaN(a)||(l=o+(a%ct||ct))}return pc(e,t,n,r,l,s),e.fill(),l}function ak(e,t,n,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=t,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:h}=l,p=l.borderAlign==="inner";if(!u)return;e.setLineDash(f||[]),e.lineDashOffset=h,p?(e.lineWidth=u*2,e.lineJoin=d||"round"):(e.lineWidth=u,e.lineJoin=d||"bevel");let x=t.endAngle;if(i){pc(e,t,n,r,x,s);for(let g=0;g<i;++g)e.stroke();isNaN(a)||(x=o+(a%ct||ct))}p&&rk(e,t,x),i||(pc(e,t,n,r,x,s),e.stroke())}class ai extends $n{constructor(n){super();Z(this,"circumference");Z(this,"endAngle");Z(this,"fullCircles");Z(this,"innerRadius");Z(this,"outerRadius");Z(this,"pixelMargin");Z(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=kv(i,{x:n,y:r}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,x=_e(h,u-l),g=uc(o,l,u)&&l!==u,b=x>=ct||g,y=bs(a,d+p,f+p);return b&&y}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,f=(i+o)/2,h=(a+l+d+u)/2;return{x:r+Math.cos(f)*h,y:s+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>ct?Math.floor(s/ct):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(st,s||0)),d=i*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,ok(n,this,d,o,a),ak(n,this,d,o,a),n.restore()}}Z(ai,"id","arc"),Z(ai,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Z(ai,"defaultRoutes",{backgroundColor:"backgroundColor"}),Z(ai,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Dg(e,t,n,r){const s=e.options,{[n]:i}=e.getProps([n],r);return Math.abs(t-i)<s.radius+s.hitRadius}class Cl extends $n{constructor(n){super();Z(this,"parsed");Z(this,"skip");Z(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return Dg(this,n,"x",r)}inYRange(n,r){return Dg(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!Ch(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,rf(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Z(Cl,"id","point"),Z(Cl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Z(Cl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function r1(e,t){const{x:n,y:r,base:s,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,u,d,f;return e.horizontal?(f=o/2,a=Math.min(n,s),l=Math.max(n,s),u=r-f,d=r+f):(f=i/2,a=n-f,l=n+f,u=Math.min(r,s),d=Math.max(r,s)),{left:a,top:u,right:l,bottom:d}}function Dr(e,t,n,r){return e?0:Ct(t,n,r)}function lk(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,i=Iv(r);return{t:Dr(s.top,i.top,0,n),r:Dr(s.right,i.right,0,t),b:Dr(s.bottom,i.bottom,0,n),l:Dr(s.left,i.left,0,t)}}function ck(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=pi(s),o=Math.min(t,n),a=e.borderSkipped,l=r||Ee(s);return{topLeft:Dr(!l||a.top||a.left,i.topLeft,0,o),topRight:Dr(!l||a.top||a.right,i.topRight,0,o),bottomLeft:Dr(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:Dr(!l||a.bottom||a.right,i.bottomRight,0,o)}}function uk(e){const t=r1(e),n=t.right-t.left,r=t.bottom-t.top,s=lk(e,n/2,r/2),i=ck(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Gu(e,t,n,r){const s=t===null,i=n===null,a=e&&!(s&&i)&&r1(e,r);return a&&(s||bs(t,a.left,a.right))&&(i||bs(n,a.top,a.bottom))}function dk(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function fk(e,t){e.rect(t.x,t.y,t.w,t.h)}function Xu(e,t,n={}){const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+i,h:e.h+o,radius:e.radius}}class No extends $n{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=uk(this),a=dk(o.radius)?dc:fk;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),a(t,Xu(o,n,i)),t.clip(),a(t,Xu(i,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,Xu(i,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,r){return Gu(this,t,n,r)}inXRange(t,n){return Gu(this,t,null,n)}inYRange(t,n){return Gu(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Z(No,"id","bar"),Z(No,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Z(No,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Pg=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},hk=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Og extends $n{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Fe(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,s)=>t.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,s=yt(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Pg(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,u=this._fitCols(o,s,a,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+a;let f=t;i.textAlign="left",i.textBaseline="middle";let h=-1,p=-d;return this.legendItems.forEach((x,g)=>{const b=r+n/2+i.measureText(x.text).width;(g===0||u[u.length-1]+b+2*a>o)&&(f+=d,u[u.length-(g>0?0:1)]=0,p+=d,h++),l[g]={left:0,top:p,row:h,width:b,height:s},u[u.length-1]+=b+a}),f}_fitCols(t,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-t;let f=a,h=0,p=0,x=0,g=0;return this.legendItems.forEach((b,y)=>{const{itemWidth:m,itemHeight:v}=pk(r,n,i,b,s);y>0&&p+v+2*a>d&&(f+=h+a,u.push({width:h,height:p}),x+=h+a,g++,h=p=0),l[y]={left:x,top:p,col:g,width:m,height:v},h=Math.max(h,m),p+=v+a}),f+=h,u.push({width:h,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=mi(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=jt(r,this.left+s,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=jt(r,this.left+s,this.right-this.lineWidths[a])),u.top+=this.top+t+s,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+s}else{let a=0,l=jt(r,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=jt(r,this.top+t+s,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Th(t,this),this._draw(),Rh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=t,a=tt.color,l=mi(t.rtl,this.left,this.width),u=yt(o.font),{padding:d}=o,f=u.size,h=f/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:x,boxHeight:g,itemHeight:b}=Pg(o,f),y=function(k,_,E){if(isNaN(x)||x<=0||isNaN(g)||g<0)return;s.save();const D=_e(E.lineWidth,1);if(s.fillStyle=_e(E.fillStyle,a),s.lineCap=_e(E.lineCap,"butt"),s.lineDashOffset=_e(E.lineDashOffset,0),s.lineJoin=_e(E.lineJoin,"miter"),s.lineWidth=D,s.strokeStyle=_e(E.strokeStyle,a),s.setLineDash(_e(E.lineDash,[])),o.usePointStyle){const C={radius:g*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:D},L=l.xPlus(k,x/2),A=_+h;Av(s,C,L,A,o.pointStyleWidth&&x)}else{const C=_+Math.max((f-g)/2,0),L=l.leftForLtr(k,x),A=pi(E.borderRadius);s.beginPath(),Object.values(A).some(W=>W!==0)?dc(s,{x:L,y:C,w:x,h:g,radius:A}):s.rect(L,C,x,g),s.fill(),D!==0&&s.stroke()}s.restore()},m=function(k,_,E){ea(s,E.text,k,_+b/2,u,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},v=this.isHorizontal(),S=this._computeTitleHeight();v?p={x:jt(i,this.left+d,this.right-r[0]),y:this.top+d+S,line:0}:p={x:this.left+d,y:jt(i,this.top+S+d,this.bottom-n[0].height),line:0},Hv(this.ctx,t.textDirection);const j=b+d;this.legendItems.forEach((k,_)=>{s.strokeStyle=k.fontColor,s.fillStyle=k.fontColor;const E=s.measureText(k.text).width,D=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),C=x+h+E;let L=p.x,A=p.y;l.setWidth(this.width),v?_>0&&L+C+d>this.right&&(A=p.y+=j,p.line++,L=p.x=jt(i,this.left+d,this.right-r[p.line])):_>0&&A+j>this.bottom&&(L=p.x=L+n[p.line].width+d,p.line++,A=p.y=jt(i,this.top+S+d,this.bottom-n[p.line].height));const W=l.x(L);if(y(W,A,k),L=Fj(D,L+x+h,v?L+C:this.right,t.rtl),m(l.x(L),A,k),v)p.x+=C+d;else if(typeof k.text!="string"){const Y=u.lineHeight;p.y+=s1(k,Y)+d}else p.y+=j}),Vv(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=yt(n.font),s=tn(n.padding);if(!n.display)return;const i=mi(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=s.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=jt(t.align,f,this.right-h);else{const x=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);d=u+jt(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const p=jt(a,f,f+h);o.textAlign=i.textAlign(kh(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,ea(o,n.text,p,d,r)}_computeTitleHeight(){const t=this.options.title,n=yt(t.font),r=tn(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,s,i;if(bs(t,this.left,this.right)&&bs(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],bs(t,s.left,s.left+s.width)&&bs(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!xk(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,i=hk(s,r);s&&!i&&Fe(n.onLeave,[t,s,this],this),this._hoveredItem=r,r&&!i&&Fe(n.onHover,[t,r,this],this)}else r&&Fe(n.onClick,[t,r,this],this)}}function pk(e,t,n,r,s){const i=mk(r,e,t,n),o=gk(s,r,t.lineHeight);return{itemWidth:i,itemHeight:o}}function mk(e,t,n,r){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),t+n.size/2+r.measureText(s).width}function gk(e,t,n){let r=e;return typeof t.text!="string"&&(r=s1(t,n)),r}function s1(e,t){const n=e.text?e.text.length:0;return t*n}function xk(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var yk={id:"legend",_element:Og,start(e,t,n){const r=e.legend=new Og({ctx:e.ctx,options:n,chart:e});dn.configure(e,r,n),dn.addBox(e,r)},stop(e){dn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;dn.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=tn(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class i1 extends $n{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=lt(r.text)?r.text.length:1;this._padding=tn(r.padding);const i=s*yt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,u,d,f;return this.isHorizontal()?(d=jt(a,r,i),f=n+t,u=i-r):(o.position==="left"?(d=r+t,f=jt(a,s,n),l=st*-.5):(d=i-t,f=jt(a,n,s),l=st*.5),u=s-n),{titleX:d,titleY:f,maxWidth:u,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=yt(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(i);ea(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:kh(n.align),textBaseline:"middle",translation:[o,a]})}}function vk(e,t){const n=new i1({ctx:e.ctx,options:t,chart:e});dn.configure(e,n,t),dn.addBox(e,n),e.titleBlock=n}var bk={id:"title",_element:i1,start(e,t,n){vk(e,n)},stop(e){const t=e.titleBlock;dn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;dn.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ho={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,i=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=e.length;i<o;++i){const l=e[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=Dj(t,u);d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Pn(e,t){return t&&(lt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Qn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function wk(e,t){const{element:n,datasetIndex:r,index:s}=t,i=e.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:e,label:o,parsed:i.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Lg(e,t){const n=e.chart.ctx,{body:r,footer:s,title:i}=e,{boxWidth:o,boxHeight:a}=t,l=yt(t.bodyFont),u=yt(t.titleFont),d=yt(t.footerFont),f=i.length,h=s.length,p=r.length,x=tn(t.padding);let g=x.height,b=0,y=r.reduce((S,j)=>S+j.before.length+j.lines.length+j.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,f&&(g+=f*u.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),y){const S=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*S+(y-p)*l.lineHeight+(y-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let m=0;const v=function(S){b=Math.max(b,n.measureText(S).width+m)};return n.save(),n.font=u.string,Oe(e.title,v),n.font=l.string,Oe(e.beforeBody.concat(e.afterBody),v),m=t.displayColors?o+2+t.boxPadding:0,Oe(r,S=>{Oe(S.before,v),Oe(S.lines,v),Oe(S.after,v)}),m=0,n.font=d.string,Oe(e.footer,v),n.restore(),b+=x.width,{width:b,height:g}}function _k(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function Sk(e,t,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&s+i+o>t.width||e==="right"&&s-i-o<0)return!0}function jk(e,t,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=e;let u="center";return r==="center"?u=s<=(a+l)/2?"left":"right":s<=i/2?u="left":s>=o-i/2&&(u="right"),Sk(u,e,t,n)&&(u="center"),u}function Ag(e,t,n){const r=n.yAlign||t.yAlign||_k(e,n);return{xAlign:n.xAlign||t.xAlign||jk(e,t,n,r),yAlign:r}}function Ek(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function Nk(e,t,n){let{y:r,height:s}=e;return t==="top"?r+=n:t==="bottom"?r-=s+n:r-=s/2,r}function Ig(e,t,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,u=s+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=pi(o);let x=Ek(t,a);const g=Nk(t,l,u);return l==="center"?a==="left"?x+=u:a==="right"&&(x-=u):a==="left"?x-=Math.max(d,h)+s:a==="right"&&(x+=Math.max(f,p)+s),{x:Ct(x,0,r.width-t.width),y:Ct(g,0,r.height-t.height)}}function Ja(e,t,n){const r=tn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function Fg(e){return Pn([],Qn(e))}function kk(e,t,n){return Pi(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function zg(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const o1={beforeTitle:qn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:qn,beforeBody:qn,beforeLabel:qn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return be(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:qn,afterBody:qn,beforeFooter:qn,footer:qn,afterFooter:qn};function It(e,t,n,r){const s=e[t].call(n,r);return typeof s>"u"?o1[t].call(n,r):s}class af extends $n{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new Wv(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=kk(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=It(r,"beforeTitle",this,t),i=It(r,"title",this,t),o=It(r,"afterTitle",this,t);let a=[];return a=Pn(a,Qn(s)),a=Pn(a,Qn(i)),a=Pn(a,Qn(o)),a}getBeforeBody(t,n){return Fg(It(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return Oe(t,i=>{const o={before:[],lines:[],after:[]},a=zg(r,i);Pn(o.before,Qn(It(a,"beforeLabel",this,i))),Pn(o.lines,It(a,"label",this,i)),Pn(o.after,Qn(It(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(t,n){return Fg(It(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=It(r,"beforeFooter",this,t),i=It(r,"footer",this,t),o=It(r,"afterFooter",this,t);let a=[];return a=Pn(a,Qn(s)),a=Pn(a,Qn(i)),a=Pn(a,Qn(o)),a}_createItems(t){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(wk(this.chart,n[l]));return t.filter&&(a=a.filter((d,f,h)=>t.filter(d,f,h,r))),t.itemSort&&(a=a.sort((d,f)=>t.itemSort(d,f,r))),Oe(a,d=>{const f=zg(t.callbacks,d);s.push(It(f,"labelColor",this,d)),i.push(It(f,"labelPointStyle",this,d)),o.push(It(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=ho[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Lg(this,r),u=Object.assign({},a,l),d=Ag(this.chart,r,u),f=Ig(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const i=this.getCaretPosition(t,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=pi(a),{x:h,y:p}=t,{width:x,height:g}=n;let b,y,m,v,S,j;return i==="center"?(S=p+g/2,s==="left"?(b=h,y=b-o,v=S+o,j=S-o):(b=h+x,y=b+o,v=S-o,j=S+o),m=b):(s==="left"?y=h+Math.max(l,d)+o:s==="right"?y=h+x-Math.max(u,f)-o:y=this.caretX,i==="top"?(v=p,S=v-o,b=y-o,m=y+o):(v=p+g,S=v+o,b=y+o,m=y-o),j=v),{x1:b,x2:y,x3:m,y1:v,y2:S,y3:j}}drawTitle(t,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const u=mi(r.rtl,this.x,this.width);for(t.x=Ja(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=yt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===i&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=i,d=yt(i.bodyFont),f=Ja(this,"left",i),h=s.x(f),p=l<d.lineHeight?(d.lineHeight-l)/2:0,x=n.y+p;if(i.usePointStyle){const g={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=s.leftForLtr(h,u)+u/2,y=x+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,rf(t,g,b,y),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,rf(t,g,b,y)}else{t.lineWidth=Ee(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(h,u),b=s.leftForLtr(s.xPlus(h,1),u-2),y=pi(o.borderRadius);Object.values(y).some(m=>m!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,dc(t,{x:g,y:x,w:u,h:l,radius:y}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),dc(t,{x:b,y:x+1,w:u-2,h:l-2,radius:y}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(g,x,u,l),t.strokeRect(g,x,u,l),t.fillStyle=o.backgroundColor,t.fillRect(b,x+1,u-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:d}=r,f=yt(r.bodyFont);let h=f.lineHeight,p=0;const x=mi(r.rtl,this.x,this.width),g=function(E){n.fillText(E,x.x(t.x+p),t.y+h/2),t.y+=h+i},b=x.textAlign(o);let y,m,v,S,j,k,_;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,t.x=Ja(this,b,r),n.fillStyle=r.bodyColor,Oe(this.beforeBody,g),p=a&&b!=="right"?o==="center"?u/2+d:u+2+d:0,S=0,k=s.length;S<k;++S){for(y=s[S],m=this.labelTextColors[S],n.fillStyle=m,Oe(y.before,g),v=y.lines,a&&v.length&&(this._drawColorBox(n,t,S,x,r),h=Math.max(f.lineHeight,l)),j=0,_=v.length;j<_;++j)g(v[j]),h=f.lineHeight;Oe(y.after,g)}p=0,h=f.lineHeight,Oe(this.afterBody,g),t.y-=i}drawFooter(t,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=mi(r.rtl,this.x,this.width);for(t.x=Ja(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=yt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=t,{width:u,height:d}=r,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:x}=pi(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(t,n,r,s),n.lineTo(a+u-h,l),n.quadraticCurveTo(a+u,l,a+u,l+h),o==="center"&&i==="right"&&this.drawCaret(t,n,r,s),n.lineTo(a+u,l+d-x),n.quadraticCurveTo(a+u,l+d,a+u-x,l+d),o==="bottom"&&this.drawCaret(t,n,r,s),n.lineTo(a+p,l+d),n.quadraticCurveTo(a,l+d,a,l+d-p),o==="center"&&i==="left"&&this.drawCaret(t,n,r,s),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=ho[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Lg(this,t),l=Object.assign({},o,this._size),u=Ag(n,t,l),d=Ig(t,l,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=tn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,s,n),Hv(t,n.textDirection),i.y+=o.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),Vv(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),i=!ac(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(t,i,n,r),a=this._positionChanged(o,t),l=n||!ac(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,s){const i=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:s,options:i}=this,o=ho[i.position].call(this,t,n);return o!==!1&&(r!==o.x||s!==o.y)}}Z(af,"positioners",ho);var Ck={id:"tooltip",_element:af,positioners:ho,afterInit(e,t,n){n&&(e.tooltip=new af({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:o1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Tk=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Rk(e,t,n,r){const s=e.indexOf(t);if(s===-1)return Tk(e,t,n,r);const i=e.lastIndexOf(t);return s!==i?n:s}const Mk=(e,t)=>e===null?null:Ct(Math.round(e),0,t);function Bg(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class lf extends Oi{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(be(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:Rk(r,t,_e(n,t),this._addedLabels),Mk(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return Bg.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Z(lf,"id","category"),Z(lf,"defaults",{ticks:{callback:Bg}});function Dk(e,t){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=e,p=i||1,x=d-1,{min:g,max:b}=t,y=!be(o),m=!be(a),v=!be(u),S=(b-g)/(f+1);let j=Vm((b-g)/x/p)*p,k,_,E,D;if(j<1e-14&&!y&&!m)return[{value:g},{value:b}];D=Math.ceil(b/j)-Math.floor(g/j),D>x&&(j=Vm(D*j/x/p)*p),be(l)||(k=Math.pow(10,l),j=Math.ceil(j*k)/k),s==="ticks"?(_=Math.floor(g/j)*j,E=Math.ceil(b/j)*j):(_=g,E=b),y&&m&&i&&Tj((a-o)/i,j/1e3)?(D=Math.round(Math.min((a-o)/j,d)),j=(a-o)/D,_=o,E=a):v?(_=y?o:_,E=m?a:E,D=u-1,j=(E-_)/D):(D=(E-_)/j,El(D,Math.round(D),j/1e3)?D=Math.round(D):D=Math.ceil(D));const C=Math.max(Wm(j),Wm(_));k=Math.pow(10,be(l)?C:l),_=Math.round(_*k)/k,E=Math.round(E*k)/k;let L=0;for(y&&(h&&_!==o?(n.push({value:o}),_<o&&L++,El(Math.round((_+L*j)*k)/k,o,$g(o,S,e))&&L++):_<o&&L++);L<D;++L){const A=Math.round((_+L*j)*k)/k;if(m&&A>a)break;n.push({value:A})}return m&&h&&E!==a?n.length&&El(n[n.length-1].value,a,$g(a,S,e))?n[n.length-1].value=a:n.push({value:a}):(!m||E===a)&&n.push({value:E}),n}function $g(e,t,{horizontal:n,minRotation:r}){const s=In(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class Pk extends Oi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return be(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(t){const l=Ur(s),u=Ur(i);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),t||o(s-l)}this.min=s,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=Dk(s,i);return t.bounds==="ticks"&&Rj(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const s=(r-n)/Math.max(t.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Wc(t,this.chart.options.locale,this.options.ticks.format)}}class cf extends Pk{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=mn(t)?t:0,this.max=mn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=In(this.options.ticks.minRotation),s=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Z(cf,"id","linear"),Z(cf,"defaults",{ticks:{callback:Lv.formatters.numeric}});const Yc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ut=Object.keys(Yc);function Ug(e,t){return e-t}function Hg(e,t){if(be(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:i}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),mn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(ji(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function Vg(e,t,n,r){const s=Ut.length;for(let i=Ut.indexOf(e);i<s-1;++i){const o=Yc[Ut[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return Ut[i]}return Ut[s-1]}function Ok(e,t,n,r,s){for(let i=Ut.length-1;i>=Ut.indexOf(n);i--){const o=Ut[i];if(Yc[o].common&&e._adapter.diff(s,r,o)>=t-1)return o}return Ut[n?Ut.indexOf(n):0]}function Lk(e){for(let t=Ut.indexOf(e)+1,n=Ut.length;t<n;++t)if(Yc[Ut[t]].common)return Ut[t]}function Wg(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:s}=Nh(n,t),i=n[r]>=t?n[r]:n[s];e[i]=!0}}function Ak(e,t,n,r){const s=e._adapter,i=+s.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function Kg(e,t,n){const r=[],s={},i=t.length;let o,a;for(o=0;o<i;++o)a=t[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:Ak(e,r,s,n)}class mc extends Oi{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new YE._date(t.adapters.date);s.init(n),So(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Hg(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!a&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=mn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=mn(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=Lj(s,i,o);return this._unit=n.unit||(r.autoSkip?Vg(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Ok(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Lk(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),Kg(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,s,i;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Ct(n,0,o),r=Ct(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||Vg(i.minUnit,n,r,this._getLabelCapacity(n)),a=_e(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,u=ji(l)||l===!0,d={};let f=n,h,p;if(u&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,u?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(h=f,p=0;h<r;h=+t.add(h,a,o),p++)Wg(d,h,x);return(h===r||s.bounds==="ticks"||p===1)&&Wg(d,h,x),Object.keys(d).sort(Ug).map(g=>+g)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return Fe(o,[t,n,r],this);const a=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&a[l],f=u&&a[u],h=r[n],p=u&&f&&h&&h.major;return this._adapter.format(t,s||(p?f:d))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=In(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(t,0,Kg(this,[t],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(Hg(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Tv(t.sort(Ug))}}Z(mc,"id","time"),Z(mc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Za(e,t,n){let r=0,s=e.length-1,i,o,a,l;n?(t>=e[r].pos&&t<=e[s].pos&&({lo:r,hi:s}=ws(e,"pos",t)),{pos:i,time:a}=e[r],{pos:o,time:l}=e[s]):(t>=e[r].time&&t<=e[s].time&&({lo:r,hi:s}=ws(e,"time",t)),{time:i,pos:a}=e[r],{time:o,pos:l}=e[s]);const u=o-i;return u?a+(l-a)*(t-i)/u:a}class qg extends mc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Za(n,this.min),this._tableRange=Za(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,s=[],i=[];let o,a,l,u,d;for(o=0,a=t.length;o<a;++o)u=t[o],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],u=s[o],Math.round((d+l)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Za(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Za(this._table,r*this._tableRange+this._minPos,!0)}}Z(qg,"id","timeseries"),Z(qg,"defaults",mc.defaults);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Yg=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),ko={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):be(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var r=[].concat(t),s=r.length,i=e.font,o=0,a;for(e.font=n.string,a=0;a<s;++a)o=Math.max(e.measureText(r[a]).width,o);return e.font=i,{height:s*n.lineHeight,width:o}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),r=[],s,i,o,a;for(s=0,o=t.length;s<o;++s)a=t[s],i=n.indexOf(a),i===-1?r.push([a,1]):n.splice(i,1);for(s=0,o=n.length;s<o;++s)r.push([n[s],-1]);return r},rasterize:function(e){return Math.round(e*Yg)/Yg}};function Qu(e,t){var n=t.x,r=t.y;if(n===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var s=e.x-n,i=e.y-r,o=Math.sqrt(s*s+i*i);return{x:o?s/o:0,y:o?i/o:-1}}function Ik(e,t,n,r,s){switch(s){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:s*=Math.PI/180,n=Math.cos(s),r=Math.sin(s);break}return{x:e,y:t,vx:n,vy:r}}var Fk=0,a1=1,l1=2,c1=4,u1=8;function el(e,t,n){var r=Fk;return e<n.left?r|=a1:e>n.right&&(r|=l1),t<n.top?r|=u1:t>n.bottom&&(r|=c1),r}function zk(e,t){for(var n=e.x0,r=e.y0,s=e.x1,i=e.y1,o=el(n,r,t),a=el(s,i,t),l,u,d;!(!(o|a)||o&a);)l=o||a,l&u1?(u=n+(s-n)*(t.top-r)/(i-r),d=t.top):l&c1?(u=n+(s-n)*(t.bottom-r)/(i-r),d=t.bottom):l&l1?(d=r+(i-r)*(t.right-n)/(s-n),u=t.right):l&a1&&(d=r+(i-r)*(t.left-n)/(s-n),u=t.left),l===o?(n=u,r=d,o=el(n,r,t)):(s=u,i=d,a=el(s,i,t));return{x0:n,x1:s,y0:r,y1:i}}function tl(e,t){var n=t.anchor,r=e,s,i;return t.clamp&&(r=zk(r,t.area)),n==="start"?(s=r.x0,i=r.y0):n==="end"?(s=r.x1,i=r.y1):(s=(r.x0+r.x1)/2,i=(r.y0+r.y1)/2),Ik(s,i,e.vx,e.vy,t.align)}var nl={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,r=Math.cos(n),s=Math.sin(n),i=e.innerRadius,o=e.outerRadius;return tl({x0:e.x+r*i,y0:e.y+s*i,x1:e.x+r*o,y1:e.y+s*o,vx:r,vy:s},t)},point:function(e,t){var n=Qu(e,t.origin),r=n.x*e.options.radius,s=n.y*e.options.radius;return tl({x0:e.x-r,y0:e.y-s,x1:e.x+r,y1:e.y+s,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=Qu(e,t.origin),r=e.x,s=e.y,i=0,o=0;return e.horizontal?(r=Math.min(e.x,e.base),i=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),o=Math.abs(e.base-e.y)),tl({x0:r,y0:s+o,x1:r+i,y1:s,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=Qu(e,t.origin);return tl({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},rr=ko.rasterize;function Bk(e){var t=e.borderWidth||0,n=e.padding,r=e.size.height,s=e.size.width,i=-s/2,o=-r/2;return{frame:{x:i-n.left-t,y:o-n.top-t,w:s+n.width+t*2,h:r+n.height+t*2},text:{x:i,y:o,w:s,h:r}}}function $k(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return e.horizontal?{x:r,y:null}:{x:null,y:r}}function Uk(e){return e instanceof ai?nl.arc:e instanceof Cl?nl.point:e instanceof No?nl.bar:nl.fallback}function Hk(e,t,n,r,s,i){var o=Math.PI/2;if(i){var a=Math.min(i,s/2,r/2),l=t+a,u=n+a,d=t+r-a,f=n+s-a;e.moveTo(t,u),l<d&&u<f?(e.arc(l,u,a,-Math.PI,-o),e.arc(d,u,a,-o,0),e.arc(d,f,a,0,o),e.arc(l,f,a,o,Math.PI)):l<d?(e.moveTo(l,n),e.arc(d,u,a,-o,o),e.arc(l,u,a,o,Math.PI+o)):u<f?(e.arc(l,u,a,-Math.PI,0),e.arc(l,f,a,0,Math.PI)):e.arc(l,u,a,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,r,s)}function Vk(e,t,n){var r=n.backgroundColor,s=n.borderColor,i=n.borderWidth;!r&&(!s||!i)||(e.beginPath(),Hk(e,rr(t.x)+i/2,rr(t.y)+i/2,rr(t.w)-i,rr(t.h)-i,n.borderRadius),e.closePath(),r&&(e.fillStyle=r,e.fill()),s&&i&&(e.strokeStyle=s,e.lineWidth=i,e.lineJoin="miter",e.stroke()))}function Wk(e,t,n){var r=n.lineHeight,s=e.w,i=e.x,o=e.y+r/2;return t==="center"?i+=s/2:(t==="end"||t==="right")&&(i+=s),{h:r,w:s,x:i,y:o}}function Kk(e,t,n){var r=e.shadowBlur,s=n.stroked,i=rr(n.x),o=rr(n.y),a=rr(n.w);s&&e.strokeText(t,i,o,a),n.filled&&(r&&s&&(e.shadowBlur=0),e.fillText(t,i,o,a),r&&s&&(e.shadowBlur=r))}function qk(e,t,n,r){var s=r.textAlign,i=r.color,o=!!i,a=r.font,l=t.length,u=r.textStrokeColor,d=r.textStrokeWidth,f=u&&d,h;if(!(!l||!o&&!f))for(n=Wk(n,s,a),e.font=a.string,e.textAlign=s,e.textBaseline="middle",e.shadowBlur=r.textShadowBlur,e.shadowColor=r.textShadowColor,o&&(e.fillStyle=i),f&&(e.lineJoin="round",e.lineWidth=d,e.strokeStyle=u),h=0,l=t.length;h<l;++h)Kk(e,t[h],{stroked:f,filled:o,w:n.w,x:n.x,y:n.y+n.h*h})}var d1=function(e,t,n,r){var s=this;s._config=e,s._index=r,s._model=null,s._rects=null,s._ctx=t,s._el=n};Bn(d1.prototype,{_modelize:function(e,t,n,r){var s=this,i=s._index,o=yt(We([n.font,{}],r,i)),a=We([n.color,tt.color],r,i);return{align:We([n.align,"center"],r,i),anchor:We([n.anchor,"center"],r,i),area:r.chart.chartArea,backgroundColor:We([n.backgroundColor,null],r,i),borderColor:We([n.borderColor,null],r,i),borderRadius:We([n.borderRadius,0],r,i),borderWidth:We([n.borderWidth,0],r,i),clamp:We([n.clamp,!1],r,i),clip:We([n.clip,!1],r,i),color:a,display:e,font:o,lines:t,offset:We([n.offset,4],r,i),opacity:We([n.opacity,1],r,i),origin:$k(s._el,r),padding:tn(We([n.padding,4],r,i)),positioner:Uk(s._el),rotation:We([n.rotation,0],r,i)*(Math.PI/180),size:ko.textSize(s._ctx,t,o),textAlign:We([n.textAlign,"start"],r,i),textShadowBlur:We([n.textShadowBlur,0],r,i),textShadowColor:We([n.textShadowColor,a],r,i),textStrokeColor:We([n.textStrokeColor,a],r,i),textStrokeWidth:We([n.textStrokeWidth,0],r,i)}},update:function(e){var t=this,n=null,r=null,s=t._index,i=t._config,o,a,l,u=We([i.display,!0],e,s);u&&(o=e.dataset.data[s],a=_e(Fe(i.formatter,[o,e]),o),l=be(a)?[]:ko.toTextLines(a),l.length&&(n=t._modelize(u,l,i,e),r=Bk(n))),t._model=n,t._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,r=e.ctx,s=n._model,i=n._rects,o;this.visible()&&(r.save(),s.clip&&(o=s.area,r.beginPath(),r.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),r.clip()),r.globalAlpha=ko.bound(0,s.opacity,1),r.translate(rr(t.x),rr(t.y)),r.rotate(s.rotation),Vk(r,i.frame,s),qk(r,s.lines,i.text,s),r.restore())}});var Yk=Number.MIN_SAFE_INTEGER||-9007199254740991,Gk=Number.MAX_SAFE_INTEGER||9007199254740991;function no(e,t,n){var r=Math.cos(n),s=Math.sin(n),i=t.x,o=t.y;return{x:i+r*(e.x-i)-s*(e.y-o),y:o+s*(e.x-i)+r*(e.y-o)}}function Gg(e,t){var n=Gk,r=Yk,s=t.origin,i,o,a,l,u;for(i=0;i<e.length;++i)o=e[i],a=o.x-s.x,l=o.y-s.y,u=t.vx*a+t.vy*l,n=Math.min(n,u),r=Math.max(r,u);return{min:n,max:r}}function rl(e,t){var n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);return{vx:(t.x-e.x)/s,vy:(t.y-e.y)/s,origin:e,ln:s}}var f1=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Bn(f1.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,r=t._rect;return e=no(e,t.center(),-t._rotation),!(e.x<r.x-n||e.y<r.y-n||e.x>r.x+r.w+n*2||e.y>r.y+r.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),r=[rl(t[0],t[1]),rl(t[0],t[3])],s,i,o;for(this._rotation!==e._rotation&&r.push(rl(n[0],n[1]),rl(n[0],n[3])),s=0;s<r.length;++s)if(i=Gg(t,r[s]),o=Gg(n,r[s]),i.max<o.min||o.max<i.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,r=e.center();return[no({x:t.x,y:t.y},r,n),no({x:t.x+t.w,y:t.y},r,n),no({x:t.x+t.w,y:t.y+t.h},r,n),no({x:t.x,y:t.y+t.h},r,n)]}});function h1(e,t,n){var r=t.positioner(e,t),s=r.vx,i=r.vy;if(!s&&!i)return{x:r.x,y:r.y};var o=n.w,a=n.h,l=t.rotation,u=Math.abs(o/2*Math.cos(l))+Math.abs(a/2*Math.sin(l)),d=Math.abs(o/2*Math.sin(l))+Math.abs(a/2*Math.cos(l)),f=1/Math.max(Math.abs(s),Math.abs(i));return u*=s*f,d*=i*f,u+=t.offset*s,d+=t.offset*i,{x:r.x+u,y:r.y+d}}function Xk(e,t){var n,r,s,i;for(n=e.length-1;n>=0;--n)for(s=e[n].$layout,r=n-1;r>=0&&s._visible;--r)i=e[r].$layout,i._visible&&s._box.intersects(i._box)&&t(s,i);return e}function Qk(e){var t,n,r,s,i,o,a;for(t=0,n=e.length;t<n;++t)r=e[t],s=r.$layout,s._visible&&(a=new Proxy(r._el,{get:(l,u)=>l.getProps([u],!0)[u]}),i=r.geometry(),o=h1(a,r.model(),i),s._box.update(o,i,r.rotation()));return Xk(e,function(l,u){var d=l._hidable,f=u._hidable;d&&f||f?u._visible=!1:d&&(l._visible=!1)})}var Co={prepare:function(e){var t=[],n,r,s,i,o;for(n=0,s=e.length;n<s;++n)for(r=0,i=e[n].length;r<i;++r)o=e[n][r],t.push(o),o.$layout={_box:new f1,_hidable:!1,_visible:!0,_set:n,_idx:o._index};return t.sort(function(a,l){var u=a.$layout,d=l.$layout;return u._idx===d._idx?d._set-u._set:d._idx-u._idx}),this.update(t),t},update:function(e){var t=!1,n,r,s,i,o;for(n=0,r=e.length;n<r;++n)s=e[n],i=s.model(),o=s.$layout,o._hidable=i&&i.display==="auto",o._visible=s.visible(),t|=o._hidable;t&&Qk(e)},lookup:function(e,t){var n,r;for(n=e.length-1;n>=0;--n)if(r=e[n].$layout,r&&r._visible&&r._box.contains(t))return e[n];return null},draw:function(e,t){var n,r,s,i,o,a;for(n=0,r=t.length;n<r;++n)s=t[n],i=s.$layout,i._visible&&(o=s.geometry(),a=h1(s._el,s.model(),o),i._box.update(a,o,s.rotation()),s.draw(e,a))}},Jk=function(e){if(be(e))return null;var t=e,n,r,s;if(Ee(e))if(!be(e.label))t=e.label;else if(!be(e.r))t=e.r;else for(t="",n=Object.keys(e),s=0,r=n.length;s<r;++s)t+=(s!==0?", ":"")+n[s]+": "+e[n[s]];return""+t},Zk={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:Jk,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},zt="$datalabels",p1="$default";function e3(e,t){var n=e.datalabels,r={},s=[],i,o;return n===!1?null:(n===!0&&(n={}),t=Bn({},[t,n]),i=t.labels||{},o=Object.keys(i),delete t.labels,o.length?o.forEach(function(a){i[a]&&s.push(Bn({},[t,i[a],{_key:a}]))}):s.push(t),r=s.reduce(function(a,l){return Oe(l.listeners||{},function(u,d){a[d]=a[d]||{},a[d][l._key||p1]=u}),delete l.listeners,a},{}),{labels:s,listeners:r})}function uf(e,t,n,r){if(t){var s=n.$context,i=n.$groups,o;t[i._set]&&(o=t[i._set][i._key],o&&Fe(o,[s,r])===!0&&(e[zt]._dirty=!0,n.update(s)))}}function t3(e,t,n,r,s){var i,o;!n&&!r||(n?r?n!==r&&(o=i=!0):o=!0:i=!0,o&&uf(e,t.leave,n,s),i&&uf(e,t.enter,r,s))}function n3(e,t){var n=e[zt],r=n._listeners,s,i;if(!(!r.enter&&!r.leave)){if(t.type==="mousemove")i=Co.lookup(n._labels,t);else if(t.type!=="mouseout")return;s=n._hovered,n._hovered=i,t3(e,r,s,i,t)}}function r3(e,t){var n=e[zt],r=n._listeners.click,s=r&&Co.lookup(n._labels,t);s&&uf(e,r,s,t)}var s3={id:"datalabels",defaults:Zk,beforeInit:function(e){e[zt]={_actives:[]}},beforeUpdate:function(e){var t=e[zt];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var r=t.index,s=e[zt],i=s._datasets[r]=[],o=e.isDatasetVisible(r),a=e.data.datasets[r],l=e3(a,n),u=t.meta.data||[],d=e.ctx,f,h,p,x,g,b,y,m;for(d.save(),f=0,p=u.length;f<p;++f)if(y=u[f],y[zt]=[],o&&y&&e.getDataVisibility(f)&&!y.skip)for(h=0,x=l.labels.length;h<x;++h)g=l.labels[h],b=g._key,m=new d1(g,d,y,f),m.$groups={_set:r,_key:b||p1},m.$context={active:!1,chart:e,dataIndex:f,dataset:a,datasetIndex:r},m.update(m.$context),y[zt].push(m),i.push(m);d.restore(),Bn(s._listeners,l.listeners,{merger:function(v,S,j){S[v]=S[v]||{},S[v][t.index]=j[v],s._listened=!0}})},afterUpdate:function(e){e[zt]._labels=Co.prepare(e[zt]._datasets)},afterDatasetsDraw:function(e){Co.draw(e,e[zt]._labels)},beforeEvent:function(e,t){if(e[zt]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":n3(e,n);break;case"click":r3(e,n);break}}},afterEvent:function(e){var t=e[zt],n=t._actives,r=t._actives=e.getActiveElements(),s=ko.arrayDiff(n,r),i,o,a,l,u,d,f;for(i=0,o=s.length;i<o;++i)if(u=s[i],u[1])for(f=u[0].element[zt]||[],a=0,l=f.length;a<l;++a)d=f[a],d.$context.active=u[1]===1,d.update(d.$context);(t._dirty||s.length)&&(Co.update(t._labels),e.render()),delete t._dirty}};jr.register(ai,Ck,yk,lf,cf,No,bk,s3);const sl=w.lazy(()=>bv(()=>import("./index-C6421PzD.js"),[]).then(e=>({default:e.Pie})));w.lazy(()=>bv(()=>import("./index-C6421PzD.js"),[]).then(e=>({default:e.Bar})));const vr=["#2563eb","#f59e42","#10b981","#f43f5e","#6366f1","#fbbf24","#0ea5e9","#a3e635","#f472b6","#818cf8"],Xg={tickets:"border-blue-400 text-blue-600 bg-white","En instance":"border-red-400 text-red-600 bg-white","En cours":"border-yellow-400 text-yellow-600 bg-white",Clôturé:"border-green-400 text-green-600 bg-white"},i3={"En instance":"hover:bg-red-50","En cours":"hover:bg-yellow-50",Clôturé:"hover:bg-green-50"},Yn={stats:null,lastFetch:null,lastParams:null,cacheDuration:5*60*1e3},il=()=>c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-80 bg-gray-200 rounded-lg"})}),o3=()=>{const[e,t]=w.useState({total:0,ticketsByStatut:[],ticketsByPriorite:[],ticketsByCategorie:[],ticketsByDemandeur:[],ticketsByEmplacement:[]}),[n,r]=w.useState(!0),[s,i]=w.useState(""),[o,a]=w.useState(!1),[l,u]=w.useState([]),[d,f]=w.useState([]),[h,p]=w.useState([]),[x,g]=w.useState([]),[b,y]=w.useState(!1);let m=null;try{m=JSON.parse(localStorage.getItem("user")),console.log("Current user:",m)}catch(C){console.error("Error parsing user:",C),m=null}const v=(m==null?void 0:m.niveau)===1||(m==null?void 0:m.niveau)===2||(m==null?void 0:m.niveau)===3;console.log("Can view demandeur stats:",v);const S=w.useMemo(()=>({labels:e.ticketsByPriorite.map(C=>C.designation),datasets:[{data:e.ticketsByPriorite.map(C=>C.count),backgroundColor:vr,borderWidth:1,hoverOffset:45}]}),[e.ticketsByPriorite]),j=w.useMemo(()=>{var L;console.log("Stats ticketsByDemandeur:",e.ticketsByDemandeur);let C=e.ticketsByDemandeur||[];return(m==null?void 0:m.niveau)===3&&((L=m==null?void 0:m.service)!=null&&L.id)&&(C=C.filter(A=>A.service_id===m.service.id)),console.log("Filtered demandeurs:",C),{labels:C.map(A=>A.designation),datasets:[{data:C.map(A=>A.count),backgroundColor:vr,borderWidth:1,hoverOffset:45}]}},[e.ticketsByDemandeur,m]),k=w.useMemo(()=>({labels:e.ticketsByCategorie.map(C=>C.designation),datasets:[{data:e.ticketsByCategorie.map(C=>C.count),backgroundColor:vr,borderWidth:1,hoverOffset:45}]}),[e.ticketsByCategorie]),_=w.useMemo(()=>({labels:(e.ticketsByEmplacement||[]).map(C=>C.designation),datasets:[{data:(e.ticketsByEmplacement||[]).map(C=>C.count),backgroundColor:vr,borderWidth:1,hoverOffset:45}]}),[e.ticketsByEmplacement]),E=w.useMemo(()=>(C,L,A)=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:C,font:{size:18,weight:"bold"},color:"#1e293b",padding:{top:10,bottom:20}},tooltip:{callbacks:{label:function(W){const Y=W.dataset.data.reduce((re,O)=>re+O,0),Q=W.raw,K=Y?(Q/Y*100).toFixed(1):0;return`${W.label}: ${Q} tickets (${K}%)`}}},datalabels:{color:"#fff",font:{weight:"bold",size:13},formatter:(W,Y)=>{const Q=Y.chart.data.datasets[0].data.reduce((re,O)=>re+O,0);if(!Q||W===0)return"";const K=W/Q*100;return K>=5?`${K.toFixed(0)}%`:""},borderRadius:4,backgroundColor:W=>vr[W.dataIndex%vr.length],padding:4,display:!0}},onHover:(W,Y)=>{W.native.target.style.cursor=Y[0]?"pointer":"default"},onClick:(W,Y,Q)=>{if(Y&&Y.length>0){const K=Y[0].index,re=Q.data.labels[K],O=Q.data.datasets[0].data[K];A(B=>B.some(q=>q.label===re)?B:[...B,{label:re,value:O,color:vr[K%vr.length]}])}}}),[]),D=async(C=!1)=>{var A,W,Y,Q;const L=Date.now();if(!C&&Yn.stats&&Yn.lastFetch&&L-Yn.lastFetch<Yn.cacheDuration){t(Yn.stats),r(!1);return}a(!0),r(!0);try{const K=await de.get("/api/dashboard/stats",{params:{refresh:C},headers:{Accept:"application/json","Content-Type":"application/json"}});if(K.data&&!K.data.error){console.log("API Response:",K.data);const re={...K.data,ticketsByDemandeur:((A=K.data.par_demandeur)==null?void 0:A.map(O=>({designation:O.demandeur,count:O.total,service_id:O.service_id})))||[],ticketsByEmplacement:((W=K.data.par_emplacement)==null?void 0:W.map(O=>({designation:O.emplacement,count:O.total})))||[]};console.log("Transformed data:",re),t(re),Yn.stats=re,Yn.lastFetch=L,i("")}else throw new Error(K.data.error||"Erreur inconnue")}catch(K){console.error("Erreur lors du chargement des statistiques:",K),i(((Q=(Y=K.response)==null?void 0:Y.data)==null?void 0:Q.error)||"Erreur lors du chargement des statistiques"),Yn.stats&&t(Yn.stats)}finally{r(!1),setTimeout(()=>a(!1),600)}};return w.useEffect(()=>{D(!0);const C=setTimeout(()=>y(!0),100);return()=>clearTimeout(C)},[]),n?c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Tableau de bord"}),c.jsx("button",{onClick:()=>D(!0),className:"ml-2 p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:c.jsx(Wr,{className:o?"animate-spin-once":""})})]}),c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((C,L)=>c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[c.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]},L))}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[...Array(3)].map((C,L)=>c.jsxs("div",{className:`bg-white p-6 rounded-lg shadow ${L===2?"md:col-span-2":""}`,children:[c.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),c.jsx("div",{className:"h-80 bg-gray-200 rounded"})]},L))})]})]})}):s?c.jsx(Ue,{children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded",children:s})})}):c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Tableau de bord"}),c.jsx("button",{onClick:()=>D(!0),className:"ml-2 p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:c.jsx(Wr,{className:o?"animate-spin-once":""})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsxs(ur,{to:"/tickets",className:`border-l-4 p-6 rounded-lg shadow flex flex-col items-start hover:bg-gray-50 transition-colors cursor-pointer ${Xg.tickets}`,children:[c.jsx("h3",{className:"text-lg font-bold text-black",children:"Total tickets"}),c.jsx("p",{className:"mt-2 text-3xl font-extrabold text-blue-600",children:e.total})]}),e.ticketsByStatut.map(C=>{const L=Xg[C.designation]||"border-purple-500 bg-white",A=i3[C.designation]||"hover:bg-purple-50",W=(L.match(/text-[^ ]+/)||["text-purple-700"])[0];return c.jsxs(ur,{to:`/tickets?statut=${C.id}`,className:`border-l-4 p-6 rounded-lg shadow flex flex-col items-start transition-colors cursor-pointer ${L} ${A}`,style:{minWidth:220},children:[c.jsx("h3",{className:"text-lg font-bold text-black mb-2",children:C.designation}),c.jsx("p",{className:`mt-2 text-4xl font-extrabold ${W}`,children:C.count})]},C.designation)})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl",children:[c.jsxs("h3",{className:"text-xl font-bold mb-4 text-blue-900 flex items-center gap-2",children:[c.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})}),"Répartition par priorité"]}),c.jsx("div",{className:"flex justify-center items-center h-[20rem]",children:c.jsx(w.Suspense,{fallback:c.jsx(il,{}),children:b&&c.jsx("div",{className:"w-full h-full",children:c.jsx(sl,{data:S,options:E("Répartition par priorité",l,u)})})})}),l.length>0&&c.jsxs("div",{className:"mt-2 mx-auto max-w-md p-2 bg-white rounded-xl border border-blue-100 shadow flex flex-col gap-1",children:[c.jsxs("h4",{className:"text-xs font-semibold text-blue-700 mb-1 text-center flex items-center gap-1 justify-center",children:[c.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})}),"Détails des priorités"]}),c.jsx("div",{className:"space-y-0.5",children:[...new Map(l.map(C=>[C.label,C])).values()].map(C=>c.jsxs("div",{className:"flex items-center justify-between px-3 py-1 bg-blue-50 rounded border border-blue-100",children:[c.jsxs("span",{className:"text-blue-900 font-medium text-sm truncate flex items-center gap-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:C.color}}),C.label]}),c.jsxs("span",{className:"text-xs font-semibold text-blue-700 bg-blue-100 px-2 py-0.5 rounded-full",children:[C.value," tickets"]})]},C.label))})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl",children:[c.jsxs("h3",{className:"text-xl font-bold mb-4 text-green-900 flex items-center gap-2",children:[c.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})}),"Répartition par catégorie"]}),c.jsx("div",{className:"flex justify-center items-center h-[20rem]",children:c.jsx(w.Suspense,{fallback:c.jsx(il,{}),children:b&&c.jsx("div",{className:"w-full h-full",children:c.jsx(sl,{data:k,options:E("Répartition par catégorie",d,f)})})})}),d.length>0&&c.jsxs("div",{className:"mt-2 mx-auto max-w-md p-2 bg-white rounded-xl border border-green-100 shadow flex flex-col gap-1",children:[c.jsxs("h4",{className:"text-xs font-semibold text-green-700 mb-1 text-center flex items-center gap-1 justify-center",children:[c.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})}),"Détails des catégories"]}),c.jsx("div",{className:"space-y-0.5",children:[...new Map(d.map(C=>[C.label,C])).values()].map(C=>c.jsxs("div",{className:"flex items-center justify-between px-3 py-1 bg-green-50 rounded border border-green-100",children:[c.jsxs("span",{className:"text-green-900 font-medium text-sm truncate flex items-center gap-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:C.color}}),C.label]}),c.jsxs("span",{className:"text-xs font-semibold text-green-700 bg-green-100 px-2 py-0.5 rounded-full",children:[C.value," tickets"]})]},C.label))})]})]}),v&&c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl",children:[c.jsxs("h3",{className:"text-xl font-bold mb-4 text-purple-900 flex items-center gap-2",children:[c.jsx("svg",{className:"w-6 h-6 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(m==null?void 0:m.niveau)==="3"?"Répartition par demandeur de mon département":"Répartition par demandeur"]}),c.jsx("div",{className:"flex justify-center items-center h-[20rem]",children:c.jsx(w.Suspense,{fallback:c.jsx(il,{}),children:b&&c.jsx("div",{className:"w-full h-full",children:c.jsx(sl,{data:j,options:E((m==null?void 0:m.niveau)==="3"?"Répartition par demandeur de mon département":"Répartition par demandeur",h,p)})})})}),h.length>0&&c.jsxs("div",{className:"mt-2 mx-auto max-w-md p-2 bg-white rounded-xl border border-purple-100 shadow flex flex-col gap-1",children:[c.jsxs("h4",{className:"text-xs font-semibold text-purple-700 mb-1 text-center flex items-center gap-1 justify-center",children:[c.jsx("svg",{className:"w-4 h-4 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(m==null?void 0:m.niveau)==="3"?"Détails des demandeurs de mon département":"Détails des demandeurs"]}),c.jsx("div",{className:"space-y-0.5",children:[...new Map(h.map(C=>[C.label,C])).values()].map(C=>c.jsxs("div",{className:"flex items-center justify-between px-3 py-1 bg-purple-50 rounded border border-purple-100",children:[c.jsxs("span",{className:"text-purple-900 font-medium text-sm truncate flex items-center gap-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:C.color}}),C.label]}),c.jsxs("span",{className:"text-xs font-semibold text-purple-700 bg-purple-100 px-2 py-0.5 rounded-full",children:[C.value," tickets"]})]},C.label))})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl",children:[c.jsxs("h3",{className:"text-xl font-bold mb-4 text-orange-900 flex items-center gap-2",children:[c.jsxs("svg",{className:"w-6 h-6 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Répartition par emplacement"]}),c.jsx("div",{className:"flex justify-center items-center h-[20rem]",children:c.jsx(w.Suspense,{fallback:c.jsx(il,{}),children:b&&c.jsx("div",{className:"w-full h-full",children:c.jsx(sl,{data:_,options:E("Répartition par emplacement",x,g)})})})}),x.length>0&&c.jsxs("div",{className:"mt-2 mx-auto max-w-md p-2 bg-white rounded-xl border border-orange-100 shadow flex flex-col gap-1",children:[c.jsxs("h4",{className:"text-xs font-semibold text-orange-700 mb-1 text-center flex items-center gap-1 justify-center",children:[c.jsxs("svg",{className:"w-4 h-4 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Détails des emplacements"]}),c.jsx("div",{className:"space-y-0.5",children:[...new Map(x.map(C=>[C.label,C])).values()].map(C=>c.jsxs("div",{className:"flex items-center justify-between px-3 py-1 bg-orange-50 rounded border border-orange-100",children:[c.jsxs("span",{className:"text-orange-900 font-medium text-sm truncate flex items-center gap-2",children:[c.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:C.color}}),C.label]}),c.jsxs("span",{className:"text-xs font-semibold text-orange-700 bg-orange-100 px-2 py-0.5 rounded-full",children:[C.value," tickets"]})]},C.label))})]})]})]})]})})};let a3={data:""},l3=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||a3,c3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,u3=/\/\*[^]*?\*\/|  +/g,Qg=/\n+/g,kr=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?kr(o,i):i+"{"+kr(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=kr(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=kr.p?kr.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Gn={},m1=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+m1(e[n]);return t}return e},d3=(e,t,n,r,s)=>{let i=m1(e),o=Gn[i]||(Gn[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Gn[o]){let l=i!==e?e:(u=>{let d,f,h=[{}];for(;d=c3.exec(u.replace(u3,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Qg," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Qg," ").trim();return h[0]})(e);Gn[o]=kr(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Gn.g?Gn.g:null;return n&&(Gn.g=Gn[o]),((l,u,d,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Gn[o],t,r,a),o},f3=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":kr(a,""):a===!1?"":a}return r+s+(o??"")},"");function Gc(e){let t=this||{},n=e.call?e(t.p):e;return d3(n.unshift?n.raw?f3(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,l3(t.target),t.g,t.o,t.k)}let g1,df,ff;Gc.bind({g:1});let dr=Gc.bind({k:1});function h3(e,t,n,r){kr.p=t,g1=e,df=n,ff=r}function es(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:df&&df()},a),n.o=/ *go\d+/.test(l),a.className=Gc.apply(n,r)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),ff&&u[0]&&ff(a),g1(u,a)}return s}}var p3=e=>typeof e=="function",gc=(e,t)=>p3(e)?e(t):e,m3=(()=>{let e=0;return()=>(++e).toString()})(),x1=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),g3=20,y1=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,g3)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return y1(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Tl=[],_s={toasts:[],pausedAt:void 0},Bs=e=>{_s=y1(_s,e),Tl.forEach(t=>{t(_s)})},x3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},y3=(e={})=>{let[t,n]=w.useState(_s),r=w.useRef(_s);w.useEffect(()=>(r.current!==_s&&n(_s),Tl.push(n),()=>{let i=Tl.indexOf(n);i>-1&&Tl.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,a,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((a=e[i.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||x3[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},v3=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||m3()}),ha=e=>(t,n)=>{let r=v3(t,e,n);return Bs({type:2,toast:r}),r.id},xt=(e,t)=>ha("blank")(e,t);xt.error=ha("error");xt.success=ha("success");xt.loading=ha("loading");xt.custom=ha("custom");xt.dismiss=e=>{Bs({type:3,toastId:e})};xt.remove=e=>Bs({type:4,toastId:e});xt.promise=(e,t,n)=>{let r=xt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?gc(t.success,s):void 0;return i?xt.success(i,{id:r,...n,...n==null?void 0:n.success}):xt.dismiss(r),s}).catch(s=>{let i=t.error?gc(t.error,s):void 0;i?xt.error(i,{id:r,...n,...n==null?void 0:n.error}):xt.dismiss(r)}),e};var b3=(e,t)=>{Bs({type:1,toast:{id:e,height:t}})},w3=()=>{Bs({type:5,time:Date.now()})},To=new Map,_3=1e3,S3=(e,t=_3)=>{if(To.has(e))return;let n=setTimeout(()=>{To.delete(e),Bs({type:4,toastId:e})},t);To.set(e,n)},j3=e=>{let{toasts:t,pausedAt:n}=y3(e);w.useEffect(()=>{if(n)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&xt.dismiss(a.id);return}return setTimeout(()=>xt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,n]);let r=w.useCallback(()=>{n&&Bs({type:6,time:Date.now()})},[n]),s=w.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},d=t.filter(p=>(p.position||u)===(i.position||u)&&p.height),f=d.findIndex(p=>p.id===i.id),h=d.filter((p,x)=>x<f&&p.visible).length;return d.filter(p=>p.visible).slice(...a?[h+1]:[0,h]).reduce((p,x)=>p+(x.height||0)+l,0)},[t]);return w.useEffect(()=>{t.forEach(i=>{if(i.dismissed)S3(i.id,i.removeDelay);else{let o=To.get(i.id);o&&(clearTimeout(o),To.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:b3,startPause:w3,endPause:r,calculateOffset:s}}},E3=dr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,N3=dr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,k3=dr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C3=es("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${E3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${N3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${k3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,T3=dr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,R3=es("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${T3} 1s linear infinite;
`,M3=dr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,D3=dr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,P3=es("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${M3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${D3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,O3=es("div")`
  position: absolute;
`,L3=es("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,A3=dr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,I3=es("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${A3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,F3=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?w.createElement(I3,null,t):t:n==="blank"?null:w.createElement(L3,null,w.createElement(R3,{...r}),n!=="loading"&&w.createElement(O3,null,n==="error"?w.createElement(C3,{...r}):w.createElement(P3,{...r})))},z3=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,B3=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,$3="0%{opacity:0;} 100%{opacity:1;}",U3="0%{opacity:1;} 100%{opacity:0;}",H3=es("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,V3=es("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,W3=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=x1()?[$3,U3]:[z3(n),B3(n)];return{animation:t?`${dr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${dr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},K3=w.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?W3(e.position||t||"top-center",e.visible):{opacity:0},i=w.createElement(F3,{toast:e}),o=w.createElement(V3,{...e.ariaProps},gc(e.message,e));return w.createElement(H3,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):w.createElement(w.Fragment,null,i,o))});h3(w.createElement);var q3=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=w.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return w.createElement("div",{ref:i,className:t,style:n},s)},Y3=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:x1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},G3=Gc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ol=16,Jg=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=j3(n);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ol,left:ol,right:ol,bottom:ol,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let d=u.position||t,f=l.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),h=Y3(d,f);return w.createElement(q3,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?G3:"",style:h},u.type==="custom"?gc(u.message,u):s?s(u):w.createElement(K3,{toast:u,position:d}))}))};const X3=(e,t)=>{const[n,r]=w.useState(e);return w.useEffect(()=>{const s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),n},Q3=()=>{const[e]=G_(),[t,n]=w.useState([]),[r,s]=w.useState(!0),[i,o]=w.useState(""),[a,l]=w.useState(1),[u,d]=w.useState(!0),[f,h]=w.useState(!1),p=w.useRef(null),[x,g]=w.useState(!1),[b,y]=w.useState(!1),[m,v]=w.useState(()=>({categorie:e.get("categorie")||"",demandeur:e.get("demandeur")||"",emplacement:e.get("emplacement")||"",statut:e.get("statut")?parseInt(e.get("statut"),10):"",priorite:e.get("priorite")||"",dateDebut:e.get("dateDebut")||"",dateDebutFin:e.get("dateDebutFin")||"",dateFinPrevueDebut:e.get("dateFinPrevueDebut")||"",dateFinPrevueFin:e.get("dateFinPrevueFin")||"",dateFinReelleDebut:e.get("dateFinReelleDebut")||"",dateFinReelleFin:e.get("dateFinReelleFin")||"",titre:e.get("titre")||"",showRejectedByDemandeur:!1})),[S,j]=w.useState(m.titre),k=X3(S,500),[_,E]=w.useState(!1),[D,C]=w.useState([]),[L,A]=w.useState([]),[W,Y]=w.useState([]),[Q,K]=w.useState([]),[re,O]=w.useState([]);let B=null;try{B=JSON.parse(localStorage.getItem("user"))}catch{B=null}const q=B==null?void 0:B.niveau,le=w.useCallback((N,F)=>{if(!F.trim())return N;const H=F.toLowerCase();return N.filter(Te=>{var xe,Qe;return((xe=Te.Titre)==null?void 0:xe.toLowerCase().includes(H))||((Qe=Te.Description)==null?void 0:Qe.toLowerCase().includes(H))})},[]),$=w.useMemo(()=>!t||!(q==="1"||q===1)?0:t.filter(N=>{var F;return N.reports&&N.reports.some(H=>H.type==="rejet"&&H.Id_Demandeur===N.id_demandeur)&&((F=N.statut)==null?void 0:F.designation)==="En cours"}).length,[t,q]),I=w.useMemo(()=>{let N=t;return S.trim()&&(N=le(N,S)),(q==="1"||q===1)&&m.showRejectedByDemandeur&&(N=N.filter(F=>{var H;return F.reports&&F.reports.some(Te=>Te.type==="rejet"&&Te.Id_Demandeur===F.id_demandeur)&&(((H=F.statut)==null?void 0:H.designation)||"").toLowerCase().replace(/\s/g,"")==="encours"})),N},[t,S,le,q,m.showRejectedByDemandeur]);w.useMemo(()=>!I||!B?0:I.filter(N=>N.Id_Demandeur===B.id&&N.reports&&N.reports.some(F=>!F.is_viewed)).length,[I,B]),w.useEffect(()=>{v(N=>({...N,titre:k}))},[k]),w.useEffect(()=>{(async()=>{try{s(!0);const F=await de.get("/api/tickets/options");if(F.data&&F.data.options){const{options:H}=F.data;O(H.statuts||[]),C(H.categories||[]),A(H.demandeurs||[]),Y(H.emplacements||[]),K(H.priorites||[])}await G(1)}catch(F){console.error("Erreur lors du chargement des options:",F),o("Erreur lors du chargement des données")}finally{s(!1)}})()},[]),w.useEffect(()=>{if(l(1),n([]),d(!0),!r){const N=setTimeout(()=>{G(1)},300);return()=>clearTimeout(N)}},[m.categorie,m.demandeur,m.emplacement,m.statut,m.priorite,m.dateDebut,m.dateDebutFin,m.dateFinPrevueDebut,m.dateFinPrevueFin,m.dateFinReelleDebut,m.dateFinReelleFin,k,b]);const G=async(N=1)=>{try{N===1&&(s(!0),n([])),g(!0);const F={...m};delete F.titre;const Te=(await de.get("/api/tickets",{params:{...F,page:N,per_page:2,filter_unread_reports:b?!0:void 0}})).data,xe=Te.data||[],Qe=Te.total||0,Hn=Math.ceil(Qe/2);n(N===1?xe:sn=>[...sn,...xe]),d(N<Hn),l(N),o("")}catch(F){o("Erreur lors du chargement des tickets"),console.error("Erreur:",F),n([]),d(!1)}finally{s(!1),h(!1),g(!1)}};w.useEffect(()=>{const N=new IntersectionObserver(F=>{F[0].isIntersecting&&u&&!f&&!r&&(h(!0),G(a+1))},{threshold:.1,rootMargin:"500px"});return p.current&&N.observe(p.current),()=>{p.current&&N.unobserve(p.current)}},[u,f,a,r]),w.useEffect(()=>{const N=F=>{const{ticketId:H}=F.detail;n(Te=>Te.map(xe=>xe.id===H?{...xe,reports:xe.reports.map(Qe=>({...Qe,is_viewed:!0}))}:xe))};return window.addEventListener("reportsViewed",N),()=>{window.removeEventListener("reportsViewed",N)}},[]);const ne=(N,F)=>{v(H=>({...H,[N]:F}))},ee=N=>{j(N)},X=N=>{const F=m.statut===N?"":N;ne("statut",F);const H=new URLSearchParams(e);F!==""?H.set("statut",F.toString()):H.delete("statut"),window.history.replaceState(null,"",`?${H.toString()}`)},ce=async(N,F)=>{var H,Te;try{const xe=re.find(Cn=>Cn.id===parseInt(F,10));if(!["En instance","En cours","Terminé"].includes(xe==null?void 0:xe.designation)&&!(q==="1"||q===1)){xt.error("Vous ne pouvez pas modifier ce statut.");return}const sn={Id_Statut:parseInt(F,10)};(xe==null?void 0:xe.designation)==="Terminé"&&(sn.DateFinReelle=new Date().toISOString().split("T")[0]);const Vn=await de.put(`/api/tickets/${N}`,sn);n(Cn=>Cn.map(gn=>gn.id===N?{...gn,Id_Statut:parseInt(F,10),statut:Vn.data.statut,DateFinReelle:(xe==null?void 0:xe.designation)==="Terminé"?sn.DateFinReelle:gn.DateFinReelle}:gn)),xt.success("Statut mis à jour avec succès")}catch(xe){console.error("Error updating status:",xe),xt.error(((Te=(H=xe.response)==null?void 0:H.data)==null?void 0:Te.message)||"Erreur lors de la mise à jour du statut du ticket.")}},Me=()=>{v({categorie:"",demandeur:"",emplacement:"",statut:"",priorite:"",dateDebut:"",dateDebutFin:"",dateFinPrevueDebut:"",dateFinPrevueFin:"",dateFinReelleDebut:"",dateFinReelleFin:"",titre:"",showRejectedByDemandeur:!1}),j(""),y(!1)},ze=N=>{if(!N)return"-";let F=N;typeof N=="object"&&N.date&&(F=N.date),typeof F=="string"&&F.includes(".")&&(F=F.split(".")[0]);const H=F.replace(" ","T"),Te=new Date(H);return isNaN(Te)?"-":Te.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})};return r&&!t.length?c.jsxs(Ue,{children:[c.jsx(Jg,{position:"top-right"}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"flex justify-between items-center mb-6",children:c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Liste des Tickets"})}),c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),c.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),c.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"})]})]})]}):c.jsxs(Ue,{children:[c.jsx(Jg,{position:"top-right"}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Liste des Tickets"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>E(!_),className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Filtres",children:c.jsx(vv,{className:_?"text-blue-600":""})}),c.jsx("button",{onClick:()=>G(1),className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:c.jsx(Wr,{className:x?"animate-spin-once":""})}),!(q==="2"||q===2)&&c.jsx(ur,{to:"/create-ticket",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Créer un ticket"})]})]}),c.jsx("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-2",children:c.jsxs("div",{className:"flex gap-2",children:[re.map(N=>c.jsx("button",{onClick:()=>X(N.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${m.statut===N.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:N.designation},N.id)),(q==="1"||q===1)&&c.jsxs("button",{onClick:()=>v(N=>({...N,showRejectedByDemandeur:!N.showRejectedByDemandeur,statut:N.showRejectedByDemandeur?N.statut:""})),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors flex items-center gap-2 ${m.showRejectedByDemandeur?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx("span",{children:"Tickets refusés par le demandeur"}),$>0&&c.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold bg-purple-600 text-white rounded-full",children:$})]})]})}),_&&c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Filtres"}),c.jsxs("button",{onClick:Me,className:"text-sm text-gray-600 hover:text-red-600 flex items-center gap-1",children:[c.jsx(jl,{})," Réinitialiser"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"flex flex-col w-full gap-2 md:col-span-3",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Rechercher par titre"}),c.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Rechercher par titre",value:S,onChange:N=>ee(N.target.value)})]}),c.jsxs("div",{className:"flex flex-col w-full gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Demandeur"}),c.jsxs("select",{value:m.demandeur,onChange:N=>ne("demandeur",N.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Tous"}),L.map(N=>c.jsx("option",{value:N.id,children:N.designation},N.id))]})]}),c.jsxs("div",{className:"flex flex-col w-full gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Catégorie"}),c.jsxs("select",{value:m.categorie,onChange:N=>ne("categorie",N.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Toutes"}),D.map(N=>c.jsx("option",{value:N.id,children:N.designation},N.id))]})]}),c.jsxs("div",{className:"flex flex-col w-full gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Emplacement"}),c.jsxs("select",{value:m.emplacement,onChange:N=>ne("emplacement",N.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Tous"}),W.map(N=>c.jsx("option",{value:N.id,children:N.designation},N.id))]})]}),c.jsxs("div",{className:"flex flex-col w-full gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priorité"}),c.jsxs("select",{value:m.priorite,onChange:N=>ne("priorite",N.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Toutes"}),Q.map(N=>c.jsx("option",{value:N.id,children:N.designation},N.id))]})]}),c.jsxs("div",{className:"flex flex-col w-full gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date de début"}),c.jsx("input",{type:"date",value:m.dateDebut,onChange:N=>ne("dateDebut",N.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Du"}),c.jsx("input",{type:"date",value:m.dateDebutFin,onChange:N=>ne("dateDebutFin",N.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Au"})]}),c.jsxs("div",{className:"flex flex-col w-full gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date de fin prévue"}),c.jsx("input",{type:"date",value:m.dateFinPrevueDebut,onChange:N=>ne("dateFinPrevueDebut",N.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Du"}),c.jsx("input",{type:"date",value:m.dateFinPrevueFin,onChange:N=>ne("dateFinPrevueFin",N.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Au"})]}),c.jsxs("div",{className:"flex flex-col w-full gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date de fin réelle"}),c.jsx("input",{type:"date",value:m.dateFinReelleDebut,onChange:N=>ne("dateFinReelleDebut",N.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Du"}),c.jsx("input",{type:"date",value:m.dateFinReelleFin,onChange:N=>ne("dateFinReelleFin",N.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Au"})]})]})]}),i&&c.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded",children:i}),!r&&I.length===0&&c.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[c.jsx("span",{className:"text-2xl font-semibold text-gray-400 mb-2",children:"Pas de ticket"}),c.jsx("span",{className:"text-base text-gray-400",children:"Aucun ticket ne correspond à vos critères de recherche."})]}),c.jsxs("div",{className:"space-y-4",children:[I.map((N,F)=>{var Qe,Hn,sn,Vn,Cn,gn,ts,ns,Gt,xn,mr,Wn,At,Rt,gr,V,he,fe,we,Ie;console.log("TICKET DEBUG:",N.id,N.Titre,N.reports,N.Id_Demandeur);const H=N.reports&&N.reports.some(Se=>Se.type==="rejet"&&Se.Id_Demandeur===N.id_demandeur),xe=(()=>{var Se;return((Se=N.statut)==null?void 0:Se.designation)==="Refusé"?"border-red-600 bg-red-100 hover:bg-red-200":H?"border-purple-600 bg-purple-200 hover:bg-purple-300":""})();return N.id===1&&(N.reports=[{type:"rejet",Id_Demandeur:N.Id_Demandeur}]),c.jsxs("div",{className:`rounded-2xl shadow-lg border flex flex-col md:flex-row items-center justify-between min-h-[140px] px-6 py-5 mb-6 transition-transform hover:scale-[1.015] hover:shadow-2xl group ${xe}`,style:{transition:"box-shadow 0.2s, transform 0.2s"},children:[c.jsx("div",{className:"flex-1 flex flex-col w-full",children:c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[c.jsx("h3",{className:`text-2xl font-bold uppercase tracking-wide group-hover:text-blue-700 transition-colors ${((Qe=N.statut)==null?void 0:Qe.designation)==="Refusé"?"text-red-700":H?"text-purple-700":"text-gray-900"}`,children:N.Titre}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${((Hn=N.statut)==null?void 0:Hn.designation)==="Refusé"?"bg-red-100 text-red-700 border-red-200":H?"bg-purple-100 text-purple-700 border-purple-200":"bg-blue-100 text-blue-700 border-blue-200"}`,children:((sn=N.statut)==null?void 0:sn.designation)||"Sans statut"}),c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-700 border border-green-200",children:((Vn=N.priorite)==null?void 0:Vn.designation)||"Sans priorité"}),((Cn=N.statut)==null?void 0:Cn.designation)==="Clôturé"&&c.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-yellow-100 text-gray-700 border border-gray-200",children:["Clôturé le : ",ze(N.DateFinReelle)]}),H&&c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-orange-100 text-orange-700 border border-orange-200",children:"Refusé précédemment par le demandeur"})]})]}),c.jsx("p",{className:`text-base mb-4 line-clamp-2 ${((gn=N.statut)==null?void 0:gn.designation)==="Refusé"?"text-red-700":H?"text-purple-700":"text-gray-700"}`,children:N.Description||"Aucune description"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-1 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Demandeur :"}),c.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:(ts=N.demandeur)==null?void 0:ts.designation})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Catégorie :"}),c.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:((ns=N.categorie)==null?void 0:ns.designation)||"Non spécifiée"})]}),N.DateDebut&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Date début :"}),c.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:ze(N.DateDebut)})]}),N.DateFinPrevue&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Date fin prévue :"}),c.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:ze(N.DateFinPrevue)})]}),((Gt=N.statut)==null?void 0:Gt.designation)==="Refusé"&&c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("span",{className:"text-gray-500",children:"Raison du refus :"}),c.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:((mr=(xn=N.reports)==null?void 0:xn.findLast(Se=>Se.type==="rejet"))==null?void 0:mr.Raison)||"Non spécifiée"})]}),H&&c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("span",{className:"text-gray-500",children:"Raison du refus par le demandeur :"}),c.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:((At=(Wn=N.reports)==null?void 0:Wn.findLast(Se=>Se.type==="rejet"&&(Se.Id_Demandeur===N.Id_Demandeur||Se.id_demandeur===N.Id_Demandeur||Se.Id_Demandeur===N.id_demandeur||Se.id_demandeur===N.id_demandeur)))==null?void 0:At.Raison)||"Non spécifiée"})]})]})]})}),c.jsxs("div",{className:"mt-6 md:mt-0 md:ml-6 flex-shrink-0 flex flex-col items-end justify-between h-full gap-2",children:[(q==="1"||q===1)&&c.jsx(c.Fragment,{children:["En instance","En cours","Terminé"].includes((Rt=N.statut)==null?void 0:Rt.designation)?c.jsx("select",{value:N.Id_Statut,onChange:Se=>ce(N.id,Se.target.value),className:`mb-2 px-2 py-1 rounded border text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 ${((gr=N.statut)==null?void 0:gr.designation)==="Refusé"?"border-red-300 bg-red-50":H?"border-purple-300 bg-purple-50":"border-gray-300"}`,children:re&&re.length>0?re.filter(Se=>["En instance","En cours","Terminé"].includes(Se.designation)).map(Se=>c.jsx("option",{value:Se.id,children:Se.designation},Se.id)):c.jsx("option",{value:"",children:"Chargement des statuts..."})}):c.jsxs("div",{className:`mb-2 px-2 py-1 text-sm ${((V=N.statut)==null?void 0:V.designation)==="Refusé"?"text-red-700":H?"text-purple-700":"text-gray-700"}`,children:["Statut : ",((he=N.statut)==null?void 0:he.designation)||"Non défini"]})}),!(q==="1"||q===1)&&c.jsxs("div",{className:`mb-2 px-2 py-1 text-sm ${((fe=N.statut)==null?void 0:fe.designation)==="Refusé"?"text-red-700":H?"text-purple-700":"text-gray-700"}`,children:["Statut : ",((we=N.statut)==null?void 0:we.designation)||"Non défini"]}),c.jsxs(ur,{to:`/tickets/${N.id}`,className:`inline-flex items-center gap-2 text-white font-semibold px-5 py-2 rounded-lg shadow transition-colors text-base ${((Ie=N.statut)==null?void 0:Ie.designation)==="Refusé"?"bg-red-600 hover:bg-red-700":H?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"}`,children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Voir détails"]})]})]},`ticket-${N.id}-${F}`)}),u&&c.jsx("div",{ref:p,className:"h-16 flex items-center justify-center",children:f?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),c.jsx("span",{className:"text-sm text-gray-500",children:"Chargement..."})]}):c.jsx("div",{className:"h-4"})})]})]})]})};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zg;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(Zg||(Zg={}));var e0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(e0||(e0={}));var t0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(t0||(t0={}));var n0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(n0||(n0={}));var xc;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER"})(xc||(xc={}));var r0;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(r0||(r0={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class s0 extends na{constructor(t,n){super(t),this.response=n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="https://generativelanguage.googleapis.com",Z3="v1",e5="0.2.1",t5="genai-js";var As;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(As||(As={}));class pa{constructor(t,n,r,s){this.model=t,this.task=n,this.apiKey=r,this.stream=s}toString(){let t=`${J3}/${Z3}/${this.model}:${this.task}`;return this.stream&&(t+="?alt=sse"),t}}function n5(){return`${t5}/${e5}`}async function ma(e,t,n){let r;try{if(r=await fetch(e.toString(),Object.assign(Object.assign({},r5(n)),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":n5(),"x-goog-api-key":e.apiKey},body:t})),!r.ok){let s="";try{const i=await r.json();s=i.error.message,i.error.details&&(s+=` ${JSON.stringify(i.error.details)}`)}catch{}throw new Error(`[${r.status} ${r.statusText}] ${s}`)}}catch(s){const i=new na(`Error fetching from ${e.toString()}: ${s.message}`);throw i.stack=s.stack,i}return r}function r5(e){const t={};if((e==null?void 0:e.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),e.timeout),t.signal=r}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),v1(e.candidates[0]))throw new s0(`${yc(e)}`,e);return s5(e)}else if(e.promptFeedback)throw new s0(`Text not available. ${yc(e)}`,e);return""},e}function s5(e){var t,n,r,s;return!((s=(r=(n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||s===void 0)&&s.text?e.candidates[0].content.parts[0].text:""}const i5=[xc.RECITATION,xc.SAFETY];function v1(e){return!!e.finishReason&&i5.includes(e.finishReason)}function yc(e){var t,n,r;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const i=e.candidates[0];v1(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function ra(e){return this instanceof ra?(this.v=e,this):new ra(e)}function o5(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(p){return new Promise(function(x,g){i.push([h,p,x,g])>1||a(h,p)})})}function a(h,p){try{l(r[h](p))}catch(x){f(i[0][3],x)}}function l(h){h.value instanceof ra?Promise.resolve(h.value.v).then(u,d):f(i[0][2],h)}function u(h){a("next",h)}function d(h){a("throw",h)}function f(h,p){h(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function a5(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=u5(t),[r,s]=n.tee();return{stream:c5(r),response:l5(s)}}async function l5(e){const t=[],n=e.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return Fh(d5(t));t.push(s)}}function c5(e){return o5(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:s}=yield ra(n.read());if(s)break;yield yield ra(Fh(r))}})}function u5(e){const t=e.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return t.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new na("Failed to parse stream"));return}r.close();return}s+=o;let l=s.match(i0),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new na(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),s=s.substring(l[0].length),l=s.match(i0)}return i()})}}})}function d5(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e)if(r.candidates)for(const s of r.candidates){const i=s.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:s.index}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[{text:""}]});for(const o of s.content.parts)o.text&&(n.candidates[i].content.parts[0].text+=o.text)}}return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(e,t,n,r){const s=new pa(t,As.STREAM_GENERATE_CONTENT,e,!0),i=await ma(s,JSON.stringify(n),r);return a5(i)}async function w1(e,t,n,r){const s=new pa(t,As.GENERATE_CONTENT,e,!1),o=await(await ma(s,JSON.stringify(n),r)).json();return{response:Fh(o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(e,t){let n=[];if(typeof e=="string")n=[{text:e}];else for(const r of e)typeof r=="string"?n.push({text:r}):n.push(r);return{role:t,parts:n}}function Ju(e){return e.contents?e:{contents:[Ro(e,"user")]}}function f5(e){return typeof e=="string"||Array.isArray(e)?{content:Ro(e,"user")}:e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="SILENT_ERROR";class h5{constructor(t,n,r,s){this.model=n,this.params=r,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(this._history=r.history.map(i=>{if(!i.role)throw new Error("Missing role for history item: "+JSON.stringify(i));return Ro(i.parts,i.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t){var n,r;await this._sendPromise;const s=Ro(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]};let o;return this._sendPromise=this._sendPromise.then(()=>w1(this._apiKey,this.model,i,this.requestOptions)).then(a=>{var l;if(a.response.candidates&&a.response.candidates.length>0){this._history.push(s);const u=Object.assign({parts:[],role:"model"},(l=a.response.candidates)===null||l===void 0?void 0:l[0].content);this._history.push(u)}else{const u=yc(a.response);u&&console.warn(`sendMessage() was unsuccessful. ${u}. Inspect response object for details.`)}o=a}),await this._sendPromise,o}async sendMessageStream(t){var n,r;await this._sendPromise;const s=Ro(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]},o=b1(this._apiKey,this.model,i,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>o).catch(a=>{throw new Error(o0)}).then(a=>a.response).then(a=>{if(a.candidates&&a.candidates.length>0){this._history.push(s);const l=Object.assign({},a.candidates[0].content);l.role||(l.role="model"),this._history.push(l)}else{const l=yc(a);l&&console.warn(`sendMessageStream() was unsuccessful. ${l}. Inspect response object for details.`)}}).catch(a=>{a.message!==o0&&console.error(a)}),o}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(e,t,n,r){const s=new pa(t,As.COUNT_TOKENS,e,!1);return(await ma(s,JSON.stringify(Object.assign(Object.assign({},n),{model:t})),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(e,t,n,r){const s=new pa(t,As.EMBED_CONTENT,e,!1);return(await ma(s,JSON.stringify(n),r)).json()}async function g5(e,t,n,r){const s=new pa(t,As.BATCH_EMBED_CONTENTS,e,!1),i=n.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await ma(s,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(t,n,r){this.apiKey=t,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.requestOptions=r||{}}async generateContent(t){const n=Ju(t);return w1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}async generateContentStream(t){const n=Ju(t);return b1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}startChat(t){return new h5(this.apiKey,this.model,t,this.requestOptions)}async countTokens(t){const n=Ju(t);return p5(this.apiKey,this.model,n)}async embedContent(t){const n=f5(t);return m5(this.apiKey,this.model,n)}async batchEmbedContents(t){return g5(this.apiKey,this.model,t,this.requestOptions)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new na("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new x5(this.apiKey,t,n)}}const _1="AIzaSyCSZo6wMOi8s3mzCrjt-xZr4U-36U--bCo";console.warn("Initialisation du service Gemini avec la clé API:","Présente");const v5=new y5(_1,{apiVersion:"v1beta"});console.warn("Instance GoogleGenerativeAI créée");const b5=v5.getGenerativeModel({model:"gemini-2.0-flash",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]});console.warn("Modèle Gemini configuré avec les paramètres:",{model:"gemini-2.0-flash",temperature:.7,maxOutputTokens:1024});const a0=async(e,t,n)=>{console.warn("=== GEMINI API CALL ==="),console.warn("Message:",e),console.warn("Conversation history length:",t.length),console.warn("User info:",n);const r=3,s=2e3,i=a=>new Promise(l=>setTimeout(l,a)),o=async(a=0)=>{var l;try{if(!(n!=null&&n.ticketOptions))throw new Error("Les options de ticket ne sont pas disponibles. Veuillez rafraîchir la page.");const d=["categories","emplacements","priorites"].filter(y=>{var m;return!((m=n.ticketOptions[y])!=null&&m.length)});if(d.length>0)throw new Error(`Les options suivantes ne sont pas disponibles : ${d.join(", ")}. Veuillez rafraîchir la page.`);const f=y=>!y||!Array.isArray(y)?"":y.map(m=>m.designation||"").filter(Boolean).join(", "),h=`Tu es un assistant professionnel spécialisé dans la création de tickets de support IT.
Ton rôle est de guider les utilisateurs de manière professionnelle et efficace dans la création de leurs tickets.

RÈGLES STRICTES DE CONVERSATION :
1. Tu DOIS suivre l'ordre exact des étapes ci-dessous
2. Tu DOIS poser UNE SEULE question à la fois
3. Tu DOIS attendre la réponse de l'utilisateur avant de poser la question suivante
4. Tu DOIS vérifier que chaque information est complète avant de passer à l'étape suivante
5. Tu NE DOIS PAS proposer de créer le ticket avant d'avoir toutes les informations requises
6. Tu DOIS utiliser UNIQUEMENT les options fournies dans le contexte pour chaque choix
7. Tu NE DOIS JAMAIS demander les informations suivantes car elles sont déjà connues :
   - Le demandeur (${n.designation||"Non spécifié"})
   - La société (${((l=n.email)==null?void 0:l.split("@")[1])||"Non spécifiée"})
   - La date de création (automatique)
8. Tu NE DOIS JAMAIS confirmer la création du ticket - ce n'est pas ton rôle
9. À la fin, tu DOIS UNIQUEMENT demander si l'utilisateur souhaite procéder à la création du ticket
10. Si l'utilisateur répond "oui" à la création, tu DOIS :
    - Vérifier que toutes les informations sont présentes
    - Si des informations manquent, les demander à nouveau
    - Si toutes les informations sont présentes, indiquer que tu vas transmettre les informations pour la création

OPTIONS DISPONIBLES :
- Catégories : ${f(n.ticketOptions.categories)}
- Emplacements : ${f(n.ticketOptions.emplacements)}
- Priorités : ${f(n.ticketOptions.priorites)}

ÉTAPES OBLIGATOIRES (à suivre dans l'ordre) :

1. COLLECTE DU TITRE
   - Demander un titre concis et descriptif
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

2. COLLECTE DE LA DESCRIPTION
   - Demander une description détaillée du problème
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

3. COLLECTE DU COMMENTAIRE INITIAL
   - Demander un commentaire initial qui servira de suivi pour le ticket
   - Ce commentaire peut inclure des informations supplémentaires, des précisions ou des instructions spécifiques
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

4. DÉTERMINATION DE LA CATÉGORIE
   - Afficher les catégories disponibles : ${f(n.ticketOptions.categories)}
   - Demander à l'utilisateur de choisir une catégorie parmi celles listées
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

5. COLLECTE DE L'EMPLACEMENT
   - Afficher les emplacements disponibles : ${f(n.ticketOptions.emplacements)}
   - Demander à l'utilisateur de choisir un emplacement parmi ceux listés
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

6. DÉTERMINATION DE LA PRIORITÉ
   - Afficher les priorités disponibles : ${f(n.ticketOptions.priorites)}
   - Demander à l'utilisateur de choisir une priorité parmi celles listées
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

7. RÉSUMÉ ET DEMANDE DE CRÉATION
   - Présenter le résumé dans le format suivant :
     📋 RÉSUMÉ DU TICKET
     ──────────────────────────────
     📌 Titre : [titre]
     📝 Description : [description]
     💬 Commentaire initial : [commentaire]
     🏷️ Catégorie : [catégorie]
     📍 Emplacement : [emplacement]
     ⚡ Priorité : [priorité]
     ──────────────────────────────
   - Demander si l'utilisateur souhaite procéder à la création du ticket
   - Si l'utilisateur répond "oui" :
     * Vérifier que toutes les informations sont présentes
     * Si des informations manquent, les demander à nouveau
     * Si toutes les informations sont présentes, indiquer que tu vas transmettre les informations pour la création

EXEMPLES DE RÉPONSES PROFESSIONNELLES :
- "Pour commencer, pourriez-vous me donner un titre concis qui décrit votre problème ?"
- "Merci pour le titre. Maintenant, pourriez-vous me donner une description détaillée du problème ?"
- "Merci pour la description. Pourriez-vous ajouter un commentaire initial qui servira de suivi pour ce ticket ? Ce commentaire peut inclure des informations supplémentaires ou des instructions spécifiques."
- "Voici les catégories disponibles : ${f(n.ticketOptions.categories)}. Quelle catégorie correspond le mieux à votre demande ?"
- "Voici les emplacements disponibles : ${f(n.ticketOptions.emplacements)}. Quel est l'emplacement concerné ?"
- "Voici les priorités disponibles : ${f(n.ticketOptions.priorites)}."
- "Je vais vérifier que toutes les informations sont présentes avant de procéder à la création du ticket."
- "Il manque certaines informations. Pourriez-vous me préciser [information manquante] ?"
- "Toutes les informations sont présentes. Je vais transmettre ces informations pour la création du ticket."

IMPORTANT : Tu DOIS TOUJOURS demander un commentaire initial après la description et avant de demander la catégorie. Ne saute JAMAIS cette étape.`;console.warn("Construction du contexte de conversation");const p=b5.startChat({history:[{role:"user",parts:h},...t.map(y=>({role:y.role,parts:y.content}))]});console.warn("Chat initialisé avec l'historique"),console.warn("Envoi du message à l'API...");const x=6e4,g=await Promise.race([p.sendMessage(e).then(y=>(console.warn("Réponse brute de l'API:",y),y)),new Promise((y,m)=>setTimeout(()=>{console.error("Timeout: Délai d'attente dépassé après",x,"ms"),m(new Error("Le temps de réponse est trop long. Veuillez réessayer."))},x))]);console.warn("Réponse reçue de l'API");const b=await g.response;return console.warn("Texte de la réponse extrait:",b.text()),b.text()}catch(u){if(console.error("=== GEMINI API ERROR ==="),console.error("Type d'erreur:",u.constructor.name),console.error("Message d'erreur:",u.message),console.error("Stack trace:",u.stack),u.message.includes("API key"))throw console.error("Erreur de clé API"),new Error("Erreur de configuration de l'API. Veuillez vérifier la clé API.");if(u.message.includes("quota"))throw console.error("Erreur de quota dépassé"),new Error("Limite de requêtes atteinte. Veuillez réessayer plus tard.");if(u.message.includes("temps de réponse"))throw console.error("Erreur de timeout"),new Error("Le temps de réponse est trop long. Veuillez réessayer.");if(u.message.includes("safety"))throw console.error("Erreur de sécurité"),new Error("Le contenu a été bloqué pour des raisons de sécurité.");if(u.message.includes("overloaded")||u.message.includes("503")){if(console.error("Erreur de surcharge du modèle"),a<r)return console.log(`Tentative ${a+1}/${r} échouée. Nouvelle tentative dans ${s/1e3} secondes...`),await i(s),o(a+1);throw new Error("Le service est temporairement surchargé. Veuillez réessayer dans quelques instants.")}else throw console.error("Erreur inattendue:",u),new Error("Une erreur est survenue lors de la communication avec l'assistant. Veuillez réessayer.")}};return o()},l0=(e,t,n)=>{var u;console.log("Options reçues:",t),console.log("User info reçu:",n);const r={title:"",description:"",commentaire:"",category:"",service:((u=n==null?void 0:n.service)==null?void 0:u.designation)||"",location:"",company:n.email.split("@")[1]||"Non spécifiée",requester:n.designation,status:"Nouveau",priority:"",startDate:"",endDate:"",createdAt:new Date().toISOString(),id_utilisateur:n.id||1,id_societe:n.id_societe||1,id_emplacement:null,id_priorite:null,id_categorie:null,id_statut:1,id_executant:1},s=d=>d.toLowerCase().trim(),i=(d,f)=>{if(!d||!f)return null;console.log("Recherche ID pour:",d,"dans les options:",f);const h=s(d),p=b=>b.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"").toLowerCase();let x=null;if(x=f.find(b=>s(b.designation)===h),x)return console.log("Correspondance exacte trouvée:",x),x.id;const g=p(h);return x=f.find(b=>p(b.designation)===g),x?(console.log("Correspondance normalisée trouvée:",x),x.id):(x=f.find(b=>{const y=s(b.designation);return y.includes(h)||h.includes(y)}),x?(console.log("Correspondance partielle trouvée:",x),x.id):(x=f.find(b=>{const y=p(b.designation);return o(g,y)>.8}),x?(console.log("Correspondance par similarité trouvée:",x),x.id):(console.log("Aucune correspondance trouvée pour:",d),null)))},o=(d,f)=>{if(d.length===0||f.length===0)return 0;if(d===f)return 1;const h=d.length>f.length?d:f,p=d.length>f.length?f:d;return h.length===0?1:(h.length-a(h,p))/parseFloat(h.length)},a=(d,f)=>{const h=Array(f.length+1).fill(null).map(()=>Array(d.length+1).fill(null));for(let p=0;p<=d.length;p++)h[0][p]=p;for(let p=0;p<=f.length;p++)h[p][0]=p;for(let p=1;p<=f.length;p++)for(let x=1;x<=d.length;x++){const g=d[x-1]===f[p-1]?0:1;h[p][x]=Math.min(h[p][x-1]+1,h[p-1][x]+1,h[p-1][x-1]+g)}return h[f.length][d.length]},l=(d,f)=>{const h=new RegExp(`${f}\\s*([^\\n📌📝💬🏷️📍⚡📅]+)`,"i"),p=d.match(h);if(!p)return null;let x=p[1].trim();return x=x.replace(/^(Titre|Description|Commentaire initial|Catégorie|Emplacement|Priorité|Date de début|Date de fin)\s*:\s*/i,""),x=x.replace(/^:\s*/,""),x};return e.forEach((d,f)=>{if(d.role==="assistant"){const h=d.content;if(console.log("Analyse du message:",h),h.includes("📋 RÉSUMÉ DU TICKET")){console.log("Résumé de ticket trouvé"),r.title=l(h,"📌"),console.log("Titre extrait:",r.title),r.description=l(h,"📝"),console.log("Description extraite:",r.description),r.commentaire=l(h,"💬"),console.log("Commentaire extrait:",r.commentaire),r.category=l(h,"🏷️"),r.id_categorie=i(r.category,t.categories),console.log("Catégorie extraite:",r.category,"ID:",r.id_categorie),r.location=l(h,"📍"),r.id_emplacement=i(r.location,t.emplacements),console.log("Emplacement extrait:",r.location,"ID:",r.id_emplacement),r.priority=l(h,"⚡"),r.id_priorite=i(r.priority,t.priorites),console.log("Priorité extraite:",r.priority,"ID:",r.id_priorite);const p=l(h,"📅 Date de début"),x=l(h,"📅 Date de fin");if(p){const[g,b,y]=p.split("/");r.startDate=`${y}-${b}-${g}`,console.log("Date de début extraite:",r.startDate)}if(x){const[g,b,y]=x.split("/");r.endDate=`${y}-${b}-${g}`,console.log("Date de fin extraite:",r.endDate)}}}}),console.log("Ticket info final:",r),r},w5=async e=>{var t,n,r;try{const s=localStorage.getItem("token");if(!e.title||!e.description||!e.id_categorie||!e.id_emplacement||!e.id_priorite)throw console.error("Données manquantes:",{title:e.title,description:e.description,id_categorie:e.id_categorie,id_emplacement:e.id_emplacement,id_priorite:e.id_priorite}),new Error("Données de ticket incomplètes");const i=JSON.parse(localStorage.getItem("user"));if(!i||!i.id)throw console.error("Utilisateur non connecté ou ID invalide"),new Error("Vous devez être connecté pour créer un ticket.");e.id_utilisateur=i.id,e.id_demandeur=i.id;const o={titre:e.title,description:e.description,commentaire:e.commentaire||e.description,id_demandeur:e.id_demandeur,id_utilisateur:e.id_utilisateur,id_societe:e.id_societe,id_emplacement:e.id_emplacement,id_priorite:e.id_priorite,id_categorie:e.id_categorie,id_statut:e.id_statut,id_executant:e.id_executant};if(e.startDate&&(o.date_debut=e.startDate),e.endDate&&(o.date_fin_prevue=e.endDate),console.log("Données envoyées à l'API:",o),!s)throw new Error("Token d'authentification manquant. Veuillez vous reconnecter.");return(await Pe.post("/api/tickets",o,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){if(console.error("Error in createTicketFromChat:",s),((t=s.response)==null?void 0:t.status)===422){const i=s.response.data.errors;if(i.id_demandeur)throw new Error("Erreur d'authentification. Veuillez vous reconnecter.");const o=Object.entries(i).map(([a,l])=>`${a}: ${l.join(", ")}`).join(`
`);throw new Error(`Erreurs de validation:
${o}`)}else throw((n=s.response)==null?void 0:n.status)===401?new Error("Session expirée. Veuillez vous reconnecter."):((r=s.response)==null?void 0:r.status)===403?new Error("Vous n'avez pas les permissions nécessaires pour créer un ticket."):new Error("Une erreur est survenue lors de la création du ticket. Veuillez réessayer.")}};function S1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=S1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ks(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=S1(e))&&(r&&(r+=" "),r+=t);return r}function _5(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}_5(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ga=e=>typeof e=="number"&&!isNaN(e),Is=e=>typeof e=="string",fr=e=>typeof e=="function",S5=e=>Is(e)||ga(e),hf=e=>Is(e)||fr(e)?e:null,j5=(e,t)=>e===!1||ga(e)&&e>0?e:t,pf=e=>w.isValidElement(e)||Is(e)||fr(e)||ga(e);function E5(e,t,n=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function N5({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:a,done:l,nodeRef:u,isIn:d,playToast:f}){let h=n?`${e}--${o}`:e,p=n?`${t}--${o}`:t,x=w.useRef(0);return w.useLayoutEffect(()=>{let g=u.current,b=h.split(" "),y=m=>{m.target===u.current&&(f(),g.removeEventListener("animationend",y),g.removeEventListener("animationcancel",y),x.current===0&&m.type!=="animationcancel"&&g.classList.remove(...b))};g.classList.add(...b),g.addEventListener("animationend",y),g.addEventListener("animationcancel",y)},[]),w.useEffect(()=>{let g=u.current,b=()=>{g.removeEventListener("animationend",b),r?E5(g,l,s):l()};d||(a?b():(x.current=1,g.className+=` ${p}`,g.addEventListener("animationend",b)))},[d]),Ce.createElement(Ce.Fragment,null,i)}}function c0(e,t){return{content:j1(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function j1(e,t,n=!1){return w.isValidElement(e)&&!Is(e.type)?w.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):fr(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function k5({closeToast:e,theme:t,ariaLabel:n="close"}){return Ce.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},Ce.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ce.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function C5({delay:e,isRunning:t,closeToast:n,type:r="default",hide:s,className:i,controlledProgress:o,progress:a,rtl:l,isIn:u,theme:d}){let f=s||o&&a===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(h.transform=`scaleX(${a})`);let p=ks("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),x=fr(i)?i({rtl:l,type:r,defaultClassName:p}):ks(p,i),g={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{u&&n()}};return Ce.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},Ce.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),Ce.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:x,style:h,...g}))}var T5=1,E1=()=>`${T5++}`;function R5(e,t,n){let r=1,s=0,i=[],o=[],a=t,l=new Map,u=new Set,d=m=>(u.add(m),()=>u.delete(m)),f=()=>{o=Array.from(l.values()),u.forEach(m=>m())},h=({containerId:m,toastId:v,updateId:S})=>{let j=m?m!==e:e!==1,k=l.has(v)&&S==null;return j||k},p=(m,v)=>{l.forEach(S=>{var j;(v==null||v===S.props.toastId)&&((j=S.toggle)==null||j.call(S,m))})},x=m=>{var v,S;(S=(v=m.props)==null?void 0:v.onClose)==null||S.call(v,m.removalReason),m.isActive=!1},g=m=>{if(m==null)l.forEach(x);else{let v=l.get(m);v&&x(v)}f()},b=()=>{s-=i.length,i=[]},y=m=>{var v,S;let{toastId:j,updateId:k}=m.props,_=k==null;m.staleId&&l.delete(m.staleId),m.isActive=!0,l.set(j,m),f(),n(c0(m,_?"added":"updated")),_&&((S=(v=m.props).onOpen)==null||S.call(v))};return{id:e,props:a,observe:d,toggle:p,removeToast:g,toasts:l,clearQueue:b,buildToast:(m,v)=>{if(h(v))return;let{toastId:S,updateId:j,data:k,staleId:_,delay:E}=v,D=j==null;D&&s++;let C={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(v).filter(([A,W])=>W!=null)),toastId:S,updateId:j,data:k,isIn:!1,className:hf(v.className||a.toastClassName),progressClassName:hf(v.progressClassName||a.progressClassName),autoClose:v.isLoading?!1:j5(v.autoClose,a.autoClose),closeToast(A){l.get(S).removalReason=A,g(S)},deleteToast(){let A=l.get(S);if(A!=null){if(n(c0(A,"removed")),l.delete(S),s--,s<0&&(s=0),i.length>0){y(i.shift());return}f()}}};C.closeButton=a.closeButton,v.closeButton===!1||pf(v.closeButton)?C.closeButton=v.closeButton:v.closeButton===!0&&(C.closeButton=pf(a.closeButton)?a.closeButton:!0);let L={content:m,props:C,staleId:_};a.limit&&a.limit>0&&s>a.limit&&D?i.push(L):ga(E)?setTimeout(()=>{y(L)},E):y(L)},setProps(m){a=m},setToggle:(m,v)=>{let S=l.get(m);S&&(S.toggle=v)},isToastActive:m=>{var v;return(v=l.get(m))==null?void 0:v.isActive},getSnapshot:()=>o}}var Dt=new Map,sa=[],mf=new Set,M5=e=>mf.forEach(t=>t(e)),N1=()=>Dt.size>0;function D5(){sa.forEach(e=>C1(e.content,e.options)),sa=[]}var P5=(e,{containerId:t})=>{var n;return(n=Dt.get(t||1))==null?void 0:n.toasts.get(e)};function k1(e,t){var n;if(t)return!!((n=Dt.get(t))!=null&&n.isToastActive(e));let r=!1;return Dt.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function O5(e){if(!N1()){sa=sa.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||S5(e))Dt.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Dt.get(e.containerId);t?t.removeToast(e.id):Dt.forEach(n=>{n.removeToast(e.id)})}}var L5=(e={})=>{Dt.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function C1(e,t){pf(e)&&(N1()||sa.push({content:e,options:t}),Dt.forEach(n=>{n.buildToast(e,t)}))}function A5(e){var t;(t=Dt.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function T1(e,t){Dt.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function I5(e){let t=e.containerId||1;return{subscribe(n){let r=R5(t,e,M5);Dt.set(t,r);let s=r.observe(n);return D5(),()=>{s(),Dt.delete(t)}},setProps(n){var r;(r=Dt.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Dt.get(t))==null?void 0:n.getSnapshot()}}}function F5(e){return mf.add(e),()=>{mf.delete(e)}}function z5(e){return e&&(Is(e.toastId)||ga(e.toastId))?e.toastId:E1()}function xa(e,t){return C1(e,t),t.toastId}function Xc(e,t){return{...t,type:t&&t.type||e,toastId:z5(t)}}function Qc(e){return(t,n)=>xa(t,Xc(e,n))}function Ne(e,t){return xa(e,Xc("default",t))}Ne.loading=(e,t)=>xa(e,Xc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function B5(e,{pending:t,error:n,success:r},s){let i;t&&(i=Is(t)?Ne.loading(t,s):Ne.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,d,f)=>{if(d==null){Ne.dismiss(i);return}let h={type:u,...o,...s,data:f},p=Is(d)?{render:d}:d;return i?Ne.update(i,{...h,...p}):Ne(p.render,{...h,...p}),f},l=fr(e)?e():e;return l.then(u=>a("success",r,u)).catch(u=>a("error",n,u)),l}Ne.promise=B5;Ne.success=Qc("success");Ne.info=Qc("info");Ne.error=Qc("error");Ne.warning=Qc("warning");Ne.warn=Ne.warning;Ne.dark=(e,t)=>xa(e,Xc("default",{theme:"dark",...t}));function $5(e){O5(e)}Ne.dismiss=$5;Ne.clearWaitingQueue=L5;Ne.isActive=k1;Ne.update=(e,t={})=>{let n=P5(e,t);if(n){let{props:r,content:s}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:E1()};i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,xa(o,i)}};Ne.done=e=>{Ne.update(e,{progress:1})};Ne.onChange=F5;Ne.play=e=>T1(!0,e);Ne.pause=e=>T1(!1,e);function U5(e){var t;let{subscribe:n,getSnapshot:r,setProps:s}=w.useRef(I5(e)).current;s(e);let i=(t=w.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function o(a){if(!i)return[];let l=new Map;return e.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;l.has(d)||l.set(d,[]),l.get(d).push(u)}),Array.from(l,u=>a(u[0],u[1]))}return{getToastToRender:o,isToastActive:k1,count:i==null?void 0:i.length}}function H5(e){let[t,n]=w.useState(!1),[r,s]=w.useState(!1),i=w.useRef(null),o=w.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:d,closeOnClick:f}=e;A5({id:e.toastId,containerId:e.containerId,fn:n}),w.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{p()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||y(),window.addEventListener("focus",b),window.addEventListener("blur",y)}function p(){window.removeEventListener("focus",b),window.removeEventListener("blur",y)}function x(_){if(e.draggable===!0||e.draggable===_.pointerType){m();let E=i.current;o.canCloseOnClick=!0,o.canDrag=!0,E.style.transition="none",e.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=E.offsetWidth*(e.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=E.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function g(_){let{top:E,bottom:D,left:C,right:L}=i.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&e.pauseOnHover&&_.clientX>=C&&_.clientX<=L&&_.clientY>=E&&_.clientY<=D?y():b()}function b(){n(!0)}function y(){n(!1)}function m(){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",j)}function v(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",j)}function S(_){let E=i.current;if(o.canDrag&&E){o.didMove=!0,t&&y(),e.draggableDirection==="x"?o.delta=_.clientX-o.start:o.delta=_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1);let D=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;E.style.transform=`translate3d(${D},0)`,E.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function j(){v();let _=i.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}let k={onPointerDown:x,onPointerUp:g};return a&&l&&(k.onMouseEnter=y,e.stacked||(k.onMouseLeave=b)),f&&(k.onClick=_=>{d&&d(_),o.canCloseOnClick&&u(!0)}),{playToast:b,pauseToast:y,isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:k}}var V5=typeof window<"u"?w.useLayoutEffect:w.useEffect,Jc=({theme:e,type:t,isLoading:n,...r})=>Ce.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function W5(e){return Ce.createElement(Jc,{...e},Ce.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function K5(e){return Ce.createElement(Jc,{...e},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function q5(e){return Ce.createElement(Jc,{...e},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Y5(e){return Ce.createElement(Jc,{...e},Ce.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function G5(){return Ce.createElement("div",{className:"Toastify__spinner"})}var gf={info:K5,warning:W5,success:q5,error:Y5,spinner:G5},X5=e=>e in gf;function Q5({theme:e,type:t,isLoading:n,icon:r}){let s=null,i={theme:e,type:t};return r===!1||(fr(r)?s=r({...i,isLoading:n}):w.isValidElement(r)?s=w.cloneElement(r,i):n?s=gf.spinner():X5(t)&&(s=gf[t](i))),s}var J5=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=H5(e),{closeButton:o,children:a,autoClose:l,onClick:u,type:d,hideProgressBar:f,closeToast:h,transition:p,position:x,className:g,style:b,progressClassName:y,updateId:m,role:v,progress:S,rtl:j,toastId:k,deleteToast:_,isIn:E,isLoading:D,closeOnClick:C,theme:L,ariaLabel:A}=e,W=ks("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":C}),Y=fr(g)?g({rtl:j,position:x,type:d,defaultClassName:W}):ks(W,g),Q=Q5(e),K=!!S||!l,re={closeToast:h,type:d,theme:L},O=null;return o===!1||(fr(o)?O=o(re):w.isValidElement(o)?O=w.cloneElement(o,re):O=k5(re)),Ce.createElement(p,{isIn:E,done:_,position:x,preventExitTransition:n,nodeRef:r,playToast:i},Ce.createElement("div",{id:k,tabIndex:0,onClick:u,"data-in":E,className:Y,...s,style:b,ref:r,...E&&{role:v,"aria-label":A}},Q!=null&&Ce.createElement("div",{className:ks("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},Q),j1(a,e,!t),O,!e.customProgressBar&&Ce.createElement(C5,{...m&&!K?{key:`p-${m}`}:{},rtl:j,theme:L,delay:l,isRunning:t,isIn:E,closeToast:h,hide:f,type:d,className:y,controlledProgress:K,progress:S||0})))},Z5=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),eC=N5(Z5("bounce",!0)),tC={position:"top-right",transition:eC,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function R1(e){let t={...tC,...e},n=e.stacked,[r,s]=w.useState(!0),i=w.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=U5(t),{className:u,style:d,rtl:f,containerId:h,hotKeys:p}=t;function x(b){let y=ks("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":f});return fr(u)?u({position:b,rtl:f,defaultClassName:y}):ks(y,hf(u))}function g(){n&&(s(!0),Ne.play())}return V5(()=>{var b;if(n){let y=i.current.querySelectorAll('[data-in="true"]'),m=12,v=(b=t.position)==null?void 0:b.includes("top"),S=0,j=0;Array.from(y).reverse().forEach((k,_)=>{let E=k;E.classList.add("Toastify__toast--stacked"),_>0&&(E.dataset.collapsed=`${r}`),E.dataset.pos||(E.dataset.pos=v?"top":"bot");let D=S*(r?.2:1)+(r?0:m*_);E.style.setProperty("--y",`${v?D:D*-1}px`),E.style.setProperty("--g",`${m}`),E.style.setProperty("--s",`${1-(r?j:0)}`),S+=E.offsetHeight,j+=.025})}},[r,l,n]),w.useEffect(()=>{function b(y){var m;let v=i.current;p(y)&&((m=v.querySelector('[tabIndex="0"]'))==null||m.focus(),s(!1),Ne.pause()),y.key==="Escape"&&(document.activeElement===v||v!=null&&v.contains(document.activeElement))&&(s(!0),Ne.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[p]),Ce.createElement("section",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{n&&(s(!1),Ne.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((b,y)=>{let m=y.length?{...d}:{...d,pointerEvents:"none"};return Ce.createElement("div",{tabIndex:-1,className:x(b),"data-stacked":n,style:m,key:`c-${b}`},y.map(({content:v,props:S})=>Ce.createElement(J5,{...S,stacked:n,collapseAll:g,isIn:a(S.toastId,S.containerId),key:`t-${S.key}`},v)))}))}const nC=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(""),[s,i]=w.useState(!1),[o,a]=w.useState(null),[l,u]=w.useState(null),[d,f]=w.useState(null),[h,p]=w.useState(null),[x,g]=w.useState(!1),[b,y]=w.useState(!1),[m,v]=w.useState(!1),[S,j]=w.useState(!1),[k,_]=w.useState(null),E=w.useRef(null),D=w.useRef(null),C=()=>{var $;($=E.current)==null||$.scrollIntoView({behavior:"smooth"})};w.useEffect(()=>{C()},[e]),w.useEffect(()=>{(async()=>{try{const I=await de.get("/api/user");p(I.data);const G=await de.get("/api/tickets/options");if(console.log("Options reçues du backend:",G.data),G.data.hasErrors){console.error("Erreurs lors de la récupération des options:",G.data.errors),f("Erreur lors du chargement des options. Veuillez rafraîchir la page.");return}const ne=G.data.options,X=["categories","emplacements","priorites"].filter(ce=>{var Me;return!((Me=ne[ce])!=null&&Me.length)});if(X.length>0){console.error("Options manquantes:",X),f(`Les options suivantes ne sont pas disponibles : ${X.join(", ")}. Veuillez rafraîchir la page.`);return}u(ne)}catch(I){console.error("Erreur lors du chargement des données:",I),f("Erreur lors du chargement des données. Veuillez rafraîchir la page.")}})()},[]);const L=()=>{t([{role:"assistant",content:"Bonjour ! Je suis votre assistant pour la création de tickets. Je vais vous guider à travers le processus de création d'un ticket. Comment puis-je vous aider aujourd'hui ?"}])};w.useEffect(()=>{L()},[]);const A=($,I)=>{switch(I){case"category":g(!1);break;case"location":y(!1);break;case"priority":v(!1);break}const G=$.designation;r(""),t(ee=>[...ee,{role:"user",content:G}]),i(!0),f(null);const ne={...h,ticketOptions:{categories:l.categories||[],emplacements:l.emplacements||[],priorites:l.priorites||[]}};a0(G,e,ne).then(ee=>{const X=ee.toLowerCase();g(X.includes("catégorie")),y(X.includes("emplacement")),v(X.includes("priorité"));const ce=ee.split("?").filter(N=>N.trim().length>0),Me=e[e.length-1];if(!(Me&&Me.role==="assistant"&&Me.content.toLowerCase()===ee.toLowerCase()))if(ce.length>1){const N=ce[0]+"?";t(F=>[...F,{role:"assistant",content:N}])}else t(N=>[...N,{role:"assistant",content:ee}]);if(ee.includes("📋 RÉSUMÉ DU TICKET")){const N=l0([...e,{role:"user",content:G},{role:"assistant",content:ee}],l,h);console.log("Informations extraites du résumé:",N),a(N),g(!1),y(!1),v(!1),t(F=>[...F,{role:"assistant",content:"Voici le résumé de votre ticket :",component:re(N)}])}}).catch(ee=>{const X=ee.message||"Une erreur est survenue. Veuillez réessayer.";f(X),t(ce=>[...ce,{role:"assistant",content:X}])}).finally(()=>{i(!1)})},W=($,I,G)=>{if(!$||$.length===0)return null;const ne=()=>{switch(I){case"category":return"bg-blue-50 hover:bg-blue-100 text-blue-800";case"location":return"bg-green-50 hover:bg-green-100 text-green-800";case"priority":return"bg-purple-50 hover:bg-purple-100 text-purple-800";default:return"bg-gray-50 hover:bg-gray-100 text-gray-800"}};return c.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg shadow-lg border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:G}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:$.map(ee=>c.jsx("button",{onClick:()=>A(ee,I),className:`p-4 rounded-lg transition-all duration-200 ${ne()} 
                                     flex items-center justify-center text-center font-medium
                                     transform hover:scale-105 hover:shadow-md`,children:ee.designation},ee.id))})]})},Y=()=>!x||!(l!=null&&l.categories)?null:W(l.categories,"category","Sélectionnez une catégorie :"),Q=()=>!b||!(l!=null&&l.emplacements)?null:W(l.emplacements,"location","Sélectionnez un emplacement :"),K=()=>!m||!(l!=null&&l.priorites)?null:W(l.priorites,"priority","Sélectionnez une priorité :"),re=$=>$?c.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg shadow-lg border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"📋 RÉSUMÉ DU TICKET"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsx("table",{className:"min-w-full bg-white",children:c.jsxs("tbody",{className:"divide-y divide-gray-200",children:[c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600 w-1/3",children:"Titre"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:$.title||"-"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Description"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:$.description||"-"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Catégorie"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:$.category||"-"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Priorité"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                                        ${$.priority==="Urgent"?"bg-red-100 text-red-800":$.priority==="Moyenne"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:$.priority||"-"})})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Emplacement"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:$.location||"-"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Statut"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                                        ${$.status==="Nouveau"?"bg-blue-100 text-blue-800":$.status==="En cours"?"bg-yellow-100 text-yellow-800":$.status==="Terminé"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:$.status||"-"})})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Demandeur"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:$.requester||"-"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Service"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:$.service||"-"})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Commentaire"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:$.commentaire||"-"})]})]})})})]}):null,O=async $=>{if($.preventDefault(),!n.trim()||!h||!l){Ne.error("Veuillez attendre le chargement des données avant de continuer.");return}const G=["categories","emplacements","priorites"].filter(ee=>{var X;return!((X=l[ee])!=null&&X.length)});if(G.length>0){Ne.error(`Les options suivantes ne sont pas disponibles : ${G.join(", ")}. Veuillez rafraîchir la page.`);return}const ne=n.trim();r(""),t(ee=>[...ee,{role:"user",content:ne},{role:"assistant",content:"...",loading:!0}]),i(!0),f(null);try{const ee={...h,ticketOptions:{categories:l.categories||[],emplacements:l.emplacements||[],priorites:l.priorites||[]}};console.log("Options envoyées au chat:",ee.ticketOptions);const X=await a0(ne,e,ee);t(F=>{const H=[...F],Te=H.findIndex(xe=>xe.loading&&xe.role==="assistant");return Te!==-1?H[Te]={role:"assistant",content:X}:H.push({role:"assistant",content:X}),H});const ce=X.toLowerCase();g(ce.includes("catégorie")),y(ce.includes("emplacement")),v(ce.includes("priorité"));const Me=X.split("?").filter(F=>F.trim().length>0),ze=e[e.length-1];if(!(ze&&ze.role==="assistant"&&ze.content.toLowerCase()===X.toLowerCase())&&Me.length>1){const F=Me[0]+"?";t(H=>[...H,{role:"assistant",content:F}])}if(X.includes("📋 RÉSUMÉ DU TICKET")){const F=l0([...e,{role:"user",content:ne},{role:"assistant",content:X}],l,h);console.log("Informations extraites du résumé:",F),a(F),t(H=>[...H,{role:"assistant",content:"Voici le résumé de votre ticket :",component:re(F)}])}ne.toLowerCase()==="oui"&&X.includes("Toutes les informations sont présentes")&&o&&B()}catch(ee){t(X=>{const ce=[...X],Me=ce.findIndex(ze=>ze.loading&&ze.role==="assistant");return Me!==-1?ce[Me]={role:"assistant",content:ee.message||"Une erreur est survenue."}:ce.push({role:"assistant",content:ee.message||"Une erreur est survenue."}),ce}),f(ee.message||"Une erreur est survenue. Veuillez réessayer.")}finally{i(!1)}},B=async()=>{if(o)try{i(!0),f(null);const $={...o,startDate:o.startDate?new Date(o.startDate).toISOString().split("T")[0]:null,endDate:o.endDate?new Date(o.endDate).toISOString().split("T")[0]:null},I=await w5($);t(G=>[...G,{role:"assistant",content:`Ticket créé avec succès ! Numéro du ticket : ${I.id}`}]),a(null)}catch($){const I=$.message||"Une erreur est survenue lors de la création du ticket.";f(I),t(G=>[...G,{role:"assistant",content:I}])}finally{i(!1)}},q=$=>{$.role==="assistant"&&!s&&(r($.content),O(new Event("submit")))},le=$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),O($))};return w.useEffect(()=>{D.current&&D.current.focus()},[e,s]),c.jsx(Ue,{children:c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx(R1,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),c.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Création de ticket assistée par IA"}),d&&c.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:d}),c.jsx("div",{className:"mb-6 overflow-x-auto",children:c.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-600",children:"Attribut"}),c.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-600",children:"Valeur"}),c.jsx("th",{className:"px-4 py-2 text-center text-sm font-semibold text-gray-600",children:"Statut"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200",children:[c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Titre"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.title)||"-"}),c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.title?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.title?"✓":"✗"})})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Description"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.description)||"-"}),c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.description?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.description?"✓":"✗"})})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Catégorie"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.category)||"-"}),c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.category?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.category?"✓":"✗"})})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Priorité"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.priority)||"-"}),c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.priority?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.priority?"✓":"✗"})})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Emplacement"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.location)||"-"}),c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.location?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.location?"✓":"✗"})})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Date de début"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.startDate)||"-"}),c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.startDate?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.startDate?"✓":"✗"})})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Date de fin"}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.endDate)||"-"}),c.jsx("td",{className:"px-4 py-2 text-center",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.endDate?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.endDate?"✓":"✗"})})]})]})]})}),c.jsxs("div",{className:"flex flex-col h-[600px] w-full max-w-2xl mx-auto bg-white rounded-lg shadow-lg",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map(($,I)=>c.jsx("div",{className:`flex ${$.role==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{onClick:()=>q($),className:`max-w-[80%] rounded-lg p-3 cursor-pointer transition-all duration-200 ${$.role==="user"?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:[$.content,$.component]})},I)),Y(),Q(),K(),c.jsx("div",{ref:E})]}),c.jsx("form",{onSubmit:O,className:"border-t p-4",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("input",{ref:D,type:"text",value:n,onChange:$=>r($.target.value),onKeyPress:le,placeholder:"Tapez votre message...",className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),c.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Envoi...":"Envoyer"})]})}),o&&c.jsx("div",{className:"border-t p-4 bg-gray-50",children:c.jsx("button",{onClick:B,disabled:s,className:"w-full bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50",children:s?"Création en cours...":"Créer le ticket"})})]})]})})},rC=()=>{const e=Un(),[t,n]=w.useState({designation:"",email:"",password:"",niveau:"",statut:"1",id_service:""}),r=[{id:1,designation:"Achat"},{id:2,designation:"Administration"},{id:3,designation:"Finance et Comptabilité"},{id:4,designation:"Marketing et Communication"},{id:5,designation:"Fabrication"},{id:6,designation:"Logistique"},{id:7,designation:"Commercial"}],[s,i]=w.useState(!1),[o,a]=w.useState(""),[l,u]=w.useState(""),d=h=>{const{name:p,value:x}=h.target;n(g=>({...g,[p]:x}))},f=async h=>{var p,x;h.preventDefault(),i(!0),a(""),u("");try{const g=await de.post("/api/utilisateurs",t);u("Utilisateur créé avec succès !"),n({designation:"",email:"",password:"",niveau:"",statut:"1",id_service:""})}catch(g){console.error("Erreur lors de la création:",g),a(((x=(p=g.response)==null?void 0:p.data)==null?void 0:x.message)||"Erreur lors de la création de l'utilisateur")}finally{i(!1)}};return c.jsx(Ue,{children:c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Créer un nouvel utilisateur"}),o&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),l&&c.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:l}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Désignation"}),c.jsx("input",{type:"text",name:"designation",value:t.designation,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Nom complet de l'utilisateur"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),c.jsx("input",{type:"email",name:"email",value:t.email,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"exemple@email.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),c.jsx("input",{type:"password",name:"password",value:t.password,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"••••••••"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Niveau"}),c.jsxs("select",{name:"niveau",value:t.niveau,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[c.jsx("option",{value:"",children:"Sélectionner un niveau"}),c.jsx("option",{value:"1",children:"Administrateur"}),c.jsx("option",{value:"2",children:"Directeur Général"}),c.jsx("option",{value:"3",children:"Directeur Département"}),c.jsx("option",{value:"4",children:"Demandeur"})]})]}),(t.niveau==="3"||t.niveau==="4")&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Service"}),c.jsxs("select",{name:"id_service",value:t.id_service,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[c.jsx("option",{value:"",children:"Sélectionner un service"}),r.map(h=>c.jsx("option",{value:h.id,children:h.designation},h.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),c.jsxs("select",{name:"statut",value:t.statut,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[c.jsx("option",{value:"1",children:"Actif"}),c.jsx("option",{value:"0",children:"Inactif"})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx("button",{type:"button",onClick:()=>e("/dashboard"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Annuler"}),c.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 border border-transparent rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${s?"opacity-50 cursor-not-allowed":""}`,children:s?"Création en cours...":"Créer l'utilisateur"})]})]})]})})},sC=()=>{var d;const[e,t]=w.useState(null),[n,r]=w.useState(!0),[s,i]=w.useState(""),[o,a]=w.useState(""),l=f=>f&&{1:"Administrateur",2:"Directeur Général",3:"Directeur Département",4:"Demandeur"}[f]||"Non spécifié";w.useEffect(()=>{(async()=>{try{const h=await de.get("/api/user");console.log("Réponse API:",h.data),t(h.data),i("")}catch(h){i("Erreur lors du chargement du profil"),console.error("Erreur:",h)}finally{r(!1)}})()},[]);const u=()=>c.jsx("div",{className:"animate-pulse",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})});return n?c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Mon Profil"}),u()]})}):s?c.jsx(Ue,{children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded",children:s})})}):c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Mon Profil"}),o&&c.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded",children:o}),c.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[c.jsx("div",{className:"px-4 py-5 sm:px-6",children:c.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Informations du profil"})}),c.jsx("div",{className:"border-t border-gray-200",children:c.jsxs("dl",{children:[c.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[c.jsx(vs,{className:"mr-2"})," Nom complet"]}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(e==null?void 0:e.designation)||"Non spécifié"})]}),c.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[c.jsx(zS,{className:"mr-2"})," Email"]}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(e==null?void 0:e.email)||"Non spécifié"})]}),c.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[c.jsx(WS,{className:"mr-2"})," Niveau d'accès"]}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l(e==null?void 0:e.niveau)})]}),((e==null?void 0:e.niveau)===3||(e==null?void 0:e.niveau)===4)&&c.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[c.jsx(LS,{className:"mr-2"})," Service"]}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((d=e==null?void 0:e.service)==null?void 0:d.designation)||"Non spécifié"})]}),c.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[c.jsx(lo,{className:"mr-2"})," Statut"]}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Actif"})})]})]})})]})]})})},br={users:null,lastFetch:null,cacheDuration:5*60*1e3},iC=()=>{const e=Zr(),[t,n]=w.useState([]),[r,s]=w.useState(!0),[i,o]=w.useState(""),[a,l]=w.useState(""),[u,d]=w.useState(!1),[f,h]=w.useState(!1),[p,x]=w.useState(null);let g=null;try{g=JSON.parse(localStorage.getItem("user"))}catch{g=null}const b=k=>k&&{1:"Administrateur",2:"Directeur Général",3:"Directeur Département",4:"Demandeur"}[k]||"Non spécifié",y=async(k=!1)=>{if(d(!0),br.users&&br.lastFetch&&!k&&new Date().getTime()-br.lastFetch<br.cacheDuration){n(br.users),s(!1),d(!1);return}try{const _=await de.get("/api/users");n(_.data),br.users=_.data,br.lastFetch=new Date().getTime(),o("")}catch(_){o("Erreur lors du chargement des utilisateurs"),console.error("Erreur:",_)}finally{s(!1),setTimeout(()=>d(!1),600)}};w.useEffect(()=>{y(!0)},[e.pathname]);const m=async k=>{x(k),h(!0)},v=async()=>{try{await de.delete(`/api/users/${p}`);const k=t.filter(_=>_.id!==p);n(k),br.users=k,l("Utilisateur supprimé avec succès"),setTimeout(()=>l(""),3e3)}catch(k){o("Erreur lors de la suppression de l'utilisateur"),console.error("Erreur:",k)}finally{h(!1),x(null)}},S=async(k,_)=>{try{d(!0),await de.patch(`/api/utilisateurs/${k}/statut`,{statut:_}),await y(!0),l(_===1?"Utilisateur activé avec succès":"Utilisateur désactivé avec succès"),setTimeout(()=>l(""),3e3)}catch(E){o("Erreur lors du changement de statut"),console.error("Erreur:",E)}finally{setTimeout(()=>d(!1),600)}},j=()=>c.jsx("div",{className:"animate-pulse",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),c.jsx("div",{className:"space-y-4",children:[1,2,3].map(k=>c.jsx("div",{className:"h-16 bg-gray-200 rounded"},k))})]})});return r?c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Liste des Utilisateurs"}),j()]})}):i?c.jsx(Ue,{children:c.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded",children:i})})}):c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-9",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Liste des Utilisateurs"}),c.jsx("button",{onClick:()=>{d(!0),y(!0)},className:"ml-4 p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:c.jsx(Wr,{className:u?"animate-spin-once":""})})]}),a&&c.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded",children:a}),f&&c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:c.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:c.jsxs("div",{className:"mt-3 text-center",children:[c.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:c.jsx(BS,{className:"h-6 w-6 text-red-600"})}),c.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mt-4",children:"Confirmation de suppression"}),c.jsx("div",{className:"mt-2 px-7 py-3",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible."})}),c.jsxs("div",{className:"items-center px-4 py-3",children:[c.jsx("button",{onClick:v,className:"px-4 py-2 bg-red-600 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Supprimer"}),c.jsx("button",{onClick:()=>{h(!1),x(null)},className:"mt-3 px-4 py-2 bg-gray-100 text-gray-700 text-base font-medium rounded-md w-full shadow-sm hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Annuler"})]})]})})}),c.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Utilisateur"}),c.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4",children:"Email"}),c.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Niveau d'accès"}),c.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Service"}),c.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/10",children:"Statut"}),c.jsx("th",{scope:"col",className:"px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(k=>{var _;return c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-3",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:c.jsx(vs,{className:"h-8 w-8 text-gray-400"})}),c.jsx("div",{className:"ml-2",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.designation})})]})}),c.jsx("td",{className:"px-3 py-3",children:c.jsx("div",{className:"text-sm text-gray-900",children:k.email})}),c.jsx("td",{className:"px-3 py-3",children:c.jsx("div",{className:"text-sm text-gray-900",children:b(k.niveau)})}),c.jsx("td",{className:"px-3 py-3",children:c.jsx("div",{className:"text-sm text-gray-900",children:k.niveau==="2"?"Pas de service":((_=k.service)==null?void 0:_.designation)||"Non spécifié"})}),c.jsx("td",{className:"px-3 py-3",children:k.statut===1?c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Actif"}):c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactif"})}),c.jsx("td",{className:"px-3 py-3 text-right text-sm font-medium",children:c.jsxs("div",{className:"flex justify-end space-x-2 gap-2",children:[(g==null?void 0:g.niveau)===1&&k.id!==(g==null?void 0:g.id)&&c.jsx("button",{onClick:()=>S(k.id,k.statut===1?0:1),className:k.statut===1?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900",children:k.statut===1?"Désactiver":"Activer"}),k.id!==(g==null?void 0:g.id)&&c.jsx("button",{onClick:()=>m(k.id),className:"text-red-600 hover:text-red-900",children:c.jsx(VS,{})})]})})]},k.id)})})]})})})]})})};var M1={exports:{}},D1={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=t.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],s=0,i=0;s<n.length;s++,i+=8)r[i>>>5]|=n[s]<<24-i%32;return r},wordsToBytes:function(n){for(var r=[],s=0;s<n.length*32;s+=8)r.push(n[s>>>5]>>>24-s%32&255);return r},bytesToHex:function(n){for(var r=[],s=0;s<n.length;s++)r.push((n[s]>>>4).toString(16)),r.push((n[s]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],s=0;s<n.length;s+=2)r.push(parseInt(n.substr(s,2),16));return r},bytesToBase64:function(n){for(var r=[],s=0;s<n.length;s+=3)for(var i=n[s]<<16|n[s+1]<<8|n[s+2],o=0;o<4;o++)s*8+o*6<=n.length*8?r.push(e.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],s=0,i=0;s<n.length;i=++s%4)i!=0&&r.push((e.indexOf(n.charAt(s-1))&Math.pow(2,-2*i+8)-1)<<i*2|e.indexOf(n.charAt(s))>>>6-i*2);return r}};D1.exports=t})();var oC=D1.exports,xf={utf8:{stringToBytes:function(e){return xf.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(xf.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},u0=xf;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var aC=function(e){return e!=null&&(P1(e)||lC(e)||!!e._isBuffer)};function P1(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function lC(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&P1(e.slice(0,0))}(function(){var e=oC,t=u0.utf8,n=aC,r=u0.bin,s=function(i,o){i.constructor==String?o&&o.encoding==="binary"?i=r.stringToBytes(i):i=t.stringToBytes(i):n(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var a=e.bytesToWords(i),l=i.length*8,u=1732584193,d=-271733879,f=-1732584194,h=271733878,p=0;p<a.length;p++)a[p]=(a[p]<<8|a[p]>>>24)&16711935|(a[p]<<24|a[p]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var x=s._ff,g=s._gg,b=s._hh,y=s._ii,p=0;p<a.length;p+=16){var m=u,v=d,S=f,j=h;u=x(u,d,f,h,a[p+0],7,-680876936),h=x(h,u,d,f,a[p+1],12,-389564586),f=x(f,h,u,d,a[p+2],17,606105819),d=x(d,f,h,u,a[p+3],22,-1044525330),u=x(u,d,f,h,a[p+4],7,-176418897),h=x(h,u,d,f,a[p+5],12,1200080426),f=x(f,h,u,d,a[p+6],17,-1473231341),d=x(d,f,h,u,a[p+7],22,-45705983),u=x(u,d,f,h,a[p+8],7,1770035416),h=x(h,u,d,f,a[p+9],12,-1958414417),f=x(f,h,u,d,a[p+10],17,-42063),d=x(d,f,h,u,a[p+11],22,-1990404162),u=x(u,d,f,h,a[p+12],7,1804603682),h=x(h,u,d,f,a[p+13],12,-40341101),f=x(f,h,u,d,a[p+14],17,-1502002290),d=x(d,f,h,u,a[p+15],22,1236535329),u=g(u,d,f,h,a[p+1],5,-165796510),h=g(h,u,d,f,a[p+6],9,-1069501632),f=g(f,h,u,d,a[p+11],14,643717713),d=g(d,f,h,u,a[p+0],20,-373897302),u=g(u,d,f,h,a[p+5],5,-701558691),h=g(h,u,d,f,a[p+10],9,38016083),f=g(f,h,u,d,a[p+15],14,-660478335),d=g(d,f,h,u,a[p+4],20,-405537848),u=g(u,d,f,h,a[p+9],5,568446438),h=g(h,u,d,f,a[p+14],9,-1019803690),f=g(f,h,u,d,a[p+3],14,-187363961),d=g(d,f,h,u,a[p+8],20,1163531501),u=g(u,d,f,h,a[p+13],5,-1444681467),h=g(h,u,d,f,a[p+2],9,-51403784),f=g(f,h,u,d,a[p+7],14,1735328473),d=g(d,f,h,u,a[p+12],20,-1926607734),u=b(u,d,f,h,a[p+5],4,-378558),h=b(h,u,d,f,a[p+8],11,-2022574463),f=b(f,h,u,d,a[p+11],16,1839030562),d=b(d,f,h,u,a[p+14],23,-35309556),u=b(u,d,f,h,a[p+1],4,-1530992060),h=b(h,u,d,f,a[p+4],11,1272893353),f=b(f,h,u,d,a[p+7],16,-155497632),d=b(d,f,h,u,a[p+10],23,-1094730640),u=b(u,d,f,h,a[p+13],4,681279174),h=b(h,u,d,f,a[p+0],11,-358537222),f=b(f,h,u,d,a[p+3],16,-722521979),d=b(d,f,h,u,a[p+6],23,76029189),u=b(u,d,f,h,a[p+9],4,-640364487),h=b(h,u,d,f,a[p+12],11,-421815835),f=b(f,h,u,d,a[p+15],16,530742520),d=b(d,f,h,u,a[p+2],23,-995338651),u=y(u,d,f,h,a[p+0],6,-198630844),h=y(h,u,d,f,a[p+7],10,1126891415),f=y(f,h,u,d,a[p+14],15,-1416354905),d=y(d,f,h,u,a[p+5],21,-57434055),u=y(u,d,f,h,a[p+12],6,1700485571),h=y(h,u,d,f,a[p+3],10,-1894986606),f=y(f,h,u,d,a[p+10],15,-1051523),d=y(d,f,h,u,a[p+1],21,-2054922799),u=y(u,d,f,h,a[p+8],6,1873313359),h=y(h,u,d,f,a[p+15],10,-30611744),f=y(f,h,u,d,a[p+6],15,-1560198380),d=y(d,f,h,u,a[p+13],21,1309151649),u=y(u,d,f,h,a[p+4],6,-145523070),h=y(h,u,d,f,a[p+11],10,-1120210379),f=y(f,h,u,d,a[p+2],15,718787259),d=y(d,f,h,u,a[p+9],21,-343485551),u=u+m>>>0,d=d+v>>>0,f=f+S>>>0,h=h+j>>>0}return e.endian([u,d,f,h])};s._ff=function(i,o,a,l,u,d,f){var h=i+(o&a|~o&l)+(u>>>0)+f;return(h<<d|h>>>32-d)+o},s._gg=function(i,o,a,l,u,d,f){var h=i+(o&l|a&~l)+(u>>>0)+f;return(h<<d|h>>>32-d)+o},s._hh=function(i,o,a,l,u,d,f){var h=i+(o^a^l)+(u>>>0)+f;return(h<<d|h>>>32-d)+o},s._ii=function(i,o,a,l,u,d,f){var h=i+(a^(o|~l))+(u>>>0)+f;return(h<<d|h>>>32-d)+o},s._blocksize=16,s._digestsize=16,M1.exports=function(i,o){if(i==null)throw new Error("Illegal argument "+i);var a=e.wordsToBytes(s(i,o));return o&&o.asBytes?a:o&&o.asString?r.bytesToString(a):e.bytesToHex(a)}})();var cC=M1.exports;const uC=vf(cC),dC=()=>{var ts,ns,Gt,xn,mr,Wn,At,Rt,gr;const{id:e}=Fy(),t=Un(),[n,r]=w.useState(null),[s,i]=w.useState(!0),[o,a]=w.useState(""),[l,u]=w.useState(!1),[d,f]=w.useState(""),[h,p]=w.useState(!1),[x,g]=w.useState(""),[b,y]=w.useState(""),[m,v]=w.useState(null),[S,j]=w.useState(null),[k,_]=w.useState([]),[E,D]=w.useState(""),[C,L]=w.useState(!1),[A,W]=w.useState(""),[Y,Q]=w.useState(""),[K,re]=w.useState(!0),O=w.useRef(null),B=w.useRef(null),[q,le]=w.useState(!1),[$,I]=w.useState(!1),[G,ne]=w.useState(null),[ee,X]=w.useState(""),[ce,Me]=w.useState(!1);w.useEffect(()=>{(async()=>{var he,fe;try{const we=await de.get("/api/user");j(we.data),console.log("User data fetched:",we.data),console.log("User ID:",(he=we.data)==null?void 0:he.id,typeof((fe=we.data)==null?void 0:fe.id))}catch(we){console.error("Erreur lors de la récupération des informations utilisateur:",we)}})()},[]),w.useEffect(()=>{(async()=>{var he;try{i(!0);const fe=await de.get(`/api/tickets/${e}`);r(fe.data),console.log("Ticket complet reçu:",fe.data),console.log("Reports du ticket:",fe.data.reports),console.log("Reports de type rejet:",(he=fe.data.reports)==null?void 0:he.filter(we=>we.type==="rejet")),a("")}catch(fe){a("Erreur lors du chargement du ticket"),console.error("Erreur:",fe)}finally{i(!1)}})()},[e]),w.useEffect(()=>{if(n!=null&&n.reports){_(n.reports);const V=n.reports.some(he=>!he.is_viewed);le(V)}else n&&!(n!=null&&n.reports)?(_([]),le(!1)):(_([]),le(!1))},[n,S]);const ze=V=>{if(!V)return"-";let he=V;typeof V=="object"&&V.date&&(he=V.date),typeof he=="string"&&he.includes(".")&&(he=he.split(".")[0]);const fe=he.replace(" ","T"),we=new Date(fe);return isNaN(we)?"-":we.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})},N=async V=>{var fe,we,Ie,Se;V.preventDefault(),p(!0),g(""),y("");const he=new FormData;he.append("raison",d),m&&he.append("attachment",m);try{const wt=await de.post(`/api/tickets/${n.id}/reports`,he,{headers:{"Content-Type":"multipart/form-data"}});y("Report envoyé avec succès !"),f(""),v(null),u(!1);const xr=await de.get(`/api/tickets/${n.id}/reports`);_(xr.data)}catch(wt){console.error("Erreur complète:",wt);const xr=((we=(fe=wt.response)==null?void 0:fe.data)==null?void 0:we.message)||((Se=(Ie=wt.response)==null?void 0:Ie.data)==null?void 0:Se.error)||"Erreur lors de l'envoi du report";g(xr)}finally{p(!1)}},F=async()=>{try{a("");const V=n.attachment_path.split("/").pop(),he=V.toLowerCase().endsWith(".pdf"),fe=await de.get(`/api/tickets/${n.id}/download`,{responseType:"blob",headers:{Accept:he?"application/pdf":"*/*"}});if(!(fe.data instanceof Blob)||fe.data.size===0)throw new Error("Fichier vide ou invalide");const we=window.URL.createObjectURL(new Blob([fe.data])),Ie=document.createElement("a");Ie.href=we,Ie.setAttribute("download",V),document.body.appendChild(Ie),Ie.click(),setTimeout(()=>{document.body.removeChild(Ie),window.URL.revokeObjectURL(we)},100)}catch(V){console.error("Erreur téléchargement:",V),a(`Échec du téléchargement: ${V.message}`),V.response&&console.error("Détails erreur:",{status:V.response.status,headers:V.response.headers,data:V.response.data})}},H=async V=>{var he,fe;V.preventDefault(),L(!0),W(""),Q("");try{const we=await de.post(`/api/tickets/${n.id}/comment`,{content:E});Q("Commentaire ajouté avec succès !"),D("");const Ie=await de.get(`/api/tickets/${e}`);r(Ie.data)}catch(we){const Ie=((fe=(he=we.response)==null?void 0:he.data)==null?void 0:fe.message)||"Erreur lors de l'ajout du commentaire";W(Ie)}finally{L(!1)}},Te=()=>{var V;(V=O.current)==null||V.scrollIntoView({behavior:"smooth"})},xe=()=>{var V;(V=B.current)==null||V.scrollIntoView({behavior:"smooth"})},Qe=V=>!V||V.length===0?null:{lastComment:V[V.length-1],totalCount:V.length};w.useEffect(()=>{if(!B.current||!q)return;const V=new IntersectionObserver(he=>{he[0].isIntersecting&&(Hn(),le(!1),_(fe=>fe.map(we=>({...we,is_viewed:!0}))))},{threshold:.5});return V.observe(B.current),()=>{B.current&&V.unobserve(B.current)}},[q,e]);const Hn=async()=>{var V;if(q)try{const he=await de.post(`/api/tickets/${e}/reports/mark-as-viewed`);console.log("Reports marqués comme vus:",he.data),le(!1),_(we=>we.map(Ie=>({...Ie,is_viewed:!0})));const fe=await de.get(`/api/tickets/${e}`);r(fe.data),window.dispatchEvent(new CustomEvent("reportsViewed",{detail:{ticketId:e}}))}catch(he){console.error("Erreur lors du marquage des rapports comme vus:",he),((V=he.response)==null?void 0:V.status)===403?a("Seul le créateur du ticket peut marquer les rapports comme vus"):a("Erreur lors du marquage des rapports comme vus")}},sn=V=>{v(V.target.files[0])},Vn=async(V,he)=>{try{a("");const fe=he.split("/").pop(),we=fe.toLowerCase().endsWith(".pdf"),Ie=await de.get(`/api/reports/${V}/download-attachment`,{responseType:"blob",headers:{Accept:we?"application/pdf":"*/*"}});if(!(Ie.data instanceof Blob)||Ie.data.size===0)throw new Error("Fichier vide ou invalide");const Se=window.URL.createObjectURL(new Blob([Ie.data])),wt=document.createElement("a");wt.href=Se,wt.setAttribute("download",fe),document.body.appendChild(wt),wt.click(),setTimeout(()=>{document.body.removeChild(wt),window.URL.revokeObjectURL(Se)},100)}catch(fe){console.error("Erreur téléchargement pièce jointe rapport:",fe),a(`Échec du téléchargement de la pièce jointe du rapport: ${fe.message}`),fe.response&&console.error("Détails erreur:",{status:fe.response.status,headers:fe.response.headers,data:fe.response.data})}},Cn=async()=>{try{await de.delete(`/api/tickets/${e}`),t("/tickets")}catch(V){console.error("Erreur lors de la suppression du ticket:",V),a("Erreur lors de la suppression du ticket")}},gn=(V,he)=>{ne(he),X(V.content)};return s?c.jsx(Ue,{children:c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):o?c.jsx(Ue,{children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o})})}):n?(console.log("DateCreation:",n.DateCreation),console.log("DateDebut:",n.DateDebut),console.log("DateFinPrevue:",n.DateFinPrevue),c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Détails du ticket"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx(ur,{to:"/tickets",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Retour à la liste"}),S&&n&&Number(S.id)===Number(n.Id_Utilisat)&&c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>t(`/tickets/${e}/edit`),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Modifier"}),c.jsx("button",{onClick:()=>I(!0),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Supprimer"})]})]})]}),c.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[c.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n.Titre}),c.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-blue-100 text-blue-700 border border-blue-200",children:((ts=n.statut)==null?void 0:ts.designation)||"Sans statut"}),c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-700 border border-green-200",children:((ns=n.priorite)==null?void 0:ns.designation)||"Sans priorité"}),n.reports&&n.reports.filter(V=>!V.is_viewed).length>0&&n.Id_Demandeur===(S==null?void 0:S.id)&&c.jsxs("button",{onClick:xe,className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-red-100 text-red-700 border border-red-200 hover:bg-red-200 transition-colors cursor-pointer",children:[n.reports.filter(V=>!V.is_viewed).length," rapport(s) non lu(s)"]})]})]}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("button",{onClick:Te,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[c.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),"Ajouter un commentaire"]}),(S==null?void 0:S.niveau)===2&&c.jsx("button",{className:"ml-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",onClick:()=>u(!0),children:"Report"})]})]}),c.jsx("div",{className:"border-t border-gray-200",children:c.jsxs("dl",{children:[c.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Description"}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:n.Description||"Aucune description"})]}),c.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Commentaires"}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:n.formatted_comments&&n.formatted_comments.length>0?c.jsx("div",{className:"space-y-2",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-gray-900",children:Qe(n.formatted_comments).lastComment.content}),c.jsxs("div",{className:"text-sm text-gray-500",children:[((Gt=Qe(n.formatted_comments).lastComment.user)==null?void 0:Gt.designation)||"Utilisateur"," • ",Qe(n.formatted_comments).lastComment.date]})]}),n.formatted_comments.length>1&&c.jsxs("button",{onClick:()=>{re(!0),Te()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:["+",n.formatted_comments.length-1]})]})}):c.jsx("span",{className:"text-gray-500",children:"Aucun commentaire"})})]}),c.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Demandeur"}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((xn=n.demandeur)==null?void 0:xn.designation)||"Non spécifié"})]}),c.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Société"}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((mr=n.societe)==null?void 0:mr.designation)||"Non spécifiée"})]}),c.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Emplacement"}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((Wn=n.emplacement)==null?void 0:Wn.designation)||"Non spécifié"})]}),c.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Catégorie"}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((At=n.categorie)==null?void 0:At.designation)||"Non spécifiée"})]}),c.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de création"}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:ze(n.DateCreation)})]}),c.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de début"}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:ze(n.DateDebut)})]}),c.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de fin prévue"}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:ze(n.DateFinPrevue)})]}),c.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Raison du refus "}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:n.reports&&n.reports.some(V=>V.type==="rejet")&&c.jsx("div",{children:c.jsx("span",{className:"ml-2 text-sm text-gray-900",children:((Rt=n.reports.findLast(V=>V.type==="rejet"))==null?void 0:Rt.Raison)||"Non spécifiée"})})})]}),n.DateFinReelle&&c.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de fin réelle"}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:ze(n.DateFinReelle)})]}),n.attachment_path&&c.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[c.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Pièce jointe"}),c.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("span",{className:"text-gray-600",children:n.attachment_path.split("/").pop()}),c.jsxs("button",{onClick:F,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c.jsx("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Télécharger"]})]})})]})]})})]}),c.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mt-6",ref:B,children:[c.jsx("div",{className:"px-4 py-5 sm:px-6",children:c.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Reports",q&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Nouveaux"})]})}),c.jsx("div",{className:"border-t border-gray-200",children:k.length>0?c.jsx("ul",{className:"divide-y divide-gray-200",children:k.map(V=>{var he;return console.log("Inspecting Report Object:",V),c.jsxs("li",{className:"px-4 py-4 sm:px-6",children:[c.jsx("div",{className:"text-sm text-gray-800",children:V.Raison}),c.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Reporté par ",(he=V.responsable)==null?void 0:he.designation," le ",ze(V.DateReport)]}),V.attachment_path&&c.jsxs("div",{className:"mt-2 text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Pièce jointe :"}),c.jsx("button",{onClick:()=>Vn(V.id,V.attachment_path),className:"ml-1 text-blue-600 hover:text-blue-800 font-medium underline",children:V.attachment_path.split("/").pop()})]})]},V.id)})}):c.jsx("div",{className:"px-4 py-4 sm:px-6 text-sm text-gray-500",children:"Aucun report disponible."})})]}),l&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[c.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl",onClick:()=>u(!1),"aria-label":"Fermer",children:"×"}),c.jsx("h2",{className:"text-lg font-bold mb-4",children:"Envoyer un report pour ce ticket"}),c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"raison",className:"block text-sm font-medium text-gray-700 mb-1",children:"Raison du report"}),c.jsx("textarea",{id:"raison",value:d,onChange:V=>f(V.target.value),required:!0,rows:4,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:border-blue-300"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"reportAttachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pièce jointe (Optionnel)"}),c.jsx("input",{type:"file",id:"reportAttachment",onChange:sn,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),m&&c.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Fichier sélectionné : ",m.name]})]}),x&&c.jsx("p",{className:"text-red-500 text-sm",children:x}),b&&c.jsx("p",{className:"text-green-600 text-sm",children:b}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>u(!1),children:"Annuler"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:h,children:h?"Envoi...":"Envoyer"})]})]})]})}),c.jsxs("div",{ref:O,className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[c.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Commentaires"}),c.jsxs("span",{className:"text-sm text-gray-500",children:[((gr=n.formatted_comments)==null?void 0:gr.length)||0," commentaire(s)"]})]}),c.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[n.formatted_comments&&n.formatted_comments.length>0?c.jsx("div",{className:"space-y-6",children:n.formatted_comments.map((V,he)=>{var fe,we,Ie;return c.jsx("div",{className:"bg-gray-50 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow duration-200",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:c.jsx("span",{className:"text-indigo-600 font-medium",children:(((fe=V.user)==null?void 0:fe.designation)||"U")[0].toUpperCase()})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:((we=V.user)==null?void 0:we.designation)||"Utilisateur"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("p",{className:"text-sm text-gray-500",children:V.date}),S&&((Ie=V.user)==null?void 0:Ie.designation)===S.designation&&c.jsx("button",{onClick:()=>gn(V,he),className:"text-gray-400 hover:text-gray-600 transition-colors duration-200","aria-label":"Modifier le commentaire",children:c.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})]}),G===he?c.jsxs("form",{onSubmit:async Se=>{Se.preventDefault();const wt=n.formatted_comments[he],xr=uC(wt.user.designation+wt.date+wt.content);try{const rs=await de.put(`/api/tickets/${n.id}/comment/${xr}`,{content:ee}),$s=[...n.formatted_comments];$s[he]={...$s[he],content:ee},r(Li=>({...Li,formatted_comments:$s})),ne(null),X("")}catch(rs){console.error("Erreur lors de la modification du commentaire:",rs),alert("Erreur lors de la modification du commentaire")}},className:"mt-2",children:[c.jsx("textarea",{value:ee,onChange:Se=>X(Se.target.value),className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3}),c.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[c.jsx("button",{type:"button",onClick:()=>ne(null),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:"Annuler"}),c.jsx("button",{type:"submit",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-white bg-blue-600 hover:bg-blue-700",children:"Enregistrer"})]})]}):c.jsx("div",{className:"mt-2 text-sm text-gray-900 whitespace-pre-wrap break-words",children:V.content})]})]})},he)})}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-gray-500",children:"Aucun commentaire"}),c.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Soyez le premier à commenter"})]}),c.jsx("div",{className:"mt-6",children:c.jsxs("form",{onSubmit:H,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700",children:"Ajouter un commentaire"}),c.jsx("div",{className:"mt-1",children:c.jsx("textarea",{id:"comment",name:"comment",rows:3,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",value:E,onChange:V=>D(V.target.value),placeholder:"Écrivez votre commentaire ici..."})})]}),A&&c.jsx("div",{className:"text-red-600 text-sm",children:A}),Y&&c.jsx("div",{className:"text-green-600 text-sm",children:Y}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"submit",disabled:C||!E.trim(),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${C||!E.trim()?"bg-indigo-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:C?"Envoi...":"Publier"})})]})})]})]}),$&&c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[c.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:c.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),c.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),c.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[c.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:c.jsxs("div",{className:"sm:flex sm:items-start",children:[c.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:c.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[c.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Confirmer la suppression"}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Êtes-vous sûr de vouloir supprimer ce ticket ? Cette action est irréversible."})})]})]})}),c.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[c.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>{I(!1),Cn()},children:"Supprimer"}),c.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>I(!1),children:"Annuler"})]})]})]})}),ce&&c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:c.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:c.jsxs("div",{className:"mt-3",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Modifier le ticket"}),c.jsx("button",{onClick:()=>Me(!1),className:"text-gray-400 hover:text-gray-500",children:"×"})]}),c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-sm text-gray-500",children:"Vous allez être redirigé vers la page de modification du ticket."})}),c.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>Me(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 text-base font-medium rounded-md shadow-sm hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Annuler"}),c.jsx("button",{onClick:()=>{Me(!1),t(`/tickets/${e}/edit`)},className:"px-4 py-2 bg-blue-600 text-white text-base font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Continuer"})]})]})})})]})})):c.jsx(Ue,{children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsx("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded",children:"Ticket non trouvé"})})})},fC=()=>{const{id:e}=Fy(),t=Un(),[n,r]=w.useState(!0),[s,i]=w.useState(!1),[o,a]=w.useState(""),[l,u]=w.useState({Titre:"",Description:"",Id_Priorite:"",Id_Statut:"",Id_Demandeur:"",Id_Emplacement:"",Id_Categorie:"",DateDebut:"",DateFinPrevue:"",attachment:null}),[d,f]=w.useState({priorites:[],statuts:[],demandeurs:[],emplacements:[],categories:[]}),[h,p]=w.useState(null),x="http://localhost:8000";w.useEffect(()=>{(async()=>{var S,j;try{r(!0),a("");const _=(await de.get(`/api/tickets/${e}`)).data;console.log("Réponse du backend:",_);const E=L=>L?typeof L=="string"?L:L.date?L.date.split(" ")[0]:"":"";u({Titre:_.Titre||"",Description:_.Description||"",Id_Priorite:_.Id_Priorite||"",Id_Statut:_.Id_Statut||"",Id_Demandeur:_.Id_Demandeur||"",Id_Emplacement:_.Id_Emplacement||"",Id_Categorie:_.Id_Categorie||"",DateDebut:E(_.DateDebut),DateFinPrevue:E(_.DateFinPrevue),attachment:_.attachment?new Blob([_.attachment]):null});const D=await de.get("/api/tickets/options"),{options:C}=D.data;if(f({priorites:C.priorites||[],statuts:C.statuts||[],demandeurs:C.demandeurs||[],emplacements:C.emplacements||[],categories:C.categories||[]}),_.attachment_path){const L=_.attachment_path.split("/").pop();p({name:L,url:`${x}/api/tickets/${e}/download`})}else p(null)}catch(k){console.error("Erreur:",k),a(((j=(S=k.response)==null?void 0:S.data)==null?void 0:j.error)||"Erreur lors du chargement des données")}finally{r(!1)}})()},[e]);const g=v=>{const{name:S,value:j}=v.target;if(S==="DateFinPrevue"&&l.DateDebut&&new Date(j)<new Date(l.DateDebut)){a("La date de fin prévue ne peut pas être antérieure à la date de début");return}u(k=>({...k,[S]:j})),a("")},b=v=>{const S=v.target.files[0];S&&u(j=>({...j,attachment:S}))},y=async v=>{var S,j,k,_,E,D,C;v.preventDefault(),a(""),i(!0);try{const L=Y=>Y?new Date(Y).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}):null,A={Titre:l.Titre,Description:l.Description,Id_Priorite:parseInt(l.Id_Priorite),Id_Statut:parseInt(l.Id_Statut),Id_Demandeur:parseInt(l.Id_Demandeur),Id_Emplacement:parseInt(l.Id_Emplacement),Id_Categorie:parseInt(l.Id_Categorie),DateDebut:L(l.DateDebut),DateFinPrevue:L(l.DateFinPrevue)};console.log("Données envoyées au backend:",A);let W;if(l.attachment){const Y=new FormData;Object.keys(A).forEach(Q=>{Y.append(Q,A[Q])}),Y.append("attachment",l.attachment),W=await de.put(`/api/tickets/${e}`,Y)}else W=await de.put(`/api/tickets/${e}`,A);if(console.log("Réponse du backend:",W.data),W.data&&W.data.id)window.location.href=`/tickets/${e}`;else throw new Error("Erreur lors de la modification du ticket")}catch(L){console.error("Erreur complète:",L),console.error("Détails de l'erreur:",{status:(S=L.response)==null?void 0:S.status,data:(j=L.response)==null?void 0:j.data,headers:(k=L.response)==null?void 0:k.headers});let A="Erreur lors de la modification du ticket";(E=(_=L.response)==null?void 0:_.data)!=null&&E.message?A=L.response.data.message:(C=(D=L.response)==null?void 0:D.data)!=null&&C.errors?A=Object.values(L.response.data.errors).flat().join(" "):L.message&&(A=L.message),a(A),alert("Erreur lors de la modification du ticket : "+A)}finally{i(!1)}},m=async()=>{try{if(!h)return;const v=h.name,S=v.toLowerCase().endsWith(".pdf"),j=await de.get(`${x}/api/tickets/${e}/download`,{responseType:"blob",headers:{Accept:S?"application/pdf":"*/*"}});if(!(j.data instanceof Blob)||j.data.size===0)throw new Error("Fichier vide ou invalide");const k=window.URL.createObjectURL(new Blob([j.data])),_=document.createElement("a");_.href=k,_.setAttribute("download",v),document.body.appendChild(_),_.click(),setTimeout(()=>{document.body.removeChild(_),window.URL.revokeObjectURL(k)},100)}catch(v){alert("Erreur lors du téléchargement de la pièce jointe"),console.error(v)}};return n?c.jsx(Ue,{children:c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Modifier le ticket"}),c.jsx(ur,{to:`/tickets/${e}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Annuler"})]}),o&&c.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded",children:o}),c.jsxs("form",{onSubmit:y,className:"space-y-6 bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"Titre",className:"block text-sm font-medium text-gray-700",children:"Titre"}),c.jsx("input",{type:"text",name:"Titre",id:"Titre",required:!0,value:l.Titre,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"Id_Priorite",className:"block text-sm font-medium text-gray-700",children:"Priorité"}),c.jsxs("select",{name:"Id_Priorite",id:"Id_Priorite",required:!0,value:l.Id_Priorite,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[c.jsx("option",{value:"",children:"Sélectionner une priorité"}),d.priorites.map(v=>c.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"Id_Statut",className:"block text-sm font-medium text-gray-700",children:"Statut"}),c.jsxs("select",{name:"Id_Statut",id:"Id_Statut",required:!0,value:l.Id_Statut,onChange:g,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-100 cursor-not-allowed",children:[c.jsx("option",{value:"",children:"Sélectionner un statut"}),d.statuts.map(v=>c.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"Id_Demandeur",className:"block text-sm font-medium text-gray-700",children:"Demandeur"}),c.jsxs("select",{name:"Id_Demandeur",id:"Id_Demandeur",required:!0,value:l.Id_Demandeur,onChange:g,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-100 cursor-not-allowed",children:[c.jsx("option",{value:"",children:"Sélectionner un demandeur"}),d.demandeurs.map(v=>c.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"Id_Emplacement",className:"block text-sm font-medium text-gray-700",children:"Emplacement"}),c.jsxs("select",{name:"Id_Emplacement",id:"Id_Emplacement",required:!0,value:l.Id_Emplacement,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[c.jsx("option",{value:"",children:"Sélectionner un emplacement"}),d.emplacements.map(v=>c.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"Id_Categorie",className:"block text-sm font-medium text-gray-700",children:"Catégorie"}),c.jsxs("select",{name:"Id_Categorie",id:"Id_Categorie",required:!0,value:l.Id_Categorie,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[c.jsx("option",{value:"",children:"Sélectionner une catégorie"}),d.categories.map(v=>c.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"DateDebut",className:"block text-sm font-medium text-gray-700",children:"Date de début"}),c.jsx("input",{type:"date",name:"DateDebut",id:"DateDebut",required:!0,value:l.DateDebut,onChange:g,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-100 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"DateFinPrevue",className:"block text-sm font-medium text-gray-700",children:"Date de fin prévue"}),c.jsx("input",{type:"date",name:"DateFinPrevue",id:"DateFinPrevue",required:!0,value:l.DateFinPrevue,onChange:g,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-100 cursor-not-allowed"})]})]}),c.jsxs("div",{className:"sm:col-span-2",children:[c.jsx("label",{htmlFor:"Description",className:"block text-sm font-medium text-gray-700",children:"Description"}),c.jsx("textarea",{name:"Description",id:"Description",rows:"3",required:!0,value:l.Description,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),c.jsxs("div",{className:"sm:col-span-2",children:[c.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700",children:"Pièce jointe"}),h&&c.jsxs("div",{className:"mt-2 mb-4",children:[c.jsxs("p",{className:"text-sm text-gray-500",children:["Pièce jointe actuelle : ",h.name]}),c.jsx("button",{type:"button",onClick:m,className:"text-blue-600 hover:text-blue-800 text-sm underline",children:"Télécharger"})]}),c.jsx("input",{type:"file",name:"attachment",id:"attachment",onChange:b,className:`mt-1 block w-full text-sm text-gray-500
                file:mr-4 file:py-2 file:px-4
                file:rounded-md file:border-0
                file:text-sm file:font-semibold
                file:bg-blue-50 file:text-blue-700
                hover:file:bg-blue-100`}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Taille maximale : 10MB"})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{type:"button",onClick:()=>t(`/tickets/${e}`),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Annuler"}),c.jsx("button",{type:"submit",disabled:s,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Enregistrement...":"Enregistrer"})]})]})]})})},hC=5*60*1e3,pC=({entity:e,label:t,isUsed:n=!1})=>{const[r,s]=w.useState([]),[i,o]=w.useState([]),[a,l]=w.useState(new Set),[u,d]=w.useState(""),[f,h]=w.useState(""),[p,x]=w.useState(null),[g,b]=w.useState(""),[y,m]=w.useState(!0),[v,S]=w.useState(""),[j,k]=w.useState(!0),[_,E]=w.useState(null),[D,C]=w.useState(null),[L,A]=w.useState(!1),[W,Y]=w.useState(null),[Q,K]=w.useState({show:!1,message:"",type:""}),[re,O]=w.useState(0),B=N=>`entity_cache_${N}`,q=async()=>{try{const N=await de.get("/api/services?all=1");o(N.data)}catch(N){console.error("Erreur lors du chargement des services:",N)}},le=async()=>{try{k(!0),E(null);const N=B(e),F=localStorage.getItem(N);if(F){const{data:Te,timestamp:xe}=JSON.parse(F);if(Date.now()-xe<hC){s(Te),k(!1);return}}const H=await de.get(`/api/${e}?all=1`);s(H.data),localStorage.setItem(N,JSON.stringify({data:H.data,timestamp:Date.now()}))}catch(N){console.error(`Erreur lors du chargement des ${t}s:`,N),E(`Erreur lors du chargement des ${t}s`)}finally{k(!1)}},$=async()=>{try{const N=await de.get(`/api/${e}/used-items`);l(new Set(N.data))}catch(N){console.error(`Erreur lors de la vérification des ${t}s utilisés:`,N)}};w.useEffect(()=>{le(),$(),e==="demandeurs"&&q()},[e]);const I=()=>{localStorage.removeItem(B(e))},G=()=>{localStorage.removeItem("create_ticket_options_cache")},ne=N=>{K({show:!0,message:N,type:"error"}),O(F=>F+1),setTimeout(()=>K({show:!1,message:"",type:""}),3e3)},ee=async()=>{var N,F;if(!u.trim()){Y(`Le nom du/de la ${t.toLowerCase()} est requis`),ne(`Le nom du/de la ${t.toLowerCase()} est requis`);return}try{const H={designation:u,is_active:!0};e==="demandeurs"&&f&&(H.id_service=parseInt(f)),await de.post(`/api/${e}`,H),d(""),h(""),Y(null),I(),G(),await le(),K({show:!0,message:`${t} ajouté(e) avec succès`,type:"success"}),setTimeout(()=>K({show:!1,message:"",type:""}),3e3)}catch(H){console.error("Erreur lors de l'ajout:",H),(F=(N=H.response)==null?void 0:N.data)!=null&&F.message?(Y(H.response.data.message),ne(H.response.data.message)):(Y(`Erreur lors de l'ajout du/de la ${t.toLowerCase()}`),ne(`Erreur lors de l'ajout du/de la ${t.toLowerCase()}`))}},X=N=>{var F;x(N.id),b(N.designation),m(N.is_active),e==="demandeurs"&&S(((F=N.id_service)==null?void 0:F.toString())||"")},ce=async()=>{var N,F;if(!g.trim()){Y(`Le nom du/de la ${t.toLowerCase()} est requis`),ne(`Le nom du/de la ${t.toLowerCase()} est requis`);return}try{const H={designation:g,is_active:y};e==="demandeurs"&&v&&(H.id_service=parseInt(v)),await de.put(`/api/${e}/${p}`,H),x(null),b(""),m(!0),S(""),Y(null),I(),G(),await le(),K({show:!0,message:`${t} modifié(e) avec succès`,type:"success"}),setTimeout(()=>K({show:!1,message:"",type:""}),3e3)}catch(H){console.error("Erreur lors de la mise à jour:",H),(F=(N=H.response)==null?void 0:N.data)!=null&&F.message?(Y(H.response.data.message),ne(H.response.data.message)):(Y(`Erreur lors de la mise à jour du/de la ${t.toLowerCase()}`),ne(`Erreur lors de la mise à jour du/de la ${t.toLowerCase()}`))}},Me=async(N,F)=>{C(N);try{const H=r.find(Te=>Te.id===N);if(!H)throw new Error("Item not found");await de.put(`/api/${e}/${N}`,{designation:H.designation,is_active:!F}),s(Te=>Te.map(xe=>xe.id===N?{...xe,is_active:!F}:xe)),I(),G(),K({show:!0,message:`Statut ${F?"désactivé":"activé"} avec succès`,type:"success"}),setTimeout(()=>K({show:!1,message:"",type:""}),3e3)}catch(H){console.error("Erreur lors de la mise à jour du statut:",H),ne("Erreur lors de la mise à jour du statut")}finally{C(null)}},ze=async N=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer ce/cette ${t.toLowerCase()} ?`))try{await de.delete(`/api/${e}/${N}`),I(),G(),await le(),K({show:!0,message:`${t} supprimé(e) avec succès`,type:"success"}),setTimeout(()=>K({show:!1,message:"",type:""}),3e3)}catch(F){console.error("Erreur lors de la suppression:",F),ne(`Erreur lors de la suppression du/de la ${t.toLowerCase()}`)}};return _?c.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded shadow",children:[c.jsx("div",{className:"text-red-600 mb-4",children:_}),c.jsx("button",{onClick:le,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Réessayer"})]}):c.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded shadow",children:[c.jsx(R1,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),Q.show&&c.jsx("div",{className:`fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 ${Q.type==="success"?"bg-green-500":"bg-red-500"} text-white animate-flash`,children:Q.message},re),c.jsx("style",{jsx:!0,children:`
        @keyframes flash {
          0% { opacity: 1; }
          50% { opacity: 0.5; }
          100% { opacity: 1; }
        }
        .animate-flash {
          animation: flash 0.5s ease-in-out 3;
        }
      `}),c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h2",{className:"text-xl font-bold",children:["Gestion des ",t,"s"]}),c.jsx("button",{onClick:()=>{A(!0),le(),setTimeout(()=>A(!1),600)},className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:c.jsx(Wr,{className:L?"animate-spin-once":""})})]}),c.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:u,onChange:N=>{d(N.target.value),Y(null)},onKeyDown:N=>{N.key==="Enter"&&(N.preventDefault(),ee())},placeholder:`Nouveau/Nouvelle ${t.toLowerCase()}`,className:`border rounded px-2 py-1 flex-1 ${W?"border-red-500":""}`}),e==="demandeurs"&&c.jsxs("select",{value:f,onChange:N=>{h(N.target.value),Y(null)},className:`border rounded px-2 py-1 ${W?"border-red-500":""}`,children:[c.jsx("option",{value:"",children:"Sélectionner un service"}),i.map(N=>c.jsx("option",{value:N.id,children:N.designation},N.id))]}),c.jsx("button",{onClick:ee,className:"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700 transition-colors",children:"Ajouter"})]}),W&&c.jsx("div",{className:"text-red-500 text-sm mt-1",children:W})]}),c.jsxs("table",{className:"w-full border",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"border px-2 py-1",children:"Nom"}),e==="demandeurs"&&c.jsx("th",{className:"border px-2 py-1",children:"Service"}),c.jsx("th",{className:"border px-2 py-1",children:"Statut"}),c.jsx("th",{className:"border px-2 py-1",children:"Actions"})]})}),c.jsx("tbody",{children:j?Array.from({length:3}).map((N,F)=>c.jsxs("tr",{children:[c.jsx("td",{className:"border px-2 py-1",children:c.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse"})}),e==="demandeurs"&&c.jsx("td",{className:"border px-2 py-1",children:c.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse"})}),c.jsx("td",{className:"border px-2 py-1 text-center",children:c.jsx("div",{className:"h-6 w-16 mx-auto bg-gray-200 rounded animate-pulse"})}),c.jsx("td",{className:"border px-2 py-1",children:c.jsx("div",{className:"h-6 w-24 bg-gray-200 rounded animate-pulse"})})]},F)):r.map(N=>{var F;return c.jsxs("tr",{children:[c.jsx("td",{className:"border px-2 py-1",children:p===N.id?c.jsxs(c.Fragment,{children:[c.jsx("input",{value:g,onChange:H=>b(H.target.value),className:"border rounded px-2 py-1 w-full"}),e==="demandeurs"&&c.jsxs("select",{value:v,onChange:H=>S(H.target.value),className:"border rounded px-2 py-1 w-full mt-2",children:[c.jsx("option",{value:"",children:"Sélectionner un service"}),i.map(H=>c.jsx("option",{value:H.id,children:H.designation},H.id))]})]}):N.designation}),e==="demandeurs"&&c.jsx("td",{className:"border px-2 py-1",children:((F=i.find(H=>H.id===N.id_service))==null?void 0:F.designation)||"-"}),c.jsx("td",{className:"border px-2 py-1 text-center",children:c.jsx("span",{className:N.is_active?"inline-block px-2 py-1 text-base font-semibold bg-green-100 text-green-800 rounded-full":"inline-block px-2 py-1 text-base font-semibold bg-red-100 text-red-800 rounded-full",children:N.is_active?"Actif":"Inactif"})}),c.jsx("td",{className:"border px-2 py-1",children:p===N.id?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:ce,className:"bg-green-600 text-white px-2 py-1 rounded mr-2 hover:bg-green-700 transition-colors",children:"Valider"}),c.jsx("button",{onClick:()=>x(null),className:"bg-gray-400 text-white px-2 py-1 rounded hover:bg-gray-500 transition-colors",children:"Annuler"})]}):c.jsxs(c.Fragment,{children:[a.has(N.id)?c.jsx("button",{onClick:()=>Me(N.id,N.is_active),disabled:D===N.id,className:(N.is_active?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600")+" text-white px-3 py-1 rounded transition-colors font-semibold mr-2"+(D===N.id?" opacity-60 cursor-not-allowed":""),children:D===N.id?"Changement...":N.is_active?"Désactiver":"Activer"}):c.jsx("button",{onClick:()=>ze(N.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition-colors font-semibold mr-2",children:"Supprimer"}),c.jsx("button",{onClick:()=>X(N),className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 transition-colors font-semibold",children:"Modifier"})]})})]},N.id)})})]})]})},al=[{entity:"categories",label:"Catégorie"},{entity:"emplacements",label:"Emplacement"},{entity:"societes",label:"Société"},{entity:"demandeurs",label:"Demandeur"},{entity:"services",label:"Service"},{entity:"priorites",label:"Priorité"},{entity:"statuts",label:"Statut"}],mC=()=>{const[e,t]=w.useState(al[0].entity),[n,r]=w.useState([al[0].entity]),s=i=>{t(i),r(o=>o.includes(i)?o:[...o,i])};return c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-5xl mx-auto p-6 bg-white rounded shadow",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gestion des référentiels"}),c.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:al.map(i=>c.jsxs("button",{onClick:()=>s(i.entity),className:`px-4 py-2 rounded font-semibold border transition-colors ${e===i.entity?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-blue-100"}`,children:[i.label,"s"]},i.entity))}),c.jsx("div",{children:al.map(i=>c.jsx("div",{style:{display:e===i.entity?"block":"none"},children:c.jsx(pC,{entity:i.entity,label:i.label})},i.entity))})]})})},gC=({isOpen:e,onClose:t,onApprove:n,ticketId:r})=>{const[s,i]=w.useState(""),[o,a]=w.useState(""),[l,u]=w.useState(""),d=w.useCallback(()=>{if(!s||!o){u("Veuillez renseigner les deux dates.");return}if(o<s){u("La date de fin prévue doit être postérieure à la date de début.");return}n(r,s,o)},[s,o,r,n]);return e?c.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Définir les dates du ticket"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),c.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2",value:s,onChange:f=>i(f.target.value)})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin prévue"}),c.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2",value:o,onChange:f=>a(f.target.value),min:s})]}),l&&c.jsx("div",{className:"mb-2 text-red-600 text-sm",children:l}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{onClick:t,className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",children:"Annuler"}),c.jsx("button",{onClick:d,className:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700",children:"Valider"})]})]})}):null},xC=({isOpen:e,onClose:t,onReject:n,ticketId:r})=>{const[s,i]=w.useState(""),[o,a]=w.useState(""),l=w.useCallback(()=>{if(!s.trim()){a("Veuillez indiquer la raison du refus.");return}n(r,s)},[s,r,n]);return e?c.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Raison du refus"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motif du refus"}),c.jsx("textarea",{className:"w-full border rounded px-3 py-2",value:s,onChange:u=>i(u.target.value),rows:"4",placeholder:"Veuillez indiquer la raison du refus..."})]}),o&&c.jsx("div",{className:"mb-2 text-red-600 text-sm",children:o}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{onClick:t,className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",children:"Annuler"}),c.jsx("button",{onClick:l,className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700",children:"Confirmer le refus"})]})]})}):null},yC=({isOpen:e,onClose:t,ticket:n,onApprove:r,onReject:s,loading:i})=>{var a,l,u,d,f,h,p,x,g,b,y;if(!e)return null;const o=(a=n==null?void 0:n.reports)==null?void 0:a.findLast(m=>m.type==="rejet");return c.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:c.jsxs("div",{className:"relative bg-white p-8 rounded-xl shadow-xl w-full max-w-2xl",children:[c.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 text-2xl transition",title:"Fermer",children:"×"}),c.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-6",children:"Résumé du ticket"}),i?c.jsx("div",{className:"text-center text-blue-600 font-semibold",children:"Chargement..."}):n?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-3 mb-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-600",children:"Titre :"}),c.jsx("span",{className:"ml-2 text-gray-900",children:n.Titre})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-600",children:"Description :"}),c.jsx("span",{className:"ml-2 text-gray-900",children:n.Description})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-600",children:"Catégorie :"}),c.jsx("span",{className:"ml-2 text-gray-900",children:(l=n.categorie)==null?void 0:l.designation})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-600",children:"Emplacement :"}),c.jsx("span",{className:"ml-2 text-gray-900",children:(u=n.emplacement)==null?void 0:u.designation})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-600",children:"Service :"}),c.jsx("span",{className:"ml-2 text-gray-900",children:(f=(d=n.demandeur)==null?void 0:d.service)==null?void 0:f.designation})]}),((h=n.statut)==null?void 0:h.designation)==="Refusé"&&o?c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-600",children:"Raison du refus :"}),c.jsx("span",{className:"ml-2 text-gray-900",children:o.Raison||"Non spécifiée"})]}):c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-600",children:"Commentaire :"}),c.jsx("span",{className:"ml-2 text-gray-900",children:n.formatted_comments&&n.formatted_comments.length>0?n.formatted_comments[n.formatted_comments.length-1].content:"Aucun"})]})]}),c.jsxs("div",{children:[((p=n.statut)==null?void 0:p.designation)!=="Refusé"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-600",children:"Date de début :"}),c.jsx("span",{className:"ml-2 text-gray-900",children:yf(n.DateDebut)})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-600",children:"Date de fin :"}),c.jsx("span",{className:"ml-2 text-gray-900",children:yf(n.DateFinPrevue)})]})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-600",children:"Priorité :"}),c.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-semibold ${((x=n.priorite)==null?void 0:x.designation)==="Urgent"?"bg-red-50 text-red-600 border border-red-200":"bg-green-50 text-green-700 border border-green-200"}`,children:(g=n.priorite)==null?void 0:g.designation})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"font-semibold text-gray-600",children:"Demandeur :"}),c.jsx("span",{className:"ml-2 text-gray-900",children:(b=n.demandeur)==null?void 0:b.designation})]})]})]}),c.jsx("div",{className:"flex justify-end gap-3 mt-2",children:((y=n.statut)==null?void 0:y.designation)!=="Refusé"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>{t(),r(n.id)},className:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700 font-semibold shadow-sm transition",children:"Approuver"}),c.jsx("button",{onClick:()=>{t(),s(n.id)},className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 font-semibold shadow-sm transition",children:"Refuser"})]})})]}):c.jsx("div",{className:"text-center text-red-600",children:"Erreur lors du chargement du ticket."})]})})},yf=e=>{if(!e)return"-";let t=e;typeof e=="object"&&e.date&&(t=e.date),typeof t=="string"&&t.includes(".")&&(t=t.split(".")[0]);const n=t.replace(" ","T"),r=new Date(n);return isNaN(r)?"-":r.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})},vC=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(null),[o,a]=w.useState(""),[l,u]=w.useState(""),[d,f]=w.useState(!1),[h,p]=w.useState(!1),[x,g]=w.useState(!1),[b,y]=w.useState(null),[m,v]=w.useState(!1),[S,j]=w.useState(null),[k,_]=w.useState(!1),[E,D]=w.useState(!1),[C,L]=w.useState(null),[A,W]=w.useState(null),[Y,Q]=w.useState(!0),K=w.useCallback(async()=>{p(!0);try{if(d)t([]),W(null),Q(!0),await re();else{const X=await de.get("/api/tickets/pending",{params:{show_rejected:!1}});t(X.data)}i(null)}catch(X){i("Erreur lors du chargement des tickets"),console.error("Erreur:",X)}finally{r(!1),setTimeout(()=>p(!1),600)}},[d]),re=w.useCallback(async()=>{var X;if(Y)try{const ce=await de.get("/api/tickets/next-rejected",{params:{last_ticket_id:A}});ce.data?e.some(ze=>ze.id===ce.data.id)?Q(!1):(t(ze=>[...ze,ce.data]),W(ce.data.id)):Q(!1)}catch(ce){((X=ce.response)==null?void 0:X.status)===404?Q(!1):console.error("Erreur lors du chargement du ticket refusé:",ce)}},[A,Y,e]);w.useEffect(()=>{K()},[K]),w.useEffect(()=>{if(!d||!Y)return;const X=new IntersectionObserver(Me=>{Me[0].isIntersecting&&re()},{threshold:.1}),ce=document.getElementById("load-more-trigger");return ce&&X.observe(ce),()=>{ce&&X.unobserve(ce)}},[d,Y,re]);const O=w.useCallback(async(X,ce,Me)=>{try{await de.post(`/api/tickets/${X}/approve`,{DateDebut:ce,DateFinPrevue:Me}),a("Le ticket a été approuvé avec succès."),u(""),g(!1),K()}catch{u("Une erreur est survenue lors de l'approbation du ticket.")}},[K]),B=w.useCallback(async(X,ce)=>{try{await de.post(`/api/tickets/${X}/reject`,{raison:ce}),a("Le ticket a été refusé avec succès."),u(""),D(!1),K()}catch{u("Une erreur est survenue lors du refus du ticket.")}},[K]),q=w.useCallback(async X=>{_(!0),v(!0);try{const ce=await de.get(`/api/tickets/${X}`);console.log("Ticket details API response:",ce.data),j(ce.data)}catch(ce){console.error("Error fetching ticket details:",ce),j(null)}_(!1)},[]),le=w.useCallback(()=>{v(!1),j(null)},[]),$=w.useCallback(X=>{y(X),g(!0)},[]),I=w.useCallback(()=>{g(!1),y(null)},[]),G=w.useCallback(X=>{L(X),D(!0)},[]),ne=w.useCallback(()=>{D(!1),L(null)},[]),ee=w.useCallback(()=>{a(""),u("")},[]);return w.useEffect(()=>{if(o||l){const X=setTimeout(ee,5e3);return()=>clearTimeout(X)}},[o,l,ee]),n?c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"flex justify-between items-center mb-6",children:c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:d?"Tickets refusés":"Tickets en attente"})}),c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),c.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),c.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"})]})]})}):s?c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"flex justify-between items-center mb-6",children:c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:d?"Tickets refusés":"Tickets en attente"})}),c.jsx("div",{className:"text-red-600",children:s})]})}):c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h1",{className:"text-2xl font-bold",children:d?"Tickets refusés":"Tickets en attente"}),c.jsx("button",{onClick:K,className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:c.jsx(Wr,{className:h?"animate-spin-once":""})})]}),c.jsx("button",{onClick:()=>f(!d),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d?"bg-blue-600 text-white hover:bg-blue-700":"bg-red-600 text-white hover:bg-red-700"}`,children:d?"Voir les tickets en attente":"Voir les tickets refusés"})]}),o&&c.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-800 rounded",children:o}),l&&c.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-800 rounded",children:l}),c.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Demandeur"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de création"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorité"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(X=>{var ce,Me;return c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.Titre})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:(ce=X.demandeur)==null?void 0:ce.designation})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:yf(X.DateCreation)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:(Me=X.priorite)==null?void 0:Me.designation})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[c.jsx("button",{onClick:()=>q(X.id),className:"text-blue-600 hover:text-blue-900 mr-2",title:"Voir le détail",children:c.jsx(yv,{})}),!d&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>$(X.id),className:"text-green-600 hover:text-green-900 mr-4",children:"Approuver"}),c.jsx("button",{onClick:()=>G(X.id),className:"text-red-600 hover:text-red-900",children:"Refuser"})]})]})]},X.id)})})]}),d&&Y&&c.jsx("div",{id:"load-more-trigger",className:"h-10 flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})]})}),c.jsx(gC,{isOpen:x,onClose:I,onApprove:O,ticketId:b}),c.jsx(xC,{isOpen:E,onClose:ne,onReject:B,ticketId:C}),c.jsx(yC,{isOpen:m,onClose:le,ticket:S,onApprove:$,onReject:G,loading:k})]})})},bC=({isOpen:e,onClose:t,onReject:n,ticketId:r})=>{const[s,i]=w.useState(""),[o,a]=w.useState(""),l=()=>{if(!s.trim()){a("Veuillez indiquer la raison du refus.");return}n(r,s),i(""),a("")};return e?c.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Raison du refus"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motif du refus"}),c.jsx("textarea",{className:"w-full border rounded px-3 py-2",value:s,onChange:u=>i(u.target.value),rows:"4",placeholder:"Veuillez indiquer la raison du refus..."})]}),o&&c.jsx("div",{className:"mb-2 text-red-600 text-sm",children:o}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{onClick:t,className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",children:"Annuler"}),c.jsx("button",{onClick:l,className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700",children:"Confirmer le refus"})]})]})}):null},wC=()=>{const[e,t]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(null),[o,a]=w.useState(null),[l,u]=w.useState(!1),[d,f]=w.useState(!1),[h,p]=w.useState(null);w.useEffect(()=>{x()},[]);const x=async()=>{u(!0);try{const m=await de.get("/api/tickets/completed");t(m.data),r(!1)}catch{i("Erreur lors du chargement des tickets"),r(!1)}finally{setTimeout(()=>u(!1),600)}},g=async m=>{try{await de.post(`/api/tickets/${m}/demandeur-approve`),a("Ticket approuvé avec succès"),x()}catch{i("Erreur lors de l'approbation du ticket")}},b=async(m,v)=>{try{await de.post(`/api/tickets/${m}/demandeur-reject`,{raison:v}),a("Ticket refusé et remis en cours"),f(!1),x()}catch{i("Erreur lors du refus du ticket")}},y=m=>{p(m),f(!0)};return n?c.jsx("div",{children:"Chargement..."}):s?c.jsx("div",{children:s}):c.jsxs(Ue,{children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"flex justify-between items-center mb-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Tickets terminés"}),c.jsx("button",{onClick:x,className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:c.jsx(Wr,{className:l?"animate-spin-once":""})})]})}),o&&c.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded-lg",children:o}),c.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de création"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de fin"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorité"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(m=>{var v,S,j,k;return c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.Titre})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${((v=m.statut)==null?void 0:v.designation)==="Terminé"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:(S=m.statut)==null?void 0:S.designation})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:m.DateCreation&&m.DateCreation.date?new Date(m.DateCreation.date.replace(" ","T")).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"}):"Date non disponible"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:m.DateFinReelle?new Date(m.DateFinReelle.replace(" ","T")).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"}):"Date non disponible"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:(j=m.priorite)==null?void 0:j.designation})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(ur,{to:`/tickets/${m.id}`,className:"text-indigo-600 hover:text-indigo-900",children:"Voir les détails"}),((k=m.statut)==null?void 0:k.designation)==="Terminé"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>g(m.id),className:"text-green-600 hover:text-green-900",children:"Approuver"}),c.jsx("button",{onClick:()=>y(m.id),className:"text-red-600 hover:text-red-900",children:"Refuser"})]})]})})]},m.id)})})]})})})]}),c.jsx(bC,{isOpen:d,onClose:()=>f(!1),onReject:b,ticketId:h})]})},_C=()=>{const e=Un(),[t,n]=w.useState({fullName:"",email:"",level:"",service:""}),[r,s]=w.useState([]),[i,o]=w.useState(!1),[a,l]=w.useState(""),[u,d]=w.useState(""),[f,h]=w.useState(!1);w.useEffect(()=>{(async()=>{try{const b=await de.get("/api/public/services");b.data&&Array.isArray(b.data)?s(b.data):(console.error("Format de données invalide:",b.data),l("Format de données invalide reçu du serveur"))}catch(b){console.error("Erreur détaillée:",b),l("Erreur lors du chargement des services. Veuillez réessayer plus tard.")}})()},[]);const p=g=>{const b=g.target.value;n({...t,level:b,service:""}),h(b==="employe"||b==="directeur_departement")},x=async g=>{var b,y;g.preventDefault(),o(!0),l(""),d("");try{await de.post("/api/public/register-request",t),d("Votre demande d'inscription a été envoyée avec succès. Vous recevrez un email une fois votre compte approuvé."),n({fullName:"",email:"",level:"",service:""})}catch(m){l(((y=(b=m.response)==null?void 0:b.data)==null?void 0:y.message)||"Une erreur est survenue lors de l'envoi de la demande. Veuillez réessayer plus tard.")}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Demande d'inscription"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Remplissez ce formulaire pour demander un compte. Un administrateur examinera votre demande."})]}),a&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:a}),u&&c.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:u}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fullName",className:"sr-only",children:"Nom complet"}),c.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Nom complet",value:t.fullName,onChange:g=>n({...t,fullName:g.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),c.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email",value:t.email,onChange:g=>n({...t,email:g.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"level",className:"sr-only",children:"Niveau"}),c.jsxs("select",{id:"level",name:"level",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",value:t.level,onChange:p,children:[c.jsx("option",{value:"",children:"Sélectionnez votre niveau"}),c.jsx("option",{value:"employe",children:"Employé"}),c.jsx("option",{value:"directeur_departement",children:"Directeur de département"}),c.jsx("option",{value:"directeur_general",children:"Directeur général"})]})]}),f&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"service",className:"sr-only",children:"Service"}),c.jsxs("select",{id:"service",name:"service",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",value:t.service,onChange:g=>n({...t,service:g.target.value}),children:[c.jsx("option",{value:"",children:"Sélectionnez votre service"}),r.map(g=>c.jsx("option",{value:g.id,children:g.name},g.id))]})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:i,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Envoi en cours...":"Envoyer la demande"})})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("button",{onClick:()=>e("/login"),className:"text-indigo-600 hover:text-indigo-500",children:"Déjà un compte ? Connectez-vous"})})]})})},Et={PENDING:"pending",APPROVED:"approved",REJECTED:"rejected",ALL:"all"},SC={[Et.PENDING]:"En attente",[Et.APPROVED]:"Approuvé",[Et.REJECTED]:"Rejeté"},d0={[Et.PENDING]:"bg-yellow-100 text-yellow-800",[Et.APPROVED]:"bg-green-100 text-green-800",[Et.REJECTED]:"bg-red-100 text-red-800",default:"bg-gray-100 text-gray-800"},jC=()=>{var $;const e=Un(),[t,n]=w.useState([]),[r,s]=w.useState(!0),[i,o]=w.useState(null),[a,l]=w.useState(!1),[u,d]=w.useState(""),[f,h]=w.useState(Et.ALL),[p,x]=w.useState(!1),[g,b]=w.useState(""),[y,m]=w.useState(""),[v,S]=w.useState(""),[j,k]=w.useState(!1),_=w.useRef(null);w.useEffect(()=>{const I=JSON.parse(localStorage.getItem("user"));if(!I||I.niveau!==1){e("/unauthorized");return}return E(),()=>{_.current&&_.current.abort()}},[e]);const E=w.useCallback(async()=>{try{k(!0),_.current&&_.current.abort(),_.current=new AbortController;const I=localStorage.getItem("token"),G=await Pe.get("/api/admin/register-requests",{headers:{Authorization:`Bearer ${I}`,Accept:"application/json","Content-Type":"application/json"},signal:_.current.signal});n(G.data),s(!1)}catch(I){Pe.isCancel(I)?console.log("Request cancelled:",I.message):(console.error("Error fetching requests:",I),Ne.error("Erreur lors du chargement des demandes"),s(!1))}finally{setTimeout(()=>k(!1),600)}},[]),D=w.useCallback(I=>{const G=t.find(ne=>ne.id===I);G&&(o(G),x(!0))},[t]),C=w.useCallback((I,G)=>I!==G?(S("Les mots de passe ne correspondent pas"),!1):I.length<8?(S("Le mot de passe doit contenir au moins 8 caractères"),!1):!0,[]),L=w.useCallback(async()=>{if(C(g,y))try{const I=localStorage.getItem("token");await Pe.post(`/api/admin/register-requests/${i.id}/approve`,{password:g},{headers:{Authorization:`Bearer ${I}`,Accept:"application/json","Content-Type":"application/json"}}),Ne.success("Demande approuvée avec succès"),O(),E()}catch(I){console.error("Error approving request:",I),Ne.error("Erreur lors de l'approbation de la demande")}},[g,y,i,E,C]),A=w.useCallback(async I=>{try{const G=localStorage.getItem("token");await Pe.post(`/api/admin/register-requests/${I}/reject`,{},{headers:{Authorization:`Bearer ${G}`,Accept:"application/json","Content-Type":"application/json"}}),Ne.success("Demande rejetée avec succès"),E()}catch(G){console.error("Error rejecting request:",G),Ne.error("Erreur lors du rejet de la demande")}},[E]),W=w.useCallback(I=>{o(I),l(!0)},[]),Y=w.useCallback(I=>d0[I]||d0.default,[]),Q=w.useCallback(I=>SC[I]||I,[]),K=w.useCallback(I=>I==="directeur_general"?"Directeur General":I.split("_").map(G=>G.charAt(0).toUpperCase()+G.slice(1)).join(" "),[]),re=w.useMemo(()=>{const I=u.toLowerCase();return t.filter(G=>{var X,ce;const ne=G.full_name.toLowerCase().includes(I)||G.email.toLowerCase().includes(I)||((ce=(X=G.service)==null?void 0:X.designation)==null?void 0:ce.toLowerCase().includes(I)),ee=f===Et.ALL||G.status===f;return ne&&ee})},[t,u,f]),O=w.useCallback(()=>{x(!1),b(""),m(""),S("")},[]),B=w.useCallback(()=>{l(!1)},[]),q=w.useCallback(I=>{d(I.target.value)},[]),le=w.useCallback(I=>{h(I.target.value)},[]);return r?c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded animate-pulse"}),c.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded-full animate-pulse"})]}),c.jsx("div",{className:"mt-2 h-4 w-96 bg-gray-200 rounded animate-pulse"})]}),c.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})}),c.jsx("div",{className:"w-full sm:w-48",children:c.jsx("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})})]}),c.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsx("tr",{children:[...Array(7)].map((I,G)=>c.jsx("th",{className:"px-4 py-3",children:c.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})},G))})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[...Array(2)].map((I,G)=>c.jsx("tr",{children:[...Array(7)].map((ne,ee)=>c.jsx("td",{className:"px-4 py-4",children:c.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})},ee))},G))})]})})})]})}):c.jsx(Ue,{children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des demandes d'inscription"}),c.jsx("button",{onClick:E,className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:c.jsx(Wr,{className:j?"animate-spin-once":""})})]}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Gérez les demandes d'inscription des nouveaux utilisateurs"})]}),c.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(US,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Rechercher par nom, email ou service...",value:u,onChange:q})]})}),c.jsx("div",{className:"w-full sm:w-48",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(vv,{className:"h-5 w-5 text-gray-400"})}),c.jsxs("select",{className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:f,onChange:le,children:[c.jsx("option",{value:Et.ALL,children:"Tous les statuts"}),c.jsx("option",{value:Et.PENDING,children:"En attente"}),c.jsx("option",{value:Et.APPROVED,children:"Approuvé"}),c.jsx("option",{value:Et.REJECTED,children:"Rejeté"})]})]})})]}),c.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[160px] max-w-[260px]",children:"Nom complet"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px] max-w-[260px]",children:"Email"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px] max-w-[180px]",children:"Niveau"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px] max-w-[200px]",children:"Service"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px] max-w-[140px]",children:"Statut"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px] max-w-[180px]",children:"Date de demande"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px] max-w-[140px]",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:re.map(I=>{var G;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words max-w-[220px] align-top",children:I.full_name}),c.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words max-w-[220px] align-top",children:I.email}),c.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words min-w-[120px] max-w-[180px] align-top",children:K(I.level)}),c.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words max-w-[180px] align-top",children:I.level==="directeur_general"?"Pas de service":((G=I.service)==null?void 0:G.designation)||"N/A"}),c.jsx("td",{className:"px-4 py-4 whitespace-nowrap min-w-[100px] max-w-[140px] align-top",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Y(I.status)}`,children:Q(I.status)})}),c.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap min-w-[140px] max-w-[180px] align-top",children:new Date(I.created_at).toLocaleDateString()}),c.jsx("td",{className:"px-4 py-4 text-sm font-medium whitespace-nowrap min-w-[120px] max-w-[140px] align-top",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>W(I),className:"text-blue-600 hover:text-blue-900",title:"Voir les détails",children:c.jsx(yv,{className:"h-5 w-5"})}),I.status===Et.PENDING&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>D(I.id),className:"text-green-600 hover:text-green-900",title:"Approuver",children:c.jsx(IS,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>A(I.id),className:"text-red-600 hover:text-red-900",title:"Rejeter",children:c.jsx(jl,{className:"h-5 w-5"})})]})]})})]},I.id)})})]})})}),a&&i&&c.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Détails de la demande"}),c.jsx("button",{onClick:B,className:"text-gray-400 hover:text-gray-500",children:c.jsx(jl,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Nom complet"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.full_name})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.email})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Niveau"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:K(i.level)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Service"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(($=i.service)==null?void 0:$.designation)||"N/A"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Statut"}),c.jsx("p",{className:"mt-1",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Y(i.status)}`,children:Q(i.status)})})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date de demande"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(i.created_at).toLocaleString()})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date d'action"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.status===Et.APPROVED||i.status===Et.REJECTED?new Date(i.updated_at).toLocaleString():"-"})]})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[i.status===Et.PENDING&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>{D(i.id),B()},className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Approuver"}),c.jsx("button",{onClick:()=>{A(i.id),B()},className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Rejeter"})]}),c.jsx("button",{onClick:B,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",children:"Fermer"})]})]})}),p&&i&&c.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Définir le mot de passe"}),c.jsx("button",{onClick:O,className:"text-gray-400 hover:text-gray-500",children:c.jsx(jl,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),c.jsx("input",{type:"password",id:"password",value:g,onChange:I=>b(I.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Entrez le mot de passe"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),c.jsx("input",{type:"password",id:"confirmPassword",value:y,onChange:I=>m(I.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirmez le mot de passe"})]}),v&&c.jsx("p",{className:"text-sm text-red-600",children:v})]}),c.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[c.jsx("button",{onClick:O,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",children:"Annuler"}),c.jsx("button",{onClick:L,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Confirmer"})]})]})})]})})},an=({children:e})=>localStorage.getItem("token")?e:c.jsx(Hy,{to:"/",replace:!0}),Ft=()=>c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[c.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Oops! Something went wrong"}),c.jsx("p",{className:"text-gray-600",children:"Please try refreshing the page or contact support if the problem persists."})]})}),EC=O_([{path:"/",element:c.jsx(qS,{}),errorElement:c.jsx(Ft,{})},{path:"/register",element:c.jsx(_C,{}),errorElement:c.jsx(Ft,{})},{path:"/dashboard",element:c.jsx(an,{children:c.jsx(o3,{})}),errorElement:c.jsx(Ft,{})},{path:"/tickets",element:c.jsx(an,{children:c.jsx(Q3,{})}),errorElement:c.jsx(Ft,{})},{path:"/tickets/:id",element:c.jsx(an,{children:c.jsx(dC,{})}),errorElement:c.jsx(Ft,{})},{path:"/tickets/:id/edit",element:c.jsx(an,{children:c.jsx(fC,{})}),errorElement:c.jsx(Ft,{})},{path:"/create-ticket",element:c.jsx(an,{children:c.jsx(nC,{})}),errorElement:c.jsx(Ft,{})},{path:"/create-user",element:c.jsx(an,{children:c.jsx(rC,{})}),errorElement:c.jsx(Ft,{})},{path:"/profile",element:c.jsx(an,{children:c.jsx(sC,{})}),errorElement:c.jsx(Ft,{})},{path:"/users",element:c.jsx(an,{children:c.jsx(iC,{})}),errorElement:c.jsx(Ft,{})},{path:"/admin/entities",element:c.jsx(an,{children:c.jsx(mC,{})}),errorElement:c.jsx(Ft,{})},{path:"/admin/pending-tickets",element:c.jsx(an,{children:c.jsx(vC,{})}),errorElement:c.jsx(Ft,{})},{path:"/admin/register-requests",element:c.jsx(an,{children:c.jsx(jC,{})}),errorElement:c.jsx(Ft,{})},{path:"/completed-tickets",element:c.jsx(an,{children:c.jsx(wC,{})}),errorElement:c.jsx(Ft,{})},{path:"*",element:c.jsx(Hy,{to:"/",replace:!0})}]);function NC(){return c.jsx(H_,{router:EC})}Ey(document.getElementById("root")).render(c.jsx(w.StrictMode,{children:c.jsx(NC,{})}));export{$u as B,jr as C,uo as D,Uu as L,fg as P,Ce as R,Wu as S,Hu as a,Vu as b,Bu as c,w as r};
