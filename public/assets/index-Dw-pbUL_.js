var A1=Object.defineProperty;var I1=(e,t,n)=>t in e?A1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var K=(e,t,n)=>I1(e,typeof t!="symbol"?t+"":t,n);function u0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function pf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d0={exports:{}},pc={},f0={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=Symbol.for("react.element"),F1=Symbol.for("react.portal"),z1=Symbol.for("react.fragment"),B1=Symbol.for("react.strict_mode"),$1=Symbol.for("react.profiler"),U1=Symbol.for("react.provider"),H1=Symbol.for("react.context"),V1=Symbol.for("react.forward_ref"),W1=Symbol.for("react.suspense"),K1=Symbol.for("react.memo"),Y1=Symbol.for("react.lazy"),Fh=Symbol.iterator;function q1(e){return e===null||typeof e!="object"?null:(e=Fh&&e[Fh]||e["@@iterator"],typeof e=="function"?e:null)}var h0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p0=Object.assign,m0={};function Si(e,t,n){this.props=e,this.context=t,this.refs=m0,this.updater=n||h0}Si.prototype.isReactComponent={};Si.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Si.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function g0(){}g0.prototype=Si.prototype;function mf(e,t,n){this.props=e,this.context=t,this.refs=m0,this.updater=n||h0}var gf=mf.prototype=new g0;gf.constructor=mf;p0(gf,Si.prototype);gf.isPureReactComponent=!0;var zh=Array.isArray,x0=Object.prototype.hasOwnProperty,xf={current:null},y0={key:!0,ref:!0,__self:!0,__source:!0};function v0(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)x0.call(t,r)&&!y0.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:na,type:e,key:i,ref:o,props:s,_owner:xf.current}}function X1(e,t){return{$$typeof:na,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yf(e){return typeof e=="object"&&e!==null&&e.$$typeof===na}function G1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bh=/\/+/g;function Qc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?G1(""+e.key):t.toString(36)}function rl(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case na:case F1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Qc(o,0):r,zh(s)?(n="",e!=null&&(n=e.replace(Bh,"$&/")+"/"),rl(s,t,n,"",function(c){return c})):s!=null&&(yf(s)&&(s=X1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Bh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",zh(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Qc(i,a);o+=rl(i,t,n,l,s)}else if(l=q1(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Qc(i,a++),o+=rl(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function va(e,t,n){if(e==null)return e;var r=[],s=0;return rl(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Q1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pt={current:null},sl={transition:null},J1={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:sl,ReactCurrentOwner:xf};function b0(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:va,forEach:function(e,t,n){va(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return va(e,function(){t++}),t},toArray:function(e){return va(e,function(t){return t})||[]},only:function(e){if(!yf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=Si;ve.Fragment=z1;ve.Profiler=$1;ve.PureComponent=mf;ve.StrictMode=B1;ve.Suspense=W1;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J1;ve.act=b0;ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=p0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=xf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)x0.call(t,l)&&!y0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:na,type:e.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(e){return e={$$typeof:H1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:U1,_context:e},e.Consumer=e};ve.createElement=v0;ve.createFactory=function(e){var t=v0.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:V1,render:e}};ve.isValidElement=yf;ve.lazy=function(e){return{$$typeof:Y1,_payload:{_status:-1,_result:e},_init:Q1}};ve.memo=function(e,t){return{$$typeof:K1,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=sl.transition;sl.transition={};try{e()}finally{sl.transition=t}};ve.unstable_act=b0;ve.useCallback=function(e,t){return Pt.current.useCallback(e,t)};ve.useContext=function(e){return Pt.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return Pt.current.useDeferredValue(e)};ve.useEffect=function(e,t){return Pt.current.useEffect(e,t)};ve.useId=function(){return Pt.current.useId()};ve.useImperativeHandle=function(e,t,n){return Pt.current.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return Pt.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return Pt.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return Pt.current.useMemo(e,t)};ve.useReducer=function(e,t,n){return Pt.current.useReducer(e,t,n)};ve.useRef=function(e){return Pt.current.useRef(e)};ve.useState=function(e){return Pt.current.useState(e)};ve.useSyncExternalStore=function(e,t,n){return Pt.current.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return Pt.current.useTransition()};ve.version="18.3.1";f0.exports=ve;var _=f0.exports;const Ne=pf(_),Z1=u0({__proto__:null,default:Ne},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb=_,tb=Symbol.for("react.element"),nb=Symbol.for("react.fragment"),rb=Object.prototype.hasOwnProperty,sb=eb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ib={key:!0,ref:!0,__self:!0,__source:!0};function w0(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)rb.call(t,r)&&!ib.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:tb,type:e,key:i,ref:o,props:s,_owner:sb.current}}pc.Fragment=nb;pc.jsx=w0;pc.jsxs=w0;d0.exports=pc;var u=d0.exports,_0={exports:{}},en={},S0={exports:{}},E0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,U){var M=L.length;L.push(U);e:for(;0<M;){var q=M-1>>>1,I=L[q];if(0<s(I,U))L[q]=U,L[M]=I,M=q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var U=L[0],M=L.pop();if(M!==U){L[0]=M;e:for(var q=0,I=L.length,ie=I>>>1;q<ie;){var re=2*(q+1)-1,oe=L[re],ne=re+1,fe=L[ne];if(0>s(oe,M))ne<I&&0>s(fe,oe)?(L[q]=fe,L[ne]=M,q=ne):(L[q]=oe,L[re]=M,q=re);else if(ne<I&&0>s(fe,M))L[q]=fe,L[ne]=M,q=ne;else break e}}return U}function s(L,U){var M=L.sortIndex-U.sortIndex;return M!==0?M:L.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,p=!1,x=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=L)r(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(c)}}function S(L){if(g=!1,v(L),!x)if(n(l)!==null)x=!0,ue(E);else{var U=n(c);U!==null&&z(S,U.startTime-L)}}function E(L,U){x=!1,g&&(g=!1,y(N),N=-1),p=!0;var M=h;try{for(v(U),f=n(l);f!==null&&(!(f.expirationTime>U)||L&&!A());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var I=q(f.expirationTime<=U);U=e.unstable_now(),typeof I=="function"?f.callback=I:f===n(l)&&r(l),v(U)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var re=n(c);re!==null&&z(S,re.startTime-U),ie=!1}return ie}finally{f=null,h=M,p=!1}}var j=!1,w=null,N=-1,D=5,T=-1;function A(){return!(e.unstable_now()-T<D)}function F(){if(w!==null){var L=e.unstable_now();T=L;var U=!0;try{U=w(!0,L)}finally{U?Y():(j=!1,w=null)}}else j=!1}var Y;if(typeof m=="function")Y=function(){m(F)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,J=Z.port2;Z.port1.onmessage=F,Y=function(){J.postMessage(null)}}else Y=function(){b(F,0)};function ue(L){w=L,j||(j=!0,Y())}function z(L,U){N=b(function(){L(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,ue(E))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var M=h;h=U;try{return L()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var M=h;h=L;try{return U()}finally{h=M}},e.unstable_scheduleCallback=function(L,U,M){var q=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?q+M:q):M=q,L){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=M+I,L={id:d++,callback:U,priorityLevel:L,startTime:M,expirationTime:I,sortIndex:-1},M>q?(L.sortIndex=M,t(c,L),n(l)===null&&L===n(c)&&(g?(y(N),N=-1):g=!0,z(S,M-q))):(L.sortIndex=I,t(l,L),x||p||(x=!0,ue(E))),L},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(L){var U=h;return function(){var M=h;h=U;try{return L.apply(this,arguments)}finally{h=M}}}})(E0);S0.exports=E0;var ob=S0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab=_,Jt=ob;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j0=new Set,Co={};function Ls(e,t){hi(e,t),hi(e+"Capture",t)}function hi(e,t){for(Co[e]=t,e=0;e<t.length;e++)j0.add(t[e])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=Object.prototype.hasOwnProperty,lb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$h={},Uh={};function cb(e){return Xu.call(Uh,e)?!0:Xu.call($h,e)?!1:lb.test(e)?Uh[e]=!0:($h[e]=!0,!1)}function ub(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function db(e,t,n,r){if(t===null||typeof t>"u"||ub(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new Dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new Dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new Dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new Dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new Dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new Dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new Dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new Dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new Dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var vf=/[\-:]([a-z])/g;function bf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vf,bf);bt[t]=new Dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vf,bf);bt[t]=new Dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vf,bf);bt[t]=new Dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function wf(e,t,n,r){var s=bt.hasOwnProperty(t)?bt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(db(t,n,s,r)&&(n=null),r||s===null?cb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fr=ab.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ba=Symbol.for("react.element"),Ks=Symbol.for("react.portal"),Ys=Symbol.for("react.fragment"),_f=Symbol.for("react.strict_mode"),Gu=Symbol.for("react.profiler"),N0=Symbol.for("react.provider"),k0=Symbol.for("react.context"),Sf=Symbol.for("react.forward_ref"),Qu=Symbol.for("react.suspense"),Ju=Symbol.for("react.suspense_list"),Ef=Symbol.for("react.memo"),yr=Symbol.for("react.lazy"),C0=Symbol.for("react.offscreen"),Hh=Symbol.iterator;function Ai(e){return e===null||typeof e!="object"?null:(e=Hh&&e[Hh]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,Jc;function eo(e){if(Jc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jc=t&&t[1]||""}return`
`+Jc+e}var Zc=!1;function eu(e,t){if(!e||Zc)return"";Zc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?eo(e):""}function fb(e){switch(e.tag){case 5:return eo(e.type);case 16:return eo("Lazy");case 13:return eo("Suspense");case 19:return eo("SuspenseList");case 0:case 2:case 15:return e=eu(e.type,!1),e;case 11:return e=eu(e.type.render,!1),e;case 1:return e=eu(e.type,!0),e;default:return""}}function Zu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ys:return"Fragment";case Ks:return"Portal";case Gu:return"Profiler";case _f:return"StrictMode";case Qu:return"Suspense";case Ju:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case k0:return(e.displayName||"Context")+".Consumer";case N0:return(e._context.displayName||"Context")+".Provider";case Sf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ef:return t=e.displayName||null,t!==null?t:Zu(e.type)||"Memo";case yr:t=e._payload,e=e._init;try{return Zu(e(t))}catch{}}return null}function hb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zu(t);case 8:return t===_f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function T0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pb(e){var t=T0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wa(e){e._valueTracker||(e._valueTracker=pb(e))}function R0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=T0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function jl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ed(e,t){var n=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function M0(e,t){t=t.checked,t!=null&&wf(e,"checked",t,!1)}function td(e,t){M0(e,t);var n=zr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nd(e,t.type,n):t.hasOwnProperty("defaultValue")&&nd(e,t.type,zr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nd(e,t,n){(t!=="number"||jl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var to=Array.isArray;function ii(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function rd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(to(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zr(n)}}function P0(e,t){var n=zr(t.value),r=zr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function D0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?D0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _a,O0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_a=_a||document.createElement("div"),_a.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_a.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function To(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mb=["Webkit","ms","Moz","O"];Object.keys(uo).forEach(function(e){mb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),uo[t]=uo[e]})});function L0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||uo.hasOwnProperty(e)&&uo[e]?(""+t).trim():t+"px"}function A0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=L0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var gb=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function id(e,t){if(t){if(gb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function od(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ad=null;function jf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ld=null,oi=null,ai=null;function qh(e){if(e=ia(e)){if(typeof ld!="function")throw Error($(280));var t=e.stateNode;t&&(t=vc(t),ld(e.stateNode,e.type,t))}}function I0(e){oi?ai?ai.push(e):ai=[e]:oi=e}function F0(){if(oi){var e=oi,t=ai;if(ai=oi=null,qh(e),t)for(e=0;e<t.length;e++)qh(t[e])}}function z0(e,t){return e(t)}function B0(){}var tu=!1;function $0(e,t,n){if(tu)return e(t,n);tu=!0;try{return z0(e,t,n)}finally{tu=!1,(oi!==null||ai!==null)&&(B0(),F0())}}function Ro(e,t){var n=e.stateNode;if(n===null)return null;var r=vc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var cd=!1;if(ir)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){cd=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{cd=!1}function xb(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var fo=!1,Nl=null,kl=!1,ud=null,yb={onError:function(e){fo=!0,Nl=e}};function vb(e,t,n,r,s,i,o,a,l){fo=!1,Nl=null,xb.apply(yb,arguments)}function bb(e,t,n,r,s,i,o,a,l){if(vb.apply(this,arguments),fo){if(fo){var c=Nl;fo=!1,Nl=null}else throw Error($(198));kl||(kl=!0,ud=c)}}function As(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function U0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xh(e){if(As(e)!==e)throw Error($(188))}function wb(e){var t=e.alternate;if(!t){if(t=As(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Xh(s),e;if(i===r)return Xh(s),t;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function H0(e){return e=wb(e),e!==null?V0(e):null}function V0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=V0(e);if(t!==null)return t;e=e.sibling}return null}var W0=Jt.unstable_scheduleCallback,Gh=Jt.unstable_cancelCallback,_b=Jt.unstable_shouldYield,Sb=Jt.unstable_requestPaint,Ze=Jt.unstable_now,Eb=Jt.unstable_getCurrentPriorityLevel,Nf=Jt.unstable_ImmediatePriority,K0=Jt.unstable_UserBlockingPriority,Cl=Jt.unstable_NormalPriority,jb=Jt.unstable_LowPriority,Y0=Jt.unstable_IdlePriority,mc=null,In=null;function Nb(e){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(mc,e,void 0,(e.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:Tb,kb=Math.log,Cb=Math.LN2;function Tb(e){return e>>>=0,e===0?32:31-(kb(e)/Cb|0)|0}var Sa=64,Ea=4194304;function no(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=no(a):(i&=o,i!==0&&(r=no(i)))}else o=n&~s,o!==0?r=no(o):i!==0&&(r=no(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_n(t),s=1<<n,r|=e[n],t&=~s;return r}function Rb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-_n(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Rb(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function dd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function q0(){var e=Sa;return Sa<<=1,!(Sa&4194240)&&(Sa=64),e}function nu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ra(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_n(t),e[t]=n}function Pb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-_n(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function kf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_n(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var De=0;function X0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var G0,Cf,Q0,J0,Z0,fd=!1,ja=[],Tr=null,Rr=null,Mr=null,Mo=new Map,Po=new Map,wr=[],Db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qh(e,t){switch(e){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(t.pointerId)}}function Fi(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ia(t),t!==null&&Cf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ob(e,t,n,r,s){switch(t){case"focusin":return Tr=Fi(Tr,e,t,n,r,s),!0;case"dragenter":return Rr=Fi(Rr,e,t,n,r,s),!0;case"mouseover":return Mr=Fi(Mr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Mo.set(i,Fi(Mo.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Po.set(i,Fi(Po.get(i)||null,e,t,n,r,s)),!0}return!1}function ex(e){var t=ds(e.target);if(t!==null){var n=As(t);if(n!==null){if(t=n.tag,t===13){if(t=U0(n),t!==null){e.blockedOn=t,Z0(e.priority,function(){Q0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function il(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ad=r,n.target.dispatchEvent(r),ad=null}else return t=ia(n),t!==null&&Cf(t),e.blockedOn=n,!1;t.shift()}return!0}function Jh(e,t,n){il(e)&&n.delete(t)}function Lb(){fd=!1,Tr!==null&&il(Tr)&&(Tr=null),Rr!==null&&il(Rr)&&(Rr=null),Mr!==null&&il(Mr)&&(Mr=null),Mo.forEach(Jh),Po.forEach(Jh)}function zi(e,t){e.blockedOn===t&&(e.blockedOn=null,fd||(fd=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,Lb)))}function Do(e){function t(s){return zi(s,e)}if(0<ja.length){zi(ja[0],e);for(var n=1;n<ja.length;n++){var r=ja[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Tr!==null&&zi(Tr,e),Rr!==null&&zi(Rr,e),Mr!==null&&zi(Mr,e),Mo.forEach(t),Po.forEach(t),n=0;n<wr.length;n++)r=wr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wr.length&&(n=wr[0],n.blockedOn===null);)ex(n),n.blockedOn===null&&wr.shift()}var li=fr.ReactCurrentBatchConfig,Rl=!0;function Ab(e,t,n,r){var s=De,i=li.transition;li.transition=null;try{De=1,Tf(e,t,n,r)}finally{De=s,li.transition=i}}function Ib(e,t,n,r){var s=De,i=li.transition;li.transition=null;try{De=4,Tf(e,t,n,r)}finally{De=s,li.transition=i}}function Tf(e,t,n,r){if(Rl){var s=hd(e,t,n,r);if(s===null)fu(e,t,r,Ml,n),Qh(e,r);else if(Ob(s,e,t,n,r))r.stopPropagation();else if(Qh(e,r),t&4&&-1<Db.indexOf(e)){for(;s!==null;){var i=ia(s);if(i!==null&&G0(i),i=hd(e,t,n,r),i===null&&fu(e,t,r,Ml,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fu(e,t,r,null,n)}}var Ml=null;function hd(e,t,n,r){if(Ml=null,e=jf(r),e=ds(e),e!==null)if(t=As(e),t===null)e=null;else if(n=t.tag,n===13){if(e=U0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ml=e,null}function tx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eb()){case Nf:return 1;case K0:return 4;case Cl:case jb:return 16;case Y0:return 536870912;default:return 16}default:return 16}}var Er=null,Rf=null,ol=null;function nx(){if(ol)return ol;var e,t=Rf,n=t.length,r,s="value"in Er?Er.value:Er.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ol=s.slice(e,1<r?1-r:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Na(){return!0}function Zh(){return!1}function tn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Na:Zh,this.isPropagationStopped=Zh,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),t}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mf=tn(Ei),sa=Ye({},Ei,{view:0,detail:0}),Fb=tn(sa),ru,su,Bi,gc=Ye({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bi&&(Bi&&e.type==="mousemove"?(ru=e.screenX-Bi.screenX,su=e.screenY-Bi.screenY):su=ru=0,Bi=e),ru)},movementY:function(e){return"movementY"in e?e.movementY:su}}),ep=tn(gc),zb=Ye({},gc,{dataTransfer:0}),Bb=tn(zb),$b=Ye({},sa,{relatedTarget:0}),iu=tn($b),Ub=Ye({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Hb=tn(Ub),Vb=Ye({},Ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wb=tn(Vb),Kb=Ye({},Ei,{data:0}),tp=tn(Kb),Yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xb[e])?!!t[e]:!1}function Pf(){return Gb}var Qb=Ye({},sa,{key:function(e){if(e.key){var t=Yb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pf,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jb=tn(Qb),Zb=Ye({},gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),np=tn(Zb),e2=Ye({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pf}),t2=tn(e2),n2=Ye({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),r2=tn(n2),s2=Ye({},gc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i2=tn(s2),o2=[9,13,27,32],Df=ir&&"CompositionEvent"in window,ho=null;ir&&"documentMode"in document&&(ho=document.documentMode);var a2=ir&&"TextEvent"in window&&!ho,rx=ir&&(!Df||ho&&8<ho&&11>=ho),rp=" ",sp=!1;function sx(e,t){switch(e){case"keyup":return o2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ix(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qs=!1;function l2(e,t){switch(e){case"compositionend":return ix(t);case"keypress":return t.which!==32?null:(sp=!0,rp);case"textInput":return e=t.data,e===rp&&sp?null:e;default:return null}}function c2(e,t){if(qs)return e==="compositionend"||!Df&&sx(e,t)?(e=nx(),ol=Rf=Er=null,qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rx&&t.locale!=="ko"?null:t.data;default:return null}}var u2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!u2[e.type]:t==="textarea"}function ox(e,t,n,r){I0(r),t=Pl(t,"onChange"),0<t.length&&(n=new Mf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var po=null,Oo=null;function d2(e){xx(e,0)}function xc(e){var t=Qs(e);if(R0(t))return e}function f2(e,t){if(e==="change")return t}var ax=!1;if(ir){var ou;if(ir){var au="oninput"in document;if(!au){var op=document.createElement("div");op.setAttribute("oninput","return;"),au=typeof op.oninput=="function"}ou=au}else ou=!1;ax=ou&&(!document.documentMode||9<document.documentMode)}function ap(){po&&(po.detachEvent("onpropertychange",lx),Oo=po=null)}function lx(e){if(e.propertyName==="value"&&xc(Oo)){var t=[];ox(t,Oo,e,jf(e)),$0(d2,t)}}function h2(e,t,n){e==="focusin"?(ap(),po=t,Oo=n,po.attachEvent("onpropertychange",lx)):e==="focusout"&&ap()}function p2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xc(Oo)}function m2(e,t){if(e==="click")return xc(t)}function g2(e,t){if(e==="input"||e==="change")return xc(t)}function x2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jn=typeof Object.is=="function"?Object.is:x2;function Lo(e,t){if(jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xu.call(t,s)||!jn(e[s],t[s]))return!1}return!0}function lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cp(e,t){var n=lp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lp(n)}}function cx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ux(){for(var e=window,t=jl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jl(e.document)}return t}function Of(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function y2(e){var t=ux(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cx(n.ownerDocument.documentElement,n)){if(r!==null&&Of(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=cp(n,i);var o=cp(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var v2=ir&&"documentMode"in document&&11>=document.documentMode,Xs=null,pd=null,mo=null,md=!1;function up(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;md||Xs==null||Xs!==jl(r)||(r=Xs,"selectionStart"in r&&Of(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mo&&Lo(mo,r)||(mo=r,r=Pl(pd,"onSelect"),0<r.length&&(t=new Mf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xs)))}function ka(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gs={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionend:ka("Transition","TransitionEnd")},lu={},dx={};ir&&(dx=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function yc(e){if(lu[e])return lu[e];if(!Gs[e])return e;var t=Gs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dx)return lu[e]=t[n];return e}var fx=yc("animationend"),hx=yc("animationiteration"),px=yc("animationstart"),mx=yc("transitionend"),gx=new Map,dp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){gx.set(e,t),Ls(t,[e])}for(var cu=0;cu<dp.length;cu++){var uu=dp[cu],b2=uu.toLowerCase(),w2=uu[0].toUpperCase()+uu.slice(1);Vr(b2,"on"+w2)}Vr(fx,"onAnimationEnd");Vr(hx,"onAnimationIteration");Vr(px,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(mx,"onTransitionEnd");hi("onMouseEnter",["mouseout","mouseover"]);hi("onMouseLeave",["mouseout","mouseover"]);hi("onPointerEnter",["pointerout","pointerover"]);hi("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ro));function fp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bb(r,t,void 0,e),e.currentTarget=null}function xx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;fp(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;fp(s,a,c),i=l}}}if(kl)throw e=ud,kl=!1,ud=null,e}function Fe(e,t){var n=t[bd];n===void 0&&(n=t[bd]=new Set);var r=e+"__bubble";n.has(r)||(yx(t,e,2,!1),n.add(r))}function du(e,t,n){var r=0;t&&(r|=4),yx(n,e,r,t)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function Ao(e){if(!e[Ca]){e[Ca]=!0,j0.forEach(function(n){n!=="selectionchange"&&(_2.has(n)||du(n,!1,e),du(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ca]||(t[Ca]=!0,du("selectionchange",!1,t))}}function yx(e,t,n,r){switch(tx(t)){case 1:var s=Ab;break;case 4:s=Ib;break;default:s=Tf}n=s.bind(null,t,n,e),s=void 0,!cd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function fu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ds(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}$0(function(){var c=i,d=jf(n),f=[];e:{var h=gx.get(e);if(h!==void 0){var p=Mf,x=e;switch(e){case"keypress":if(al(n)===0)break e;case"keydown":case"keyup":p=Jb;break;case"focusin":x="focus",p=iu;break;case"focusout":x="blur",p=iu;break;case"beforeblur":case"afterblur":p=iu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Bb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=t2;break;case fx:case hx:case px:p=Hb;break;case mx:p=r2;break;case"scroll":p=Fb;break;case"wheel":p=i2;break;case"copy":case"cut":case"paste":p=Wb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=np}var g=(t&4)!==0,b=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var m=c,v;m!==null;){v=m;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=Ro(m,y),S!=null&&g.push(Io(m,S,v)))),b)break;m=m.return}0<g.length&&(h=new p(h,x,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==ad&&(x=n.relatedTarget||n.fromElement)&&(ds(x)||x[or]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=c,x=x?ds(x):null,x!==null&&(b=As(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(g=ep,S="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=np,S="onPointerLeave",y="onPointerEnter",m="pointer"),b=p==null?h:Qs(p),v=x==null?h:Qs(x),h=new g(S,m+"leave",p,n,d),h.target=b,h.relatedTarget=v,S=null,ds(d)===c&&(g=new g(y,m+"enter",x,n,d),g.target=v,g.relatedTarget=b,S=g),b=S,p&&x)t:{for(g=p,y=x,m=0,v=g;v;v=$s(v))m++;for(v=0,S=y;S;S=$s(S))v++;for(;0<m-v;)g=$s(g),m--;for(;0<v-m;)y=$s(y),v--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=$s(g),y=$s(y)}g=null}else g=null;p!==null&&hp(f,h,p,g,!1),x!==null&&b!==null&&hp(f,b,x,g,!0)}}e:{if(h=c?Qs(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=f2;else if(ip(h))if(ax)E=g2;else{E=p2;var j=h2}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=m2);if(E&&(E=E(e,c))){ox(f,E,n,d);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&nd(h,"number",h.value)}switch(j=c?Qs(c):window,e){case"focusin":(ip(j)||j.contentEditable==="true")&&(Xs=j,pd=c,mo=null);break;case"focusout":mo=pd=Xs=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,up(f,n,d);break;case"selectionchange":if(v2)break;case"keydown":case"keyup":up(f,n,d)}var w;if(Df)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else qs?sx(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(rx&&n.locale!=="ko"&&(qs||N!=="onCompositionStart"?N==="onCompositionEnd"&&qs&&(w=nx()):(Er=d,Rf="value"in Er?Er.value:Er.textContent,qs=!0)),j=Pl(c,N),0<j.length&&(N=new tp(N,e,null,n,d),f.push({event:N,listeners:j}),w?N.data=w:(w=ix(n),w!==null&&(N.data=w)))),(w=a2?l2(e,n):c2(e,n))&&(c=Pl(c,"onBeforeInput"),0<c.length&&(d=new tp("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=w))}xx(f,t)})}function Io(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ro(e,n),i!=null&&r.unshift(Io(e,i,s)),i=Ro(e,t),i!=null&&r.push(Io(e,i,s))),e=e.return}return r}function $s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hp(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ro(n,i),l!=null&&o.unshift(Io(n,l,a))):s||(l=Ro(n,i),l!=null&&o.push(Io(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var S2=/\r\n?/g,E2=/\u0000|\uFFFD/g;function pp(e){return(typeof e=="string"?e:""+e).replace(S2,`
`).replace(E2,"")}function Ta(e,t,n){if(t=pp(t),pp(e)!==t&&n)throw Error($(425))}function Dl(){}var gd=null,xd=null;function yd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vd=typeof setTimeout=="function"?setTimeout:void 0,j2=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,N2=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(e){return mp.resolve(null).then(e).catch(k2)}:vd;function k2(e){setTimeout(function(){throw e})}function hu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Do(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Do(t)}function Pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ji=Math.random().toString(36).slice(2),Ln="__reactFiber$"+ji,Fo="__reactProps$"+ji,or="__reactContainer$"+ji,bd="__reactEvents$"+ji,C2="__reactListeners$"+ji,T2="__reactHandles$"+ji;function ds(e){var t=e[Ln];if(t)return t;for(var n=e.parentNode;n;){if(t=n[or]||n[Ln]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gp(e);e!==null;){if(n=e[Ln])return n;e=gp(e)}return t}e=n,n=e.parentNode}return null}function ia(e){return e=e[Ln]||e[or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function vc(e){return e[Fo]||null}var wd=[],Js=-1;function Wr(e){return{current:e}}function ze(e){0>Js||(e.current=wd[Js],wd[Js]=null,Js--)}function Ae(e,t){Js++,wd[Js]=e.current,e.current=t}var Br={},kt=Wr(Br),Ut=Wr(!1),js=Br;function pi(e,t){var n=e.type.contextTypes;if(!n)return Br;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(e){return e=e.childContextTypes,e!=null}function Ol(){ze(Ut),ze(kt)}function xp(e,t,n){if(kt.current!==Br)throw Error($(168));Ae(kt,t),Ae(Ut,n)}function vx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error($(108,hb(e)||"Unknown",s));return Ye({},n,r)}function Ll(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Br,js=kt.current,Ae(kt,e),Ae(Ut,Ut.current),!0}function yp(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=vx(e,t,js),r.__reactInternalMemoizedMergedChildContext=e,ze(Ut),ze(kt),Ae(kt,e)):ze(Ut),Ae(Ut,n)}var Jn=null,bc=!1,pu=!1;function bx(e){Jn===null?Jn=[e]:Jn.push(e)}function R2(e){bc=!0,bx(e)}function Kr(){if(!pu&&Jn!==null){pu=!0;var e=0,t=De;try{var n=Jn;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jn=null,bc=!1}catch(s){throw Jn!==null&&(Jn=Jn.slice(e+1)),W0(Nf,Kr),s}finally{De=t,pu=!1}}return null}var Zs=[],ei=0,Al=null,Il=0,an=[],ln=0,Ns=null,er=1,tr="";function os(e,t){Zs[ei++]=Il,Zs[ei++]=Al,Al=e,Il=t}function wx(e,t,n){an[ln++]=er,an[ln++]=tr,an[ln++]=Ns,Ns=e;var r=er;e=tr;var s=32-_n(r)-1;r&=~(1<<s),n+=1;var i=32-_n(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,er=1<<32-_n(t)+s|n<<s|r,tr=i+e}else er=1<<i|n<<s|r,tr=e}function Lf(e){e.return!==null&&(os(e,1),wx(e,1,0))}function Af(e){for(;e===Al;)Al=Zs[--ei],Zs[ei]=null,Il=Zs[--ei],Zs[ei]=null;for(;e===Ns;)Ns=an[--ln],an[ln]=null,tr=an[--ln],an[ln]=null,er=an[--ln],an[ln]=null}var Qt=null,Gt=null,Ve=!1,wn=null;function _x(e,t){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Gt=Pr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ns!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qt=e,Gt=null,!0):!1;default:return!1}}function _d(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sd(e){if(Ve){var t=Gt;if(t){var n=t;if(!vp(e,t)){if(_d(e))throw Error($(418));t=Pr(n.nextSibling);var r=Qt;t&&vp(e,t)?_x(r,n):(e.flags=e.flags&-4097|2,Ve=!1,Qt=e)}}else{if(_d(e))throw Error($(418));e.flags=e.flags&-4097|2,Ve=!1,Qt=e}}}function bp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function Ra(e){if(e!==Qt)return!1;if(!Ve)return bp(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yd(e.type,e.memoizedProps)),t&&(t=Gt)){if(_d(e))throw Sx(),Error($(418));for(;t;)_x(e,t),t=Pr(t.nextSibling)}if(bp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Gt=Pr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Gt=null}}else Gt=Qt?Pr(e.stateNode.nextSibling):null;return!0}function Sx(){for(var e=Gt;e;)e=Pr(e.nextSibling)}function mi(){Gt=Qt=null,Ve=!1}function If(e){wn===null?wn=[e]:wn.push(e)}var M2=fr.ReactCurrentBatchConfig;function $i(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Ma(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wp(e){var t=e._init;return t(e._payload)}function Ex(e){function t(y,m){if(e){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Ar(y,m),y.index=0,y.sibling=null,y}function i(y,m,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,S){return m===null||m.tag!==6?(m=wu(v,y.mode,S),m.return=y,m):(m=s(m,v),m.return=y,m)}function l(y,m,v,S){var E=v.type;return E===Ys?d(y,m,v.props.children,S,v.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===yr&&wp(E)===m.type)?(S=s(m,v.props),S.ref=$i(y,m,v),S.return=y,S):(S=pl(v.type,v.key,v.props,null,y.mode,S),S.ref=$i(y,m,v),S.return=y,S)}function c(y,m,v,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=_u(v,y.mode,S),m.return=y,m):(m=s(m,v.children||[]),m.return=y,m)}function d(y,m,v,S,E){return m===null||m.tag!==7?(m=ws(v,y.mode,S,E),m.return=y,m):(m=s(m,v),m.return=y,m)}function f(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=wu(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ba:return v=pl(m.type,m.key,m.props,null,y.mode,v),v.ref=$i(y,null,m),v.return=y,v;case Ks:return m=_u(m,y.mode,v),m.return=y,m;case yr:var S=m._init;return f(y,S(m._payload),v)}if(to(m)||Ai(m))return m=ws(m,y.mode,v,null),m.return=y,m;Ma(y,m)}return null}function h(y,m,v,S){var E=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(y,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ba:return v.key===E?l(y,m,v,S):null;case Ks:return v.key===E?c(y,m,v,S):null;case yr:return E=v._init,h(y,m,E(v._payload),S)}if(to(v)||Ai(v))return E!==null?null:d(y,m,v,S,null);Ma(y,v)}return null}function p(y,m,v,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,a(m,y,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ba:return y=y.get(S.key===null?v:S.key)||null,l(m,y,S,E);case Ks:return y=y.get(S.key===null?v:S.key)||null,c(m,y,S,E);case yr:var j=S._init;return p(y,m,v,j(S._payload),E)}if(to(S)||Ai(S))return y=y.get(v)||null,d(m,y,S,E,null);Ma(m,S)}return null}function x(y,m,v,S){for(var E=null,j=null,w=m,N=m=0,D=null;w!==null&&N<v.length;N++){w.index>N?(D=w,w=null):D=w.sibling;var T=h(y,w,v[N],S);if(T===null){w===null&&(w=D);break}e&&w&&T.alternate===null&&t(y,w),m=i(T,m,N),j===null?E=T:j.sibling=T,j=T,w=D}if(N===v.length)return n(y,w),Ve&&os(y,N),E;if(w===null){for(;N<v.length;N++)w=f(y,v[N],S),w!==null&&(m=i(w,m,N),j===null?E=w:j.sibling=w,j=w);return Ve&&os(y,N),E}for(w=r(y,w);N<v.length;N++)D=p(w,y,N,v[N],S),D!==null&&(e&&D.alternate!==null&&w.delete(D.key===null?N:D.key),m=i(D,m,N),j===null?E=D:j.sibling=D,j=D);return e&&w.forEach(function(A){return t(y,A)}),Ve&&os(y,N),E}function g(y,m,v,S){var E=Ai(v);if(typeof E!="function")throw Error($(150));if(v=E.call(v),v==null)throw Error($(151));for(var j=E=null,w=m,N=m=0,D=null,T=v.next();w!==null&&!T.done;N++,T=v.next()){w.index>N?(D=w,w=null):D=w.sibling;var A=h(y,w,T.value,S);if(A===null){w===null&&(w=D);break}e&&w&&A.alternate===null&&t(y,w),m=i(A,m,N),j===null?E=A:j.sibling=A,j=A,w=D}if(T.done)return n(y,w),Ve&&os(y,N),E;if(w===null){for(;!T.done;N++,T=v.next())T=f(y,T.value,S),T!==null&&(m=i(T,m,N),j===null?E=T:j.sibling=T,j=T);return Ve&&os(y,N),E}for(w=r(y,w);!T.done;N++,T=v.next())T=p(w,y,N,T.value,S),T!==null&&(e&&T.alternate!==null&&w.delete(T.key===null?N:T.key),m=i(T,m,N),j===null?E=T:j.sibling=T,j=T);return e&&w.forEach(function(F){return t(y,F)}),Ve&&os(y,N),E}function b(y,m,v,S){if(typeof v=="object"&&v!==null&&v.type===Ys&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ba:e:{for(var E=v.key,j=m;j!==null;){if(j.key===E){if(E=v.type,E===Ys){if(j.tag===7){n(y,j.sibling),m=s(j,v.props.children),m.return=y,y=m;break e}}else if(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===yr&&wp(E)===j.type){n(y,j.sibling),m=s(j,v.props),m.ref=$i(y,j,v),m.return=y,y=m;break e}n(y,j);break}else t(y,j);j=j.sibling}v.type===Ys?(m=ws(v.props.children,y.mode,S,v.key),m.return=y,y=m):(S=pl(v.type,v.key,v.props,null,y.mode,S),S.ref=$i(y,m,v),S.return=y,y=S)}return o(y);case Ks:e:{for(j=v.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(y,m.sibling),m=s(m,v.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=_u(v,y.mode,S),m.return=y,y=m}return o(y);case yr:return j=v._init,b(y,m,j(v._payload),S)}if(to(v))return x(y,m,v,S);if(Ai(v))return g(y,m,v,S);Ma(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,v),m.return=y,y=m):(n(y,m),m=wu(v,y.mode,S),m.return=y,y=m),o(y)):n(y,m)}return b}var gi=Ex(!0),jx=Ex(!1),Fl=Wr(null),zl=null,ti=null,Ff=null;function zf(){Ff=ti=zl=null}function Bf(e){var t=Fl.current;ze(Fl),e._currentValue=t}function Ed(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ci(e,t){zl=e,Ff=ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($t=!0),e.firstContext=null)}function fn(e){var t=e._currentValue;if(Ff!==e)if(e={context:e,memoizedValue:t,next:null},ti===null){if(zl===null)throw Error($(308));ti=e,zl.dependencies={lanes:0,firstContext:e}}else ti=ti.next=e;return t}var fs=null;function $f(e){fs===null?fs=[e]:fs.push(e)}function Nx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,$f(t)):(n.next=s.next,s.next=n),t.interleaved=n,ar(e,r)}function ar(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vr=!1;function Uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ar(e,n)}return s=r.interleaved,s===null?(t.next=t,$f(r)):(t.next=s.next,s.next=t),r.interleaved=t,ar(e,n)}function ll(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kf(e,n)}}function _p(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bl(e,t,n,r){var s=e.updateQueue;vr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,g=a;switch(h=t,p=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(p,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(p,f,h):x,h==null)break e;f=Ye({},f,h);break e;case 2:vr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Cs|=o,e.lanes=o,e.memoizedState=f}}function Sp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var oa={},Fn=Wr(oa),zo=Wr(oa),Bo=Wr(oa);function hs(e){if(e===oa)throw Error($(174));return e}function Hf(e,t){switch(Ae(Bo,t),Ae(zo,e),Ae(Fn,oa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sd(t,e)}ze(Fn),Ae(Fn,t)}function xi(){ze(Fn),ze(zo),ze(Bo)}function Cx(e){hs(Bo.current);var t=hs(Fn.current),n=sd(t,e.type);t!==n&&(Ae(zo,e),Ae(Fn,n))}function Vf(e){zo.current===e&&(ze(Fn),ze(zo))}var We=Wr(0);function $l(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mu=[];function Wf(){for(var e=0;e<mu.length;e++)mu[e]._workInProgressVersionPrimary=null;mu.length=0}var cl=fr.ReactCurrentDispatcher,gu=fr.ReactCurrentBatchConfig,ks=0,Ke=null,ct=null,ht=null,Ul=!1,go=!1,$o=0,P2=0;function wt(){throw Error($(321))}function Kf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jn(e[n],t[n]))return!1;return!0}function Yf(e,t,n,r,s,i){if(ks=i,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cl.current=e===null||e.memoizedState===null?A2:I2,e=n(r,s),go){i=0;do{if(go=!1,$o=0,25<=i)throw Error($(301));i+=1,ht=ct=null,t.updateQueue=null,cl.current=F2,e=n(r,s)}while(go)}if(cl.current=Hl,t=ct!==null&&ct.next!==null,ks=0,ht=ct=Ke=null,Ul=!1,t)throw Error($(300));return e}function qf(){var e=$o!==0;return $o=0,e}function Dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ke.memoizedState=ht=e:ht=ht.next=e,ht}function hn(){if(ct===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=ht===null?Ke.memoizedState:ht.next;if(t!==null)ht=t,ct=e;else{if(e===null)throw Error($(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},ht===null?Ke.memoizedState=ht=e:ht=ht.next=e}return ht}function Uo(e,t){return typeof t=="function"?t(e):t}function xu(e){var t=hn(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=ct,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ks&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ke.lanes|=d,Cs|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,jn(r,t.memoizedState)||($t=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ke.lanes|=i,Cs|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yu(e){var t=hn(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);jn(i,t.memoizedState)||($t=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Tx(){}function Rx(e,t){var n=Ke,r=hn(),s=t(),i=!jn(r.memoizedState,s);if(i&&(r.memoizedState=s,$t=!0),r=r.queue,Xf(Dx.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,Ho(9,Px.bind(null,n,r,s,t),void 0,null),pt===null)throw Error($(349));ks&30||Mx(n,t,s)}return s}function Mx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Px(e,t,n,r){t.value=n,t.getSnapshot=r,Ox(t)&&Lx(e)}function Dx(e,t,n){return n(function(){Ox(t)&&Lx(e)})}function Ox(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jn(e,n)}catch{return!0}}function Lx(e){var t=ar(e,1);t!==null&&Sn(t,e,1,-1)}function Ep(e){var t=Dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},t.queue=e,e=e.dispatch=L2.bind(null,Ke,e),[t.memoizedState,e]}function Ho(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ax(){return hn().memoizedState}function ul(e,t,n,r){var s=Dn();Ke.flags|=e,s.memoizedState=Ho(1|t,n,void 0,r===void 0?null:r)}function wc(e,t,n,r){var s=hn();r=r===void 0?null:r;var i=void 0;if(ct!==null){var o=ct.memoizedState;if(i=o.destroy,r!==null&&Kf(r,o.deps)){s.memoizedState=Ho(t,n,i,r);return}}Ke.flags|=e,s.memoizedState=Ho(1|t,n,i,r)}function jp(e,t){return ul(8390656,8,e,t)}function Xf(e,t){return wc(2048,8,e,t)}function Ix(e,t){return wc(4,2,e,t)}function Fx(e,t){return wc(4,4,e,t)}function zx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bx(e,t,n){return n=n!=null?n.concat([e]):null,wc(4,4,zx.bind(null,t,e),n)}function Gf(){}function $x(e,t){var n=hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ux(e,t){var n=hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hx(e,t,n){return ks&21?(jn(n,t)||(n=q0(),Ke.lanes|=n,Cs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=n)}function D2(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=gu.transition;gu.transition={};try{e(!1),t()}finally{De=n,gu.transition=r}}function Vx(){return hn().memoizedState}function O2(e,t,n){var r=Lr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wx(e))Kx(t,n);else if(n=Nx(e,t,n,r),n!==null){var s=Mt();Sn(n,e,r,s),Yx(n,t,r)}}function L2(e,t,n){var r=Lr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wx(e))Kx(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jn(a,o)){var l=t.interleaved;l===null?(s.next=s,$f(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Nx(e,t,s,r),n!==null&&(s=Mt(),Sn(n,e,r,s),Yx(n,t,r))}}function Wx(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function Kx(e,t){go=Ul=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kf(e,n)}}var Hl={readContext:fn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},A2={readContext:fn,useCallback:function(e,t){return Dn().memoizedState=[e,t===void 0?null:t],e},useContext:fn,useEffect:jp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ul(4194308,4,zx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){return ul(4,2,e,t)},useMemo:function(e,t){var n=Dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=O2.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=Dn();return e={current:e},t.memoizedState=e},useState:Ep,useDebugValue:Gf,useDeferredValue:function(e){return Dn().memoizedState=e},useTransition:function(){var e=Ep(!1),t=e[0];return e=D2.bind(null,e[1]),Dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,s=Dn();if(Ve){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),pt===null)throw Error($(349));ks&30||Mx(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,jp(Dx.bind(null,r,i,e),[e]),r.flags|=2048,Ho(9,Px.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Dn(),t=pt.identifierPrefix;if(Ve){var n=tr,r=er;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$o++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=P2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},I2={readContext:fn,useCallback:$x,useContext:fn,useEffect:Xf,useImperativeHandle:Bx,useInsertionEffect:Ix,useLayoutEffect:Fx,useMemo:Ux,useReducer:xu,useRef:Ax,useState:function(){return xu(Uo)},useDebugValue:Gf,useDeferredValue:function(e){var t=hn();return Hx(t,ct.memoizedState,e)},useTransition:function(){var e=xu(Uo)[0],t=hn().memoizedState;return[e,t]},useMutableSource:Tx,useSyncExternalStore:Rx,useId:Vx,unstable_isNewReconciler:!1},F2={readContext:fn,useCallback:$x,useContext:fn,useEffect:Xf,useImperativeHandle:Bx,useInsertionEffect:Ix,useLayoutEffect:Fx,useMemo:Ux,useReducer:yu,useRef:Ax,useState:function(){return yu(Uo)},useDebugValue:Gf,useDeferredValue:function(e){var t=hn();return ct===null?t.memoizedState=e:Hx(t,ct.memoizedState,e)},useTransition:function(){var e=yu(Uo)[0],t=hn().memoizedState;return[e,t]},useMutableSource:Tx,useSyncExternalStore:Rx,useId:Vx,unstable_isNewReconciler:!1};function yn(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _c={isMounted:function(e){return(e=e._reactInternals)?As(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mt(),s=Lr(e),i=rr(r,s);i.payload=t,n!=null&&(i.callback=n),t=Dr(e,i,s),t!==null&&(Sn(t,e,s,r),ll(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mt(),s=Lr(e),i=rr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Dr(e,i,s),t!==null&&(Sn(t,e,s,r),ll(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mt(),r=Lr(e),s=rr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Dr(e,s,r),t!==null&&(Sn(t,e,r,n),ll(t,e,r))}};function Np(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Lo(n,r)||!Lo(s,i):!0}function qx(e,t,n){var r=!1,s=Br,i=t.contextType;return typeof i=="object"&&i!==null?i=fn(i):(s=Ht(t)?js:kt.current,r=t.contextTypes,i=(r=r!=null)?pi(e,s):Br),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_c,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function kp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_c.enqueueReplaceState(t,t.state,null)}function Nd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Uf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=fn(i):(i=Ht(t)?js:kt.current,s.context=pi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(jd(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_c.enqueueReplaceState(s,s.state,null),Bl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function yi(e,t){try{var n="",r=t;do n+=fb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function vu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var z2=typeof WeakMap=="function"?WeakMap:Map;function Xx(e,t,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Id=r),kd(e,t)},n}function Gx(e,t,n){n=rr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){kd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){kd(e,t),typeof r!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Cp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new z2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Z2.bind(null,e,t,n),t.then(e,e))}function Tp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=rr(-1,1),t.tag=2,Dr(n,t,1))),n.lanes|=1),e)}var B2=fr.ReactCurrentOwner,$t=!1;function Tt(e,t,n,r){t.child=e===null?jx(t,null,n,r):gi(t,e.child,n,r)}function Mp(e,t,n,r,s){n=n.render;var i=t.ref;return ci(t,s),r=Yf(e,t,n,r,i,s),n=qf(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,lr(e,t,s)):(Ve&&n&&Lf(t),t.flags|=1,Tt(e,t,r,s),t.child)}function Pp(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!sh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Qx(e,t,i,r,s)):(e=pl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Lo,n(o,r)&&e.ref===t.ref)return lr(e,t,s)}return t.flags|=1,e=Ar(i,r),e.ref=t.ref,e.return=t,t.child=e}function Qx(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Lo(i,r)&&e.ref===t.ref)if($t=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&($t=!0);else return t.lanes=e.lanes,lr(e,t,s)}return Cd(e,t,n,r,s)}function Jx(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(ri,qt),qt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(ri,qt),qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ae(ri,qt),qt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ae(ri,qt),qt|=r;return Tt(e,t,s,n),t.child}function Zx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cd(e,t,n,r,s){var i=Ht(n)?js:kt.current;return i=pi(t,i),ci(t,s),n=Yf(e,t,n,r,i,s),r=qf(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,lr(e,t,s)):(Ve&&r&&Lf(t),t.flags|=1,Tt(e,t,n,s),t.child)}function Dp(e,t,n,r,s){if(Ht(n)){var i=!0;Ll(t)}else i=!1;if(ci(t,s),t.stateNode===null)dl(e,t),qx(t,n,r),Nd(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=fn(c):(c=Ht(n)?js:kt.current,c=pi(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&kp(t,o,r,c),vr=!1;var h=t.memoizedState;o.state=h,Bl(t,r,o,s),l=t.memoizedState,a!==r||h!==l||Ut.current||vr?(typeof d=="function"&&(jd(t,n,d,r),l=t.memoizedState),(a=vr||Np(t,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,kx(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:yn(t.type,a),o.props=c,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=fn(l):(l=Ht(n)?js:kt.current,l=pi(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&kp(t,o,r,l),vr=!1,h=t.memoizedState,o.state=h,Bl(t,r,o,s);var x=t.memoizedState;a!==f||h!==x||Ut.current||vr?(typeof p=="function"&&(jd(t,n,p,r),x=t.memoizedState),(c=vr||Np(t,n,c,r,h,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Td(e,t,n,r,i,s)}function Td(e,t,n,r,s,i){Zx(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&yp(t,n,!1),lr(e,t,i);r=t.stateNode,B2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=gi(t,e.child,null,i),t.child=gi(t,null,a,i)):Tt(e,t,a,i),t.memoizedState=r.state,s&&yp(t,n,!0),t.child}function ey(e){var t=e.stateNode;t.pendingContext?xp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xp(e,t.context,!1),Hf(e,t.containerInfo)}function Op(e,t,n,r,s){return mi(),If(s),t.flags|=256,Tt(e,t,n,r),t.child}var Rd={dehydrated:null,treeContext:null,retryLane:0};function Md(e){return{baseLanes:e,cachePool:null,transitions:null}}function ty(e,t,n){var r=t.pendingProps,s=We.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ae(We,s&1),e===null)return Sd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=jc(o,r,0,null),e=ws(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Md(n),t.memoizedState=Rd,e):Qf(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return $2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ar(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ar(a,i):(i=ws(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Md(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Rd,r}return i=e.child,e=i.sibling,r=Ar(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qf(e,t){return t=jc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pa(e,t,n,r){return r!==null&&If(r),gi(t,e.child,null,n),e=Qf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=vu(Error($(422))),Pa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=jc({mode:"visible",children:r.children},s,0,null),i=ws(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&gi(t,e.child,null,o),t.child.memoizedState=Md(o),t.memoizedState=Rd,i);if(!(t.mode&1))return Pa(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=vu(i,r,void 0),Pa(e,t,o,r)}if(a=(o&e.childLanes)!==0,$t||a){if(r=pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ar(e,s),Sn(r,e,s,-1))}return rh(),r=vu(Error($(421))),Pa(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ew.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Gt=Pr(s.nextSibling),Qt=t,Ve=!0,wn=null,e!==null&&(an[ln++]=er,an[ln++]=tr,an[ln++]=Ns,er=e.id,tr=e.overflow,Ns=t),t=Qf(t,r.children),t.flags|=4096,t)}function Lp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ed(e.return,t,n)}function bu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ny(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Tt(e,t,r.children,n),r=We.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lp(e,n,t);else if(e.tag===19)Lp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ae(We,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&$l(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),bu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$l(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}bu(t,!0,n,null,i);break;case"together":bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Ar(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ar(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function U2(e,t,n){switch(t.tag){case 3:ey(t),mi();break;case 5:Cx(t);break;case 1:Ht(t.type)&&Ll(t);break;case 4:Hf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ae(Fl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ae(We,We.current&1),t.flags|=128,null):n&t.child.childLanes?ty(e,t,n):(Ae(We,We.current&1),e=lr(e,t,n),e!==null?e.sibling:null);Ae(We,We.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ny(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ae(We,We.current),r)break;return null;case 22:case 23:return t.lanes=0,Jx(e,t,n)}return lr(e,t,n)}var ry,Pd,sy,iy;ry=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pd=function(){};sy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,hs(Fn.current);var i=null;switch(n){case"input":s=ed(e,s),r=ed(e,r),i=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),i=[];break;case"textarea":s=rd(e,s),r=rd(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Dl)}id(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Co.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Co.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fe("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};iy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ui(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function H2(e,t,n){var r=t.pendingProps;switch(Af(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Ht(t.type)&&Ol(),_t(t),null;case 3:return r=t.stateNode,xi(),ze(Ut),ze(kt),Wf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ra(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wn!==null&&(Bd(wn),wn=null))),Pd(e,t),_t(t),null;case 5:Vf(t);var s=hs(Bo.current);if(n=t.type,e!==null&&t.stateNode!=null)sy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return _t(t),null}if(e=hs(Fn.current),Ra(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ln]=t,r[Fo]=i,e=(t.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<ro.length;s++)Fe(ro[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Vh(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":Kh(r,i),Fe("invalid",r)}id(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ta(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ta(r.textContent,a,e),s=["children",""+a]):Co.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":wa(r),Wh(r,i,!0);break;case"textarea":wa(r),Yh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Dl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=D0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ln]=t,e[Fo]=r,ry(e,t,!1,!1),t.stateNode=e;e:{switch(o=od(n,r),n){case"dialog":Fe("cancel",e),Fe("close",e),s=r;break;case"iframe":case"object":case"embed":Fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<ro.length;s++)Fe(ro[s],e);s=r;break;case"source":Fe("error",e),s=r;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),s=r;break;case"details":Fe("toggle",e),s=r;break;case"input":Vh(e,r),s=ed(e,r),Fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),Fe("invalid",e);break;case"textarea":Kh(e,r),s=rd(e,r),Fe("invalid",e);break;default:s=r}id(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?A0(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&O0(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&To(e,l):typeof l=="number"&&To(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Co.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fe("scroll",e):l!=null&&wf(e,i,l,o))}switch(n){case"input":wa(e),Wh(e,r,!1);break;case"textarea":wa(e),Yh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ii(e,!!r.multiple,i,!1):r.defaultValue!=null&&ii(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)iy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=hs(Bo.current),hs(Fn.current),Ra(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ln]=t,(i=r.nodeValue!==n)&&(e=Qt,e!==null))switch(e.tag){case 3:Ta(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ta(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=t,t.stateNode=r}return _t(t),null;case 13:if(ze(We),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&Gt!==null&&t.mode&1&&!(t.flags&128))Sx(),mi(),t.flags|=98560,i=!1;else if(i=Ra(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Ln]=t}else mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),i=!1}else wn!==null&&(Bd(wn),wn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?ut===0&&(ut=3):rh())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return xi(),Pd(e,t),e===null&&Ao(t.stateNode.containerInfo),_t(t),null;case 10:return Bf(t.type._context),_t(t),null;case 17:return Ht(t.type)&&Ol(),_t(t),null;case 19:if(ze(We),i=t.memoizedState,i===null)return _t(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ui(i,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$l(e),o!==null){for(t.flags|=128,Ui(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ae(We,We.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ze()>vi&&(t.flags|=128,r=!0,Ui(i,!1),t.lanes=4194304)}else{if(!r)if(e=$l(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ui(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ve)return _t(t),null}else 2*Ze()-i.renderingStartTime>vi&&n!==1073741824&&(t.flags|=128,r=!0,Ui(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ze(),t.sibling=null,n=We.current,Ae(We,r?n&1|2:n&1),t):(_t(t),null);case 22:case 23:return nh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qt&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function V2(e,t){switch(Af(t),t.tag){case 1:return Ht(t.type)&&Ol(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xi(),ze(Ut),ze(kt),Wf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vf(t),null;case 13:if(ze(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(We),null;case 4:return xi(),null;case 10:return Bf(t.type._context),null;case 22:case 23:return nh(),null;case 24:return null;default:return null}}var Da=!1,Et=!1,W2=typeof WeakSet=="function"?WeakSet:Set,X=null;function ni(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(e,t,r)}else n.current=null}function Dd(e,t,n){try{n()}catch(r){Qe(e,t,r)}}var Ap=!1;function K2(e,t){if(gd=Rl,e=ux(),Of(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xd={focusedElem:e,selectionRange:n},Rl=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,b=x.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:yn(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(S){Qe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return x=Ap,Ap=!1,x}function xo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Dd(t,n,i)}s=s.next}while(s!==r)}}function Sc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Od(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oy(e){var t=e.alternate;t!==null&&(e.alternate=null,oy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ln],delete t[Fo],delete t[bd],delete t[C2],delete t[T2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ay(e){return e.tag===5||e.tag===3||e.tag===4}function Ip(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ld(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dl));else if(r!==4&&(e=e.child,e!==null))for(Ld(e,t,n),e=e.sibling;e!==null;)Ld(e,t,n),e=e.sibling}function Ad(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ad(e,t,n),e=e.sibling;e!==null;)Ad(e,t,n),e=e.sibling}var gt=null,vn=!1;function mr(e,t,n){for(n=n.child;n!==null;)ly(e,t,n),n=n.sibling}function ly(e,t,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(mc,n)}catch{}switch(n.tag){case 5:Et||ni(n,t);case 6:var r=gt,s=vn;gt=null,mr(e,t,n),gt=r,vn=s,gt!==null&&(vn?(e=gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(vn?(e=gt,n=n.stateNode,e.nodeType===8?hu(e.parentNode,n):e.nodeType===1&&hu(e,n),Do(e)):hu(gt,n.stateNode));break;case 4:r=gt,s=vn,gt=n.stateNode.containerInfo,vn=!0,mr(e,t,n),gt=r,vn=s;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dd(n,t,o),s=s.next}while(s!==r)}mr(e,t,n);break;case 1:if(!Et&&(ni(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qe(n,t,a)}mr(e,t,n);break;case 21:mr(e,t,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,mr(e,t,n),Et=r):mr(e,t,n);break;default:mr(e,t,n)}}function Fp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new W2),t.forEach(function(r){var s=tw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function xn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:gt=a.stateNode,vn=!1;break e;case 3:gt=a.stateNode.containerInfo,vn=!0;break e;case 4:gt=a.stateNode.containerInfo,vn=!0;break e}a=a.return}if(gt===null)throw Error($(160));ly(i,o,s),gt=null,vn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Qe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cy(t,e),t=t.sibling}function cy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xn(t,e),Tn(e),r&4){try{xo(3,e,e.return),Sc(3,e)}catch(g){Qe(e,e.return,g)}try{xo(5,e,e.return)}catch(g){Qe(e,e.return,g)}}break;case 1:xn(t,e),Tn(e),r&512&&n!==null&&ni(n,n.return);break;case 5:if(xn(t,e),Tn(e),r&512&&n!==null&&ni(n,n.return),e.flags&32){var s=e.stateNode;try{To(s,"")}catch(g){Qe(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&M0(s,i),od(a,o);var c=od(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?A0(s,f):d==="dangerouslySetInnerHTML"?O0(s,f):d==="children"?To(s,f):wf(s,d,f,c)}switch(a){case"input":td(s,i);break;case"textarea":P0(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ii(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ii(s,!!i.multiple,i.defaultValue,!0):ii(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fo]=i}catch(g){Qe(e,e.return,g)}}break;case 6:if(xn(t,e),Tn(e),r&4){if(e.stateNode===null)throw Error($(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Qe(e,e.return,g)}}break;case 3:if(xn(t,e),Tn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Do(t.containerInfo)}catch(g){Qe(e,e.return,g)}break;case 4:xn(t,e),Tn(e);break;case 13:xn(t,e),Tn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(eh=Ze())),r&4&&Fp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Et=(c=Et)||d,xn(t,e),Et=c):xn(t,e),Tn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,p=h.child,h.tag){case 0:case 11:case 14:case 15:xo(4,h,h.return);break;case 1:ni(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Qe(r,n,g)}}break;case 5:ni(h,h.return);break;case 22:if(h.memoizedState!==null){Bp(f);continue}}p!==null?(p.return=h,X=p):Bp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=L0("display",o))}catch(g){Qe(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Qe(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xn(t,e),Tn(e),r&4&&Fp(e);break;case 21:break;default:xn(t,e),Tn(e)}}function Tn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ay(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(To(s,""),r.flags&=-33);var i=Ip(e);Ad(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ip(e);Ld(e,a,o);break;default:throw Error($(161))}}catch(l){Qe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Y2(e,t,n){X=e,uy(e)}function uy(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Da;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Et;a=Da;var c=Et;if(Da=o,(Et=l)&&!c)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?$p(s):l!==null?(l.return=o,X=l):$p(s);for(;i!==null;)X=i,uy(i),i=i.sibling;X=s,Da=a,Et=c}zp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):zp(e)}}function zp(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Et||Sc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Et)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:yn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Sp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Do(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Et||t.flags&512&&Od(t)}catch(h){Qe(t,t.return,h)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Bp(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function $p(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sc(4,t)}catch(l){Qe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Qe(t,s,l)}}var i=t.return;try{Od(t)}catch(l){Qe(t,i,l)}break;case 5:var o=t.return;try{Od(t)}catch(l){Qe(t,o,l)}}}catch(l){Qe(t,t.return,l)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var q2=Math.ceil,Vl=fr.ReactCurrentDispatcher,Jf=fr.ReactCurrentOwner,dn=fr.ReactCurrentBatchConfig,je=0,pt=null,it=null,vt=0,qt=0,ri=Wr(0),ut=0,Vo=null,Cs=0,Ec=0,Zf=0,yo=null,zt=null,eh=0,vi=1/0,Qn=null,Wl=!1,Id=null,Or=null,Oa=!1,jr=null,Kl=0,vo=0,Fd=null,fl=-1,hl=0;function Mt(){return je&6?Ze():fl!==-1?fl:fl=Ze()}function Lr(e){return e.mode&1?je&2&&vt!==0?vt&-vt:M2.transition!==null?(hl===0&&(hl=q0()),hl):(e=De,e!==0||(e=window.event,e=e===void 0?16:tx(e.type)),e):1}function Sn(e,t,n,r){if(50<vo)throw vo=0,Fd=null,Error($(185));ra(e,n,r),(!(je&2)||e!==pt)&&(e===pt&&(!(je&2)&&(Ec|=n),ut===4&&_r(e,vt)),Vt(e,r),n===1&&je===0&&!(t.mode&1)&&(vi=Ze()+500,bc&&Kr()))}function Vt(e,t){var n=e.callbackNode;Mb(e,t);var r=Tl(e,e===pt?vt:0);if(r===0)n!==null&&Gh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Gh(n),t===1)e.tag===0?R2(Up.bind(null,e)):bx(Up.bind(null,e)),N2(function(){!(je&6)&&Kr()}),n=null;else{switch(X0(r)){case 1:n=Nf;break;case 4:n=K0;break;case 16:n=Cl;break;case 536870912:n=Y0;break;default:n=Cl}n=yy(n,dy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dy(e,t){if(fl=-1,hl=0,je&6)throw Error($(327));var n=e.callbackNode;if(ui()&&e.callbackNode!==n)return null;var r=Tl(e,e===pt?vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yl(e,r);else{t=r;var s=je;je|=2;var i=hy();(pt!==e||vt!==t)&&(Qn=null,vi=Ze()+500,bs(e,t));do try{Q2();break}catch(a){fy(e,a)}while(!0);zf(),Vl.current=i,je=s,it!==null?t=0:(pt=null,vt=0,t=ut)}if(t!==0){if(t===2&&(s=dd(e),s!==0&&(r=s,t=zd(e,s))),t===1)throw n=Vo,bs(e,0),_r(e,r),Vt(e,Ze()),n;if(t===6)_r(e,r);else{if(s=e.current.alternate,!(r&30)&&!X2(s)&&(t=Yl(e,r),t===2&&(i=dd(e),i!==0&&(r=i,t=zd(e,i))),t===1))throw n=Vo,bs(e,0),_r(e,r),Vt(e,Ze()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:as(e,zt,Qn);break;case 3:if(_r(e,r),(r&130023424)===r&&(t=eh+500-Ze(),10<t)){if(Tl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Mt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=vd(as.bind(null,e,zt,Qn),t);break}as(e,zt,Qn);break;case 4:if(_r(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-_n(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*q2(r/1960))-r,10<r){e.timeoutHandle=vd(as.bind(null,e,zt,Qn),r);break}as(e,zt,Qn);break;case 5:as(e,zt,Qn);break;default:throw Error($(329))}}}return Vt(e,Ze()),e.callbackNode===n?dy.bind(null,e):null}function zd(e,t){var n=yo;return e.current.memoizedState.isDehydrated&&(bs(e,t).flags|=256),e=Yl(e,t),e!==2&&(t=zt,zt=n,t!==null&&Bd(t)),e}function Bd(e){zt===null?zt=e:zt.push.apply(zt,e)}function X2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _r(e,t){for(t&=~Zf,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_n(t),r=1<<n;e[n]=-1,t&=~r}}function Up(e){if(je&6)throw Error($(327));ui();var t=Tl(e,0);if(!(t&1))return Vt(e,Ze()),null;var n=Yl(e,t);if(e.tag!==0&&n===2){var r=dd(e);r!==0&&(t=r,n=zd(e,r))}if(n===1)throw n=Vo,bs(e,0),_r(e,t),Vt(e,Ze()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,as(e,zt,Qn),Vt(e,Ze()),null}function th(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(vi=Ze()+500,bc&&Kr())}}function Ts(e){jr!==null&&jr.tag===0&&!(je&6)&&ui();var t=je;je|=1;var n=dn.transition,r=De;try{if(dn.transition=null,De=1,e)return e()}finally{De=r,dn.transition=n,je=t,!(je&6)&&Kr()}}function nh(){qt=ri.current,ze(ri)}function bs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,j2(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(Af(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ol();break;case 3:xi(),ze(Ut),ze(kt),Wf();break;case 5:Vf(r);break;case 4:xi();break;case 13:ze(We);break;case 19:ze(We);break;case 10:Bf(r.type._context);break;case 22:case 23:nh()}n=n.return}if(pt=e,it=e=Ar(e.current,null),vt=qt=t,ut=0,Vo=null,Zf=Ec=Cs=0,zt=yo=null,fs!==null){for(t=0;t<fs.length;t++)if(n=fs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}fs=null}return e}function fy(e,t){do{var n=it;try{if(zf(),cl.current=Hl,Ul){for(var r=Ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ul=!1}if(ks=0,ht=ct=Ke=null,go=!1,$o=0,Jf.current=null,n===null||n.return===null){ut=1,Vo=t,it=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Tp(o);if(p!==null){p.flags&=-257,Rp(p,o,a,i,t),p.mode&1&&Cp(i,c,t),t=p,l=c;var x=t.updateQueue;if(x===null){var g=new Set;g.add(l),t.updateQueue=g}else x.add(l);break e}else{if(!(t&1)){Cp(i,c,t),rh();break e}l=Error($(426))}}else if(Ve&&a.mode&1){var b=Tp(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Rp(b,o,a,i,t),If(yi(l,a));break e}}i=l=yi(l,a),ut!==4&&(ut=2),yo===null?yo=[i]:yo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Xx(i,l,t);_p(i,y);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Or===null||!Or.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Gx(i,a,t);_p(i,S);break e}}i=i.return}while(i!==null)}my(n)}catch(E){t=E,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function hy(){var e=Vl.current;return Vl.current=Hl,e===null?Hl:e}function rh(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||!(Cs&268435455)&&!(Ec&268435455)||_r(pt,vt)}function Yl(e,t){var n=je;je|=2;var r=hy();(pt!==e||vt!==t)&&(Qn=null,bs(e,t));do try{G2();break}catch(s){fy(e,s)}while(!0);if(zf(),je=n,Vl.current=r,it!==null)throw Error($(261));return pt=null,vt=0,ut}function G2(){for(;it!==null;)py(it)}function Q2(){for(;it!==null&&!_b();)py(it)}function py(e){var t=xy(e.alternate,e,qt);e.memoizedProps=e.pendingProps,t===null?my(e):it=t,Jf.current=null}function my(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=V2(n,t),n!==null){n.flags&=32767,it=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,it=null;return}}else if(n=H2(n,t,qt),n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);ut===0&&(ut=5)}function as(e,t,n){var r=De,s=dn.transition;try{dn.transition=null,De=1,J2(e,t,n,r)}finally{dn.transition=s,De=r}return null}function J2(e,t,n,r){do ui();while(jr!==null);if(je&6)throw Error($(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Pb(e,i),e===pt&&(it=pt=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oa||(Oa=!0,yy(Cl,function(){return ui(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dn.transition,dn.transition=null;var o=De;De=1;var a=je;je|=4,Jf.current=null,K2(e,n),cy(n,e),y2(xd),Rl=!!gd,xd=gd=null,e.current=n,Y2(n),Sb(),je=a,De=o,dn.transition=i}else e.current=n;if(Oa&&(Oa=!1,jr=e,Kl=s),i=e.pendingLanes,i===0&&(Or=null),Nb(n.stateNode),Vt(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wl)throw Wl=!1,e=Id,Id=null,e;return Kl&1&&e.tag!==0&&ui(),i=e.pendingLanes,i&1?e===Fd?vo++:(vo=0,Fd=e):vo=0,Kr(),null}function ui(){if(jr!==null){var e=X0(Kl),t=dn.transition,n=De;try{if(dn.transition=null,De=16>e?16:e,jr===null)var r=!1;else{if(e=jr,jr=null,Kl=0,je&6)throw Error($(331));var s=je;for(je|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:xo(8,d,i)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,p=d.return;if(oy(d),d===c){X=null;break}if(h!==null){h.return=p,X=h;break}X=p}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xo(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,X=y;break e}X=i.return}}var m=e.current;for(X=m;X!==null;){o=X;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,X=v;else e:for(o=m;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sc(9,a)}}catch(E){Qe(a,a.return,E)}if(a===o){X=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,X=S;break e}X=a.return}}if(je=s,Kr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(mc,e)}catch{}r=!0}return r}finally{De=n,dn.transition=t}}return!1}function Hp(e,t,n){t=yi(n,t),t=Xx(e,t,1),e=Dr(e,t,1),t=Mt(),e!==null&&(ra(e,1,t),Vt(e,t))}function Qe(e,t,n){if(e.tag===3)Hp(e,e,n);else for(;t!==null;){if(t.tag===3){Hp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Or===null||!Or.has(r))){e=yi(n,e),e=Gx(t,e,1),t=Dr(t,e,1),e=Mt(),t!==null&&(ra(t,1,e),Vt(t,e));break}}t=t.return}}function Z2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&n,pt===e&&(vt&n)===n&&(ut===4||ut===3&&(vt&130023424)===vt&&500>Ze()-eh?bs(e,0):Zf|=n),Vt(e,t)}function gy(e,t){t===0&&(e.mode&1?(t=Ea,Ea<<=1,!(Ea&130023424)&&(Ea=4194304)):t=1);var n=Mt();e=ar(e,t),e!==null&&(ra(e,t,n),Vt(e,n))}function ew(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gy(e,n)}function tw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),gy(e,n)}var xy;xy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ut.current)$t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $t=!1,U2(e,t,n);$t=!!(e.flags&131072)}else $t=!1,Ve&&t.flags&1048576&&wx(t,Il,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;dl(e,t),e=t.pendingProps;var s=pi(t,kt.current);ci(t,n),s=Yf(null,t,r,e,s,n);var i=qf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(r)?(i=!0,Ll(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Uf(t),s.updater=_c,t.stateNode=s,s._reactInternals=t,Nd(t,r,e,n),t=Td(null,t,r,!0,i,n)):(t.tag=0,Ve&&i&&Lf(t),Tt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(dl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=rw(r),e=yn(r,e),s){case 0:t=Cd(null,t,r,e,n);break e;case 1:t=Dp(null,t,r,e,n);break e;case 11:t=Mp(null,t,r,e,n);break e;case 14:t=Pp(null,t,r,yn(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yn(r,s),Cd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yn(r,s),Dp(e,t,r,s,n);case 3:e:{if(ey(t),e===null)throw Error($(387));r=t.pendingProps,i=t.memoizedState,s=i.element,kx(e,t),Bl(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=yi(Error($(423)),t),t=Op(e,t,r,n,s);break e}else if(r!==s){s=yi(Error($(424)),t),t=Op(e,t,r,n,s);break e}else for(Gt=Pr(t.stateNode.containerInfo.firstChild),Qt=t,Ve=!0,wn=null,n=jx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mi(),r===s){t=lr(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 5:return Cx(t),e===null&&Sd(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,yd(r,s)?o=null:i!==null&&yd(r,i)&&(t.flags|=32),Zx(e,t),Tt(e,t,o,n),t.child;case 6:return e===null&&Sd(t),null;case 13:return ty(e,t,n);case 4:return Hf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gi(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yn(r,s),Mp(e,t,r,s,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ae(Fl,r._currentValue),r._currentValue=o,i!==null)if(jn(i.value,o)){if(i.children===s.children&&!Ut.current){t=lr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=rr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ed(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ed(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ci(t,n),s=fn(s),r=r(s),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return r=t.type,s=yn(r,t.pendingProps),s=yn(r.type,s),Pp(e,t,r,s,n);case 15:return Qx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yn(r,s),dl(e,t),t.tag=1,Ht(r)?(e=!0,Ll(t)):e=!1,ci(t,n),qx(t,r,s),Nd(t,r,s,n),Td(null,t,r,!0,e,n);case 19:return ny(e,t,n);case 22:return Jx(e,t,n)}throw Error($(156,t.tag))};function yy(e,t){return W0(e,t)}function nw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,r){return new nw(e,t,n,r)}function sh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rw(e){if(typeof e=="function")return sh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sf)return 11;if(e===Ef)return 14}return 2}function Ar(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pl(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")sh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ys:return ws(n.children,s,i,t);case _f:o=8,s|=8;break;case Gu:return e=cn(12,n,t,s|2),e.elementType=Gu,e.lanes=i,e;case Qu:return e=cn(13,n,t,s),e.elementType=Qu,e.lanes=i,e;case Ju:return e=cn(19,n,t,s),e.elementType=Ju,e.lanes=i,e;case C0:return jc(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N0:o=10;break e;case k0:o=9;break e;case Sf:o=11;break e;case Ef:o=14;break e;case yr:o=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=cn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ws(e,t,n,r){return e=cn(7,e,r,t),e.lanes=n,e}function jc(e,t,n,r){return e=cn(22,e,r,t),e.elementType=C0,e.lanes=n,e.stateNode={isHidden:!1},e}function wu(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function _u(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nu(0),this.expirationTimes=nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ih(e,t,n,r,s,i,o,a,l){return e=new sw(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=cn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uf(i),e}function iw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ks,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vy(e){if(!e)return Br;e=e._reactInternals;e:{if(As(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Ht(n))return vx(e,n,t)}return t}function by(e,t,n,r,s,i,o,a,l){return e=ih(n,r,!0,e,s,i,o,a,l),e.context=vy(null),n=e.current,r=Mt(),s=Lr(n),i=rr(r,s),i.callback=t??null,Dr(n,i,s),e.current.lanes=s,ra(e,s,r),Vt(e,r),e}function Nc(e,t,n,r){var s=t.current,i=Mt(),o=Lr(s);return n=vy(n),t.context===null?t.context=n:t.pendingContext=n,t=rr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dr(s,t,o),e!==null&&(Sn(e,s,o,i),ll(e,s,o)),o}function ql(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function oh(e,t){Vp(e,t),(e=e.alternate)&&Vp(e,t)}function ow(){return null}var wy=typeof reportError=="function"?reportError:function(e){console.error(e)};function ah(e){this._internalRoot=e}kc.prototype.render=ah.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Nc(e,t,null,null)};kc.prototype.unmount=ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ts(function(){Nc(null,e,null,null)}),t[or]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=J0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wr.length&&t!==0&&t<wr[n].priority;n++);wr.splice(n,0,e),n===0&&ex(e)}};function lh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function aw(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ql(o);i.call(c)}}var o=by(t,r,e,0,null,!1,!1,"",Wp);return e._reactRootContainer=o,e[or]=o.current,Ao(e.nodeType===8?e.parentNode:e),Ts(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ql(l);a.call(c)}}var l=ih(e,0,!1,null,null,!1,!1,"",Wp);return e._reactRootContainer=l,e[or]=l.current,Ao(e.nodeType===8?e.parentNode:e),Ts(function(){Nc(t,l,n,r)}),l}function Tc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ql(o);a.call(l)}}Nc(t,o,e,s)}else o=aw(n,t,e,s,r);return ql(o)}G0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=no(t.pendingLanes);n!==0&&(kf(t,n|1),Vt(t,Ze()),!(je&6)&&(vi=Ze()+500,Kr()))}break;case 13:Ts(function(){var r=ar(e,1);if(r!==null){var s=Mt();Sn(r,e,1,s)}}),oh(e,1)}};Cf=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var n=Mt();Sn(t,e,134217728,n)}oh(e,134217728)}};Q0=function(e){if(e.tag===13){var t=Lr(e),n=ar(e,t);if(n!==null){var r=Mt();Sn(n,e,t,r)}oh(e,t)}};J0=function(){return De};Z0=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};ld=function(e,t,n){switch(t){case"input":if(td(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=vc(r);if(!s)throw Error($(90));R0(r),td(r,s)}}}break;case"textarea":P0(e,n);break;case"select":t=n.value,t!=null&&ii(e,!!n.multiple,t,!1)}};z0=th;B0=Ts;var lw={usingClientEntryPoint:!1,Events:[ia,Qs,vc,I0,F0,th]},Hi={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cw={bundleType:Hi.bundleType,version:Hi.version,rendererPackageName:Hi.rendererPackageName,rendererConfig:Hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=H0(e),e===null?null:e.stateNode},findFiberByHostInstance:Hi.findFiberByHostInstance||ow,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{mc=La.inject(cw),In=La}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lw;en.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lh(t))throw Error($(200));return iw(e,t,null,n)};en.createRoot=function(e,t){if(!lh(e))throw Error($(299));var n=!1,r="",s=wy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ih(e,1,!1,null,null,n,!1,r,s),e[or]=t.current,Ao(e.nodeType===8?e.parentNode:e),new ah(t)};en.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=H0(t),e=e===null?null:e.stateNode,e};en.flushSync=function(e){return Ts(e)};en.hydrate=function(e,t,n){if(!Cc(t))throw Error($(200));return Tc(null,e,t,!0,n)};en.hydrateRoot=function(e,t,n){if(!lh(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=wy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=by(t,null,e,1,n??null,s,!1,i,o),e[or]=t.current,Ao(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new kc(t)};en.render=function(e,t,n){if(!Cc(t))throw Error($(200));return Tc(null,e,t,!1,n)};en.unmountComponentAtNode=function(e){if(!Cc(e))throw Error($(40));return e._reactRootContainer?(Ts(function(){Tc(null,null,e,!1,function(){e._reactRootContainer=null,e[or]=null})}),!0):!1};en.unstable_batchedUpdates=th;en.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cc(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Tc(e,t,n,!1,r)};en.version="18.3.1-next-f1338f8080-20240426";function _y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_y)}catch(e){console.error(e)}}_y(),_0.exports=en;var ch=_0.exports;const uw=pf(ch),dw=u0({__proto__:null,default:uw},[ch]);var Sy,Kp=ch;Sy=Kp.createRoot,Kp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He.apply(this,arguments)}var st;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(st||(st={}));const Yp="popstate";function fw(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Wo("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Rs(s)}return pw(t,n,null,e)}function ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hw(){return Math.random().toString(36).substr(2,8)}function qp(e,t){return{usr:e.state,key:e.key,idx:t}}function Wo(e,t,n,r){return n===void 0&&(n=null),He({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yr(t):t,{state:n,key:t&&t.key||r||hw()})}function Rs(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Yr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pw(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=st.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(He({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=st.Pop;let b=d(),y=b==null?null:b-c;c=b,l&&l({action:a,location:g.location,delta:y})}function h(b,y){a=st.Push;let m=Wo(g.location,b,y);c=d()+1;let v=qp(m,c),S=g.createHref(m);try{o.pushState(v,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(S)}i&&l&&l({action:a,location:g.location,delta:1})}function p(b,y){a=st.Replace;let m=Wo(g.location,b,y);c=d();let v=qp(m,c),S=g.createHref(m);o.replaceState(v,"",S),i&&l&&l({action:a,location:g.location,delta:0})}function x(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:Rs(b);return m=m.replace(/ $/,"%20"),ye(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Yp,f),l=b,()=>{s.removeEventListener(Yp,f),l=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(b){return o.go(b)}};return g}var Pe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pe||(Pe={}));const mw=new Set(["lazy","caseSensitive","path","id","index","children"]);function gw(e){return e.index===!0}function Xl(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(ye(s.index!==!0||!s.children,"Cannot specify children on an index route"),ye(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),gw(s)){let l=He({},s,t(s),{id:a});return r[a]=l,l}else{let l=He({},s,t(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Xl(s.children,t,o,r)),l}})}function cs(e,t,n){return n===void 0&&(n="/"),ml(e,t,n,!1)}function ml(e,t,n,r){let s=typeof t=="string"?Yr(t):t,i=Ni(s.pathname||"/",n);if(i==null)return null;let o=Ey(e);yw(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Tw(i);a=kw(o[l],c,r)}return a}function xw(e,t){let{route:n,pathname:r,params:s}=e;return{id:n.id,pathname:r,params:s,data:t[n.id],handle:n.handle}}function Ey(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=sr([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ey(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:jw(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of jy(i.path))s(i,o,l)}),t}function jy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=jy(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function yw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Nw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vw=/^:[\w-]+$/,bw=3,ww=2,_w=1,Sw=10,Ew=-2,Xp=e=>e==="*";function jw(e,t){let n=e.split("/"),r=n.length;return n.some(Xp)&&(r+=Ew),t&&(r+=ww),n.filter(s=>!Xp(s)).reduce((s,i)=>s+(vw.test(i)?bw:i===""?_w:Sw),r)}function Nw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function kw(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Gp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Gp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:sr([i,f.pathname]),pathnameBase:Pw(sr([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=sr([i,f.pathnameBase]))}return o}function Gp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Cw(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=a[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=a[f];return p&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Cw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),bi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Tw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ni(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Rw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Yr(e):e;return{pathname:n?n.startsWith("/")?n:Mw(n,t):t,search:Dw(r),hash:Ow(s)}}function Mw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Su(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ny(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Rc(e,t){let n=Ny(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mc(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Yr(e):(s=He({},e),ye(!s.pathname||!s.pathname.includes("?"),Su("?","pathname","search",s)),ye(!s.pathname||!s.pathname.includes("#"),Su("#","pathname","hash",s)),ye(!s.search||!s.search.includes("#"),Su("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=Rw(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const sr=e=>e.join("/").replace(/\/\/+/g,"/"),Pw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ow=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Gl{constructor(t,n,r,s){s===void 0&&(s=!1),this.status=t,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ko(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ky=["post","put","patch","delete"],Lw=new Set(ky),Aw=["get",...ky],Iw=new Set(Aw),Fw=new Set([301,302,303,307,308]),zw=new Set([307,308]),Eu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vi={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},uh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$w=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Cy="remix-router-transitions";function Uw(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ye(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let k=e.detectErrorBoundary;s=C=>({hasErrorBoundary:k(C)})}else s=$w;let i={},o=Xl(e.routes,s,void 0,i),a,l=e.basename||"/",c=e.dataStrategy||Kw,d=e.patchRoutesOnNavigation,f=He({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),h=null,p=new Set,x=null,g=null,b=null,y=e.hydrationData!=null,m=cs(o,e.history.location,l),v=!1,S=null;if(m==null&&!d){let k=Ft(404,{pathname:e.history.location.pathname}),{matches:C,route:P}=am(o);m=C,S={[P.id]:k}}m&&!e.hydrationData&&ma(m,o,e.history.location.pathname).active&&(m=null);let E;if(m)if(m.some(k=>k.route.lazy))E=!1;else if(!m.some(k=>k.route.loader))E=!0;else if(f.v7_partialHydration){let k=e.hydrationData?e.hydrationData.loaderData:null,C=e.hydrationData?e.hydrationData.errors:null;if(C){let P=m.findIndex(B=>C[B.route.id]!==void 0);E=m.slice(0,P+1).every(B=>!Ud(B.route,k,C))}else E=m.every(P=>!Ud(P.route,k,C))}else E=e.hydrationData!=null;else if(E=!1,m=[],f.v7_partialHydration){let k=ma(null,o,e.history.location.pathname);k.active&&k.matches&&(v=!0,m=k.matches)}let j,w={historyAction:e.history.action,location:e.history.location,matches:m,initialized:E,navigation:Eu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||S,fetchers:new Map,blockers:new Map},N=st.Pop,D=!1,T,A=!1,F=new Map,Y=null,Z=!1,J=!1,ue=[],z=new Set,L=new Map,U=0,M=-1,q=new Map,I=new Set,ie=new Map,re=new Map,oe=new Set,ne=new Map,fe=new Map,he;function Be(){if(h=e.history.listen(k=>{let{action:C,location:P,delta:B}=k;if(he){he(),he=void 0;return}bi(fe.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let W=Oh({currentLocation:w.location,nextLocation:P,historyAction:C});if(W&&B!=null){let se=new Promise(pe=>{he=pe});e.history.go(B*-1),es(W,{state:"blocked",location:P,proceed(){es(W,{state:"proceeding",proceed:void 0,reset:void 0,location:P}),se.then(()=>e.history.go(B))},reset(){let pe=new Map(w.blockers);pe.set(W,Vi),H({blockers:pe})}});return}return qe(C,P)}),n){o_(t,F);let k=()=>a_(t,F);t.addEventListener("pagehide",k),Y=()=>t.removeEventListener("pagehide",k)}return w.initialized||qe(st.Pop,w.location,{initialHydration:!0}),j}function lt(){h&&h(),Y&&Y(),p.clear(),T&&T.abort(),w.fetchers.forEach((k,C)=>le(C)),w.blockers.forEach((k,C)=>Pi(C))}function R(k){return p.add(k),()=>p.delete(k)}function H(k,C){C===void 0&&(C={}),w=He({},w,k);let P=[],B=[];f.v7_fetcherPersist&&w.fetchers.forEach((W,se)=>{W.state==="idle"&&(oe.has(se)?B.push(se):P.push(se))}),oe.forEach(W=>{!w.fetchers.has(W)&&!L.has(W)&&B.push(W)}),[...p].forEach(W=>W(w,{deletedFetchers:B,viewTransitionOpts:C.viewTransitionOpts,flushSync:C.flushSync===!0})),f.v7_fetcherPersist?(P.forEach(W=>w.fetchers.delete(W)),B.forEach(W=>le(W))):B.forEach(W=>oe.delete(W))}function ae(k,C,P){var B,W;let{flushSync:se}=P===void 0?{}:P,pe=w.actionData!=null&&w.navigation.formMethod!=null&&bn(w.navigation.formMethod)&&w.navigation.state==="loading"&&((B=k.state)==null?void 0:B._isRedirect)!==!0,Q;C.actionData?Object.keys(C.actionData).length>0?Q=C.actionData:Q=null:pe?Q=w.actionData:Q=null;let ee=C.loaderData?im(w.loaderData,C.loaderData,C.matches||[],C.errors):w.loaderData,G=w.blockers;G.size>0&&(G=new Map(G),G.forEach((_e,mt)=>G.set(mt,Vi)));let te=D===!0||w.navigation.formMethod!=null&&bn(w.navigation.formMethod)&&((W=k.state)==null?void 0:W._isRedirect)!==!0;a&&(o=a,a=void 0),Z||N===st.Pop||(N===st.Push?e.history.push(k,k.state):N===st.Replace&&e.history.replace(k,k.state));let xe;if(N===st.Pop){let _e=F.get(w.location.pathname);_e&&_e.has(k.pathname)?xe={currentLocation:w.location,nextLocation:k}:F.has(k.pathname)&&(xe={currentLocation:k,nextLocation:w.location})}else if(A){let _e=F.get(w.location.pathname);_e?_e.add(k.pathname):(_e=new Set([k.pathname]),F.set(w.location.pathname,_e)),xe={currentLocation:w.location,nextLocation:k}}H(He({},C,{actionData:Q,loaderData:ee,historyAction:N,location:k,initialized:!0,navigation:Eu,revalidation:"idle",restoreScrollPosition:Ah(k,C.matches||w.matches),preventScrollReset:te,blockers:G}),{viewTransitionOpts:xe,flushSync:se===!0}),N=st.Pop,D=!1,A=!1,Z=!1,J=!1,ue=[]}async function nt(k,C){if(typeof k=="number"){e.history.go(k);return}let P=$d(w.location,w.matches,l,f.v7_prependBasename,k,f.v7_relativeSplatPath,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:B,submission:W,error:se}=Qp(f.v7_normalizeFormMethod,!1,P,C),pe=w.location,Q=Wo(w.location,B,C&&C.state);Q=He({},Q,e.history.encodeLocation(Q));let ee=C&&C.replace!=null?C.replace:void 0,G=st.Push;ee===!0?G=st.Replace:ee===!1||W!=null&&bn(W.formMethod)&&W.formAction===w.location.pathname+w.location.search&&(G=st.Replace);let te=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,xe=(C&&C.flushSync)===!0,_e=Oh({currentLocation:pe,nextLocation:Q,historyAction:G});if(_e){es(_e,{state:"blocked",location:Q,proceed(){es(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),nt(k,C)},reset(){let mt=new Map(w.blockers);mt.set(_e,Vi),H({blockers:mt})}});return}return await qe(G,Q,{submission:W,pendingError:se,preventScrollReset:te,replace:C&&C.replace,enableViewTransition:C&&C.viewTransition,flushSync:xe})}function Me(){if(Vn(),H({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){qe(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}qe(N||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:A===!0})}}async function qe(k,C,P){T&&T.abort(),T=null,N=k,Z=(P&&P.startUninterruptedRevalidation)===!0,P1(w.location,w.matches),D=(P&&P.preventScrollReset)===!0,A=(P&&P.enableViewTransition)===!0;let B=a||o,W=P&&P.overrideNavigation,se=P!=null&&P.initialHydration&&w.matches&&w.matches.length>0&&!v?w.matches:cs(B,C,l),pe=(P&&P.flushSync)===!0;if(se&&w.initialized&&!J&&Jw(w.location,C)&&!(P&&P.submission&&bn(P.submission.formMethod))){ae(C,{matches:se},{flushSync:pe});return}let Q=ma(se,B,C.pathname);if(Q.active&&Q.matches&&(se=Q.matches),!se){let{error:Le,notFoundMatches:Ce,route:Xe}=qc(C.pathname);ae(C,{matches:Ce,loaderData:{},errors:{[Xe.id]:Le}},{flushSync:pe});return}T=new AbortController;let ee=Us(e.history,C,T.signal,P&&P.submission),G;if(P&&P.pendingError)G=[us(se).route.id,{type:Pe.error,error:P.pendingError}];else if(P&&P.submission&&bn(P.submission.formMethod)){let Le=await Un(ee,C,P.submission,se,Q.active,{replace:P.replace,flushSync:pe});if(Le.shortCircuited)return;if(Le.pendingActionResult){let[Ce,Xe]=Le.pendingActionResult;if(Xt(Xe)&&Ko(Xe.error)&&Xe.error.status===404){T=null,ae(C,{matches:Le.matches,loaderData:{},errors:{[Ce]:Xe.error}});return}}se=Le.matches||se,G=Le.pendingActionResult,W=ju(C,P.submission),pe=!1,Q.active=!1,ee=Us(e.history,ee.url,ee.signal)}let{shortCircuited:te,matches:xe,loaderData:_e,errors:mt}=await nn(ee,C,se,Q.active,W,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,P&&P.initialHydration===!0,pe,G);te||(T=null,ae(C,He({matches:xe||se},om(G),{loaderData:_e,errors:mt})))}async function Un(k,C,P,B,W,se){se===void 0&&(se={}),Vn();let pe=s_(C,P);if(H({navigation:pe},{flushSync:se.flushSync===!0}),W){let G=await ga(B,C.pathname,k.signal);if(G.type==="aborted")return{shortCircuited:!0};if(G.type==="error"){let te=us(G.partialMatches).route.id;return{matches:G.partialMatches,pendingActionResult:[te,{type:Pe.error,error:G.error}]}}else if(G.matches)B=G.matches;else{let{notFoundMatches:te,error:xe,route:_e}=qc(C.pathname);return{matches:te,pendingActionResult:[_e.id,{type:Pe.error,error:xe}]}}}let Q,ee=so(B,C);if(!ee.route.action&&!ee.route.lazy)Q={type:Pe.error,error:Ft(405,{method:k.method,pathname:C.pathname,routeId:ee.route.id})};else if(Q=(await gn("action",w,k,[ee],B,null))[ee.route.id],k.signal.aborted)return{shortCircuited:!0};if(ps(Q)){let G;return se&&se.replace!=null?G=se.replace:G=nm(Q.response.headers.get("Location"),new URL(k.url),l)===w.location.pathname+w.location.search,await Yt(k,Q,!0,{submission:P,replace:G}),{shortCircuited:!0}}if(Nr(Q))throw Ft(400,{type:"defer-action"});if(Xt(Q)){let G=us(B,ee.route.id);return(se&&se.replace)!==!0&&(N=st.Push),{matches:B,pendingActionResult:[G.route.id,Q]}}return{matches:B,pendingActionResult:[ee.route.id,Q]}}async function nn(k,C,P,B,W,se,pe,Q,ee,G,te){let xe=W||ju(C,se),_e=se||pe||cm(xe),mt=!Z&&(!f.v7_partialHydration||!ee);if(B){if(mt){let Ge=Hn(te);H(He({navigation:xe},Ge!==void 0?{actionData:Ge}:{}),{flushSync:G})}let ke=await ga(P,C.pathname,k.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let Ge=us(ke.partialMatches).route.id;return{matches:ke.partialMatches,loaderData:{},errors:{[Ge]:ke.error}}}else if(ke.matches)P=ke.matches;else{let{error:Ge,notFoundMatches:zs,route:Li}=qc(C.pathname);return{matches:zs,loaderData:{},errors:{[Li.id]:Ge}}}}let Le=a||o,[Ce,Xe]=Zp(e.history,w,P,_e,C,f.v7_partialHydration&&ee===!0,f.v7_skipActionErrorRevalidation,J,ue,z,oe,ie,I,Le,l,te);if(Xc(ke=>!(P&&P.some(Ge=>Ge.route.id===ke))||Ce&&Ce.some(Ge=>Ge.route.id===ke)),M=++U,Ce.length===0&&Xe.length===0){let ke=rn();return ae(C,He({matches:P,loaderData:{},errors:te&&Xt(te[1])?{[te[0]]:te[1].error}:null},om(te),ke?{fetchers:new Map(w.fetchers)}:{}),{flushSync:G}),{shortCircuited:!0}}if(mt){let ke={};if(!B){ke.navigation=xe;let Ge=Hn(te);Ge!==void 0&&(ke.actionData=Ge)}Xe.length>0&&(ke.fetchers=kn(Xe)),H(ke,{flushSync:G})}Xe.forEach(ke=>{me(ke.key),ke.controller&&L.set(ke.key,ke.controller)});let Fs=()=>Xe.forEach(ke=>me(ke.key));T&&T.signal.addEventListener("abort",Fs);let{loaderResults:Di,fetcherResults:Wn}=await pr(w,P,Ce,Xe,k);if(k.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Fs),Xe.forEach(ke=>L.delete(ke.key));let Cn=Aa(Di);if(Cn)return await Yt(k,Cn.result,!0,{replace:Q}),{shortCircuited:!0};if(Cn=Aa(Wn),Cn)return I.add(Cn.key),await Yt(k,Cn.result,!0,{replace:Q}),{shortCircuited:!0};let{loaderData:Gc,errors:Oi}=sm(w,P,Di,te,Xe,Wn,ne);ne.forEach((ke,Ge)=>{ke.subscribe(zs=>{(zs||ke.done)&&ne.delete(Ge)})}),f.v7_partialHydration&&ee&&w.errors&&(Oi=He({},w.errors,Oi));let ts=rn(),xa=ft(M),ya=ts||xa||Xe.length>0;return He({matches:P,loaderData:Gc,errors:Oi},ya?{fetchers:new Map(w.fetchers)}:{})}function Hn(k){if(k&&!Xt(k[1]))return{[k[0]]:k[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function kn(k){return k.forEach(C=>{let P=w.fetchers.get(C.key),B=Wi(void 0,P?P.data:void 0);w.fetchers.set(C.key,B)}),new Map(w.fetchers)}function mn(k,C,P,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");me(k);let W=(B&&B.flushSync)===!0,se=a||o,pe=$d(w.location,w.matches,l,f.v7_prependBasename,P,f.v7_relativeSplatPath,C,B==null?void 0:B.relative),Q=cs(se,pe,l),ee=ma(Q,se,pe);if(ee.active&&ee.matches&&(Q=ee.matches),!Q){Ct(k,C,Ft(404,{pathname:pe}),{flushSync:W});return}let{path:G,submission:te,error:xe}=Qp(f.v7_normalizeFormMethod,!0,pe,B);if(xe){Ct(k,C,xe,{flushSync:W});return}let _e=so(Q,G),mt=(B&&B.preventScrollReset)===!0;if(te&&bn(te.formMethod)){Qr(k,C,G,_e,Q,ee.active,W,mt,te);return}ie.set(k,{routeId:C,path:G}),Jr(k,C,G,_e,Q,ee.active,W,mt,te)}async function Qr(k,C,P,B,W,se,pe,Q,ee){Vn(),ie.delete(k);function G(rt){if(!rt.route.action&&!rt.route.lazy){let Bs=Ft(405,{method:ee.formMethod,pathname:P,routeId:C});return Ct(k,C,Bs,{flushSync:pe}),!0}return!1}if(!se&&G(B))return;let te=w.fetchers.get(k);Ot(k,i_(ee,te),{flushSync:pe});let xe=new AbortController,_e=Us(e.history,P,xe.signal,ee);if(se){let rt=await ga(W,new URL(_e.url).pathname,_e.signal,k);if(rt.type==="aborted")return;if(rt.type==="error"){Ct(k,C,rt.error,{flushSync:pe});return}else if(rt.matches){if(W=rt.matches,B=so(W,P),G(B))return}else{Ct(k,C,Ft(404,{pathname:P}),{flushSync:pe});return}}L.set(k,xe);let mt=U,Ce=(await gn("action",w,_e,[B],W,k))[B.route.id];if(_e.signal.aborted){L.get(k)===xe&&L.delete(k);return}if(f.v7_fetcherPersist&&oe.has(k)){if(ps(Ce)||Xt(Ce)){Ot(k,xr(void 0));return}}else{if(ps(Ce))if(L.delete(k),M>mt){Ot(k,xr(void 0));return}else return I.add(k),Ot(k,Wi(ee)),Yt(_e,Ce,!1,{fetcherSubmission:ee,preventScrollReset:Q});if(Xt(Ce)){Ct(k,C,Ce.error);return}}if(Nr(Ce))throw Ft(400,{type:"defer-action"});let Xe=w.navigation.location||w.location,Fs=Us(e.history,Xe,xe.signal),Di=a||o,Wn=w.navigation.state!=="idle"?cs(Di,w.navigation.location,l):w.matches;ye(Wn,"Didn't find any matches after fetcher action");let Cn=++U;q.set(k,Cn);let Gc=Wi(ee,Ce.data);w.fetchers.set(k,Gc);let[Oi,ts]=Zp(e.history,w,Wn,ee,Xe,!1,f.v7_skipActionErrorRevalidation,J,ue,z,oe,ie,I,Di,l,[B.route.id,Ce]);ts.filter(rt=>rt.key!==k).forEach(rt=>{let Bs=rt.key,Ih=w.fetchers.get(Bs),L1=Wi(void 0,Ih?Ih.data:void 0);w.fetchers.set(Bs,L1),me(Bs),rt.controller&&L.set(Bs,rt.controller)}),H({fetchers:new Map(w.fetchers)});let xa=()=>ts.forEach(rt=>me(rt.key));xe.signal.addEventListener("abort",xa);let{loaderResults:ya,fetcherResults:ke}=await pr(w,Wn,Oi,ts,Fs);if(xe.signal.aborted)return;xe.signal.removeEventListener("abort",xa),q.delete(k),L.delete(k),ts.forEach(rt=>L.delete(rt.key));let Ge=Aa(ya);if(Ge)return Yt(Fs,Ge.result,!1,{preventScrollReset:Q});if(Ge=Aa(ke),Ge)return I.add(Ge.key),Yt(Fs,Ge.result,!1,{preventScrollReset:Q});let{loaderData:zs,errors:Li}=sm(w,Wn,ya,void 0,ts,ke,ne);if(w.fetchers.has(k)){let rt=xr(Ce.data);w.fetchers.set(k,rt)}ft(Cn),w.navigation.state==="loading"&&Cn>M?(ye(N,"Expected pending action"),T&&T.abort(),ae(w.navigation.location,{matches:Wn,loaderData:zs,errors:Li,fetchers:new Map(w.fetchers)})):(H({errors:Li,loaderData:im(w.loaderData,zs,Wn,Li),fetchers:new Map(w.fetchers)}),J=!1)}async function Jr(k,C,P,B,W,se,pe,Q,ee){let G=w.fetchers.get(k);Ot(k,Wi(ee,G?G.data:void 0),{flushSync:pe});let te=new AbortController,xe=Us(e.history,P,te.signal);if(se){let Ce=await ga(W,new URL(xe.url).pathname,xe.signal,k);if(Ce.type==="aborted")return;if(Ce.type==="error"){Ct(k,C,Ce.error,{flushSync:pe});return}else if(Ce.matches)W=Ce.matches,B=so(W,P);else{Ct(k,C,Ft(404,{pathname:P}),{flushSync:pe});return}}L.set(k,te);let _e=U,Le=(await gn("loader",w,xe,[B],W,k))[B.route.id];if(Nr(Le)&&(Le=await dh(Le,xe.signal,!0)||Le),L.get(k)===te&&L.delete(k),!xe.signal.aborted){if(oe.has(k)){Ot(k,xr(void 0));return}if(ps(Le))if(M>_e){Ot(k,xr(void 0));return}else{I.add(k),await Yt(xe,Le,!1,{preventScrollReset:Q});return}if(Xt(Le)){Ct(k,C,Le.error);return}ye(!Nr(Le),"Unhandled fetcher deferred data"),Ot(k,xr(Le.data))}}async function Yt(k,C,P,B){let{submission:W,fetcherSubmission:se,preventScrollReset:pe,replace:Q}=B===void 0?{}:B;C.response.headers.has("X-Remix-Revalidate")&&(J=!0);let ee=C.response.headers.get("Location");ye(ee,"Expected a Location header on the redirect Response"),ee=nm(ee,new URL(k.url),l);let G=Wo(w.location,ee,{_isRedirect:!0});if(n){let Ce=!1;if(C.response.headers.has("X-Remix-Reload-Document"))Ce=!0;else if(uh.test(ee)){const Xe=e.history.createURL(ee);Ce=Xe.origin!==t.location.origin||Ni(Xe.pathname,l)==null}if(Ce){Q?t.location.replace(ee):t.location.assign(ee);return}}T=null;let te=Q===!0||C.response.headers.has("X-Remix-Replace")?st.Replace:st.Push,{formMethod:xe,formAction:_e,formEncType:mt}=w.navigation;!W&&!se&&xe&&_e&&mt&&(W=cm(w.navigation));let Le=W||se;if(zw.has(C.response.status)&&Le&&bn(Le.formMethod))await qe(te,G,{submission:He({},Le,{formAction:ee}),preventScrollReset:pe||D,enableViewTransition:P?A:void 0});else{let Ce=ju(G,W);await qe(te,G,{overrideNavigation:Ce,fetcherSubmission:se,preventScrollReset:pe||D,enableViewTransition:P?A:void 0})}}async function gn(k,C,P,B,W,se){let pe,Q={};try{pe=await Yw(c,k,C,P,B,W,se,i,s)}catch(ee){return B.forEach(G=>{Q[G.route.id]={type:Pe.error,error:ee}}),Q}for(let[ee,G]of Object.entries(pe))if(Zw(G)){let te=G.result;Q[ee]={type:Pe.redirect,response:Gw(te,P,ee,W,l,f.v7_relativeSplatPath)}}else Q[ee]=await Xw(G);return Q}async function pr(k,C,P,B,W){let se=k.matches,pe=gn("loader",k,W,P,C,null),Q=Promise.all(B.map(async te=>{if(te.matches&&te.match&&te.controller){let _e=(await gn("loader",k,Us(e.history,te.path,te.controller.signal),[te.match],te.matches,te.key))[te.match.route.id];return{[te.key]:_e}}else return Promise.resolve({[te.key]:{type:Pe.error,error:Ft(404,{pathname:te.path})}})})),ee=await pe,G=(await Q).reduce((te,xe)=>Object.assign(te,xe),{});return await Promise.all([n_(C,ee,W.signal,se,k.loaderData),r_(C,G,B)]),{loaderResults:ee,fetcherResults:G}}function Vn(){J=!0,ue.push(...Xc()),ie.forEach((k,C)=>{L.has(C)&&z.add(C),me(C)})}function Ot(k,C,P){P===void 0&&(P={}),w.fetchers.set(k,C),H({fetchers:new Map(w.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function Ct(k,C,P,B){B===void 0&&(B={});let W=us(w.matches,C);le(k),H({errors:{[W.route.id]:P},fetchers:new Map(w.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function V(k){return re.set(k,(re.get(k)||0)+1),oe.has(k)&&oe.delete(k),w.fetchers.get(k)||Bw}function le(k){let C=w.fetchers.get(k);L.has(k)&&!(C&&C.state==="loading"&&q.has(k))&&me(k),ie.delete(k),q.delete(k),I.delete(k),f.v7_fetcherPersist&&oe.delete(k),z.delete(k),w.fetchers.delete(k)}function de(k){let C=(re.get(k)||0)-1;C<=0?(re.delete(k),oe.add(k),f.v7_fetcherPersist||le(k)):re.set(k,C),H({fetchers:new Map(w.fetchers)})}function me(k){let C=L.get(k);C&&(C.abort(),L.delete(k))}function $e(k){for(let C of k){let P=V(C),B=xr(P.data);w.fetchers.set(C,B)}}function rn(){let k=[],C=!1;for(let P of I){let B=w.fetchers.get(P);ye(B,"Expected fetcher: "+P),B.state==="loading"&&(I.delete(P),k.push(P),C=!0)}return $e(k),C}function ft(k){let C=[];for(let[P,B]of q)if(B<k){let W=w.fetchers.get(P);ye(W,"Expected fetcher: "+P),W.state==="loading"&&(me(P),q.delete(P),C.push(P))}return $e(C),C.length>0}function Zr(k,C){let P=w.blockers.get(k)||Vi;return fe.get(k)!==C&&fe.set(k,C),P}function Pi(k){w.blockers.delete(k),fe.delete(k)}function es(k,C){let P=w.blockers.get(k)||Vi;ye(P.state==="unblocked"&&C.state==="blocked"||P.state==="blocked"&&C.state==="blocked"||P.state==="blocked"&&C.state==="proceeding"||P.state==="blocked"&&C.state==="unblocked"||P.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+P.state+" -> "+C.state);let B=new Map(w.blockers);B.set(k,C),H({blockers:B})}function Oh(k){let{currentLocation:C,nextLocation:P,historyAction:B}=k;if(fe.size===0)return;fe.size>1&&bi(!1,"A router only supports one blocker at a time");let W=Array.from(fe.entries()),[se,pe]=W[W.length-1],Q=w.blockers.get(se);if(!(Q&&Q.state==="proceeding")&&pe({currentLocation:C,nextLocation:P,historyAction:B}))return se}function qc(k){let C=Ft(404,{pathname:k}),P=a||o,{matches:B,route:W}=am(P);return Xc(),{notFoundMatches:B,route:W,error:C}}function Xc(k){let C=[];return ne.forEach((P,B)=>{(!k||k(B))&&(P.cancel(),C.push(B),ne.delete(B))}),C}function M1(k,C,P){if(x=k,b=C,g=P||null,!y&&w.navigation===Eu){y=!0;let B=Ah(w.location,w.matches);B!=null&&H({restoreScrollPosition:B})}return()=>{x=null,b=null,g=null}}function Lh(k,C){return g&&g(k,C.map(B=>xw(B,w.loaderData)))||k.key}function P1(k,C){if(x&&b){let P=Lh(k,C);x[P]=b()}}function Ah(k,C){if(x){let P=Lh(k,C),B=x[P];if(typeof B=="number")return B}return null}function ma(k,C,P){if(d)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:ml(C,P,l,!0)}}else return{active:!0,matches:ml(C,P,l,!0)||[]};return{active:!1,matches:null}}async function ga(k,C,P,B){if(!d)return{type:"success",matches:k};let W=k;for(;;){let se=a==null,pe=a||o,Q=i;try{await d({signal:P,path:C,matches:W,fetcherKey:B,patch:(te,xe)=>{P.aborted||tm(te,xe,pe,Q,s)}})}catch(te){return{type:"error",error:te,partialMatches:W}}finally{se&&!P.aborted&&(o=[...o])}if(P.aborted)return{type:"aborted"};let ee=cs(pe,C,l);if(ee)return{type:"success",matches:ee};let G=ml(pe,C,l,!0);if(!G||W.length===G.length&&W.every((te,xe)=>te.route.id===G[xe].route.id))return{type:"success",matches:null};W=G}}function D1(k){i={},a=Xl(k,s,void 0,i)}function O1(k,C){let P=a==null;tm(k,C,a||o,i,s),P&&(o=[...o],H({}))}return j={get basename(){return l},get future(){return f},get state(){return w},get routes(){return o},get window(){return t},initialize:Be,subscribe:R,enableScrollRestoration:M1,navigate:nt,fetch:mn,revalidate:Me,createHref:k=>e.history.createHref(k),encodeLocation:k=>e.history.encodeLocation(k),getFetcher:V,deleteFetcher:de,dispose:lt,getBlocker:Zr,deleteBlocker:Pi,patchRoutes:O1,_internalFetchControllers:L,_internalActiveDeferreds:ne,_internalSetRoutes:D1},j}function Hw(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function $d(e,t,n,r,s,i,o,a){let l,c;if(o){l=[];for(let f of t)if(l.push(f),f.route.id===o){c=f;break}}else l=t,c=t[t.length-1];let d=Mc(s||".",Rc(l,i),Ni(e.pathname,n)||e.pathname,a==="path");if(s==null&&(d.search=e.search,d.hash=e.hash),(s==null||s===""||s===".")&&c){let f=fh(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let h=new URLSearchParams(d.search),p=h.getAll("index");h.delete("index"),p.filter(g=>g).forEach(g=>h.append("index",g));let x=h.toString();d.search=x?"?"+x:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:sr([n,d.pathname])),Rs(d)}function Qp(e,t,n,r){if(!r||!Hw(r))return{path:n};if(r.formMethod&&!t_(r.formMethod))return{path:n,error:Ft(405,{method:r.formMethod})};let s=()=>({path:n,error:Ft(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),a=My(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!bn(o))return s();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,x)=>{let[g,b]=x;return""+p+g+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!bn(o))return s();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}ye(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Hd(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Hd(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=rm(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=rm(l)}catch{return s()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(bn(d.formMethod))return{path:n,submission:d};let f=Yr(n);return t&&f.search&&fh(f.search)&&l.append("index",""),f.search="?"+l,{path:Rs(f),submission:d}}function Jp(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(s=>s.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function Zp(e,t,n,r,s,i,o,a,l,c,d,f,h,p,x,g){let b=g?Xt(g[1])?g[1].error:g[1].data:void 0,y=e.createURL(t.location),m=e.createURL(s),v=n;i&&t.errors?v=Jp(n,Object.keys(t.errors)[0],!0):g&&Xt(g[1])&&(v=Jp(n,g[0]));let S=g?g[1].statusCode:void 0,E=o&&S&&S>=400,j=v.filter((N,D)=>{let{route:T}=N;if(T.lazy)return!0;if(T.loader==null)return!1;if(i)return Ud(T,t.loaderData,t.errors);if(Vw(t.loaderData,t.matches[D],N)||l.some(Y=>Y===N.route.id))return!0;let A=t.matches[D],F=N;return em(N,He({currentUrl:y,currentParams:A.params,nextUrl:m,nextParams:F.params},r,{actionResult:b,actionStatus:S,defaultShouldRevalidate:E?!1:a||y.pathname+y.search===m.pathname+m.search||y.search!==m.search||Ty(A,F)}))}),w=[];return f.forEach((N,D)=>{if(i||!n.some(Z=>Z.route.id===N.routeId)||d.has(D))return;let T=cs(p,N.path,x);if(!T){w.push({key:D,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let A=t.fetchers.get(D),F=so(T,N.path),Y=!1;h.has(D)?Y=!1:c.has(D)?(c.delete(D),Y=!0):A&&A.state!=="idle"&&A.data===void 0?Y=a:Y=em(F,He({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:S,defaultShouldRevalidate:E?!1:a})),Y&&w.push({key:D,routeId:N.routeId,path:N.path,matches:T,match:F,controller:new AbortController})}),[j,w]}function Ud(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,s=n!=null&&n[e.id]!==void 0;return!r&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!s}function Vw(e,t,n){let r=!t||n.route.id!==t.route.id,s=e[n.route.id]===void 0;return r||s}function Ty(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function em(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function tm(e,t,n,r,s){var i;let o;if(e){let c=r[e];ye(c,"No route found to patch children into: routeId = "+e),c.children||(c.children=[]),o=c.children}else o=n;let a=t.filter(c=>!o.some(d=>Ry(c,d))),l=Xl(a,s,[e||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...l)}function Ry(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var s;return(s=t.children)==null?void 0:s.some(i=>Ry(n,i))}):!1}async function Ww(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let s=n[e.id];ye(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";bi(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!mw.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,He({},t(s),{lazy:void 0}))}async function Kw(e){let{matches:t}=e,n=t.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function Yw(e,t,n,r,s,i,o,a,l,c){let d=i.map(p=>p.route.lazy?Ww(p.route,l,a):void 0),f=i.map((p,x)=>{let g=d[x],b=s.some(m=>m.route.id===p.route.id);return He({},p,{shouldLoad:b,resolve:async m=>(m&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(b=!0),b?qw(t,r,p,g,m,c):Promise.resolve({type:Pe.data,result:void 0}))})}),h=await e({matches:f,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(d)}catch{}return h}async function qw(e,t,n,r,s,i){let o,a,l=c=>{let d,f=new Promise((x,g)=>d=g);a=()=>d(),t.signal.addEventListener("abort",a);let h=x=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):c({request:t,params:n.params,context:i},...x!==void 0?[x]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(g=>h(g)):h())}}catch(x){return{type:"error",result:x}}})();return Promise.race([p,f])};try{let c=n.route[e];if(r)if(c){let d,[f]=await Promise.all([l(c).catch(h=>{d=h}),r]);if(d!==void 0)throw d;o=f}else if(await r,c=n.route[e],c)o=await l(c);else if(e==="action"){let d=new URL(t.url),f=d.pathname+d.search;throw Ft(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:Pe.data,result:void 0};else if(c)o=await l(c);else{let d=new URL(t.url),f=d.pathname+d.search;throw Ft(404,{pathname:f})}ye(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Pe.error,result:c}}finally{a&&t.signal.removeEventListener("abort",a)}return o}async function Xw(e){let{result:t,type:n}=e;if(Py(t)){let f;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(h){return{type:Pe.error,error:h}}return n===Pe.error?{type:Pe.error,error:new Gl(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:Pe.data,data:f,statusCode:t.status,headers:t.headers}}if(n===Pe.error){if(lm(t)){var r,s;if(t.data instanceof Error){var i,o;return{type:Pe.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:Pe.error,error:new Gl(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:Ko(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:Pe.error,error:t,statusCode:Ko(t)?t.status:void 0}}if(e_(t)){var a,l;return{type:Pe.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(lm(t)){var c,d;return{type:Pe.data,data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}}return{type:Pe.data,data:t}}function Gw(e,t,n,r,s,i){let o=e.headers.get("Location");if(ye(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!uh.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=$d(new URL(t.url),a,s,!0,o,i),e.headers.set("Location",o)}return e}function nm(e,t,n){if(uh.test(e)){let r=e,s=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=Ni(s.pathname,n)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function Us(e,t,n,r){let s=e.createURL(My(t)).toString(),i={signal:n};if(r&&bn(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=Hd(r.formData):i.body=r.formData}return new Request(s,i)}function Hd(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function rm(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Qw(e,t,n,r,s){let i={},o=null,a,l=!1,c={},d=n&&Xt(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,p=t[h];if(ye(!ps(p),"Cannot handle redirect results in processLoaderData"),Xt(p)){let x=p.error;d!==void 0&&(x=d,d=void 0),o=o||{};{let g=us(e,h);o[g.route.id]==null&&(o[g.route.id]=x)}i[h]=void 0,l||(l=!0,a=Ko(p.error)?p.error.status:500),p.headers&&(c[h]=p.headers)}else Nr(p)?(r.set(h,p.deferredData),i[h]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers)):(i[h]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers))}),d!==void 0&&n&&(o={[n[0]]:d},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function sm(e,t,n,r,s,i,o){let{loaderData:a,errors:l}=Qw(t,n,r,o);return s.forEach(c=>{let{key:d,match:f,controller:h}=c,p=i[d];if(ye(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Xt(p)){let x=us(e.matches,f==null?void 0:f.route.id);l&&l[x.route.id]||(l=He({},l,{[x.route.id]:p.error})),e.fetchers.delete(d)}else if(ps(p))ye(!1,"Unhandled fetcher revalidation redirect");else if(Nr(p))ye(!1,"Unhandled fetcher deferred data");else{let x=xr(p.data);e.fetchers.set(d,x)}}),{loaderData:a,errors:l}}function im(e,t,n,r){let s=He({},t);for(let i of n){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(s[o]=t[o]):e[o]!==void 0&&i.route.loader&&(s[o]=e[o]),r&&r.hasOwnProperty(o))break}return s}function om(e){return e?Xt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function us(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function am(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ft(e,t){let{pathname:n,routeId:r,method:s,type:i,message:o}=t===void 0?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",l='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Gl(e||500,a,new Error(l),!0)}function Aa(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,s]=t[n];if(ps(s))return{key:r,result:s}}}function My(e){let t=typeof e=="string"?Yr(e):e;return Rs(He({},t,{hash:""}))}function Jw(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Zw(e){return Py(e.result)&&Fw.has(e.result.status)}function Nr(e){return e.type===Pe.deferred}function Xt(e){return e.type===Pe.error}function ps(e){return(e&&e.type)===Pe.redirect}function lm(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function e_(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Py(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function t_(e){return Iw.has(e.toLowerCase())}function bn(e){return Lw.has(e.toLowerCase())}async function n_(e,t,n,r,s){let i=Object.entries(t);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=e.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let d=r.find(h=>h.route.id===c.route.id),f=d!=null&&!Ty(d,c)&&(s&&s[c.route.id])!==void 0;Nr(l)&&f&&await dh(l,n,!1).then(h=>{h&&(t[a]=h)})}}async function r_(e,t,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=t[s];e.find(c=>(c==null?void 0:c.route.id)===i)&&Nr(a)&&(ye(o,"Expected an AbortController for revalidating fetcher deferred result"),await dh(a,o.signal,!0).then(c=>{c&&(t[s]=c)}))}}async function dh(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Pe.data,data:e.deferredData.unwrappedData}}catch(s){return{type:Pe.error,error:s}}return{type:Pe.data,data:e.deferredData.data}}}function fh(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function so(e,t){let n=typeof t=="string"?Yr(t).search:t.search;if(e[e.length-1].route.index&&fh(n||""))return e[e.length-1];let r=Ny(e);return r[r.length-1]}function cm(e){let{formMethod:t,formAction:n,formEncType:r,text:s,formData:i,json:o}=e;if(!(!t||!n||!r)){if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function ju(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function s_(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Wi(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function i_(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function xr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function o_(e,t){try{let n=e.sessionStorage.getItem(Cy);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch{}}function a_(e,t){if(t.size>0){let n={};for(let[r,s]of t)n[r]=[...s];try{e.sessionStorage.setItem(Cy,JSON.stringify(n))}catch(r){bi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(this,arguments)}const Pc=_.createContext(null),Dy=_.createContext(null),qr=_.createContext(null),hh=_.createContext(null),hr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Oy=_.createContext(null);function l_(e,t){let{relative:n}=t===void 0?{}:t;ki()||ye(!1);let{basename:r,navigator:s}=_.useContext(qr),{hash:i,pathname:o,search:a}=Iy(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:sr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ki(){return _.useContext(hh)!=null}function Xr(){return ki()||ye(!1),_.useContext(hh).location}function Ly(e){_.useContext(qr).static||_.useLayoutEffect(e)}function $n(){let{isDataRoute:e}=_.useContext(hr);return e?b_():c_()}function c_(){ki()||ye(!1);let e=_.useContext(Pc),{basename:t,future:n,navigator:r}=_.useContext(qr),{matches:s}=_.useContext(hr),{pathname:i}=Xr(),o=JSON.stringify(Rc(s,n.v7_relativeSplatPath)),a=_.useRef(!1);return Ly(()=>{a.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Mc(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:sr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}function Ay(){let{matches:e}=_.useContext(hr),t=e[e.length-1];return t?t.params:{}}function Iy(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=_.useContext(qr),{matches:s}=_.useContext(hr),{pathname:i}=Xr(),o=JSON.stringify(Rc(s,r.v7_relativeSplatPath));return _.useMemo(()=>Mc(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function u_(e,t,n,r){ki()||ye(!1);let{navigator:s,static:i}=_.useContext(qr),{matches:o}=_.useContext(hr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Xr(),f;f=d;let h=f.pathname||"/",p=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=!i&&n&&n.matches&&n.matches.length>0?n.matches:cs(e,{pathname:p});return m_(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:sr([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:sr([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r)}function d_(){let e=v_(),t=Ko(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:s},n):null,null)}const f_=_.createElement(d_,null);class h_ extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(hr.Provider,{value:this.props.routeContext},_.createElement(Oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p_(e){let{routeContext:t,match:n,children:r}=e,s=_.useContext(Pc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(hr.Provider,{value:t},r)}function m_(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,x=!1,g=null,b=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||f_,l&&(c<0&&h===0?(w_("route-fallback"),x=!0,b=null):c===h&&(x=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),m=()=>{let v;return p?v=g:x?v=b:f.route.Component?v=_.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,_.createElement(p_,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(h_,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var Fy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Fy||{}),zy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zy||{});function g_(e){let t=_.useContext(Pc);return t||ye(!1),t}function x_(e){let t=_.useContext(Dy);return t||ye(!1),t}function y_(e){let t=_.useContext(hr);return t||ye(!1),t}function By(e){let t=y_(),n=t.matches[t.matches.length-1];return n.route.id||ye(!1),n.route.id}function v_(){var e;let t=_.useContext(Oy),n=x_(zy.UseRouteError),r=By();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function b_(){let{router:e}=g_(Fy.UseNavigateStable),t=By(),n=_.useRef(!1);return Ly(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ql({fromRouteId:t},i)))},[e,t])}const um={};function w_(e,t,n){um[e]||(um[e]=!0)}function __(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function $y(e){let{to:t,replace:n,state:r,relative:s}=e;ki()||ye(!1);let{future:i,static:o}=_.useContext(qr),{matches:a}=_.useContext(hr),{pathname:l}=Xr(),c=$n(),d=Mc(t,Rc(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return _.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function S_(e){let{basename:t="/",children:n=null,location:r,navigationType:s=st.Pop,navigator:i,static:o=!1,future:a}=e;ki()&&ye(!1);let l=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:i,static:o,future:Ql({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Yr(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:x="default"}=r,g=_.useMemo(()=>{let b=Ni(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:x},navigationType:s}},[l,d,f,h,p,x,s]);return g==null?null:_.createElement(qr.Provider,{value:c},_.createElement(hh.Provider,{children:n,value:g}))}new Promise(()=>{});function E_(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:_.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:_.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:_.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yo.apply(this,arguments)}function j_(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function N_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function k_(e,t){return e.button===0&&(!t||t==="_self")&&!N_(e)}function Vd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function C_(e,t){let n=Vd(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const T_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],R_="6";try{window.__reactRouterVersion=R_}catch{}function M_(e,t){return Uw({basename:void 0,future:Yo({},void 0,{v7_prependBasename:!0}),history:fw({window:void 0}),hydrationData:P_(),routes:e,mapRouteProperties:E_,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function P_(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Yo({},t,{errors:D_(t.errors)})),t}function D_(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,s]of t)if(s&&s.__type==="RouteErrorResponse")n[r]=new Gl(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const O_=_.createContext({isTransitioning:!1}),L_=_.createContext(new Map),A_="startTransition",dm=Z1[A_],I_="flushSync",fm=dw[I_];function F_(e){dm?dm(e):e()}function Ki(e){fm?fm(e):e()}class z_{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function B_(e){let{fallbackElement:t,router:n,future:r}=e,[s,i]=_.useState(n.state),[o,a]=_.useState(),[l,c]=_.useState({isTransitioning:!1}),[d,f]=_.useState(),[h,p]=_.useState(),[x,g]=_.useState(),b=_.useRef(new Map),{v7_startTransition:y}=r||{},m=_.useCallback(N=>{y?F_(N):N()},[y]),v=_.useCallback((N,D)=>{let{deletedFetchers:T,flushSync:A,viewTransitionOpts:F}=D;N.fetchers.forEach((Z,J)=>{Z.data!==void 0&&b.current.set(J,Z.data)}),T.forEach(Z=>b.current.delete(Z));let Y=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!F||Y){A?Ki(()=>i(N)):m(()=>i(N));return}if(A){Ki(()=>{h&&(d&&d.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let Z=n.window.document.startViewTransition(()=>{Ki(()=>i(N))});Z.finished.finally(()=>{Ki(()=>{f(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),Ki(()=>p(Z));return}h?(d&&d.resolve(),h.skipTransition(),g({state:N,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(a(N),c({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,h,d,b,m]);_.useLayoutEffect(()=>n.subscribe(v),[n,v]),_.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new z_)},[l]),_.useEffect(()=>{if(d&&o&&n.window){let N=o,D=d.promise,T=n.window.document.startViewTransition(async()=>{m(()=>i(N)),await D});T.finished.finally(()=>{f(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(T)}},[m,o,d,n.window]),_.useEffect(()=>{d&&o&&s.location.key===o.location.key&&d.resolve()},[d,h,s.location,o]),_.useEffect(()=>{!l.isTransitioning&&x&&(a(x.state),c({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),g(void 0))},[l.isTransitioning,x]),_.useEffect(()=>{},[]);let S=_.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:N=>n.navigate(N),push:(N,D,T)=>n.navigate(N,{state:D,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(N,D,T)=>n.navigate(N,{replace:!0,state:D,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[n]),E=n.basename||"/",j=_.useMemo(()=>({router:n,navigator:S,static:!1,basename:E}),[n,S,E]),w=_.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return _.useEffect(()=>__(r,n.future),[r,n.future]),_.createElement(_.Fragment,null,_.createElement(Pc.Provider,{value:j},_.createElement(Dy.Provider,{value:s},_.createElement(L_.Provider,{value:b.current},_.createElement(O_.Provider,{value:l},_.createElement(S_,{basename:E,location:s.location,navigationType:s.historyAction,navigator:S,future:w},s.initialized||n.future.v7_partialHydration?_.createElement($_,{routes:n.routes,future:n.future,state:s}):t))))),null)}const $_=_.memo(U_);function U_(e){let{routes:t,future:n,state:r}=e;return u_(t,void 0,r,n)}const H_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cr=_.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,h=j_(t,T_),{basename:p}=_.useContext(qr),x,g=!1;if(typeof c=="string"&&V_.test(c)&&(x=c,H_))try{let v=new URL(window.location.href),S=c.startsWith("//")?new URL(v.protocol+c):new URL(c),E=Ni(S.pathname,p);S.origin===v.origin&&E!=null?c=E+S.search+S.hash:g=!0}catch{}let b=l_(c,{relative:s}),y=W_(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function m(v){r&&r(v),v.defaultPrevented||y(v)}return _.createElement("a",Yo({},h,{href:x||b,onClick:g||i?r:m,ref:n,target:l}))});var hm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hm||(hm={}));var pm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pm||(pm={}));function W_(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=$n(),c=Xr(),d=Iy(e,{relative:o});return _.useCallback(f=>{if(k_(f,n)){f.preventDefault();let h=r!==void 0?r:Rs(c)===Rs(d);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,e,i,o,a])}function K_(e){let t=_.useRef(Vd(e)),n=_.useRef(!1),r=Xr(),s=_.useMemo(()=>C_(r.search,n.current?null:t.current),[r.search]),i=$n(),o=_.useCallback((a,l)=>{const c=Vd(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}function Uy(e,t){return function(){return e.apply(t,arguments)}}const{toString:Y_}=Object.prototype,{getPrototypeOf:ph}=Object,{iterator:Dc,toStringTag:Hy}=Symbol,Oc=(e=>t=>{const n=Y_.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Nn=e=>(e=e.toLowerCase(),t=>Oc(t)===e),Lc=e=>t=>typeof t===e,{isArray:Ci}=Array,qo=Lc("undefined");function q_(e){return e!==null&&!qo(e)&&e.constructor!==null&&!qo(e.constructor)&&Wt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Vy=Nn("ArrayBuffer");function X_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Vy(e.buffer),t}const G_=Lc("string"),Wt=Lc("function"),Wy=Lc("number"),Ac=e=>e!==null&&typeof e=="object",Q_=e=>e===!0||e===!1,gl=e=>{if(Oc(e)!=="object")return!1;const t=ph(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Hy in e)&&!(Dc in e)},J_=Nn("Date"),Z_=Nn("File"),eS=Nn("Blob"),tS=Nn("FileList"),nS=e=>Ac(e)&&Wt(e.pipe),rS=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Wt(e.append)&&((t=Oc(e))==="formdata"||t==="object"&&Wt(e.toString)&&e.toString()==="[object FormData]"))},sS=Nn("URLSearchParams"),[iS,oS,aS,lS]=["ReadableStream","Request","Response","Headers"].map(Nn),cS=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function aa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Ci(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function Ky(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const ms=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yy=e=>!qo(e)&&e!==ms;function Wd(){const{caseless:e}=Yy(this)&&this||{},t={},n=(r,s)=>{const i=e&&Ky(t,s)||s;gl(t[i])&&gl(r)?t[i]=Wd(t[i],r):gl(r)?t[i]=Wd({},r):Ci(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&aa(arguments[r],n);return t}const uS=(e,t,n,{allOwnKeys:r}={})=>(aa(t,(s,i)=>{n&&Wt(s)?e[i]=Uy(s,n):e[i]=s},{allOwnKeys:r}),e),dS=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fS=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},hS=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&ph(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},pS=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},mS=e=>{if(!e)return null;if(Ci(e))return e;let t=e.length;if(!Wy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},gS=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ph(Uint8Array)),xS=(e,t)=>{const r=(e&&e[Dc]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},yS=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},vS=Nn("HTMLFormElement"),bS=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),mm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),wS=Nn("RegExp"),qy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};aa(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},_S=e=>{qy(e,(t,n)=>{if(Wt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Wt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},SS=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ci(e)?r(e):r(String(e).split(t)),n},ES=()=>{},jS=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function NS(e){return!!(e&&Wt(e.append)&&e[Hy]==="FormData"&&e[Dc])}const kS=e=>{const t=new Array(10),n=(r,s)=>{if(Ac(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const i=Ci(r)?[]:{};return aa(r,(o,a)=>{const l=n(o,s+1);!qo(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},CS=Nn("AsyncFunction"),TS=e=>e&&(Ac(e)||Wt(e))&&Wt(e.then)&&Wt(e.catch),Xy=((e,t)=>e?setImmediate:t?((n,r)=>(ms.addEventListener("message",({source:s,data:i})=>{s===ms&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ms.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Wt(ms.postMessage)),RS=typeof queueMicrotask<"u"?queueMicrotask.bind(ms):typeof process<"u"&&process.nextTick||Xy,MS=e=>e!=null&&Wt(e[Dc]),O={isArray:Ci,isArrayBuffer:Vy,isBuffer:q_,isFormData:rS,isArrayBufferView:X_,isString:G_,isNumber:Wy,isBoolean:Q_,isObject:Ac,isPlainObject:gl,isReadableStream:iS,isRequest:oS,isResponse:aS,isHeaders:lS,isUndefined:qo,isDate:J_,isFile:Z_,isBlob:eS,isRegExp:wS,isFunction:Wt,isStream:nS,isURLSearchParams:sS,isTypedArray:gS,isFileList:tS,forEach:aa,merge:Wd,extend:uS,trim:cS,stripBOM:dS,inherits:fS,toFlatObject:hS,kindOf:Oc,kindOfTest:Nn,endsWith:pS,toArray:mS,forEachEntry:xS,matchAll:yS,isHTMLForm:vS,hasOwnProperty:mm,hasOwnProp:mm,reduceDescriptors:qy,freezeMethods:_S,toObjectSet:SS,toCamelCase:bS,noop:ES,toFiniteNumber:jS,findKey:Ky,global:ms,isContextDefined:Yy,isSpecCompliantForm:NS,toJSONObject:kS,isAsyncFn:CS,isThenable:TS,setImmediate:Xy,asap:RS,isIterable:MS};function ge(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}O.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const Gy=ge.prototype,Qy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Qy[e]={value:e}});Object.defineProperties(ge,Qy);Object.defineProperty(Gy,"isAxiosError",{value:!0});ge.from=(e,t,n,r,s,i)=>{const o=Object.create(Gy);return O.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ge.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const PS=null;function Kd(e){return O.isPlainObject(e)||O.isArray(e)}function Jy(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function gm(e,t,n){return e?e.concat(t).map(function(s,i){return s=Jy(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function DS(e){return O.isArray(e)&&!e.some(Kd)}const OS=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function Ic(e,t,n){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!O.isUndefined(b[g])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(s))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(O.isDate(x))return x.toISOString();if(!l&&O.isBlob(x))throw new ge("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(x)||O.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,g,b){let y=x;if(x&&!b&&typeof x=="object"){if(O.endsWith(g,"{}"))g=r?g:g.slice(0,-2),x=JSON.stringify(x);else if(O.isArray(x)&&DS(x)||(O.isFileList(x)||O.endsWith(g,"[]"))&&(y=O.toArray(x)))return g=Jy(g),y.forEach(function(v,S){!(O.isUndefined(v)||v===null)&&t.append(o===!0?gm([g],S,i):o===null?g:g+"[]",c(v))}),!1}return Kd(x)?!0:(t.append(gm(b,g,i),c(x)),!1)}const f=[],h=Object.assign(OS,{defaultVisitor:d,convertValue:c,isVisitable:Kd});function p(x,g){if(!O.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(x),O.forEach(x,function(y,m){(!(O.isUndefined(y)||y===null)&&s.call(t,y,O.isString(m)?m.trim():m,g,h))===!0&&p(y,g?g.concat(m):[m])}),f.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return p(e),t}function xm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function mh(e,t){this._pairs=[],e&&Ic(e,this,t)}const Zy=mh.prototype;Zy.append=function(t,n){this._pairs.push([t,n])};Zy.toString=function(t){const n=t?function(r){return t.call(this,r,xm)}:xm;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function LS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ev(e,t,n){if(!t)return e;const r=n&&n.encode||LS;O.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=O.isURLSearchParams(t)?t.toString():new mh(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class ym{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(r){r!==null&&t(r)})}}const tv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},AS=typeof URLSearchParams<"u"?URLSearchParams:mh,IS=typeof FormData<"u"?FormData:null,FS=typeof Blob<"u"?Blob:null,zS={isBrowser:!0,classes:{URLSearchParams:AS,FormData:IS,Blob:FS},protocols:["http","https","file","blob","url","data"]},gh=typeof window<"u"&&typeof document<"u",Yd=typeof navigator=="object"&&navigator||void 0,BS=gh&&(!Yd||["ReactNative","NativeScript","NS"].indexOf(Yd.product)<0),$S=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",US=gh&&window.location.href||"http://localhost",HS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gh,hasStandardBrowserEnv:BS,hasStandardBrowserWebWorkerEnv:$S,navigator:Yd,origin:US},Symbol.toStringTag,{value:"Module"})),jt={...HS,...zS};function VS(e,t){return Ic(e,new jt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return jt.isNode&&O.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function WS(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function KS(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function nv(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&O.isArray(s)?s.length:o,l?(O.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!O.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&O.isArray(s[o])&&(s[o]=KS(s[o])),!a)}if(O.isFormData(e)&&O.isFunction(e.entries)){const n={};return O.forEachEntry(e,(r,s)=>{t(WS(r),s,n,0)}),n}return null}function YS(e,t,n){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const la={transitional:tv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=O.isObject(t);if(i&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return s?JSON.stringify(nv(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return VS(t,this.formSerializer).toString();if((a=O.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ic(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),YS(t)):t}],transformResponse:[function(t){const n=this.transitional||la.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?ge.from(a,ge.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jt.classes.FormData,Blob:jt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{la.headers[e]={}});const qS=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XS=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&qS[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},vm=Symbol("internals");function Yi(e){return e&&String(e).trim().toLowerCase()}function xl(e){return e===!1||e==null?e:O.isArray(e)?e.map(xl):String(e)}function GS(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const QS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Nu(e,t,n,r,s){if(O.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!O.isString(t)){if(O.isString(r))return t.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(t)}}function JS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ZS(e,t){const n=O.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let Kt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,c){const d=Yi(l);if(!d)throw new Error("header name must be a non-empty string");const f=O.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||l]=xl(a))}const o=(a,l)=>O.forEach(a,(c,d)=>i(c,d,l));if(O.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(O.isString(t)&&(t=t.trim())&&!QS(t))o(XS(t),n);else if(O.isObject(t)&&O.isIterable(t)){let a={},l,c;for(const d of t){if(!O.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?O.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Yi(t),t){const r=O.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return GS(s);if(O.isFunction(n))return n.call(this,s,r);if(O.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Yi(t),t){const r=O.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Nu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Yi(o),o){const a=O.findKey(r,o);a&&(!n||Nu(r,r[a],a,n))&&(delete r[a],s=!0)}}return O.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Nu(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return O.forEach(this,(s,i)=>{const o=O.findKey(r,i);if(o){n[o]=xl(s),delete n[i];return}const a=t?JS(i):String(i).trim();a!==i&&delete n[i],n[a]=xl(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return O.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&O.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[vm]=this[vm]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Yi(o);r[a]||(ZS(s,o),r[a]=!0)}return O.isArray(t)?t.forEach(i):i(t),this}};Kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Kt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});O.freezeMethods(Kt);function ku(e,t){const n=this||la,r=t||n,s=Kt.from(r.headers);let i=r.data;return O.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function rv(e){return!!(e&&e.__CANCEL__)}function Ti(e,t,n){ge.call(this,e??"canceled",ge.ERR_CANCELED,t,n),this.name="CanceledError"}O.inherits(Ti,ge,{__CANCEL__:!0});function sv(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function e4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function t4(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=r[i];o||(o=c),n[s]=l,r[s]=c;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const p=d&&c-d;return p?Math.round(h*1e3/p):void 0}}function n4(e,t){let n=0,r=1e3/t,s,i;const o=(c,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const Jl=(e,t,n=3)=>{let r=0;const s=t4(50,250);return n4(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},bm=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},wm=e=>(...t)=>O.asap(()=>e(...t)),r4=jt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,jt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(jt.origin),jt.navigator&&/(msie|trident)/i.test(jt.navigator.userAgent)):()=>!0,s4=jt.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];O.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),O.isString(r)&&o.push("path="+r),O.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function i4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function o4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function iv(e,t,n){let r=!i4(t);return e&&(r||n==!1)?o4(e,t):t}const _m=e=>e instanceof Kt?{...e}:e;function Ms(e,t){t=t||{};const n={};function r(c,d,f,h){return O.isPlainObject(c)&&O.isPlainObject(d)?O.merge.call({caseless:h},c,d):O.isPlainObject(d)?O.merge({},d):O.isArray(d)?d.slice():d}function s(c,d,f,h){if(O.isUndefined(d)){if(!O.isUndefined(c))return r(void 0,c,f,h)}else return r(c,d,f,h)}function i(c,d){if(!O.isUndefined(d))return r(void 0,d)}function o(c,d){if(O.isUndefined(d)){if(!O.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,f)=>s(_m(c),_m(d),f,!0)};return O.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=l[d]||s,h=f(e[d],t[d],d);O.isUndefined(h)&&f!==a||(n[d]=h)}),n}const ov=e=>{const t=Ms({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=Kt.from(o),t.url=ev(iv(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(O.isFormData(n)){if(jt.hasStandardBrowserEnv||jt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(jt.hasStandardBrowserEnv&&(r&&O.isFunction(r)&&(r=r(t)),r||r!==!1&&r4(t.url))){const c=s&&i&&s4.read(i);c&&o.set(s,c)}return t},a4=typeof XMLHttpRequest<"u",l4=a4&&function(e){return new Promise(function(n,r){const s=ov(e);let i=s.data;const o=Kt.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,d,f,h,p,x;function g(){p&&p(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function y(){if(!b)return;const v=Kt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:e,request:b};sv(function(w){n(w),g()},function(w){r(w),g()},E),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(r(new ge("Request aborted",ge.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new ge("Network Error",ge.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||tv;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new ge(S,E.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&O.forEach(o.toJSON(),function(S,E){b.setRequestHeader(E,S)}),O.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),a&&a!=="json"&&(b.responseType=s.responseType),c&&([h,x]=Jl(c,!0),b.addEventListener("progress",h)),l&&b.upload&&([f,p]=Jl(l),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=v=>{b&&(r(!v||v.type?new Ti(null,e,b):v),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const m=e4(s.url);if(m&&jt.protocols.indexOf(m)===-1){r(new ge("Unsupported protocol "+m+":",ge.ERR_BAD_REQUEST,e));return}b.send(i||null)})},c4=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof ge?d:new Ti(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new ge(`timeout ${t} of ms exceeded`,ge.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>O.asap(a),l}},u4=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},d4=async function*(e,t){for await(const n of f4(e))yield*u4(n,t)},f4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Sm=(e,t,n,r)=>{const s=d4(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await s.next();if(c){a(),l.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Fc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",av=Fc&&typeof ReadableStream=="function",h4=Fc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),lv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},p4=av&&lv(()=>{let e=!1;const t=new Request(jt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Em=64*1024,qd=av&&lv(()=>O.isReadableStream(new Response("").body)),Zl={stream:qd&&(e=>e.body)};Fc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Zl[t]&&(Zl[t]=O.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ge(`Response type '${t}' is not supported`,ge.ERR_NOT_SUPPORT,r)})})})(new Response);const m4=async e=>{if(e==null)return 0;if(O.isBlob(e))return e.size;if(O.isSpecCompliantForm(e))return(await new Request(jt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(O.isArrayBufferView(e)||O.isArrayBuffer(e))return e.byteLength;if(O.isURLSearchParams(e)&&(e=e+""),O.isString(e))return(await h4(e)).byteLength},g4=async(e,t)=>{const n=O.toFiniteNumber(e.getContentLength());return n??m4(t)},x4=Fc&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:h}=ov(e);c=c?(c+"").toLowerCase():"text";let p=c4([s,i&&i.toAbortSignal()],o),x;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(l&&p4&&n!=="get"&&n!=="head"&&(b=await g4(d,r))!==0){let E=new Request(t,{method:"POST",body:r,duplex:"half"}),j;if(O.isFormData(r)&&(j=E.headers.get("content-type"))&&d.setContentType(j),E.body){const[w,N]=bm(b,Jl(wm(l)));r=Sm(E.body,Em,w,N)}}O.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;x=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:y?f:void 0});let m=await fetch(x);const v=qd&&(c==="stream"||c==="response");if(qd&&(a||v&&g)){const E={};["status","statusText","headers"].forEach(D=>{E[D]=m[D]});const j=O.toFiniteNumber(m.headers.get("content-length")),[w,N]=a&&bm(j,Jl(wm(a),!0))||[];m=new Response(Sm(m.body,Em,w,()=>{N&&N(),g&&g()}),E)}c=c||"text";let S=await Zl[O.findKey(Zl,c)||"text"](m,e);return!v&&g&&g(),await new Promise((E,j)=>{sv(E,j,{data:S,headers:Kt.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:x})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,e,x),{cause:y.cause||y}):ge.from(y,y&&y.code,e,x)}}),Xd={http:PS,xhr:l4,fetch:x4};O.forEach(Xd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const jm=e=>`- ${e}`,y4=e=>O.isFunction(e)||e===null||e===!1,cv={getAdapter:e=>{e=O.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!y4(n)&&(r=Xd[(o=String(n)).toLowerCase()],r===void 0))throw new ge(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(jm).join(`
`):" "+jm(i[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Xd};function Cu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ti(null,e)}function Nm(e){return Cu(e),e.headers=Kt.from(e.headers),e.data=ku.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),cv.getAdapter(e.adapter||la.adapter)(e).then(function(r){return Cu(e),r.data=ku.call(e,e.transformResponse,r),r.headers=Kt.from(r.headers),r},function(r){return rv(r)||(Cu(e),r&&r.response&&(r.response.data=ku.call(e,e.transformResponse,r.response),r.response.headers=Kt.from(r.response.headers))),Promise.reject(r)})}const uv="1.9.0",zc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{zc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const km={};zc.transitional=function(t,n,r){function s(i,o){return"[Axios v"+uv+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new ge(s(o," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!km[o]&&(km[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};zc.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function v4(e,t,n){if(typeof e!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new ge("option "+i+" must be "+l,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+i,ge.ERR_BAD_OPTION)}}const yl={assertOptions:v4,validators:zc},Rn=yl.validators;let _s=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ym,response:new ym}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ms(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&yl.assertOptions(r,{silentJSONParsing:Rn.transitional(Rn.boolean),forcedJSONParsing:Rn.transitional(Rn.boolean),clarifyTimeoutError:Rn.transitional(Rn.boolean)},!1),s!=null&&(O.isFunction(s)?n.paramsSerializer={serialize:s}:yl.assertOptions(s,{encode:Rn.function,serialize:Rn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),yl.assertOptions(n,{baseUrl:Rn.spelling("baseURL"),withXsrfToken:Rn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&O.merge(i.common,i[n.method]);i&&O.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=Kt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!l){const x=[Nm.bind(this),void 0];for(x.unshift.apply(x,a),x.push.apply(x,c),h=x.length,d=Promise.resolve(n);f<h;)d=d.then(x[f++],x[f++]);return d}h=a.length;let p=n;for(f=0;f<h;){const x=a[f++],g=a[f++];try{p=x(p)}catch(b){g.call(this,b);break}}try{d=Nm.call(this,p)}catch(x){return Promise.reject(x)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Ms(this.defaults,t);const n=iv(t.baseURL,t.url,t.allowAbsoluteUrls);return ev(n,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){_s.prototype[t]=function(n,r){return this.request(Ms(r||{},{method:t,url:n,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Ms(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}_s.prototype[t]=n(),_s.prototype[t+"Form"]=n(!0)});let b4=class dv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new Ti(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new dv(function(s){t=s}),cancel:t}}};function w4(e){return function(n){return e.apply(null,n)}}function _4(e){return O.isObject(e)&&e.isAxiosError===!0}const Gd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gd).forEach(([e,t])=>{Gd[t]=e});function fv(e){const t=new _s(e),n=Uy(_s.prototype.request,t);return O.extend(n,_s.prototype,t,{allOwnKeys:!0}),O.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return fv(Ms(e,s))},n}const Re=fv(la);Re.Axios=_s;Re.CanceledError=Ti;Re.CancelToken=b4;Re.isCancel=rv;Re.VERSION=uv;Re.toFormData=Ic;Re.AxiosError=ge;Re.Cancel=Re.CanceledError;Re.all=function(t){return Promise.all(t)};Re.spread=w4;Re.isAxiosError=_4;Re.mergeConfig=Ms;Re.AxiosHeaders=Kt;Re.formToJSON=e=>nv(O.isHTMLForm(e)?new FormData(e):e);Re.getAdapter=cv.getAdapter;Re.HttpStatusCode=Gd;Re.default=Re;const{Axios:_C,AxiosError:SC,CanceledError:EC,isCancel:jC,CancelToken:NC,VERSION:kC,all:CC,Cancel:TC,isAxiosError:RC,spread:MC,toFormData:PC,AxiosHeaders:DC,HttpStatusCode:OC,formToJSON:LC,getAdapter:AC,mergeConfig:IC}=Re,S4=()=>window.location.origin,hv=S4();console.log("API URL:",hv);const ce=Re.create({baseURL:hv,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0}),E4=async()=>{try{const e=await ce.get("/sanctum/csrf-cookie");return console.log("CSRF Token Response:",e),e}catch(e){console.error("Erreur lors de la récupération du token CSRF:",e);return}};ce.interceptors.request.use(async function(e){const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.data instanceof FormData?delete e.headers["Content-Type"]:e.headers["Content-Type"]="application/json",console.log("Request Config:",{url:e.url,method:e.method,headers:e.headers,data:e.data instanceof FormData?"FormData":e.data}),e});ce.interceptors.response.use(e=>e,async e=>{var n,r,s,i;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!t._retry){if(t._retry=!0,((r=e.response.data)==null?void 0:r.message)==="Unauthenticated.")return localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",Promise.reject(e);if(((s=e.response.data)==null?void 0:s.message)==="CSRF token mismatch.")return await E4(),ce(t)}return((i=e.response)==null?void 0:i.status)===404&&console.error("Route non trouvée:",t.url),Promise.reject(e)});var pv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cm=Ne.createContext&&Ne.createContext(pv),j4=["attr","size","title"];function N4(e,t){if(e==null)return{};var n=k4(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function k4(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec.apply(this,arguments)}function Tm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tm(Object(n),!0).forEach(function(r){C4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C4(e,t,n){return t=T4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T4(e){var t=R4(e,"string");return typeof t=="symbol"?t:t+""}function R4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mv(e){return e&&e.map((t,n)=>Ne.createElement(t.tag,tc({key:n},t.attr),mv(t.child)))}function tt(e){return t=>Ne.createElement(M4,ec({attr:tc({},e.attr)},t),mv(e.child))}function M4(e){var t=n=>{var{attr:r,size:s,title:i}=e,o=N4(e,j4),a=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Ne.createElement("svg",ec({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:tc(tc({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Ne.createElement("title",null,i),e.children)};return Cm!==void 0?Ne.createElement(Cm.Consumer,null,n=>t(n)):t(pv)}function P4(e){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function D4(e){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function io(e){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function O4(e){return tt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(e)}function L4(e){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function A4(e){return tt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function gv(e){return tt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function xv(e){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function Ia(e){return tt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function I4(e){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Rm(e){return tt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function F4(e){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function z4(e){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function $r(e){return tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function Fa(e){return tt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(e)}function vl(e){return tt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function B4(e){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Mm(e){return tt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function $4(e){return tt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function gs(e){return tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function U4(e){return tt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}const H4=()=>{const[e,t]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(""),[o,a]=_.useState(!1),l=$n();_.useEffect(()=>{(async()=>{try{await ce.get("/sanctum/csrf-cookie")}catch(f){console.error("Erreur lors de la récupération du token CSRF:",f)}})()},[]);const c=async d=>{var f,h;d.preventDefault(),i(""),a(!0);try{const p=await ce.post("/api/login",{email:e,password:n});p.data.token&&(localStorage.setItem("token",p.data.token),localStorage.setItem("user",JSON.stringify(p.data.user)),l("/dashboard",{replace:!0}))}catch(p){console.error("Erreur de connexion:",p),i(((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.message)||"Une erreur est survenue lors de la connexion. Veuillez réessayer.")}finally{a(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-indigo-500 to-purple-600 p-4",children:u.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Connexion"}),u.jsx("p",{className:"text-gray-600",children:"Bienvenue sur la plateforme de gestion des tickets"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:s}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(gs,{className:"text-gray-400"})}),u.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:d=>t(d.target.value),required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:o})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(I4,{className:"text-gray-400"})}),u.jsx("input",{type:"password",placeholder:"Mot de passe",value:n,onChange:d=>r(d.target.value),required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:o})]}),u.jsx("button",{type:"submit",className:`w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors ${o?"opacity-50 cursor-not-allowed":""}`,disabled:o,children:o?u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-white rounded-full animate-spin mr-2"}),"Connexion en cours..."]}):"Se connecter"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-gray-600",children:["Vous n'avez pas de compte ?"," ",u.jsx(cr,{to:"/register",className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Demander un compte"})]})})]})})},V4="modulepreload",W4=function(e){return"/"+e},Pm={},yv=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=W4(l),l in Pm)return;Pm[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":V4,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};Re.defaults.baseURL="http://localhost:8000";const K4=()=>{const e=Xr(),t=$n(),[n,r]=_.useState(!1),[s,i]=_.useState(0),[o,a]=_.useState(0),[l,c]=_.useState(0);let d=null;try{d=JSON.parse(localStorage.getItem("user"))}catch{d=null}const f=d==null?void 0:d.niveau;_.useEffect(()=>{const g=async()=>{try{const m={Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"};if(f===1){const E=await Re.get("/api/admin/register-requests/count",{headers:m});i(E.data.count)}const v=await Re.get("/api/tickets/pending/count",{headers:m});a(v.data.count);const S=await Re.get("/api/tickets/completed/count",{headers:m});c(S.data.count)}catch(y){console.error("Error fetching counts:",y)}};g();const b=setInterval(g,3e4);return()=>clearInterval(b)},[f]);const h=g=>e.pathname===g,p=async()=>{r(!0);try{const g=localStorage.getItem("token");if(!g){t("/login");return}await Re.post("/api/logout",{},{headers:{Authorization:`Bearer ${g}`,Accept:"application/json","Content-Type":"application/json"}}),localStorage.removeItem("token"),localStorage.removeItem("user"),t("/login")}catch(g){console.error("Erreur lors de la déconnexion:",g),localStorage.removeItem("token"),localStorage.removeItem("user")}finally{r(!1),t("/login")}};let x=[{path:"/dashboard",icon:u.jsx(Ia,{}),text:"Tableau de bord"},{path:"/tickets",icon:u.jsx(Fa,{}),text:"Tickets"},{path:"/admin/pending-tickets",icon:u.jsx(io,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/admin/register-requests",icon:u.jsx(Mm,{}),text:"Demandes d'inscription",badge:s>0?s:null},{path:"/create-user",icon:u.jsx(Mm,{}),text:"Créer un utilisateur"},{path:"/users",icon:u.jsx(U4,{}),text:"Liste des utilisateurs"},{path:"/admin/entities",icon:u.jsx(O4,{}),text:"Gestion des référentiels"},{path:"/profile",icon:u.jsx(gs,{}),text:"Mon Profil"}];return f==="2"||f===2?x=[{path:"/dashboard",icon:u.jsx(Ia,{}),text:"Tableau de bord"},{path:"/tickets",icon:u.jsx(Fa,{}),text:"Tickets"},{path:"/admin/pending-tickets",icon:u.jsx(io,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/profile",icon:u.jsx(gs,{}),text:"Mon Profil"}]:f==="3"||f===3?x=[{path:"/dashboard",icon:u.jsx(Ia,{}),text:"Tableau de bord"},{path:"/tickets",icon:u.jsx(Fa,{}),text:"Tickets"},{path:"/admin/pending-tickets",icon:u.jsx(io,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/create-ticket",icon:u.jsx(Rm,{}),text:"Créer un ticket (IA)"},{path:"/profile",icon:u.jsx(gs,{}),text:"Mon Profil"}]:(f==="4"||f===4)&&(x=[{path:"/dashboard",icon:u.jsx(Ia,{}),text:"Tableau de bord"},{path:"/create-ticket",icon:u.jsx(Rm,{}),text:"Créer un ticket (IA)"},{path:"/tickets",icon:u.jsx(Fa,{}),text:"Mes Tickets"},{path:"/admin/pending-tickets",icon:u.jsx(io,{}),text:"Tickets en attente",badge:o>0?o:null},{path:"/completed-tickets",icon:u.jsx(P4,{}),text:"Tickets terminés",badge:l>0?l:null},{path:"/profile",icon:u.jsx(gs,{}),text:"Mon Profil"}]),u.jsxs("div",{className:"bg-gray-800 text-white w-64 min-h-screen p-4 flex flex-col",children:[u.jsx("div",{className:"mb-8",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Gestion Tickets"})}),u.jsx("nav",{children:u.jsxs("ul",{className:"space-y-2",children:[x.map(g=>u.jsx("li",{children:u.jsxs(cr,{to:g.path,className:`flex items-center space-x-2 p-2 rounded-lg transition-colors ${h(g.path)?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[u.jsx("span",{className:"text-lg",children:g.icon}),u.jsx("span",{className:"flex-1",children:g.text}),g.badge&&u.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:g.badge})]})},g.path)),u.jsx("li",{children:u.jsxs("button",{onClick:p,className:"flex items-center space-x-2 p-2 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white w-full",disabled:n,children:[u.jsx("span",{className:"text-lg",children:n?u.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.908l2-2.617zm10 0l2 2.617A7.962 7.962 0 0020 12h-4a8 8 0 01-2 5.291z"})]}):u.jsx(z4,{})}),u.jsx("span",{children:n?"Déconnexion...":"Déconnexion"})]})})]})})]})},Ie=({children:e})=>u.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[u.jsx(K4,{}),u.jsx("main",{className:"flex-1 p-8",children:e})]});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ca(e){return e+.5|0}const kr=(e,t,n)=>Math.max(Math.min(e,n),t);function oo(e){return kr(ca(e*2.55),0,255)}function Ir(e){return kr(ca(e*255),0,255)}function Zn(e){return kr(ca(e/2.55)/100,0,1)}function Dm(e){return kr(ca(e*100),0,100)}const sn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qd=[..."0123456789ABCDEF"],Y4=e=>Qd[e&15],q4=e=>Qd[(e&240)>>4]+Qd[e&15],za=e=>(e&240)>>4===(e&15),X4=e=>za(e.r)&&za(e.g)&&za(e.b)&&za(e.a);function G4(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&sn[e[1]]*17,g:255&sn[e[2]]*17,b:255&sn[e[3]]*17,a:t===5?sn[e[4]]*17:255}:(t===7||t===9)&&(n={r:sn[e[1]]<<4|sn[e[2]],g:sn[e[3]]<<4|sn[e[4]],b:sn[e[5]]<<4|sn[e[6]],a:t===9?sn[e[7]]<<4|sn[e[8]]:255})),n}const Q4=(e,t)=>e<255?t(e):"";function J4(e){var t=X4(e)?Y4:q4;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Q4(e.a,t):void 0}const Z4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function vv(e,t,n){const r=t*Math.min(n,1-n),s=(i,o=(i+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function eE(e,t,n){const r=(s,i=(s+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function tE(e,t,n){const r=vv(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function nE(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}function xh(e){const n=e.r/255,r=e.g/255,s=e.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,c,d;return i!==o&&(d=i-o,c=a>.5?d/(2-i-o):d/(i+o),l=nE(n,r,s,d,i),l=l*60+.5),[l|0,c||0,a]}function yh(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Ir)}function vh(e,t,n){return yh(vv,e,t,n)}function rE(e,t,n){return yh(tE,e,t,n)}function sE(e,t,n){return yh(eE,e,t,n)}function bv(e){return(e%360+360)%360}function iE(e){const t=Z4.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?oo(+t[5]):Ir(+t[5]));const s=bv(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=rE(s,i,o):t[1]==="hsv"?r=sE(s,i,o):r=vh(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function oE(e,t){var n=xh(e);n[0]=bv(n[0]+t),n=vh(n),e.r=n[0],e.g=n[1],e.b=n[2]}function aE(e){if(!e)return;const t=xh(e),n=t[0],r=Dm(t[1]),s=Dm(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${Zn(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const Om={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Lm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lE(){const e={},t=Object.keys(Lm),n=Object.keys(Om);let r,s,i,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,Om[i]);i=parseInt(Lm[o],16),e[a]=[i>>16&255,i>>8&255,i&255]}return e}let Ba;function cE(e){Ba||(Ba=lE(),Ba.transparent=[0,0,0,0]);const t=Ba[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const uE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dE(e){const t=uE.exec(e);let n=255,r,s,i;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?oo(o):kr(o*255,0,255)}return r=+t[1],s=+t[3],i=+t[5],r=255&(t[2]?oo(r):kr(r,0,255)),s=255&(t[4]?oo(s):kr(s,0,255)),i=255&(t[6]?oo(i):kr(i,0,255)),{r,g:s,b:i,a:n}}}function fE(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Zn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Tu=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Hs=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function hE(e,t,n){const r=Hs(Zn(e.r)),s=Hs(Zn(e.g)),i=Hs(Zn(e.b));return{r:Ir(Tu(r+n*(Hs(Zn(t.r))-r))),g:Ir(Tu(s+n*(Hs(Zn(t.g))-s))),b:Ir(Tu(i+n*(Hs(Zn(t.b))-i))),a:e.a+n*(t.a-e.a)}}function $a(e,t,n){if(e){let r=xh(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=vh(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function wv(e,t){return e&&Object.assign(t||{},e)}function Am(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ir(e[3]))):(t=wv(e,{r:0,g:0,b:0,a:1}),t.a=Ir(t.a)),t}function pE(e){return e.charAt(0)==="r"?dE(e):iE(e)}class Xo{constructor(t){if(t instanceof Xo)return t;const n=typeof t;let r;n==="object"?r=Am(t):n==="string"&&(r=G4(t)||cE(t)||pE(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=wv(this._rgb);return t&&(t.a=Zn(t.a)),t}set rgb(t){this._rgb=Am(t)}rgbString(){return this._valid?fE(this._rgb):void 0}hexString(){return this._valid?J4(this._rgb):void 0}hslString(){return this._valid?aE(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,s=t.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=hE(this._rgb,t._rgb,n)),this}clone(){return new Xo(this.rgb)}alpha(t){return this._rgb.a=Ir(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=ca(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return $a(this._rgb,2,t),this}darken(t){return $a(this._rgb,2,-t),this}saturate(t){return $a(this._rgb,1,t),this}desaturate(t){return $a(this._rgb,1,-t),this}rotate(t){return oE(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Kn(){}const mE=(()=>{let e=0;return()=>e++})();function be(e){return e==null}function ot(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Se(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function pn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Mn(e,t){return pn(e)?e:t}function we(e,t){return typeof e>"u"?t:e}const gE=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,_v=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Oe(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Te(e,t,n,r){let s,i,o;if(ot(e))for(i=e.length,s=0;s<i;s++)t.call(n,e[s],s);else if(Se(e))for(o=Object.keys(e),i=o.length,s=0;s<i;s++)t.call(n,e[o[s]],o[s])}function nc(e,t){let n,r,s,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],i=t[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function rc(e){if(ot(e))return e.map(rc);if(Se(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=rc(e[n[s]]);return t}return e}function Sv(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function xE(e,t,n,r){if(!Sv(e))return;const s=t[e],i=n[e];Se(s)&&Se(i)?zn(s,i,r):t[e]=rc(i)}function zn(e,t,n){const r=ot(t)?t:[t],s=r.length;if(!Se(e))return e;n=n||{};const i=n.merger||xE;let o;for(let a=0;a<s;++a){if(o=r[a],!Se(o))continue;const l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)i(l[c],e,o,n)}return e}function bo(e,t){return zn(e,t,{merger:yE})}function yE(e,t,n){if(!Sv(e))return;const r=t[e],s=n[e];Se(r)&&Se(s)?bo(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=rc(s))}const Im={"":e=>e,x:e=>e.x,y:e=>e.y};function vE(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function bE(e){const t=vE(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Ur(e,t){return(Im[t]||(Im[t]=bE(t)))(e)}function bh(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Go=e=>typeof e<"u",Hr=e=>typeof e=="function",Fm=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function wE(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const et=Math.PI,at=2*et,sc=Number.POSITIVE_INFINITY,_E=et/180,dt=et/2,ns=et/4,zm=et*2/3,Ev=Math.log10,Fr=Math.sign;function bl(e,t,n){return Math.abs(e-t)<n}function Bm(e){const t=Math.round(e);e=bl(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ev(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function SE(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((s,i)=>s-i).pop(),t}function EE(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function wi(e){return!EE(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function jE(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function NE(e,t,n){let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function An(e){return e*(et/180)}function kE(e){return e*(180/et)}function $m(e){if(!pn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function jv(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*et&&(i+=at),{angle:i,distance:s}}function CE(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function rs(e){return(e%at+at)%at}function ic(e,t,n,r){const s=rs(e),i=rs(t),o=rs(n),a=rs(i-s),l=rs(o-s),c=rs(s-i),d=rs(s-o);return s===i||s===o||r&&i===o||a>l&&c<d}function Nt(e,t,n){return Math.max(t,Math.min(n,e))}function TE(e){return Nt(e,-32768,32767)}function xs(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function wh(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const ys=(e,t,n,r)=>wh(e,n,r?s=>{const i=e[s][t];return i<n||i===n&&e[s+1][t]===n}:s=>e[s][t]<n),RE=(e,t,n)=>wh(e,n,r=>e[r][t]>=n);function ME(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}const Nv=["push","pop","shift","splice","unshift"];function PE(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Nv.forEach(n=>{const r="_onData"+bh(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function Um(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);s!==-1&&r.splice(s,1),!(r.length>0)&&(Nv.forEach(i=>{delete e[i]}),delete e._chartjs)}function kv(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Cv=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Tv(e,t){let n=[],r=!1;return function(...s){n=s,r||(r=!0,Cv.call(window,()=>{r=!1,e.apply(t,n)}))}}function DE(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const _h=e=>e==="start"?"left":e==="end"?"right":"center",St=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,OE=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function Rv(e,t,n){const r=t.length;let s=0,i=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=o.axis,{min:f,max:h,minDefined:p,maxDefined:x}=o.getUserBounds();if(p){if(s=Math.min(ys(l,d,f).lo,n?r:ys(t,d,o.getPixelForValue(f)).lo),c){const g=l.slice(0,s+1).reverse().findIndex(b=>!be(b[a.axis]));s-=Math.max(0,g)}s=Nt(s,0,r-1)}if(x){let g=Math.max(ys(l,o.axis,h,!0).hi+1,n?0:ys(t,d,o.getPixelForValue(h),!0).hi+1);if(c){const b=l.slice(g-1).findIndex(y=>!be(y[a.axis]));g+=Math.max(0,b)}i=Nt(g,s,r)-s}else i=r-s}return{start:s,count:i}}function Mv(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=s,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Ua=e=>e===0||e===1,Hm=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*at/n)),Vm=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*at/n)+1,wo={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*dt)+1,easeOutSine:e=>Math.sin(e*dt),easeInOutSine:e=>-.5*(Math.cos(et*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ua(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ua(e)?e:Hm(e,.075,.3),easeOutElastic:e=>Ua(e)?e:Vm(e,.075,.3),easeInOutElastic(e){return Ua(e)?e:e<.5?.5*Hm(e*2,.1125,.45):.5+.5*Vm(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-wo.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?wo.easeInBounce(e*2)*.5:wo.easeOutBounce(e*2-1)*.5+.5};function Pv(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Wm(e){return Pv(e)?e:new Xo(e)}function Ru(e){return Pv(e)?e:new Xo(e).saturate(.5).darken(.1).hexString()}const LE=["x","y","borderWidth","radius","tension"],AE=["color","borderColor","backgroundColor"];function IE(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:AE},numbers:{type:"number",properties:LE}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function FE(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Km=new Map;function zE(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Km.get(n);return r||(r=new Intl.NumberFormat(e,t),Km.set(n,r)),r}function Bc(e,t,n){return zE(t,n).format(e)}const BE={values(e){return ot(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let s,i=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=$E(e,n)}const o=Ev(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Bc(e,r,l)}};function $E(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Dv={formatters:BE};function UE(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Dv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ps=Object.create(null),Jd=Object.create(null);function _o(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];e=e[i]||(e[i]=Object.create(null))}return e}function Mu(e,t,n){return typeof t=="string"?zn(_o(e,t),n):zn(_o(e,""),t)}class HE{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Ru(s.backgroundColor),this.hoverBorderColor=(r,s)=>Ru(s.borderColor),this.hoverColor=(r,s)=>Ru(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Mu(this,t,n)}get(t){return _o(this,t)}describe(t,n){return Mu(Jd,t,n)}override(t,n){return Mu(Ps,t,n)}route(t,n,r,s){const i=_o(this,t),o=_o(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return Se(l)?Object.assign({},c,l):we(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Je=new HE({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[IE,FE,UE]);function VE(e){return!e||be(e.size)||be(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ym(e,t,n,r,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,n.push(s)),i>r&&(r=i),r}function ss(e,t,n){const r=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function qm(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Zd(e,t,n,r){Ov(e,t,n,r,null)}function Ov(e,t,n,r,s){let i,o,a,l,c,d,f,h;const p=t.pointStyle,x=t.rotation,g=t.radius;let b=(x||0)*_E;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,r,s/2,g,0,0,at):e.arc(n,r,g,0,at),e.closePath();break;case"triangle":d=s?s/2:g,e.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*g),b+=zm,e.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*g),b+=zm,e.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(b+ns)*l,f=Math.cos(b+ns)*(s?s/2-c:l),a=Math.sin(b+ns)*l,h=Math.sin(b+ns)*(s?s/2-c:l),e.arc(n-f,r-a,c,b-et,b-dt),e.arc(n+h,r-o,c,b-dt,b),e.arc(n+f,r+a,c,b,b+dt),e.arc(n-h,r+o,c,b+dt,b+et),e.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*g,d=s?s/2:l,e.rect(n-d,r-l,2*d,2*l);break}b+=ns;case"rectRot":f=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,h=Math.sin(b)*(s?s/2:g),e.moveTo(n-f,r-a),e.lineTo(n+h,r-o),e.lineTo(n+f,r+a),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":b+=ns;case"cross":f=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,h=Math.sin(b)*(s?s/2:g),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":f=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,h=Math.sin(b)*(s?s/2:g),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),b+=ns,f=Math.cos(b)*(s?s/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,h=Math.sin(b)*(s?s/2:g),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=s?s/2:Math.cos(b)*g,a=Math.sin(b)*g,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(b)*(s?s/2:g),r+Math.sin(b)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Sh(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Eh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function jh(e){e.restore()}function WE(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),be(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function KE(e,t,n,r,s){if(s.strikethrough||s.underline){const i=e.measureText(r),o=t-i.actualBoundingBoxLeft,a=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,d),e.lineTo(a,d),e.stroke()}}function YE(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Qo(e,t,n,r,s,i={}){const o=ot(t)?t:[t],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,WE(e,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&YE(e,i.backdrop),a&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),be(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,n,r,i.maxWidth)),e.fillText(c,n,r,i.maxWidth),KE(e,n,r,c,i),r+=Number(s.lineHeight);e.restore()}function oc(e,t){const{x:n,y:r,w:s,h:i,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*et,et,!0),e.lineTo(n,r+i-o.bottomLeft),e.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,et,dt,!0),e.lineTo(n+s-o.bottomRight,r+i),e.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,dt,0,!0),e.lineTo(n+s,r+o.topRight),e.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-dt,!0),e.lineTo(n+o.topLeft,r)}const qE=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,XE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function GE(e,t){const n=(""+e).match(qE);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const QE=e=>+e||0;function Nh(e,t){const n={},r=Se(t),s=r?Object.keys(t):t,i=Se(e)?r?o=>we(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=QE(i(o));return n}function Lv(e){return Nh(e,{top:"y",right:"x",bottom:"y",left:"x"})}function di(e){return Nh(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Zt(e){const t=Lv(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function yt(e,t){e=e||{},t=t||Je.font;let n=we(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=we(e.style,t.style);r&&!(""+r).match(XE)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:we(e.family,t.family),lineHeight:GE(we(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:we(e.weight,t.weight),string:""};return s.string=VE(s),s}function Ue(e,t,n,r){let s,i,o;for(s=0,i=e.length;s<i;++s)if(o=e[s],o!==void 0&&(t!==void 0&&typeof o=="function"&&(o=o(t)),n!==void 0&&ot(o)&&(o=o[n%o.length]),o!==void 0))return o}function JE(e,t,n){const{min:r,max:s}=e,i=_v(t,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Ri(e,t){return Object.assign(Object.create(e),t)}function kh(e,t=[""],n,r,s=()=>e[0]){const i=n||e;typeof r>"u"&&(r=zv("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>kh([a,...e],t,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return Iv(a,l,()=>oj(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Gm(a).includes(l)},ownKeys(a){return Gm(a)},set(a,l,c){const d=a._storage||(a._storage=s());return a[l]=d[l]=c,delete a._keys,!0}})}function _i(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Av(e,r),setContext:i=>_i(e,i,n,r),override:i=>_i(e.override(i),t,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,a){return Iv(i,o,()=>ej(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,a){return e[o]=a,delete i[o],!0}})}function Av(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Hr(n)?n:()=>n,isIndexable:Hr(r)?r:()=>r}}const ZE=(e,t)=>e?e+bh(t):t,Ch=(e,t)=>Se(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Iv(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function ej(e,t,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=e;let a=r[t];return Hr(a)&&o.isScriptable(t)&&(a=tj(t,a,e,n)),ot(a)&&a.length&&(a=nj(t,a,e,o.isIndexable)),Ch(t,a)&&(a=_i(a,s,i&&i[t],o)),a}function tj(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(i,o||r);return a.delete(e),Ch(e,l)&&(l=Th(s._scopes,s,e,l)),l}function nj(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(Se(t[0])){const l=t,c=s._scopes.filter(d=>d!==l);t=[];for(const d of l){const f=Th(c,s,e,d);t.push(_i(f,i,o&&o[e],a))}}return t}function Fv(e,t,n){return Hr(e)?e(t,n):e}const rj=(e,t)=>e===!0?t:typeof e=="string"?Ur(t,e):void 0;function sj(e,t,n,r,s){for(const i of t){const o=rj(n,i);if(o){e.add(o);const a=Fv(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Th(e,t,n,r){const s=t._rootScopes,i=Fv(t._fallback,n,r),o=[...e,...s],a=new Set;a.add(r);let l=Xm(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=Xm(a,o,i,l,r),l===null)?!1:kh(Array.from(a),[""],s,i,()=>ij(t,n,r))}function Xm(e,t,n,r,s){for(;n;)n=sj(e,t,n,r,s);return n}function ij(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];return ot(s)&&Se(n)?n:s||{}}function oj(e,t,n,r){let s;for(const i of t)if(s=zv(ZE(i,e),n),typeof s<"u")return Ch(e,s)?Th(n,r,e,s):s}function zv(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function Gm(e){let t=e._keys;return t||(t=e._keys=aj(e._scopes)),t}function aj(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(r);return Array.from(t)}function Bv(e,t,n,r){const{iScale:s}=e,{key:i="r"}=this._parsing,o=new Array(r);let a,l,c,d;for(a=0,l=r;a<l;++a)c=a+n,d=t[c],o[a]={r:s.parse(Ur(d,i),c)};return o}function Rh(){return typeof window<"u"&&typeof document<"u"}function Mh(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ac(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const $c=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function lj(e,t){return $c(e).getPropertyValue(t)}const cj=["top","right","bottom","left"];function Ss(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=cj[s];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const uj=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function dj(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(uj(s,i,e.target))a=s,l=i;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ls(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=$c(n),i=s.boxSizing==="border-box",o=Ss(s,"padding"),a=Ss(s,"border","width"),{x:l,y:c,box:d}=dj(e,n),f=o.left+(d&&a.left),h=o.top+(d&&a.top);let{width:p,height:x}=t;return i&&(p-=o.width+a.width,x-=o.height+a.height),{x:Math.round((l-f)/p*n.width/r),y:Math.round((c-h)/x*n.height/r)}}function fj(e,t,n){let r,s;if(t===void 0||n===void 0){const i=e&&Mh(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const o=i.getBoundingClientRect(),a=$c(i),l=Ss(a,"border","width"),c=Ss(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,r=ac(a.maxWidth,i,"clientWidth"),s=ac(a.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:r||sc,maxHeight:s||sc}}const Ha=e=>Math.round(e*10)/10;function hj(e,t,n,r){const s=$c(e),i=Ss(s,"margin"),o=ac(s.maxWidth,e,"clientWidth")||sc,a=ac(s.maxHeight,e,"clientHeight")||sc,l=fj(e,t,n);let{width:c,height:d}=l;if(s.boxSizing==="content-box"){const h=Ss(s,"border","width"),p=Ss(s,"padding");c-=p.width+h.width,d-=p.height+h.height}return c=Math.max(0,c-i.width),d=Math.max(0,r?c/r:d-i.height),c=Ha(Math.min(c,o,l.maxWidth)),d=Ha(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Ha(c/2)),(t!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,c=Ha(Math.floor(d*r))),{width:c,height:d}}function Qm(e,t,n){const r=t||1,s=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(e.currentDevicePixelRatio=r,o.height=s,o.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const pj=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Rh()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Jm(e,t){const n=lj(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const mj=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},gj=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function fi(e,t,n){return e?mj(t,n):gj()}function $v(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Uv(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Va(e,t,n){return e.options.clip?e[n]:t[n]}function xj(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Va(n,t,"left"),right:Va(n,t,"right"),top:Va(r,t,"top"),bottom:Va(r,t,"bottom")}:t}function yj(e,t){const n=t._clip;if(n.disabled)return!1;const r=xj(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class vj{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Cv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,t,"progress")),i.length||(r.running=!1,this._notify(s,r,t,"complete"),r.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Xn=new vj;const Zm="transparent",bj={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=Wm(e||Zm),s=r.valid&&Wm(t||Zm);return s&&s.valid?s.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class wj{constructor(t,n,r,s){const i=n[r];s=Ue([t.to,s,i,t.from]);const o=Ue([t.from,i,s]);this._active=!0,this._fn=t.fn||bj[t.type||typeof o],this._easing=wo[t.easing]||wo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Ue([t.to,n,s,t.from]),this._from=Ue([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class Hv{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Se(t))return;const n=Object.keys(Je.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const i=t[s];if(!Se(i))return;const o={};for(const a of n)o[a]=i[a];(ot(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,s=Sj(t,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&_j(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,n){const r=this._properties,s=[],i=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const d=n[c];let f=i[c];const h=r.get(c);if(f)if(h&&f.active()){f.update(h,d,a);continue}else f.cancel();if(!h||!h.duration){t[c]=d;continue}i[c]=f=new wj(h,t,c,d),s.push(f)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Xn.add(this._chart,r),!0}}function _j(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const i=e[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function Sj(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function eg(e,t){const n=e&&e.options||{},r=n.reverse,s=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:r?i:s,end:r?s:i}}function Ej(e,t,n){if(n===!1)return!1;const r=eg(e,n),s=eg(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function jj(e){let t,n,r,s;return Se(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:e===!1}}function Vv(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function tg(e,t,n,r={}){const s=e.keys,i=r.mode==="single";let o,a,l,c;if(t===null)return;let d=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(d=!0,r.all)continue;break}c=e.values[l],pn(c)&&(i||t===0||Fr(t)===Fr(c))&&(t+=c)}return!d&&!r.all?0:t}function Nj(e,t){const{iScale:n,vScale:r}=t,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],a[l]={[s]:d,[i]:e[d]};return a}function Pu(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function kj(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Cj(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Tj(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function ng(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const i=e[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function rg(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,d=kj(i,o,r),f=t.length;let h;for(let p=0;p<f;++p){const x=t[p],{[l]:g,[c]:b}=x,y=x._stacks||(x._stacks={});h=y[c]=Tj(s,d,g),h[a]=b,h._top=ng(h,o,!0,r.type),h._bottom=ng(h,o,!1,r.type);const m=h._visualValues||(h._visualValues={});m[a]=b}}function Du(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function Rj(e,t){return Ri(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Mj(e,t,n){return Ri(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function qi(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const s of t){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Ou=e=>e==="reset"||e==="none",sg=(e,t)=>t?e:Object.assign({},e),Pj=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Vv(n,!0),values:null};class En{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Pu(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&qi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,h,p,x)=>f==="x"?h:f==="r"?x:p,i=n.xAxisID=we(r.xAxisID,Du(t,"x")),o=n.yAxisID=we(r.yAxisID,Du(t,"y")),a=n.rAxisID=we(r.rAxisID,Du(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,o,a),d=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Um(this._data,this),t._stacked&&qi(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Se(n)){const s=this._cachedMeta;this._data=Nj(n,s)}else if(r!==n){if(r){Um(r,this);const s=this._cachedMeta;qi(s),s._parsed=[]}n&&Object.isExtensible(n)&&PE(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Pu(n.vScale,n),n.stack!==r.stack&&(s=!0,qi(n),n.stack=r.stack),this._resyncElements(t),(s||i!==n._stacked)&&(rg(this,n._parsed),n._stacked=Pu(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=t===0&&n===s.length?!0:r._sorted,c=t>0&&r._parsed[t-1],d,f,h;if(this._parsing===!1)r._parsed=s,r._sorted=!0,h=s;else{ot(s[t])?h=this.parseArrayData(r,s,t,n):Se(s[t])?h=this.parseObjectData(r,s,t,n):h=this.parsePrimitiveData(r,s,t,n);const p=()=>f[a]===null||c&&f[a]<c[a];for(d=0;d<n;++d)r._parsed[d+t]=f=h[d],l&&(p()&&(l=!1),c=f);r._sorted=l}o&&rg(this,h)}parsePrimitiveData(t,n,r,s){const{iScale:i,vScale:o}=t,a=i.axis,l=o.axis,c=i.getLabels(),d=i===o,f=new Array(s);let h,p,x;for(h=0,p=s;h<p;++h)x=h+r,f[h]={[a]:d||i.parse(c[x],x),[l]:o.parse(n[x],x)};return f}parseArrayData(t,n,r,s){const{xScale:i,yScale:o}=t,a=new Array(s);let l,c,d,f;for(l=0,c=s;l<c;++l)d=l+r,f=n[d],a[l]={x:i.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(t,n,r,s){const{xScale:i,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let d,f,h,p;for(d=0,f=s;d<f;++d)h=d+r,p=n[h],c[d]={x:i.parse(Ur(p,a),h),y:o.parse(Ur(p,l),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const s=this.chart,i=this._cachedMeta,o=n[t.axis],a={keys:Vv(s,!0),values:n._stacks[t.axis]._visualValues};return tg(a,o,i.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=tg(s,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&t===r.iScale,o=s.length,a=this._getOtherScale(t),l=Pj(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=Cj(a);let h,p;function x(){p=s[h];const g=p[a.axis];return!pn(p[t.axis])||d>g||f<g}for(h=0;h<o&&!(!x()&&(this.updateRangeFromParsed(c,t,p,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!x()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][t.axis],pn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=jj(we(this.options.clip,Ej(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(t,i,a,l),d=a;d<a+l;++d){const f=s[d];f.hidden||(f.active&&c?o.push(f):f.draw(t,i))}for(d=0;d<o.length;++d)o[d].draw(t,i)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=Mj(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=s.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Rj(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=t+"-"+n,a=i[o],l=this.enableOptionSharing&&Go(r);if(a)return sg(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),d),p=Object.keys(Je.elements[t]),x=()=>this.getContext(r,s,n),g=c.resolveNamedOptions(h,p,x,f);return g.$shared&&(g.$shared=l,i[o]=Object.freeze(sg(g,l))),g}_resolveAnimations(t,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(t,r,n))}const c=new Hv(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Ou(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(t,n,r,s){Ou(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!Ou(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,t):i<s&&this._removeElements(i,s-i)}_insertElements(t,n,r=!0){const s=this._cachedMeta,i=s.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=t;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),r&&this.updateElements(i,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&qi(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}K(En,"defaults",{}),K(En,"datasetElementType",null),K(En,"dataElementType",null);function Dj(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=kv(r.sort((s,i)=>s-i))}return e._cache.$bar}function Oj(e){const t=e.iScale,n=Dj(t,e.type);let r=t._length,s,i,o,a;const l=()=>{o===32767||o===-32768||(Go(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,i=n.length;s<i;++s)o=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,i=t.ticks.length;s<i;++s)o=t.getPixelForTick(s),l();return r}function Lj(e,t,n,r){const s=n.barThickness;let i,o;return be(s)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:t.pixels[e]-i/2}}function Aj(e,t,n,r){const s=t.pixels,i=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?t.end-t.start:a-i)),a===null&&(a=i+i-o);const c=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function Ij(e,t,n,r){const s=n.parse(e[0],r),i=n.parse(e[1],r),o=Math.min(s,i),a=Math.max(s,i);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:i,min:o,max:a}}function Wv(e,t,n,r){return ot(e)?Ij(e,t,n,r):t[n.axis]=n.parse(e,r),t}function ig(e,t,n,r){const s=e.iScale,i=e.vScale,o=s.getLabels(),a=s===i,l=[];let c,d,f,h;for(c=n,d=n+r;c<d;++c)h=t[c],f={},f[s.axis]=a||s.parse(o[c],c),l.push(Wv(h,f,i,c));return l}function Lu(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Fj(e,t,n){return e!==0?Fr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function zj(e){let t,n,r,s,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:t,top:s,bottom:i}}function Bj(e,t,n,r){let s=t.borderSkipped;const i={};if(!s){e.borderSkipped=i;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:d}=zj(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=c:(n._bottom||0)===r?s=d:(i[og(d,o,a,l)]=!0,s=c)),i[og(s,o,a,l)]=!0,e.borderSkipped=i}function og(e,t,n,r){return r?(e=$j(e,t,n),e=ag(e,n,t)):e=ag(e,t,n),e}function $j(e,t,n){return e===t?n:e===n?t:e}function ag(e,t,n){return e==="start"?t:e==="end"?n:e}function Uj(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Au extends En{parsePrimitiveData(t,n,r,s){return ig(t,n,r,s)}parseArrayData(t,n,r,s){return ig(t,n,r,s)}parseObjectData(t,n,r,s){const{iScale:i,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?a:l,d=o.axis==="x"?a:l,f=[];let h,p,x,g;for(h=r,p=r+s;h<p;++h)g=n[h],x={},x[i.axis]=i.parse(Ur(g,c),h),f.push(Wv(Ur(g,d),x,o,h));return f}updateRangeFromParsed(t,n,r,s){super.updateRangeFromParsed(t,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(t),o=i._custom,a=Lu(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,s);for(let p=n;p<n+r;p++){const x=this.getParsed(p),g=i||be(x[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,d),y=(x._stacks||{})[a.axis],m={horizontal:c,base:g.base,enableBorderRadius:!y||Lu(x._custom)||o===y._top||o===y._bottom,x:c?g.head:b.center,y:c?b.center:g.head,height:c?b.size:Math.abs(g.size),width:c?Math.abs(g.size):b.size};h&&(m.options=f||this.resolveDataElementOptions(p,t[p].active?"active":s));const v=m.options||t[p].options;Bj(m,v,y,o),Uj(m,v,d.ratio),this.updateElement(t[p],p,m,s)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=d=>{const f=d._parsed.find(p=>p[r.axis]===l),h=f&&f[d.vScale.axis];if(be(h)||isNaN(h))return!0};for(const d of s)if(!(n!==void 0&&c(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,r){const s=this._getStacks(t,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const a=t.barThickness;return{min:a||Oj(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(t),c=l._custom,d=Lu(c);let f=l[n.axis],h=0,p=r?this.applyStack(n,l,r):f,x,g;p!==f&&(h=p-f,p=f),d&&(f=c.barStart,p=c.barEnd-c.barStart,f!==0&&Fr(f)!==Fr(c.barEnd)&&(h=0),h+=f);const b=!be(i)&&!d?i:h;let y=n.getPixelForValue(b);if(this.chart.getDataVisibility(t)?x=n.getPixelForValue(h+p):x=y,g=x-y,Math.abs(g)<o){g=Fj(g,n,a)*o,f===a&&(y-=g/2);const m=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),S=Math.min(m,v),E=Math.max(m,v);y=Math.max(Math.min(y,E),S),x=y+g,r&&!d&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(x)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const m=Fr(g)*n.getLineWidthForValue(a)/2;y+=m,g-=m}return{size:g,base:y,head:x,center:x+g/2}}_calculateBarIndexPixels(t,n){const r=n.scale,s=this.options,i=s.skipNull,o=we(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=i?this._getStackCount(t):n.stackCount,d=s.barThickness==="flex"?Aj(t,n,s,c):Lj(t,n,s,c),f=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);a=d.start+d.chunk*f+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}K(Au,"id","bar"),K(Au,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),K(Au,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Iu extends En{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,r,s){const i=super.parsePrimitiveData(t,n,r,s);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+r).radius;return i}parseArrayData(t,n,r,s){const i=super.parseArrayData(t,n,r,s);for(let o=0;o<i.length;o++){const a=n[r+o];i[o]._custom=we(a[2],this.resolveDataElementOptions(o+r).radius)}return i}parseObjectData(t,n,r,s){const i=super.parseObjectData(t,n,r,s);for(let o=0;o<i.length;o++){const a=n[r+o];i[o]._custom=we(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=i.getLabelForValue(o.y),c=o._custom;return{label:r[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,r,s){const i=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),d=o.axis,f=a.axis;for(let h=n;h<n+r;h++){const p=t[h],x=!i&&this.getParsed(h),g={},b=g[d]=i?o.getPixelForDecimal(.5):o.getPixelForValue(x[d]),y=g[f]=i?a.getBasePixel():a.getPixelForValue(x[f]);g.skip=isNaN(b)||isNaN(y),c&&(g.options=l||this.resolveDataElementOptions(h,p.active?"active":s),i&&(g.options.radius=0)),this.updateElement(p,h,g,s)}}resolveDataElementOptions(t,n){const r=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const i=s.radius;return n!=="active"&&(s.radius=0),s.radius+=we(r&&r._custom,i),s}}K(Iu,"id","bubble"),K(Iu,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),K(Iu,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Hj(e,t,n){let r=1,s=1,i=0,o=0;if(t<at){const a=e,l=a+t,c=Math.cos(a),d=Math.sin(a),f=Math.cos(l),h=Math.sin(l),p=(v,S,E)=>ic(v,a,l,!0)?1:Math.max(S,S*n,E,E*n),x=(v,S,E)=>ic(v,a,l,!0)?-1:Math.min(S,S*n,E,E*n),g=p(0,c,f),b=p(dt,d,h),y=x(et,c,f),m=x(et+dt,d,h);r=(g-y)/2,s=(b-m)/2,i=-(g+y)/2,o=-(b+m)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class ao extends En{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if(Se(r[t])){const{key:l="value"}=this._parsing;i=c=>+Ur(r[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return An(this.options.rotation-90)}_getCircumference(){return An(this.options.circumference)}_getRotationExtents(){let t=at,n=-at;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();t=Math.min(t,i),n=Math.max(n,i+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(gE(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:x,offsetY:g}=Hj(f,d,l),b=(r.width-o)/h,y=(r.height-o)/p,m=Math.max(Math.min(b,y)/2,0),v=_v(this.options.radius,m),S=Math.max(v*l,0),E=(v-S)/this._getVisibleDatasetWeightTotal();this.offsetX=x*v,this.offsetY=g*v,s.total=this.calculateTotal(),this.outerRadius=v-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*c,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*i/at)}updateElements(t,n,r,s){const i=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,d=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=i&&c.animateScale,p=h?0:this.innerRadius,x=h?0:this.outerRadius,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(n,s);let y=this._getRotation(),m;for(m=0;m<n;++m)y+=this._circumference(m,i);for(m=n;m<n+r;++m){const v=this._circumference(m,i),S=t[m],E={x:d+this.offsetX,y:f+this.offsetY,startAngle:y,endAngle:y+v,circumference:v,outerRadius:x,innerRadius:p};b&&(E.options=g||this.resolveDataElementOptions(m,S.active?"active":s)),y+=v,this.updateElement(S,m,E,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,s;for(s=0;s<n.length;s++){const i=t._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?at*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=Bc(n._parsed[t],r.options.locale);return{label:s[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const r=this.chart;let s,i,o,a,l;if(!t){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,i=t.length;s<i;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,s=t.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(we(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}K(ao,"id","doughnut"),K(ao,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),K(ao,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),K(ao,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Fu extends En{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Rv(n,s,o);this._drawStart=a,this._drawCount=l,Mv(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s),h=o.axis,p=a.axis,{spanGaps:x,segment:g}=this.options,b=wi(x)?x:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||s==="none",m=n+r,v=t.length;let S=n>0&&this.getParsed(n-1);for(let E=0;E<v;++E){const j=t[E],w=y?j:{};if(E<n||E>=m){w.skip=!0;continue}const N=this.getParsed(E),D=be(N[p]),T=w[h]=o.getPixelForValue(N[h],E),A=w[p]=i||D?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,N,l):N[p],E);w.skip=isNaN(T)||isNaN(A)||D,w.stop=E>0&&Math.abs(N[h]-S[h])>b,g&&(w.parsed=N,w.raw=c.data[E]),f&&(w.options=d||this.resolveDataElementOptions(E,j.active?"active":s)),y||this.updateElement(j,E,w,s),S=N}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}K(Fu,"id","line"),K(Fu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),K(Fu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class zu extends En{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=Bc(n._parsed[t].r,r.options.locale);return{label:s[t]||"",value:i}}parseObjectData(t,n,r,s){return Bv.bind(this)(t,n,r,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,s)=>{const i=this.getParsed(s).r;!isNaN(i)&&this.chart.getDataVisibility(s)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,r=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),i=Math.max(s/2,0),o=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),a=(i-o)/t.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,r,s){const i=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,f=c.yCenter,h=c.getIndexAngle(0)-.5*et;let p=h,x;const g=360/this.countVisibleElements();for(x=0;x<n;++x)p+=this._computeAngle(x,s,g);for(x=n;x<n+r;x++){const b=t[x];let y=p,m=p+this._computeAngle(x,s,g),v=o.getDataVisibility(x)?c.getDistanceFromCenterForValue(this.getParsed(x).r):0;p=m,i&&(l.animateScale&&(v=0),l.animateRotate&&(y=m=h));const S={x:d,y:f,innerRadius:0,outerRadius:v,startAngle:y,endAngle:m,options:this.resolveDataElementOptions(x,b.active?"active":s)};this.updateElement(b,x,S,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,r){return this.chart.getDataVisibility(t)?An(this.resolveDataElementOptions(t,n).angle||r):0}}K(zu,"id","polarArea"),K(zu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),K(zu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((i,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class lg extends ao{}K(lg,"id","pie"),K(lg,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Bu extends En{getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,s){return Bv.bind(this)(t,n,r,s)}update(t){const n=this._cachedMeta,r=n.dataset,s=n.data||[],i=n.iScale.getLabels();if(r.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:i.length===s.length,options:o};this.updateElement(r,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,r,s){const i=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+r;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),d=i.getPointPositionForValue(a,this.getParsed(a).r),f=o?i.xCenter:d.x,h=o?i.yCenter:d.y,p={x:f,y:h,angle:d.angle,skip:isNaN(f)||isNaN(h),options:c};this.updateElement(l,a,p,s)}}}K(Bu,"id","radar"),K(Bu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),K(Bu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class $u extends En{getLabelAndValue(t){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:i}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=i.getLabelForValue(o.y);return{label:r[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled;let{start:i,count:o}=Rv(n,r,s);if(this._drawStart=i,this._drawCount=o,Mv(n)&&(i=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(n,s),f=this.getSharedOptions(d),h=this.includeOptions(s,f),p=o.axis,x=a.axis,{spanGaps:g,segment:b}=this.options,y=wi(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||s==="none";let v=n>0&&this.getParsed(n-1);for(let S=n;S<n+r;++S){const E=t[S],j=this.getParsed(S),w=m?E:{},N=be(j[x]),D=w[p]=o.getPixelForValue(j[p],S),T=w[x]=i||N?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,j,l):j[x],S);w.skip=isNaN(D)||isNaN(T)||N,w.stop=S>0&&Math.abs(j[p]-v[p])>y,b&&(w.parsed=j,w.raw=c.data[S]),h&&(w.options=f||this.resolveDataElementOptions(S,E.active?"active":s)),m||this.updateElement(E,S,w,s),v=j}this.updateSharedOptions(f,s,d)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;const i=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,i,o)/2}}K($u,"id","scatter"),K($u,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),K($u,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function is(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ph{constructor(t){K(this,"options");this.options=t||{}}static override(t){Object.assign(Ph.prototype,t)}init(){}formats(){return is()}parse(){return is()}format(){return is()}add(){return is()}diff(){return is()}startOf(){return is()}endOf(){return is()}}var Vj={_date:Ph};function Wj(e,t,n,r){const{controller:s,data:i,_sorted:o}=e,a=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&i.length){const c=a._reversePixels?RE:ys;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const h=c(i,t,n-f),p=c(i,t,n+f);return{lo:h.lo,hi:p.hi}}}}else{const d=c(i,t,n);if(l){const{vScale:f}=s._cachedMeta,{_parsed:h}=e,p=h.slice(0,d.lo+1).reverse().findIndex(g=>!be(g[f.axis]));d.lo-=Math.max(0,p);const x=h.slice(d.hi).findIndex(g=>!be(g[f.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:i.length-1}}function Uc(e,t,n,r,s){const i=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=i.length;a<l;++a){const{index:c,data:d}=i[a],{lo:f,hi:h}=Wj(i[a],t,o,s);for(let p=f;p<=h;++p){const x=d[p];x.skip||r(x,c,p)}}}function Kj(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,s){const i=t?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Uu(e,t,n,r,s){const i=[];return!s&&!e.isPointInArea(t)||Uc(e,n,t,function(a,l,c){!s&&!Sh(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function Yj(e,t,n,r){let s=[];function i(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:f}=jv(o,{x:t.x,y:t.y});ic(f,c,d)&&s.push({element:o,datasetIndex:a,index:l})}return Uc(e,n,t,i),s}function qj(e,t,n,r,s,i){let o=[];const a=Kj(n);let l=Number.POSITIVE_INFINITY;function c(d,f,h){const p=d.inRange(t.x,t.y,s);if(r&&!p)return;const x=d.getCenterPoint(s);if(!(!!i||e.isPointInArea(x))&&!p)return;const b=a(t,x);b<l?(o=[{element:d,datasetIndex:f,index:h}],l=b):b===l&&o.push({element:d,datasetIndex:f,index:h})}return Uc(e,n,t,c),o}function Hu(e,t,n,r,s,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!r?Yj(e,t,n,s):qj(e,t,n,r,s,i)}function cg(e,t,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Uc(e,n,t,(l,c,d)=>{l[o]&&l[o](t[n],s)&&(i.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(t.x,t.y,s))}),r&&!a?[]:i}var Xj={modes:{index(e,t,n,r){const s=ls(t,e),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Uu(e,s,i,r,o):Hu(e,s,i,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,f=c.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:d})}),l):[]},dataset(e,t,n,r){const s=ls(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Uu(e,s,i,r,o):Hu(e,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(e,t,n,r){const s=ls(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return Uu(e,s,i,r,o)},nearest(e,t,n,r){const s=ls(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return Hu(e,s,i,n.intersect,r,o)},x(e,t,n,r){const s=ls(t,e);return cg(e,s,"x",n.intersect,r)},y(e,t,n,r){const s=ls(t,e);return cg(e,s,"y",n.intersect,r)}}};const Kv=["left","top","right","bottom"];function Xi(e,t){return e.filter(n=>n.pos===t)}function ug(e,t){return e.filter(n=>Kv.indexOf(n.pos)===-1&&n.box.axis===t)}function Gi(e,t){return e.sort((n,r)=>{const s=t?r:n,i=t?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function Gj(e){const t=[];let n,r,s,i,o,a;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return t}function Qj(e){const t={};for(const n of e){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!Kv.includes(s))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function Jj(e,t){const n=Qj(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let i,o,a;for(i=0,o=e.length;i<o;++i){a=e[i];const{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*r:l&&t.availableWidth,a.height=s):(a.width=r,a.height=d?d*s:l&&t.availableHeight)}return n}function Zj(e){const t=Gj(e),n=Gi(t.filter(c=>c.box.fullSize),!0),r=Gi(Xi(t,"left"),!0),s=Gi(Xi(t,"right")),i=Gi(Xi(t,"top"),!0),o=Gi(Xi(t,"bottom")),a=ug(t,"x"),l=ug(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Xi(t,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function dg(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Yv(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function eN(e,t,n,r){const{pos:s,box:i}=n,o=e.maxPadding;if(!Se(s)){n.size&&(e[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,e[s]+=n.size}i.getPadding&&Yv(o,i.getPadding());const a=Math.max(0,t.outerWidth-dg(o,e,"left","right")),l=Math.max(0,t.outerHeight-dg(o,e,"top","bottom")),c=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function tN(e){const t=e.maxPadding;function n(r){const s=Math.max(t[r]-e[r],0);return e[r]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function nN(e,t){const n=t.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(t[o],n[o])}),i}return r(e?["left","right"]:["top","bottom"])}function lo(e,t,n,r){const s=[];let i,o,a,l,c,d;for(i=0,o=e.length,c=0;i<o;++i){a=e[i],l=a.box,l.update(a.width||t.w,a.height||t.h,nN(a.horizontal,t));const{same:f,other:h}=eN(t,n,a,r);c|=f&&s.length,d=d||h,l.fullSize||s.push(a)}return c&&lo(s,t,n,r)||d}function Wa(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function fg(e,t,n,r){const s=n.padding;let{x:i,y:o}=t;for(const a of e){const l=a.box,c=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const f=t.w*d,h=c.size||l.height;Go(c.start)&&(o=c.start),l.fullSize?Wa(l,s.left,o,n.outerWidth-s.right-s.left,h):Wa(l,t.left+c.placed,o,f,h),c.start=o,c.placed+=f,o=l.bottom}else{const f=t.h*d,h=c.size||l.width;Go(c.start)&&(i=c.start),l.fullSize?Wa(l,i,s.top,h,n.outerHeight-s.bottom-s.top):Wa(l,i,t.top+c.placed,h,f),c.start=i,c.placed+=f,i=l.right}}t.x=i,t.y=o}var un={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=Zt(e.options.layout.padding),i=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=Zj(e.boxes),l=a.vertical,c=a.horizontal;Te(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=l.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},s);Yv(h,Zt(r));const p=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),x=Jj(l.concat(c),f);lo(a.fullSize,p,f,x),lo(l,p,f,x),lo(c,p,f,x)&&lo(l,p,f,x),tN(p),fg(a.leftAndTop,p,f,x),p.x+=p.w,p.y+=p.h,fg(a.rightAndBottom,p,f,x),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Te(a.chartArea,g=>{const b=g.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class qv{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,s){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(t){return!0}updateConfig(t){}}class rN extends qv{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const wl="$chartjs",sN={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},hg=e=>e===null||e==="";function iN(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[wl]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",hg(s)){const i=Jm(e,"width");i!==void 0&&(e.width=i)}if(hg(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=Jm(e,"height");i!==void 0&&(e.height=i)}return e}const Xv=pj?{passive:!0}:!1;function oN(e,t,n){e&&e.addEventListener(t,n,Xv)}function aN(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Xv)}function lN(e,t){const n=sN[e.type]||e.type,{x:r,y:s}=ls(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:s!==void 0?s:null}}function lc(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function cN(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||lc(a.addedNodes,r),o=o&&!lc(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function uN(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||lc(a.removedNodes,r),o=o&&!lc(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Jo=new Map;let pg=0;function Gv(){const e=window.devicePixelRatio;e!==pg&&(pg=e,Jo.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function dN(e,t){Jo.size||window.addEventListener("resize",Gv),Jo.set(e,t)}function fN(e){Jo.delete(e),Jo.size||window.removeEventListener("resize",Gv)}function hN(e,t,n){const r=e.canvas,s=r&&Mh(r);if(!s)return;const i=Tv((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||i(c,d)});return o.observe(s),dN(e,i),o}function Vu(e,t,n){n&&n.disconnect(),t==="resize"&&fN(e)}function pN(e,t,n){const r=e.canvas,s=Tv(i=>{e.ctx!==null&&n(lN(i,e))},e);return oN(r,t,s),s}class mN extends qv{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(iN(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[wl])return!1;const r=n[wl].initial;["height","width"].forEach(i=>{const o=r[i];be(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[wl],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:cN,detach:uN,resize:hN}[n]||pN;s[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),s=r[n];if(!s)return;({attach:Vu,detach:Vu,resize:Vu}[n]||aN)(t,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,s){return hj(t,n,r,s)}isAttached(t){const n=t&&Mh(t);return!!(n&&n.isConnected)}}function gN(e){return!Rh()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?rN:mN}class Bn{constructor(){K(this,"x");K(this,"y");K(this,"active",!1);K(this,"options");K(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return wi(this.x)&&wi(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const s={};return t.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}K(Bn,"defaults",{}),K(Bn,"defaultRoutes");function xN(e,t){const n=e.options.ticks,r=yN(e),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?bN(t):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return wN(t,c,i,o/s),c;const d=vN(i,t,s);if(o>0){let f,h;const p=o>1?Math.round((l-a)/(o-1)):null;for(Ka(t,c,d,be(p)?0:a-p,a),f=0,h=o-1;f<h;f++)Ka(t,c,d,i[f],i[f+1]);return Ka(t,c,d,l,be(p)?t.length:l+p),c}return Ka(t,c,d),c}function yN(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}function vN(e,t,n){const r=_N(e),s=t.length/n;if(!r)return Math.max(s,1);const i=SE(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function bN(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function wN(e,t,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===i&&(t.push(e[o]),s++,i=n[s*r])}function Ka(e,t,n,r,s){const i=we(r,0),o=Math.min(we(s,e.length),e.length);let a=0,l,c,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===d&&(t.push(e[c]),a++,d=Math.round(i+a*n))}function _N(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const SN=e=>e==="left"?"right":e==="right"?"left":e,mg=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,gg=(e,t)=>Math.min(t||e,e);function xg(e,t){const n=[],r=e.length/t,s=e.length;let i=0;for(;i<s;i+=r)n.push(e[Math.floor(i)]);return n}function EN(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),i=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<i-a||l>o+a)))return l}function jN(e,t){Te(e,n=>{const r=n.gc,s=r.length/2;let i;if(s>t){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Qi(e){return e.drawTicks?e.tickLength:0}function yg(e,t){if(!e.display)return 0;const n=yt(e.font,t),r=Zt(e.padding);return(ot(e.text)?e.text.length:1)*n.lineHeight+r.height}function NN(e,t){return Ri(e,{scale:t,type:"scale"})}function kN(e,t,n){return Ri(e,{tick:n,index:t,type:"tick"})}function CN(e,t,n){let r=_h(e);return(n&&t!=="right"||!n&&t==="right")&&(r=SN(r)),r}function TN(e,t,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:d}=l;let f=0,h,p,x;const g=o-s,b=a-i;if(e.isHorizontal()){if(p=St(r,i,a),Se(n)){const y=Object.keys(n)[0],m=n[y];x=d[y].getPixelForValue(m)+g-t}else n==="center"?x=(c.bottom+c.top)/2+g-t:x=mg(e,n,t);h=a-i}else{if(Se(n)){const y=Object.keys(n)[0],m=n[y];p=d[y].getPixelForValue(m)-b+t}else n==="center"?p=(c.left+c.right)/2-b+t:p=mg(e,n,t);x=St(r,o,s),f=n==="left"?-dt:dt}return{titleX:p,titleY:x,maxWidth:h,rotation:f}}class Mi extends Bn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return t=Mn(t,Number.POSITIVE_INFINITY),n=Mn(n,Number.NEGATIVE_INFINITY),r=Mn(r,Number.POSITIVE_INFINITY),s=Mn(s,Number.NEGATIVE_INFINITY),{min:Mn(t,r),max:Mn(n,s),minDefined:pn(t),maxDefined:pn(n)}}getMinMax(t){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Mn(n,Mn(r,n)),max:Mn(r,Mn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Oe(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=JE(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?xg(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=xN(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Oe(this.options.afterUpdate,[this])}beforeSetDimensions(){Oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Oe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Oe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r],i.label=Oe(n.callback,[i.value,r,t],this)}afterTickToLabelConversion(){Oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=gg(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,p=Nt(this.chart.width-f,0,this.maxWidth);a=t.offset?this.maxWidth/r:p/(r-1),f+6>a&&(a=p/(r-(t.offset?.5:1)),l=this.maxHeight-Qi(t.grid)-n.padding-yg(t.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),o=kE(Math.min(Math.asin(Nt((d.highest.height+6)/a,-1,1)),Math.asin(Nt(l/c,-1,1))-Math.asin(Nt(h/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Oe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=yg(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=Qi(i)+l):(t.height=this.maxHeight,t.width=Qi(i)+l),r.display&&this.ticks.length){const{first:c,last:d,widest:f,highest:h}=this._getLabelSizes(),p=r.padding*2,x=An(this.labelRotation),g=Math.cos(x),b=Math.sin(x);if(a){const y=r.mirror?0:b*f.width+g*h.height;t.height=Math.min(this.maxHeight,t.height+y+p)}else{const y=r.mirror?0:g*f.width+b*h.height;t.width=Math.min(this.maxWidth,t.width+y+p)}this._calculatePadding(c,d,b,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?c?(h=s*t.width,p=r*n.height):(h=r*t.height,p=s*n.width):i==="start"?p=n.width:i==="end"?h=t.width:i!=="inner"&&(h=t.width/2,p=n.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=t.height/2;i==="start"?(d=0,f=t.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Oe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)be(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=xg(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/gg(n,r));let c=0,d=0,f,h,p,x,g,b,y,m,v,S,E;for(f=0;f<n;f+=l){if(x=t[f].label,g=this._resolveTickFontOptions(f),s.font=b=g.string,y=i[b]=i[b]||{data:{},gc:[]},m=g.lineHeight,v=S=0,!be(x)&&!ot(x))v=Ym(s,y.data,y.gc,v,x),S=m;else if(ot(x))for(h=0,p=x.length;h<p;++h)E=x[h],!be(E)&&!ot(E)&&(v=Ym(s,y.data,y.gc,v,E),S+=m);o.push(v),a.push(S),c=Math.max(v,c),d=Math.max(S,d)}jN(i,n);const j=o.indexOf(c),w=a.indexOf(d),N=D=>({width:o[D]||0,height:a[D]||0});return{first:N(0),last:N(n-1),widest:N(j),highest:N(w),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return TE(this._alignToPixels?ss(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=kN(this.getContext(),t,r))}return this.$context||(this.$context=NN(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=An(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=Qi(i),p=[],x=a.setContext(this.getContext()),g=x.display?x.width:0,b=g/2,y=function(ue){return ss(r,ue,g)};let m,v,S,E,j,w,N,D,T,A,F,Y;if(o==="top")m=y(this.bottom),w=this.bottom-h,D=m-b,A=y(t.top)+b,Y=t.bottom;else if(o==="bottom")m=y(this.top),A=t.top,Y=y(t.bottom)-b,w=m+b,D=this.top+h;else if(o==="left")m=y(this.right),j=this.right-h,N=m-b,T=y(t.left)+b,F=t.right;else if(o==="right")m=y(this.left),T=t.left,F=y(t.right)-b,j=m+b,N=this.left+h;else if(n==="x"){if(o==="center")m=y((t.top+t.bottom)/2+.5);else if(Se(o)){const ue=Object.keys(o)[0],z=o[ue];m=y(this.chart.scales[ue].getPixelForValue(z))}A=t.top,Y=t.bottom,w=m+b,D=w+h}else if(n==="y"){if(o==="center")m=y((t.left+t.right)/2);else if(Se(o)){const ue=Object.keys(o)[0],z=o[ue];m=y(this.chart.scales[ue].getPixelForValue(z))}j=m-b,N=j-h,T=t.left,F=t.right}const Z=we(s.ticks.maxTicksLimit,f),J=Math.max(1,Math.ceil(f/Z));for(v=0;v<f;v+=J){const ue=this.getContext(v),z=i.setContext(ue),L=a.setContext(ue),U=z.lineWidth,M=z.color,q=L.dash||[],I=L.dashOffset,ie=z.tickWidth,re=z.tickColor,oe=z.tickBorderDash||[],ne=z.tickBorderDashOffset;S=EN(this,v,l),S!==void 0&&(E=ss(r,S,U),c?j=N=T=F=E:w=D=A=Y=E,p.push({tx1:j,ty1:w,tx2:N,ty2:D,x1:T,y1:A,x2:F,y2:Y,width:U,color:M,borderDash:q,borderDashOffset:I,tickWidth:ie,tickColor:re,tickBorderDash:oe,tickBorderDashOffset:ne}))}return this._ticksLength=f,this._borderValue=m,p}_computeLabelItems(t){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:f}=i,h=Qi(r.grid),p=h+d,x=f?-d:p,g=-An(this.labelRotation),b=[];let y,m,v,S,E,j,w,N,D,T,A,F,Y="middle";if(s==="top")j=this.bottom-x,w=this._getXAxisLabelAlignment();else if(s==="bottom")j=this.top+x,w=this._getXAxisLabelAlignment();else if(s==="left"){const J=this._getYAxisLabelAlignment(h);w=J.textAlign,E=J.x}else if(s==="right"){const J=this._getYAxisLabelAlignment(h);w=J.textAlign,E=J.x}else if(n==="x"){if(s==="center")j=(t.top+t.bottom)/2+p;else if(Se(s)){const J=Object.keys(s)[0],ue=s[J];j=this.chart.scales[J].getPixelForValue(ue)+p}w=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")E=(t.left+t.right)/2-p;else if(Se(s)){const J=Object.keys(s)[0],ue=s[J];E=this.chart.scales[J].getPixelForValue(ue)}w=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?Y="top":l==="end"&&(Y="bottom"));const Z=this._getLabelSizes();for(y=0,m=a.length;y<m;++y){v=a[y],S=v.label;const J=i.setContext(this.getContext(y));N=this.getPixelForTick(y)+i.labelOffset,D=this._resolveTickFontOptions(y),T=D.lineHeight,A=ot(S)?S.length:1;const ue=A/2,z=J.color,L=J.textStrokeColor,U=J.textStrokeWidth;let M=w;o?(E=N,w==="inner"&&(y===m-1?M=this.options.reverse?"left":"right":y===0?M=this.options.reverse?"right":"left":M="center"),s==="top"?c==="near"||g!==0?F=-A*T+T/2:c==="center"?F=-Z.highest.height/2-ue*T+T:F=-Z.highest.height+T/2:c==="near"||g!==0?F=T/2:c==="center"?F=Z.highest.height/2-ue*T:F=Z.highest.height-A*T,f&&(F*=-1),g!==0&&!J.showLabelBackdrop&&(E+=T/2*Math.sin(g))):(j=N,F=(1-A)*T/2);let q;if(J.showLabelBackdrop){const I=Zt(J.backdropPadding),ie=Z.heights[y],re=Z.widths[y];let oe=F-I.top,ne=0-I.left;switch(Y){case"middle":oe-=ie/2;break;case"bottom":oe-=ie;break}switch(w){case"center":ne-=re/2;break;case"right":ne-=re;break;case"inner":y===m-1?ne-=re:y>0&&(ne-=re/2);break}q={left:ne,top:oe,width:re+I.width,height:ie+I.height,color:J.backdropColor}}b.push({label:S,font:D,textOffset:F,options:{rotation:g,color:z,strokeColor:L,strokeWidth:U,textAlign:M,textBaseline:Y,translation:[E,j],backdrop:q}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-An(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=t+i,l=o.widest.width;let c,d;return n==="left"?s?(d=this.right+i,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,s,i,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const a=(l,c,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,f,h;this.isHorizontal()?(c=ss(t,this.left,o)-o/2,d=ss(t,this.right,a)+a/2,f=h=l):(f=ss(t,this.top,o)-o/2,h=ss(t,this.bottom,a)+a/2,c=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Eh(r,s);const i=this.getLabelItems(t);for(const o of i){const a=o.options,l=o.font,c=o.label,d=o.textOffset;Qo(r,c,0,d,l,a)}s&&jh(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=yt(r.font),o=Zt(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||Se(n)?(l+=o.bottom,ot(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:f,rotation:h}=TN(this,l,n,a);Qo(t,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:h,textAlign:CN(a,n,s),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=we(t.grid&&t.grid.z,-1),s=we(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Mi.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return yt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ya{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;PN(n)&&(r=this.register(n));const s=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in s||(s[i]=t,RN(t,o,r),this.override&&Je.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,s=this.scope;r in n&&delete n[r],s&&r in Je[s]&&(delete Je[s][r],this.override&&delete Ps[r])}}function RN(e,t,n){const r=zn(Object.create(null),[n?Je.get(n):{},Je.get(t),e.defaults]);Je.set(t,r),e.defaultRoutes&&MN(t,e.defaultRoutes),e.descriptors&&Je.describe(t,e.descriptors)}function MN(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),s=r.pop(),i=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Je.route(i,s,l,a)})}function PN(e){return"id"in e&&"defaults"in e}class DN{constructor(){this.controllers=new Ya(En,"datasets",!0),this.elements=new Ya(Bn,"elements"),this.plugins=new Ya(Object,"plugins"),this.scales=new Ya(Mi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(t,i,s):Te(s,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const s=bh(t);Oe(r["before"+s],[],r),n[t](r),Oe(r["after"+s],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return s}}var On=new DN;class ON{constructor(){this._init=[]}notify(t,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(i,t,n,r);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,s){s=s||{};for(const i of t){const o=i.plugin,a=o[r],l=[n,s,i.options];if(Oe(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){be(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,s=we(r.options&&r.options.plugins,{}),i=LN(r);return s===!1&&!n?[]:IN(t,i,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),t,"stop"),this._notify(s(r,n),t,"start")}}function LN(e){const t={},n=[],r=Object.keys(On.plugins.items);for(let i=0;i<r.length;i++)n.push(On.getPlugin(r[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function AN(e,t){return!t&&e===!1?null:e===!0?{}:e}function IN(e,{plugins:t,localIds:n},r,s){const i=[],o=e.getContext();for(const a of t){const l=a.id,c=AN(r[l],s);c!==null&&i.push({plugin:a,options:FN(e.config,{plugin:a,local:n[l]},c,o)})}return i}function FN(e,{plugin:t,local:n},r,s){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(r,i);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ef(e,t){const n=Je.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function zN(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function BN(e,t){return e===t?"_index_":"_value_"}function vg(e){if(e==="x"||e==="y"||e==="r")return e}function $N(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function tf(e,...t){if(vg(e))return e;for(const n of t){const r=n.axis||$N(n.position)||e.length>1&&vg(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function bg(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function UN(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return bg(e,"x",n[0])||bg(e,"y",n[0])}return{}}function HN(e,t){const n=Ps[e.type]||{scales:{}},r=t.scales||{},s=ef(e.type,t),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Se(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=tf(o,a,UN(o,e),Je.scales[a.type]),c=BN(l,s),d=n.scales||{};i[o]=bo(Object.create(null),[{axis:l},a,d[l],d[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||ef(a,t),d=(Ps[a]||{}).scales||{};Object.keys(d).forEach(f=>{const h=zN(f,l),p=o[h+"AxisID"]||h;i[p]=i[p]||Object.create(null),bo(i[p],[{axis:h},r[p],d[f]])})}),Object.keys(i).forEach(o=>{const a=i[o];bo(a,[Je.scales[a.type],Je.scale])}),i}function Qv(e){const t=e.options||(e.options={});t.plugins=we(t.plugins,{}),t.scales=HN(e,t)}function Jv(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function VN(e){return e=e||{},e.data=Jv(e.data),Qv(e),e}const wg=new Map,Zv=new Set;function qa(e,t){let n=wg.get(e);return n||(n=t(),wg.set(e,n),Zv.add(n)),n}const Ji=(e,t,n)=>{const r=Ur(t,n);r!==void 0&&e.add(r)};class WN{constructor(t){this._config=VN(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Jv(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Qv(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return qa(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return qa(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return qa(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return qa(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let s=r.get(t);return(!s||n)&&(s=new Map,r.set(t,s)),s}getOptionScopes(t,n,r){const{options:s,type:i}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{t&&(l.add(t),d.forEach(f=>Ji(l,t,f))),d.forEach(f=>Ji(l,s,f)),d.forEach(f=>Ji(l,Ps[i]||{},f)),d.forEach(f=>Ji(l,Je,f)),d.forEach(f=>Ji(l,Jd,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Zv.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ps[n]||{},Je.datasets[n]||{},{type:n},Je,Jd]}resolveNamedOptions(t,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=_g(this._resolverCache,t,s);let l=o;if(YN(o,n)){i.$shared=!1,r=Hr(r)?r():r;const c=this.createResolver(t,r,a);l=_i(o,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(t,n,r=[""],s){const{resolver:i}=_g(this._resolverCache,t,r);return Se(n)?_i(i,n,void 0,s):i}}function _g(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let i=r.get(s);return i||(i={resolver:kh(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const KN=e=>Se(e)&&Object.getOwnPropertyNames(e).some(t=>Hr(e[t]));function YN(e,t){const{isScriptable:n,isIndexable:r}=Av(e);for(const s of t){const i=n(s),o=r(s),a=(o||i)&&e[s];if(i&&(Hr(a)||KN(a))||o&&ot(a))return!0}return!1}var qN="4.4.9";const XN=["top","bottom","left","right","chartArea"];function Sg(e,t){return e==="top"||e==="bottom"||XN.indexOf(e)===-1&&t==="x"}function Eg(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function jg(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Oe(n&&n.onComplete,[e],t)}function GN(e){const t=e.chart,n=t.options.animation;Oe(n&&n.onProgress,[e],t)}function e1(e){return Rh()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const _l={},Ng=e=>{const t=e1(e);return Object.values(_l).filter(n=>n.canvas===t).pop()};function QN(e,t,n){const r=Object.keys(e);for(const s of r){const i=+s;if(i>=t){const o=e[s];delete e[s],(n>0||i>t)&&(e[i+n]=o)}}}function JN(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}class br{static register(...t){On.add(...t),kg()}static unregister(...t){On.remove(...t),kg()}constructor(t,n){const r=this.config=new WN(n),s=e1(t),i=Ng(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||gN(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=mE(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ON,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=DE(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],_l[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Xn.listen(this,"complete",jg),Xn.listen(this,"progress",GN),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return be(t)?n&&i?i:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return On}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Qm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qm(this.canvas,this.ctx),this}stop(){return Xn.stop(this),this}resize(t,n){Xn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Qm(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Oe(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Te(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=tf(o,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),Te(i,o=>{const a=o.options,l=a.id,c=tf(l,a),d=we(a.type,o.dtype);(a.position===void 0||Sg(a.position,c)!==Sg(o.dposition))&&(a.position=o.dposition),s[l]=!0;let f=null;if(l in r&&r[l].type===d)f=r[l];else{const h=On.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,t)}),Te(s,(o,a)=>{o||delete r[a]}),Te(r,o=>{un.configure(this,o,o.options),un.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(Eg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||ef(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=On.getController(a),{datasetElementType:c,dataElementType:d}=Je.datasets[a];Object.assign(l,{dataElementType:On.getElement(d),datasetElementType:c&&On.getElement(c)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Te(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:f}=this.getDatasetMeta(c),h=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||Te(i,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Eg("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Te(this.scales,t=>{un.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Fm(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;QN(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(t.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!Fm(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;un.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Te(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Hr(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Xn.has(this)?this.attached&&!Xn.running(this)&&Xn.start(this):(this.draw(),jg({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=yj(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Eh(n,s),t.controller.draw(),s&&jh(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Sh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const i=Xj.modes[n];return typeof i=="function"?i(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Ri(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,s);Go(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Xn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),qm(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete _l[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),t[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};Te(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Te(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Te(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!nc(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const s=this.options.hover,i=(l,c)=>l.filter(d=>!c.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=i(n,t),a=r?t:i(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(t,s,r,o),l=wE(t),c=JN(t,this._lastEvent,r,l);r&&(this._lastEvent=null,Oe(i.onHover,[t,a,this],this),l&&Oe(i.onClick,[t,a,this],this));const d=!nc(a,s);return(d||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,d}_getActiveElements(t,n,r,s){if(t.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,s)}}K(br,"defaults",Je),K(br,"instances",_l),K(br,"overrides",Ps),K(br,"registry",On),K(br,"version",qN),K(br,"getChart",Ng);function kg(){return Te(br.instances,e=>e._plugins.invalidate())}function ZN(e,t,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(i,o,a,r-c,n+c),l>s?(c=s/l,e.arc(i,o,l,n+c,r-c,!0)):e.arc(i,o,s,n+dt,r-dt),e.closePath(),e.clip()}function ek(e){return Nh(e,["outerStart","outerEnd","innerStart","innerEnd"])}function tk(e,t,n,r){const s=ek(e.options.borderRadius),i=(n-t)/2,o=Math.min(i,r*t/2),a=l=>{const c=(n-Math.min(i,l))*r/2;return Nt(l,0,Math.min(i,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Nt(s.innerStart,0,o),innerEnd:Nt(s.innerEnd,0,o)}}function Vs(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function cc(e,t,n,r,s,i){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,f=Math.max(t.outerRadius+r+n-c,0),h=d>0?d+r+n+c:0;let p=0;const x=s-l;if(r){const J=d>0?d-r:0,ue=f>0?f-r:0,z=(J+ue)/2,L=z!==0?x*z/(z+r):x;p=(x-L)/2}const g=Math.max(.001,x*f-n/et)/f,b=(x-g)/2,y=l+b+p,m=s-b-p,{outerStart:v,outerEnd:S,innerStart:E,innerEnd:j}=tk(t,h,f,m-y),w=f-v,N=f-S,D=y+v/w,T=m-S/N,A=h+E,F=h+j,Y=y+E/A,Z=m-j/F;if(e.beginPath(),i){const J=(D+T)/2;if(e.arc(o,a,f,D,J),e.arc(o,a,f,J,T),S>0){const U=Vs(N,T,o,a);e.arc(U.x,U.y,S,T,m+dt)}const ue=Vs(F,m,o,a);if(e.lineTo(ue.x,ue.y),j>0){const U=Vs(F,Z,o,a);e.arc(U.x,U.y,j,m+dt,Z+Math.PI)}const z=(m-j/h+(y+E/h))/2;if(e.arc(o,a,h,m-j/h,z,!0),e.arc(o,a,h,z,y+E/h,!0),E>0){const U=Vs(A,Y,o,a);e.arc(U.x,U.y,E,Y+Math.PI,y-dt)}const L=Vs(w,y,o,a);if(e.lineTo(L.x,L.y),v>0){const U=Vs(w,D,o,a);e.arc(U.x,U.y,v,y-dt,D)}}else{e.moveTo(o,a);const J=Math.cos(D)*f+o,ue=Math.sin(D)*f+a;e.lineTo(J,ue);const z=Math.cos(T)*f+o,L=Math.sin(T)*f+a;e.lineTo(z,L)}e.closePath()}function nk(e,t,n,r,s){const{fullCircles:i,startAngle:o,circumference:a}=t;let l=t.endAngle;if(i){cc(e,t,n,r,l,s);for(let c=0;c<i;++c)e.fill();isNaN(a)||(l=o+(a%at||at))}return cc(e,t,n,r,l,s),e.fill(),l}function rk(e,t,n,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:f,borderDashOffset:h}=l,p=l.borderAlign==="inner";if(!c)return;e.setLineDash(f||[]),e.lineDashOffset=h,p?(e.lineWidth=c*2,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let x=t.endAngle;if(i){cc(e,t,n,r,x,s);for(let g=0;g<i;++g)e.stroke();isNaN(a)||(x=o+(a%at||at))}p&&ZN(e,t,x),i||(cc(e,t,n,r,x,s),e.stroke())}class si extends Bn{constructor(n){super();K(this,"circumference");K(this,"endAngle");K(this,"fullCircles");K(this,"innerRadius");K(this,"outerRadius");K(this,"pixelMargin");K(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=jv(i,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,x=we(h,c-l),g=ic(o,l,c)&&l!==c,b=x>=at||g,y=xs(a,d+p,f+p);return b&&y}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:d}=this.options,f=(i+o)/2,h=(a+l+d+c)/2;return{x:r+Math.cos(f)*h,y:s+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>at?Math.floor(s/at):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(et,s||0)),d=i*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,nk(n,this,d,o,a),rk(n,this,d,o,a),n.restore()}}K(si,"id","arc"),K(si,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),K(si,"defaultRoutes",{backgroundColor:"backgroundColor"}),K(si,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Cg(e,t,n,r){const s=e.options,{[n]:i}=e.getProps([n],r);return Math.abs(t-i)<s.radius+s.hitRadius}class Sl extends Bn{constructor(n){super();K(this,"parsed");K(this,"skip");K(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return Cg(this,n,"x",r)}inYRange(n,r){return Cg(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!Sh(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Zd(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}K(Sl,"id","point"),K(Sl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),K(Sl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function t1(e,t){const{x:n,y:r,base:s,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,d,f;return e.horizontal?(f=o/2,a=Math.min(n,s),l=Math.max(n,s),c=r-f,d=r+f):(f=i/2,a=n-f,l=n+f,c=Math.min(r,s),d=Math.max(r,s)),{left:a,top:c,right:l,bottom:d}}function Cr(e,t,n,r){return e?0:Nt(t,n,r)}function sk(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,i=Lv(r);return{t:Cr(s.top,i.top,0,n),r:Cr(s.right,i.right,0,t),b:Cr(s.bottom,i.bottom,0,n),l:Cr(s.left,i.left,0,t)}}function ik(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=di(s),o=Math.min(t,n),a=e.borderSkipped,l=r||Se(s);return{topLeft:Cr(!l||a.top||a.left,i.topLeft,0,o),topRight:Cr(!l||a.top||a.right,i.topRight,0,o),bottomLeft:Cr(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:Cr(!l||a.bottom||a.right,i.bottomRight,0,o)}}function ok(e){const t=t1(e),n=t.right-t.left,r=t.bottom-t.top,s=sk(e,n/2,r/2),i=ik(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Wu(e,t,n,r){const s=t===null,i=n===null,a=e&&!(s&&i)&&t1(e,r);return a&&(s||xs(t,a.left,a.right))&&(i||xs(n,a.top,a.bottom))}function ak(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function lk(e,t){e.rect(t.x,t.y,t.w,t.h)}function Ku(e,t,n={}){const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+i,h:e.h+o,radius:e.radius}}class So extends Bn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=ok(this),a=ak(o.radius)?oc:lk;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),a(t,Ku(o,n,i)),t.clip(),a(t,Ku(i,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,Ku(i,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,r){return Wu(this,t,n,r)}inXRange(t,n){return Wu(this,t,null,n)}inYRange(t,n){return Wu(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}K(So,"id","bar"),K(So,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),K(So,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Tg=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},ck=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Rg extends Bn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Oe(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,s)=>t.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,s=yt(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Tg(r,i);let c,d;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=s+a;let f=t;i.textAlign="left",i.textBaseline="middle";let h=-1,p=-d;return this.legendItems.forEach((x,g)=>{const b=r+n/2+i.measureText(x.text).width;(g===0||c[c.length-1]+b+2*a>o)&&(f+=d,c[c.length-(g>0?0:1)]=0,p+=d,h++),l[g]={left:0,top:p,row:h,width:b,height:s},c[c.length-1]+=b+a}),f}_fitCols(t,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-t;let f=a,h=0,p=0,x=0,g=0;return this.legendItems.forEach((b,y)=>{const{itemWidth:m,itemHeight:v}=uk(r,n,i,b,s);y>0&&p+v+2*a>d&&(f+=h+a,c.push({width:h,height:p}),x+=h+a,g++,h=p=0),l[y]={left:x,top:p,col:g,width:m,height:v},h=Math.max(h,m),p+=v+a}),f+=h,c.push({width:h,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=fi(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=St(r,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=St(r,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=St(r,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=St(r,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Eh(t,this),this._draw(),jh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=t,a=Je.color,l=fi(t.rtl,this.left,this.width),c=yt(o.font),{padding:d}=o,f=c.size,h=f/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:x,boxHeight:g,itemHeight:b}=Tg(o,f),y=function(j,w,N){if(isNaN(x)||x<=0||isNaN(g)||g<0)return;s.save();const D=we(N.lineWidth,1);if(s.fillStyle=we(N.fillStyle,a),s.lineCap=we(N.lineCap,"butt"),s.lineDashOffset=we(N.lineDashOffset,0),s.lineJoin=we(N.lineJoin,"miter"),s.lineWidth=D,s.strokeStyle=we(N.strokeStyle,a),s.setLineDash(we(N.lineDash,[])),o.usePointStyle){const T={radius:g*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:D},A=l.xPlus(j,x/2),F=w+h;Ov(s,T,A,F,o.pointStyleWidth&&x)}else{const T=w+Math.max((f-g)/2,0),A=l.leftForLtr(j,x),F=di(N.borderRadius);s.beginPath(),Object.values(F).some(Y=>Y!==0)?oc(s,{x:A,y:T,w:x,h:g,radius:F}):s.rect(A,T,x,g),s.fill(),D!==0&&s.stroke()}s.restore()},m=function(j,w,N){Qo(s,N.text,j,w+b/2,c,{strikethrough:N.hidden,textAlign:l.textAlign(N.textAlign)})},v=this.isHorizontal(),S=this._computeTitleHeight();v?p={x:St(i,this.left+d,this.right-r[0]),y:this.top+d+S,line:0}:p={x:this.left+d,y:St(i,this.top+S+d,this.bottom-n[0].height),line:0},$v(this.ctx,t.textDirection);const E=b+d;this.legendItems.forEach((j,w)=>{s.strokeStyle=j.fontColor,s.fillStyle=j.fontColor;const N=s.measureText(j.text).width,D=l.textAlign(j.textAlign||(j.textAlign=o.textAlign)),T=x+h+N;let A=p.x,F=p.y;l.setWidth(this.width),v?w>0&&A+T+d>this.right&&(F=p.y+=E,p.line++,A=p.x=St(i,this.left+d,this.right-r[p.line])):w>0&&F+E>this.bottom&&(A=p.x=A+n[p.line].width+d,p.line++,F=p.y=St(i,this.top+S+d,this.bottom-n[p.line].height));const Y=l.x(A);if(y(Y,F,j),A=OE(D,A+x+h,v?A+T:this.right,t.rtl),m(l.x(A),F,j),v)p.x+=T+d;else if(typeof j.text!="string"){const Z=c.lineHeight;p.y+=n1(j,Z)+d}else p.y+=E}),Uv(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=yt(n.font),s=Zt(n.padding);if(!n.display)return;const i=fi(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=s.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,f=St(t.align,f,this.right-h);else{const x=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);d=c+St(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const p=St(a,f,f+h);o.textAlign=i.textAlign(_h(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Qo(o,n.text,p,d,r)}_computeTitleHeight(){const t=this.options.title,n=yt(t.font),r=Zt(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,s,i;if(xs(t,this.left,this.right)&&xs(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],xs(t,s.left,s.left+s.width)&&xs(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!hk(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,i=ck(s,r);s&&!i&&Oe(n.onLeave,[t,s,this],this),this._hoveredItem=r,r&&!i&&Oe(n.onHover,[t,r,this],this)}else r&&Oe(n.onClick,[t,r,this],this)}}function uk(e,t,n,r,s){const i=dk(r,e,t,n),o=fk(s,r,t.lineHeight);return{itemWidth:i,itemHeight:o}}function dk(e,t,n,r){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),t+n.size/2+r.measureText(s).width}function fk(e,t,n){let r=e;return typeof t.text!="string"&&(r=n1(t,n)),r}function n1(e,t){const n=e.text?e.text.length:0;return t*n}function hk(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var pk={id:"legend",_element:Rg,start(e,t,n){const r=e.legend=new Rg({ctx:e.ctx,options:n,chart:e});un.configure(e,r,n),un.addBox(e,r)},stop(e){un.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;un.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=Zt(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class r1 extends Bn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=ot(r.text)?r.text.length:1;this._padding=Zt(r.padding);const i=s*yt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,c,d,f;return this.isHorizontal()?(d=St(a,r,i),f=n+t,c=i-r):(o.position==="left"?(d=r+t,f=St(a,s,n),l=et*-.5):(d=i-t,f=St(a,n,s),l=et*.5),c=s-n),{titleX:d,titleY:f,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=yt(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);Qo(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:_h(n.align),textBaseline:"middle",translation:[o,a]})}}function mk(e,t){const n=new r1({ctx:e.ctx,options:t,chart:e});un.configure(e,n,t),un.addBox(e,n),e.titleBlock=n}var gk={id:"title",_element:r1,start(e,t,n){mk(e,n)},stop(e){const t=e.titleBlock;un.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;un.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const co={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,i=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=e.length;i<o;++i){const l=e[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=CE(t,c);d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Pn(e,t){return t&&(ot(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Gn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function xk(e,t){const{element:n,datasetIndex:r,index:s}=t,i=e.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:e,label:o,parsed:i.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Mg(e,t){const n=e.chart.ctx,{body:r,footer:s,title:i}=e,{boxWidth:o,boxHeight:a}=t,l=yt(t.bodyFont),c=yt(t.titleFont),d=yt(t.footerFont),f=i.length,h=s.length,p=r.length,x=Zt(t.padding);let g=x.height,b=0,y=r.reduce((S,E)=>S+E.before.length+E.lines.length+E.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,f&&(g+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),y){const S=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*S+(y-p)*l.lineHeight+(y-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let m=0;const v=function(S){b=Math.max(b,n.measureText(S).width+m)};return n.save(),n.font=c.string,Te(e.title,v),n.font=l.string,Te(e.beforeBody.concat(e.afterBody),v),m=t.displayColors?o+2+t.boxPadding:0,Te(r,S=>{Te(S.before,v),Te(S.lines,v),Te(S.after,v)}),m=0,n.font=d.string,Te(e.footer,v),n.restore(),b+=x.width,{width:b,height:g}}function yk(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function vk(e,t,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&s+i+o>t.width||e==="right"&&s-i-o<0)return!0}function bk(e,t,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return r==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),vk(c,e,t,n)&&(c="center"),c}function Pg(e,t,n){const r=n.yAlign||t.yAlign||yk(e,n);return{xAlign:n.xAlign||t.xAlign||bk(e,t,n,r),yAlign:r}}function wk(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function _k(e,t,n){let{y:r,height:s}=e;return t==="top"?r+=n:t==="bottom"?r-=s+n:r-=s/2,r}function Dg(e,t,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=s+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=di(o);let x=wk(t,a);const g=_k(t,l,c);return l==="center"?a==="left"?x+=c:a==="right"&&(x-=c):a==="left"?x-=Math.max(d,h)+s:a==="right"&&(x+=Math.max(f,p)+s),{x:Nt(x,0,r.width-t.width),y:Nt(g,0,r.height-t.height)}}function Xa(e,t,n){const r=Zt(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function Og(e){return Pn([],Gn(e))}function Sk(e,t,n){return Ri(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Lg(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const s1={beforeTitle:Kn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Kn,beforeBody:Kn,beforeLabel:Kn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return be(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Kn,afterBody:Kn,beforeFooter:Kn,footer:Kn,afterFooter:Kn};function Lt(e,t,n,r){const s=e[t].call(n,r);return typeof s>"u"?s1[t].call(n,r):s}class nf extends Bn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new Hv(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Sk(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=Lt(r,"beforeTitle",this,t),i=Lt(r,"title",this,t),o=Lt(r,"afterTitle",this,t);let a=[];return a=Pn(a,Gn(s)),a=Pn(a,Gn(i)),a=Pn(a,Gn(o)),a}getBeforeBody(t,n){return Og(Lt(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return Te(t,i=>{const o={before:[],lines:[],after:[]},a=Lg(r,i);Pn(o.before,Gn(Lt(a,"beforeLabel",this,i))),Pn(o.lines,Lt(a,"label",this,i)),Pn(o.after,Gn(Lt(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(t,n){return Og(Lt(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=Lt(r,"beforeFooter",this,t),i=Lt(r,"footer",this,t),o=Lt(r,"afterFooter",this,t);let a=[];return a=Pn(a,Gn(s)),a=Pn(a,Gn(i)),a=Pn(a,Gn(o)),a}_createItems(t){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(xk(this.chart,n[l]));return t.filter&&(a=a.filter((d,f,h)=>t.filter(d,f,h,r))),t.itemSort&&(a=a.sort((d,f)=>t.itemSort(d,f,r))),Te(a,d=>{const f=Lg(t.callbacks,d);s.push(Lt(f,"labelColor",this,d)),i.push(Lt(f,"labelPointStyle",this,d)),o.push(Lt(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=co[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Mg(this,r),c=Object.assign({},a,l),d=Pg(this.chart,r,c),f=Dg(r,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const i=this.getCaretPosition(t,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:f}=di(a),{x:h,y:p}=t,{width:x,height:g}=n;let b,y,m,v,S,E;return i==="center"?(S=p+g/2,s==="left"?(b=h,y=b-o,v=S+o,E=S-o):(b=h+x,y=b+o,v=S-o,E=S+o),m=b):(s==="left"?y=h+Math.max(l,d)+o:s==="right"?y=h+x-Math.max(c,f)-o:y=this.caretX,i==="top"?(v=p,S=v-o,b=y-o,m=y+o):(v=p+g,S=v+o,b=y+o,m=y-o),E=v),{x1:b,x2:y,x3:m,y1:v,y2:S,y3:E}}drawTitle(t,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const c=fi(r.rtl,this.x,this.width);for(t.x=Xa(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=yt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===i&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,d=yt(i.bodyFont),f=Xa(this,"left",i),h=s.x(f),p=l<d.lineHeight?(d.lineHeight-l)/2:0,x=n.y+p;if(i.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=s.leftForLtr(h,c)+c/2,y=x+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Zd(t,g,b,y),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Zd(t,g,b,y)}else{t.lineWidth=Se(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(h,c),b=s.leftForLtr(s.xPlus(h,1),c-2),y=di(o.borderRadius);Object.values(y).some(m=>m!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,oc(t,{x:g,y:x,w:c,h:l,radius:y}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),oc(t,{x:b,y:x+1,w:c-2,h:l-2,radius:y}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(g,x,c,l),t.strokeRect(g,x,c,l),t.fillStyle=o.backgroundColor,t.fillRect(b,x+1,c-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=r,f=yt(r.bodyFont);let h=f.lineHeight,p=0;const x=fi(r.rtl,this.x,this.width),g=function(N){n.fillText(N,x.x(t.x+p),t.y+h/2),t.y+=h+i},b=x.textAlign(o);let y,m,v,S,E,j,w;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,t.x=Xa(this,b,r),n.fillStyle=r.bodyColor,Te(this.beforeBody,g),p=a&&b!=="right"?o==="center"?c/2+d:c+2+d:0,S=0,j=s.length;S<j;++S){for(y=s[S],m=this.labelTextColors[S],n.fillStyle=m,Te(y.before,g),v=y.lines,a&&v.length&&(this._drawColorBox(n,t,S,x,r),h=Math.max(f.lineHeight,l)),E=0,w=v.length;E<w;++E)g(v[E]),h=f.lineHeight;Te(y.after,g)}p=0,h=f.lineHeight,Te(this.afterBody,g),t.y-=i}drawFooter(t,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=fi(r.rtl,this.x,this.width);for(t.x=Xa(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=yt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:d}=r,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:x}=di(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(t,n,r,s),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&i==="right"&&this.drawCaret(t,n,r,s),n.lineTo(a+c,l+d-x),n.quadraticCurveTo(a+c,l+d,a+c-x,l+d),o==="bottom"&&this.drawCaret(t,n,r,s),n.lineTo(a+p,l+d),n.quadraticCurveTo(a,l+d,a,l+d-p),o==="center"&&i==="left"&&this.drawCaret(t,n,r,s),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=co[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Mg(this,t),l=Object.assign({},o,this._size),c=Pg(n,t,l),d=Dg(t,l,c,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Zt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,s,n),$v(t,n.textDirection),i.y+=o.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),Uv(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!nc(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(t,i,n,r),a=this._positionChanged(o,t),l=n||!nc(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,s){const i=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:s,options:i}=this,o=co[i.position].call(this,t,n);return o!==!1&&(r!==o.x||s!==o.y)}}K(nf,"positioners",co);var Ek={id:"tooltip",_element:nf,positioners:co,afterInit(e,t,n){n&&(e.tooltip=new nf({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:s1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const jk=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Nk(e,t,n,r){const s=e.indexOf(t);if(s===-1)return jk(e,t,n,r);const i=e.lastIndexOf(t);return s!==i?n:s}const kk=(e,t)=>e===null?null:Nt(Math.round(e),0,t);function Ag(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class rf extends Mi{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(be(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:Nk(r,t,we(n,t),this._addedLabels),kk(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return Ag.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}K(rf,"id","category"),K(rf,"defaults",{ticks:{callback:Ag}});function Ck(e,t){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:f,includeBounds:h}=e,p=i||1,x=d-1,{min:g,max:b}=t,y=!be(o),m=!be(a),v=!be(c),S=(b-g)/(f+1);let E=Bm((b-g)/x/p)*p,j,w,N,D;if(E<1e-14&&!y&&!m)return[{value:g},{value:b}];D=Math.ceil(b/E)-Math.floor(g/E),D>x&&(E=Bm(D*E/x/p)*p),be(l)||(j=Math.pow(10,l),E=Math.ceil(E*j)/j),s==="ticks"?(w=Math.floor(g/E)*E,N=Math.ceil(b/E)*E):(w=g,N=b),y&&m&&i&&jE((a-o)/i,E/1e3)?(D=Math.round(Math.min((a-o)/E,d)),E=(a-o)/D,w=o,N=a):v?(w=y?o:w,N=m?a:N,D=c-1,E=(N-w)/D):(D=(N-w)/E,bl(D,Math.round(D),E/1e3)?D=Math.round(D):D=Math.ceil(D));const T=Math.max($m(E),$m(w));j=Math.pow(10,be(l)?T:l),w=Math.round(w*j)/j,N=Math.round(N*j)/j;let A=0;for(y&&(h&&w!==o?(n.push({value:o}),w<o&&A++,bl(Math.round((w+A*E)*j)/j,o,Ig(o,S,e))&&A++):w<o&&A++);A<D;++A){const F=Math.round((w+A*E)*j)/j;if(m&&F>a)break;n.push({value:F})}return m&&h&&N!==a?n.length&&bl(n[n.length-1].value,a,Ig(a,S,e))?n[n.length-1].value=a:n.push({value:a}):(!m||N===a)&&n.push({value:N}),n}function Ig(e,t,{horizontal:n,minRotation:r}){const s=An(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class Tk extends Mi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return be(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(t){const l=Fr(s),c=Fr(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),t||o(s-l)}this.min=s,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=Ck(s,i);return t.bounds==="ticks"&&NE(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const s=(r-n)/Math.max(t.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Bc(t,this.chart.options.locale,this.options.ticks.format)}}class sf extends Tk{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=pn(t)?t:0,this.max=pn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=An(this.options.ticks.minRotation),s=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}K(sf,"id","linear"),K(sf,"defaults",{ticks:{callback:Dv.formatters.numeric}});const Hc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bt=Object.keys(Hc);function Fg(e,t){return e-t}function zg(e,t){if(be(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:i}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),pn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(wi(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function Bg(e,t,n,r){const s=Bt.length;for(let i=Bt.indexOf(e);i<s-1;++i){const o=Hc[Bt[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return Bt[i]}return Bt[s-1]}function Rk(e,t,n,r,s){for(let i=Bt.length-1;i>=Bt.indexOf(n);i--){const o=Bt[i];if(Hc[o].common&&e._adapter.diff(s,r,o)>=t-1)return o}return Bt[n?Bt.indexOf(n):0]}function Mk(e){for(let t=Bt.indexOf(e)+1,n=Bt.length;t<n;++t)if(Hc[Bt[t]].common)return Bt[t]}function $g(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:s}=wh(n,t),i=n[r]>=t?n[r]:n[s];e[i]=!0}}function Pk(e,t,n,r){const s=e._adapter,i=+s.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function Ug(e,t,n){const r=[],s={},i=t.length;let o,a;for(o=0;o<i;++o)a=t[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:Pk(e,r,s,n)}class uc extends Mi{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new Vj._date(t.adapters.date);s.init(n),bo(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:zg(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=pn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=pn(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=ME(s,i,o);return this._unit=n.unit||(r.autoSkip?Bg(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Rk(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Mk(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),Ug(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,s,i;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Nt(n,0,o),r=Nt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||Bg(i.minUnit,n,r,this._getLabelCapacity(n)),a=we(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=wi(l)||l===!0,d={};let f=n,h,p;if(c&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(h=f,p=0;h<r;h=+t.add(h,a,o),p++)$g(d,h,x);return(h===r||s.bounds==="ticks"||p===1)&&$g(d,h,x),Object.keys(d).sort(Fg).map(g=>+g)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return Oe(o,[t,n,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],f=c&&a[c],h=r[n],p=c&&f&&h&&h.major;return this._adapter.format(t,s||(p?f:d))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=An(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(t,0,Ug(this,[t],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(zg(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return kv(t.sort(Fg))}}K(uc,"id","time"),K(uc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ga(e,t,n){let r=0,s=e.length-1,i,o,a,l;n?(t>=e[r].pos&&t<=e[s].pos&&({lo:r,hi:s}=ys(e,"pos",t)),{pos:i,time:a}=e[r],{pos:o,time:l}=e[s]):(t>=e[r].time&&t<=e[s].time&&({lo:r,hi:s}=ys(e,"time",t)),{time:i,pos:a}=e[r],{time:o,pos:l}=e[s]);const c=o-i;return c?a+(l-a)*(t-i)/c:a}class Hg extends uc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Ga(n,this.min),this._tableRange=Ga(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,s=[],i=[];let o,a,l,c,d;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],c=s[o],Math.round((d+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Ga(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Ga(this._table,r*this._tableRange+this._minPos,!0)}}K(Hg,"id","timeseries"),K(Hg,"defaults",uc.defaults);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Vg=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),Eo={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):be(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var r=[].concat(t),s=r.length,i=e.font,o=0,a;for(e.font=n.string,a=0;a<s;++a)o=Math.max(e.measureText(r[a]).width,o);return e.font=i,{height:s*n.lineHeight,width:o}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),r=[],s,i,o,a;for(s=0,o=t.length;s<o;++s)a=t[s],i=n.indexOf(a),i===-1?r.push([a,1]):n.splice(i,1);for(s=0,o=n.length;s<o;++s)r.push([n[s],-1]);return r},rasterize:function(e){return Math.round(e*Vg)/Vg}};function Yu(e,t){var n=t.x,r=t.y;if(n===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var s=e.x-n,i=e.y-r,o=Math.sqrt(s*s+i*i);return{x:o?s/o:0,y:o?i/o:-1}}function Dk(e,t,n,r,s){switch(s){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:s*=Math.PI/180,n=Math.cos(s),r=Math.sin(s);break}return{x:e,y:t,vx:n,vy:r}}var Ok=0,i1=1,o1=2,a1=4,l1=8;function Qa(e,t,n){var r=Ok;return e<n.left?r|=i1:e>n.right&&(r|=o1),t<n.top?r|=l1:t>n.bottom&&(r|=a1),r}function Lk(e,t){for(var n=e.x0,r=e.y0,s=e.x1,i=e.y1,o=Qa(n,r,t),a=Qa(s,i,t),l,c,d;!(!(o|a)||o&a);)l=o||a,l&l1?(c=n+(s-n)*(t.top-r)/(i-r),d=t.top):l&a1?(c=n+(s-n)*(t.bottom-r)/(i-r),d=t.bottom):l&o1?(d=r+(i-r)*(t.right-n)/(s-n),c=t.right):l&i1&&(d=r+(i-r)*(t.left-n)/(s-n),c=t.left),l===o?(n=c,r=d,o=Qa(n,r,t)):(s=c,i=d,a=Qa(s,i,t));return{x0:n,x1:s,y0:r,y1:i}}function Ja(e,t){var n=t.anchor,r=e,s,i;return t.clamp&&(r=Lk(r,t.area)),n==="start"?(s=r.x0,i=r.y0):n==="end"?(s=r.x1,i=r.y1):(s=(r.x0+r.x1)/2,i=(r.y0+r.y1)/2),Dk(s,i,e.vx,e.vy,t.align)}var Za={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,r=Math.cos(n),s=Math.sin(n),i=e.innerRadius,o=e.outerRadius;return Ja({x0:e.x+r*i,y0:e.y+s*i,x1:e.x+r*o,y1:e.y+s*o,vx:r,vy:s},t)},point:function(e,t){var n=Yu(e,t.origin),r=n.x*e.options.radius,s=n.y*e.options.radius;return Ja({x0:e.x-r,y0:e.y-s,x1:e.x+r,y1:e.y+s,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=Yu(e,t.origin),r=e.x,s=e.y,i=0,o=0;return e.horizontal?(r=Math.min(e.x,e.base),i=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),o=Math.abs(e.base-e.y)),Ja({x0:r,y0:s+o,x1:r+i,y1:s,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=Yu(e,t.origin);return Ja({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},nr=Eo.rasterize;function Ak(e){var t=e.borderWidth||0,n=e.padding,r=e.size.height,s=e.size.width,i=-s/2,o=-r/2;return{frame:{x:i-n.left-t,y:o-n.top-t,w:s+n.width+t*2,h:r+n.height+t*2},text:{x:i,y:o,w:s,h:r}}}function Ik(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return e.horizontal?{x:r,y:null}:{x:null,y:r}}function Fk(e){return e instanceof si?Za.arc:e instanceof Sl?Za.point:e instanceof So?Za.bar:Za.fallback}function zk(e,t,n,r,s,i){var o=Math.PI/2;if(i){var a=Math.min(i,s/2,r/2),l=t+a,c=n+a,d=t+r-a,f=n+s-a;e.moveTo(t,c),l<d&&c<f?(e.arc(l,c,a,-Math.PI,-o),e.arc(d,c,a,-o,0),e.arc(d,f,a,0,o),e.arc(l,f,a,o,Math.PI)):l<d?(e.moveTo(l,n),e.arc(d,c,a,-o,o),e.arc(l,c,a,o,Math.PI+o)):c<f?(e.arc(l,c,a,-Math.PI,0),e.arc(l,f,a,0,Math.PI)):e.arc(l,c,a,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,r,s)}function Bk(e,t,n){var r=n.backgroundColor,s=n.borderColor,i=n.borderWidth;!r&&(!s||!i)||(e.beginPath(),zk(e,nr(t.x)+i/2,nr(t.y)+i/2,nr(t.w)-i,nr(t.h)-i,n.borderRadius),e.closePath(),r&&(e.fillStyle=r,e.fill()),s&&i&&(e.strokeStyle=s,e.lineWidth=i,e.lineJoin="miter",e.stroke()))}function $k(e,t,n){var r=n.lineHeight,s=e.w,i=e.x,o=e.y+r/2;return t==="center"?i+=s/2:(t==="end"||t==="right")&&(i+=s),{h:r,w:s,x:i,y:o}}function Uk(e,t,n){var r=e.shadowBlur,s=n.stroked,i=nr(n.x),o=nr(n.y),a=nr(n.w);s&&e.strokeText(t,i,o,a),n.filled&&(r&&s&&(e.shadowBlur=0),e.fillText(t,i,o,a),r&&s&&(e.shadowBlur=r))}function Hk(e,t,n,r){var s=r.textAlign,i=r.color,o=!!i,a=r.font,l=t.length,c=r.textStrokeColor,d=r.textStrokeWidth,f=c&&d,h;if(!(!l||!o&&!f))for(n=$k(n,s,a),e.font=a.string,e.textAlign=s,e.textBaseline="middle",e.shadowBlur=r.textShadowBlur,e.shadowColor=r.textShadowColor,o&&(e.fillStyle=i),f&&(e.lineJoin="round",e.lineWidth=d,e.strokeStyle=c),h=0,l=t.length;h<l;++h)Uk(e,t[h],{stroked:f,filled:o,w:n.w,x:n.x,y:n.y+n.h*h})}var c1=function(e,t,n,r){var s=this;s._config=e,s._index=r,s._model=null,s._rects=null,s._ctx=t,s._el=n};zn(c1.prototype,{_modelize:function(e,t,n,r){var s=this,i=s._index,o=yt(Ue([n.font,{}],r,i)),a=Ue([n.color,Je.color],r,i);return{align:Ue([n.align,"center"],r,i),anchor:Ue([n.anchor,"center"],r,i),area:r.chart.chartArea,backgroundColor:Ue([n.backgroundColor,null],r,i),borderColor:Ue([n.borderColor,null],r,i),borderRadius:Ue([n.borderRadius,0],r,i),borderWidth:Ue([n.borderWidth,0],r,i),clamp:Ue([n.clamp,!1],r,i),clip:Ue([n.clip,!1],r,i),color:a,display:e,font:o,lines:t,offset:Ue([n.offset,4],r,i),opacity:Ue([n.opacity,1],r,i),origin:Ik(s._el,r),padding:Zt(Ue([n.padding,4],r,i)),positioner:Fk(s._el),rotation:Ue([n.rotation,0],r,i)*(Math.PI/180),size:Eo.textSize(s._ctx,t,o),textAlign:Ue([n.textAlign,"start"],r,i),textShadowBlur:Ue([n.textShadowBlur,0],r,i),textShadowColor:Ue([n.textShadowColor,a],r,i),textStrokeColor:Ue([n.textStrokeColor,a],r,i),textStrokeWidth:Ue([n.textStrokeWidth,0],r,i)}},update:function(e){var t=this,n=null,r=null,s=t._index,i=t._config,o,a,l,c=Ue([i.display,!0],e,s);c&&(o=e.dataset.data[s],a=we(Oe(i.formatter,[o,e]),o),l=be(a)?[]:Eo.toTextLines(a),l.length&&(n=t._modelize(c,l,i,e),r=Ak(n))),t._model=n,t._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,r=e.ctx,s=n._model,i=n._rects,o;this.visible()&&(r.save(),s.clip&&(o=s.area,r.beginPath(),r.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),r.clip()),r.globalAlpha=Eo.bound(0,s.opacity,1),r.translate(nr(t.x),nr(t.y)),r.rotate(s.rotation),Bk(r,i.frame,s),Hk(r,s.lines,i.text,s),r.restore())}});var Vk=Number.MIN_SAFE_INTEGER||-9007199254740991,Wk=Number.MAX_SAFE_INTEGER||9007199254740991;function Zi(e,t,n){var r=Math.cos(n),s=Math.sin(n),i=t.x,o=t.y;return{x:i+r*(e.x-i)-s*(e.y-o),y:o+s*(e.x-i)+r*(e.y-o)}}function Wg(e,t){var n=Wk,r=Vk,s=t.origin,i,o,a,l,c;for(i=0;i<e.length;++i)o=e[i],a=o.x-s.x,l=o.y-s.y,c=t.vx*a+t.vy*l,n=Math.min(n,c),r=Math.max(r,c);return{min:n,max:r}}function el(e,t){var n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);return{vx:(t.x-e.x)/s,vy:(t.y-e.y)/s,origin:e,ln:s}}var u1=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};zn(u1.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,r=t._rect;return e=Zi(e,t.center(),-t._rotation),!(e.x<r.x-n||e.y<r.y-n||e.x>r.x+r.w+n*2||e.y>r.y+r.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),r=[el(t[0],t[1]),el(t[0],t[3])],s,i,o;for(this._rotation!==e._rotation&&r.push(el(n[0],n[1]),el(n[0],n[3])),s=0;s<r.length;++s)if(i=Wg(t,r[s]),o=Wg(n,r[s]),i.max<o.min||o.max<i.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,r=e.center();return[Zi({x:t.x,y:t.y},r,n),Zi({x:t.x+t.w,y:t.y},r,n),Zi({x:t.x+t.w,y:t.y+t.h},r,n),Zi({x:t.x,y:t.y+t.h},r,n)]}});function d1(e,t,n){var r=t.positioner(e,t),s=r.vx,i=r.vy;if(!s&&!i)return{x:r.x,y:r.y};var o=n.w,a=n.h,l=t.rotation,c=Math.abs(o/2*Math.cos(l))+Math.abs(a/2*Math.sin(l)),d=Math.abs(o/2*Math.sin(l))+Math.abs(a/2*Math.cos(l)),f=1/Math.max(Math.abs(s),Math.abs(i));return c*=s*f,d*=i*f,c+=t.offset*s,d+=t.offset*i,{x:r.x+c,y:r.y+d}}function Kk(e,t){var n,r,s,i;for(n=e.length-1;n>=0;--n)for(s=e[n].$layout,r=n-1;r>=0&&s._visible;--r)i=e[r].$layout,i._visible&&s._box.intersects(i._box)&&t(s,i);return e}function Yk(e){var t,n,r,s,i,o,a;for(t=0,n=e.length;t<n;++t)r=e[t],s=r.$layout,s._visible&&(a=new Proxy(r._el,{get:(l,c)=>l.getProps([c],!0)[c]}),i=r.geometry(),o=d1(a,r.model(),i),s._box.update(o,i,r.rotation()));return Kk(e,function(l,c){var d=l._hidable,f=c._hidable;d&&f||f?c._visible=!1:d&&(l._visible=!1)})}var jo={prepare:function(e){var t=[],n,r,s,i,o;for(n=0,s=e.length;n<s;++n)for(r=0,i=e[n].length;r<i;++r)o=e[n][r],t.push(o),o.$layout={_box:new u1,_hidable:!1,_visible:!0,_set:n,_idx:o._index};return t.sort(function(a,l){var c=a.$layout,d=l.$layout;return c._idx===d._idx?d._set-c._set:d._idx-c._idx}),this.update(t),t},update:function(e){var t=!1,n,r,s,i,o;for(n=0,r=e.length;n<r;++n)s=e[n],i=s.model(),o=s.$layout,o._hidable=i&&i.display==="auto",o._visible=s.visible(),t|=o._hidable;t&&Yk(e)},lookup:function(e,t){var n,r;for(n=e.length-1;n>=0;--n)if(r=e[n].$layout,r&&r._visible&&r._box.contains(t))return e[n];return null},draw:function(e,t){var n,r,s,i,o,a;for(n=0,r=t.length;n<r;++n)s=t[n],i=s.$layout,i._visible&&(o=s.geometry(),a=d1(s._el,s.model(),o),i._box.update(a,o,s.rotation()),s.draw(e,a))}},qk=function(e){if(be(e))return null;var t=e,n,r,s;if(Se(e))if(!be(e.label))t=e.label;else if(!be(e.r))t=e.r;else for(t="",n=Object.keys(e),s=0,r=n.length;s<r;++s)t+=(s!==0?", ":"")+n[s]+": "+e[n[s]];return""+t},Xk={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:qk,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},It="$datalabels",f1="$default";function Gk(e,t){var n=e.datalabels,r={},s=[],i,o;return n===!1?null:(n===!0&&(n={}),t=zn({},[t,n]),i=t.labels||{},o=Object.keys(i),delete t.labels,o.length?o.forEach(function(a){i[a]&&s.push(zn({},[t,i[a],{_key:a}]))}):s.push(t),r=s.reduce(function(a,l){return Te(l.listeners||{},function(c,d){a[d]=a[d]||{},a[d][l._key||f1]=c}),delete l.listeners,a},{}),{labels:s,listeners:r})}function of(e,t,n,r){if(t){var s=n.$context,i=n.$groups,o;t[i._set]&&(o=t[i._set][i._key],o&&Oe(o,[s,r])===!0&&(e[It]._dirty=!0,n.update(s)))}}function Qk(e,t,n,r,s){var i,o;!n&&!r||(n?r?n!==r&&(o=i=!0):o=!0:i=!0,o&&of(e,t.leave,n,s),i&&of(e,t.enter,r,s))}function Jk(e,t){var n=e[It],r=n._listeners,s,i;if(!(!r.enter&&!r.leave)){if(t.type==="mousemove")i=jo.lookup(n._labels,t);else if(t.type!=="mouseout")return;s=n._hovered,n._hovered=i,Qk(e,r,s,i,t)}}function Zk(e,t){var n=e[It],r=n._listeners.click,s=r&&jo.lookup(n._labels,t);s&&of(e,r,s,t)}var e5={id:"datalabels",defaults:Xk,beforeInit:function(e){e[It]={_actives:[]}},beforeUpdate:function(e){var t=e[It];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var r=t.index,s=e[It],i=s._datasets[r]=[],o=e.isDatasetVisible(r),a=e.data.datasets[r],l=Gk(a,n),c=t.meta.data||[],d=e.ctx,f,h,p,x,g,b,y,m;for(d.save(),f=0,p=c.length;f<p;++f)if(y=c[f],y[It]=[],o&&y&&e.getDataVisibility(f)&&!y.skip)for(h=0,x=l.labels.length;h<x;++h)g=l.labels[h],b=g._key,m=new c1(g,d,y,f),m.$groups={_set:r,_key:b||f1},m.$context={active:!1,chart:e,dataIndex:f,dataset:a,datasetIndex:r},m.update(m.$context),y[It].push(m),i.push(m);d.restore(),zn(s._listeners,l.listeners,{merger:function(v,S,E){S[v]=S[v]||{},S[v][t.index]=E[v],s._listened=!0}})},afterUpdate:function(e){e[It]._labels=jo.prepare(e[It]._datasets)},afterDatasetsDraw:function(e){jo.draw(e,e[It]._labels)},beforeEvent:function(e,t){if(e[It]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":Jk(e,n);break;case"click":Zk(e,n);break}}},afterEvent:function(e){var t=e[It],n=t._actives,r=t._actives=e.getActiveElements(),s=Eo.arrayDiff(n,r),i,o,a,l,c,d,f;for(i=0,o=s.length;i<o;++i)if(c=s[i],c[1])for(f=c[0].element[It]||[],a=0,l=f.length;a<l;++a)d=f[a],d.$context.active=c[1]===1,d.update(d.$context);(t._dirty||s.length)&&(jo.update(t._labels),e.render()),delete t._dirty}};br.register(si,Ek,pk,rf,sf,So,gk,e5);const Kg=_.lazy(()=>yv(()=>import("./index-CmWck6ob.js"),[]).then(e=>({default:e.Pie})));_.lazy(()=>yv(()=>import("./index-CmWck6ob.js"),[]).then(e=>({default:e.Bar})));const Ws=["#2563eb","#f59e42","#10b981","#f43f5e","#6366f1","#fbbf24","#0ea5e9","#a3e635","#f472b6","#818cf8"],Yg={tickets:"border-blue-400 text-blue-600 bg-white","En instance":"border-red-400 text-red-600 bg-white","En cours":"border-yellow-400 text-yellow-600 bg-white",Clôturé:"border-green-400 text-green-600 bg-white"},t5={"En instance":"hover:bg-red-50","En cours":"hover:bg-yellow-50",Clôturé:"hover:bg-green-50"},Yn={stats:null,lastFetch:null,lastParams:null,cacheDuration:5*60*1e3},qg=()=>u.jsx("div",{className:"animate-pulse",children:u.jsx("div",{className:"h-80 bg-gray-200 rounded-lg"})}),n5=()=>{const[e,t]=_.useState({total:0,ticketsByStatut:[],ticketsByPriorite:[],ticketsByCategorie:[]}),[n,r]=_.useState(!0),[s,i]=_.useState(""),[o,a]=_.useState(!1),[l,c]=_.useState([]),[d,f]=_.useState([]),[h,p]=_.useState(!1),x=_.useMemo(()=>({labels:e.ticketsByPriorite.map(m=>m.designation),datasets:[{data:e.ticketsByPriorite.map(m=>m.count),backgroundColor:Ws,borderWidth:1,hoverOffset:45}]}),[e.ticketsByPriorite]),g=_.useMemo(()=>({labels:e.ticketsByCategorie.map(m=>m.designation),datasets:[{data:e.ticketsByCategorie.map(m=>m.count),backgroundColor:Ws,borderWidth:1,hoverOffset:45}]}),[e.ticketsByCategorie]),b=_.useMemo(()=>(m,v,S)=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:m,font:{size:18,weight:"bold"},color:"#1e293b",padding:{top:10,bottom:20}},tooltip:{callbacks:{label:function(E){const j=E.dataset.data.reduce((D,T)=>D+T,0),w=E.raw,N=j?(w/j*100).toFixed(1):0;return`${E.label}: ${w} tickets (${N}%)`}}},datalabels:{color:"#fff",font:{weight:"bold",size:13},formatter:(E,j)=>{const w=j.chart.data.datasets[0].data.reduce((D,T)=>D+T,0);if(!w||E===0)return"";const N=E/w*100;return N>=5?`${N.toFixed(0)}%`:""},borderRadius:4,backgroundColor:E=>Ws[E.dataIndex%Ws.length],padding:4,display:!0}},onHover:(E,j)=>{E.native.target.style.cursor=j[0]?"pointer":"default"},onClick:(E,j,w)=>{if(j&&j.length>0){const N=j[0].index,D=w.data.labels[N],T=w.data.datasets[0].data[N];S(A=>A.some(F=>F.label===D)?A:[...A,{label:D,value:T,color:Ws[N%Ws.length]}])}}}),[]),y=async(m=!1)=>{var S,E;const v=Date.now();if(!m&&Yn.stats&&Yn.lastFetch&&v-Yn.lastFetch<Yn.cacheDuration){t(Yn.stats),r(!1);return}a(!0),r(!0);try{const j=await ce.get("/api/dashboard/stats",{params:{refresh:m},headers:{Accept:"application/json","Content-Type":"application/json"}});if(j.data&&!j.data.error)t(j.data),Yn.stats=j.data,Yn.lastFetch=v,i("");else throw new Error(j.data.error||"Erreur inconnue")}catch(j){console.error("Erreur lors du chargement des statistiques:",j),i(((E=(S=j.response)==null?void 0:S.data)==null?void 0:E.error)||"Erreur lors du chargement des statistiques"),Yn.stats&&t(Yn.stats)}finally{r(!1),setTimeout(()=>a(!1),600)}};return _.useEffect(()=>{y(!0);const m=setTimeout(()=>p(!0),100);return()=>clearTimeout(m)},[]),n?u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Tableau de bord"}),u.jsx("button",{onClick:()=>y(!0),className:"ml-2 p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx($r,{className:o?"animate-spin-once":""})})]}),u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((m,v)=>u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]},v))}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[...Array(3)].map((m,v)=>u.jsxs("div",{className:`bg-white p-6 rounded-lg shadow ${v===2?"md:col-span-2":""}`,children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),u.jsx("div",{className:"h-80 bg-gray-200 rounded"})]},v))})]})]})}):s?u.jsx(Ie,{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded",children:s})})}):u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Tableau de bord"}),u.jsx("button",{onClick:()=>y(!0),className:"ml-2 p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx($r,{className:o?"animate-spin-once":""})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsxs(cr,{to:"/tickets",className:`border-l-4 p-6 rounded-lg shadow flex flex-col items-start hover:bg-gray-50 transition-colors cursor-pointer ${Yg.tickets}`,children:[u.jsx("h3",{className:"text-lg font-bold text-black",children:"Total tickets"}),u.jsx("p",{className:"mt-2 text-3xl font-extrabold text-blue-600",children:e.total})]}),e.ticketsByStatut.map(m=>{const v=Yg[m.designation]||"border-purple-500 bg-white",S=t5[m.designation]||"hover:bg-purple-50",E=(v.match(/text-[^ ]+/)||["text-purple-700"])[0];return u.jsxs(cr,{to:`/tickets?statut=${m.designation}`,className:`border-l-4 p-6 rounded-lg shadow flex flex-col items-start transition-colors cursor-pointer ${v} ${S}`,style:{minWidth:220},children:[u.jsx("h3",{className:"text-lg font-bold text-black mb-2",children:m.designation}),u.jsx("p",{className:`mt-2 text-4xl font-extrabold ${E}`,children:m.count})]},m.designation)})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl",children:[u.jsxs("h3",{className:"text-xl font-bold mb-4 text-blue-900 flex items-center gap-2",children:[u.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})}),"Répartition par priorité"]}),u.jsx("div",{className:"flex justify-center items-center h-[30rem]",children:u.jsx(_.Suspense,{fallback:u.jsx(qg,{}),children:h&&u.jsx("div",{className:"w-full h-full",children:u.jsx(Kg,{data:x,options:b("Répartition par priorité",l,c)})})})}),l.length>0&&u.jsxs("div",{className:"mt-2 mx-auto max-w-md p-2 bg-white rounded-xl border border-blue-100 shadow flex flex-col gap-1",children:[u.jsxs("h4",{className:"text-xs font-semibold text-blue-700 mb-1 text-center flex items-center gap-1 justify-center",children:[u.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})}),"Détails des priorités"]}),u.jsx("div",{className:"space-y-0.5",children:[...new Map(l.map(m=>[m.label,m])).values()].map(m=>u.jsxs("div",{className:"flex items-center justify-between px-3 py-1 bg-blue-50 rounded border border-blue-100",children:[u.jsxs("span",{className:"text-blue-900 font-medium text-sm truncate flex items-center gap-2",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),m.label]}),u.jsxs("span",{className:"text-xs font-semibold text-blue-700 bg-blue-100 px-2 py-0.5 rounded-full",children:[m.value," tickets"]})]},m.label))})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl md:col-span-2",children:[u.jsxs("h3",{className:"text-xl font-bold mb-4 text-green-900 flex items-center gap-2",children:[u.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})}),"Répartition par catégorie"]}),u.jsx("div",{className:"flex justify-center items-center h-[30rem]",children:u.jsx(_.Suspense,{fallback:u.jsx(qg,{}),children:h&&u.jsx("div",{className:"w-full h-full",children:u.jsx(Kg,{data:g,options:b("Répartition par catégorie",d,f)})})})}),d.length>0&&u.jsxs("div",{className:"mt-2 mx-auto max-w-md p-2 bg-white rounded-xl border border-green-100 shadow flex flex-col gap-1",children:[u.jsxs("h4",{className:"text-xs font-semibold text-green-700 mb-1 text-center flex items-center gap-1 justify-center",children:[u.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.41 0-8-1.79-8-4V6c0-2.21 3.59-4 8-4s8 1.79 8 4v8c0 2.21-3.59 4-8 4z"})}),"Détails des catégories"]}),u.jsx("div",{className:"space-y-0.5",children:[...new Map(d.map(m=>[m.label,m])).values()].map(m=>u.jsxs("div",{className:"flex items-center justify-between px-3 py-1 bg-green-50 rounded border border-green-100",children:[u.jsxs("span",{className:"text-green-900 font-medium text-sm truncate flex items-center gap-2",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),m.label]}),u.jsxs("span",{className:"text-xs font-semibold text-green-700 bg-green-100 px-2 py-0.5 rounded-full",children:[m.value," tickets"]})]},m.label))})]})]})]})]})})};let r5={data:""},s5=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||r5,i5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,o5=/\/\*[^]*?\*\/|  +/g,Xg=/\n+/g,Sr=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Sr(o,i):i+"{"+Sr(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=Sr(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Sr.p?Sr.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},qn={},h1=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+h1(e[n]);return t}return e},a5=(e,t,n,r,s)=>{let i=h1(e),o=qn[i]||(qn[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!qn[o]){let l=i!==e?e:(c=>{let d,f,h=[{}];for(;d=i5.exec(c.replace(o5,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Xg," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Xg," ").trim();return h[0]})(e);qn[o]=Sr(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&qn.g?qn.g:null;return n&&(qn.g=qn[o]),((l,c,d,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(qn[o],t,r,a),o},l5=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Sr(a,""):a===!1?"":a}return r+s+(o??"")},"");function Vc(e){let t=this||{},n=e.call?e(t.p):e;return a5(n.unshift?n.raw?l5(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,s5(t.target),t.g,t.o,t.k)}let p1,af,lf;Vc.bind({g:1});let ur=Vc.bind({k:1});function c5(e,t,n,r){Sr.p=t,p1=e,af=n,lf=r}function Gr(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:af&&af()},a),n.o=/ *go\d+/.test(l),a.className=Vc.apply(n,r)+(l?" "+l:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),lf&&c[0]&&lf(a),p1(c,a)}return s}}var u5=e=>typeof e=="function",dc=(e,t)=>u5(e)?e(t):e,d5=(()=>{let e=0;return()=>(++e).toString()})(),m1=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),f5=20,g1=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,f5)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return g1(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},El=[],vs={toasts:[],pausedAt:void 0},Is=e=>{vs=g1(vs,e),El.forEach(t=>{t(vs)})},h5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},p5=(e={})=>{let[t,n]=_.useState(vs),r=_.useRef(vs);_.useEffect(()=>(r.current!==vs&&n(vs),El.push(n),()=>{let i=El.indexOf(n);i>-1&&El.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,a,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((a=e[i.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||h5[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},m5=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||d5()}),ua=e=>(t,n)=>{let r=m5(t,e,n);return Is({type:2,toast:r}),r.id},xt=(e,t)=>ua("blank")(e,t);xt.error=ua("error");xt.success=ua("success");xt.loading=ua("loading");xt.custom=ua("custom");xt.dismiss=e=>{Is({type:3,toastId:e})};xt.remove=e=>Is({type:4,toastId:e});xt.promise=(e,t,n)=>{let r=xt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?dc(t.success,s):void 0;return i?xt.success(i,{id:r,...n,...n==null?void 0:n.success}):xt.dismiss(r),s}).catch(s=>{let i=t.error?dc(t.error,s):void 0;i?xt.error(i,{id:r,...n,...n==null?void 0:n.error}):xt.dismiss(r)}),e};var g5=(e,t)=>{Is({type:1,toast:{id:e,height:t}})},x5=()=>{Is({type:5,time:Date.now()})},No=new Map,y5=1e3,v5=(e,t=y5)=>{if(No.has(e))return;let n=setTimeout(()=>{No.delete(e),Is({type:4,toastId:e})},t);No.set(e,n)},b5=e=>{let{toasts:t,pausedAt:n}=p5(e);_.useEffect(()=>{if(n)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&xt.dismiss(a.id);return}return setTimeout(()=>xt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,n]);let r=_.useCallback(()=>{n&&Is({type:6,time:Date.now()})},[n]),s=_.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},d=t.filter(p=>(p.position||c)===(i.position||c)&&p.height),f=d.findIndex(p=>p.id===i.id),h=d.filter((p,x)=>x<f&&p.visible).length;return d.filter(p=>p.visible).slice(...a?[h+1]:[0,h]).reduce((p,x)=>p+(x.height||0)+l,0)},[t]);return _.useEffect(()=>{t.forEach(i=>{if(i.dismissed)v5(i.id,i.removeDelay);else{let o=No.get(i.id);o&&(clearTimeout(o),No.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:g5,startPause:x5,endPause:r,calculateOffset:s}}},w5=ur`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_5=ur`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,S5=ur`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,E5=Gr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${S5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,j5=ur`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,N5=Gr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${j5} 1s linear infinite;
`,k5=ur`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,C5=ur`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,T5=Gr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${k5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${C5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,R5=Gr("div")`
  position: absolute;
`,M5=Gr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,P5=ur`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,D5=Gr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${P5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,O5=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?_.createElement(D5,null,t):t:n==="blank"?null:_.createElement(M5,null,_.createElement(N5,{...r}),n!=="loading"&&_.createElement(R5,null,n==="error"?_.createElement(E5,{...r}):_.createElement(T5,{...r})))},L5=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,A5=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,I5="0%{opacity:0;} 100%{opacity:1;}",F5="0%{opacity:1;} 100%{opacity:0;}",z5=Gr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,B5=Gr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$5=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=m1()?[I5,F5]:[L5(n),A5(n)];return{animation:t?`${ur(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ur(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},U5=_.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?$5(e.position||t||"top-center",e.visible):{opacity:0},i=_.createElement(O5,{toast:e}),o=_.createElement(B5,{...e.ariaProps},dc(e.message,e));return _.createElement(z5,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):_.createElement(_.Fragment,null,i,o))});c5(_.createElement);var H5=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=_.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return _.createElement("div",{ref:i,className:t,style:n},s)},V5=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:m1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},W5=Vc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,tl=16,Gg=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=b5(n);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:tl,left:tl,right:tl,bottom:tl,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||t,f=l.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),h=V5(d,f);return _.createElement(H5,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?W5:"",style:h},c.type==="custom"?dc(c.message,c):s?s(c):_.createElement(U5,{toast:c,position:d}))}))};const K5=(e,t)=>{const[n,r]=_.useState(e);return _.useEffect(()=>{const s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),n},Y5=()=>{const[e]=K_(),[t,n]=_.useState([]),[r,s]=_.useState(!0),[i,o]=_.useState(""),[a,l]=_.useState(1),[c,d]=_.useState(!0),[f,h]=_.useState(!1),p=_.useRef(null),[x,g]=_.useState(!1),[b,y]=_.useState(!1),[m,v]=_.useState(()=>({categorie:e.get("categorie")||"",demandeur:e.get("demandeur")||"",emplacement:e.get("emplacement")||"",statut:e.get("statut")?parseInt(e.get("statut"),10):"",priorite:e.get("priorite")||"",dateDebut:e.get("dateDebut")||"",dateDebutFin:e.get("dateDebutFin")||"",dateFinPrevueDebut:e.get("dateFinPrevueDebut")||"",dateFinPrevueFin:e.get("dateFinPrevueFin")||"",dateFinReelleDebut:e.get("dateFinReelleDebut")||"",dateFinReelleFin:e.get("dateFinReelleFin")||"",titre:e.get("titre")||"",showRejectedByDemandeur:!1})),[S,E]=_.useState(m.titre),j=K5(S,500),[w,N]=_.useState(!1),[D,T]=_.useState([]),[A,F]=_.useState([]),[Y,Z]=_.useState([]),[J,ue]=_.useState([]),[z,L]=_.useState([]);let U=null;try{U=JSON.parse(localStorage.getItem("user"))}catch{U=null}const M=U==null?void 0:U.niveau,q=_.useCallback((R,H)=>{if(!H.trim())return R;const ae=H.toLowerCase();return R.filter(nt=>{var Me,qe;return((Me=nt.Titre)==null?void 0:Me.toLowerCase().includes(ae))||((qe=nt.Description)==null?void 0:qe.toLowerCase().includes(ae))})},[]),I=_.useMemo(()=>!t||!(M==="1"||M===1)?0:t.filter(R=>R.reports&&R.reports.some(H=>H.type==="rejet"&&H.Id_Demandeur===R.Id_Demandeur)).length,[t,M]),ie=_.useMemo(()=>{let R=t;return S.trim()&&(R=q(R,S)),(M==="1"||M===1)&&(m.showRejectedByDemandeur?R=R.filter(H=>H.reports&&H.reports.some(ae=>ae.type==="rejet"&&ae.Id_Demandeur===H.Id_Demandeur)):R=R.filter(H=>!(H.reports&&H.reports.some(ae=>ae.type==="rejet"&&ae.Id_Demandeur===H.Id_Demandeur)))),R},[t,S,q,M,m.showRejectedByDemandeur]);_.useMemo(()=>!ie||!U?0:ie.filter(R=>R.Id_Demandeur===U.id&&R.reports&&R.reports.some(H=>!H.is_viewed)).length,[ie,U]),_.useEffect(()=>{v(R=>({...R,titre:j}))},[j]),_.useEffect(()=>{(async()=>{try{s(!0);const H=await ce.get("/api/tickets/options");if(H.data&&H.data.options){const{options:ae}=H.data;L(ae.statuts||[]),T(ae.categories||[]),F(ae.demandeurs||[]),Z(ae.emplacements||[]),ue(ae.priorites||[])}await re(1)}catch(H){console.error("Erreur lors du chargement des options:",H),o("Erreur lors du chargement des données")}finally{s(!1)}})()},[]),_.useEffect(()=>{if(!r&&t.length>0){const R=setTimeout(()=>{re(1)},300);return()=>clearTimeout(R)}},[m.categorie,m.demandeur,m.emplacement,m.statut,m.priorite,m.dateDebut,m.dateDebutFin,m.dateFinPrevueDebut,m.dateFinPrevueFin,m.dateFinReelleDebut,m.dateFinReelleFin,j,b]);const re=async(R=1)=>{try{R===1&&s(!0),g(!0);const H={...m};delete H.titre;const nt=(await ce.get("/api/tickets",{params:{...H,page:R,per_page:2,filter_unread_reports:b?!0:void 0}})).data,Me=nt.data||[],qe=nt.total||0,Un=Math.ceil(qe/2);n(R===1?Me:nn=>[...nn,...Me]),d(R<Un),l(R),o("")}catch(H){o("Erreur lors du chargement des tickets"),console.error("Erreur:",H)}finally{s(!1),h(!1),g(!1)}};_.useEffect(()=>{const R=new IntersectionObserver(H=>{H[0].isIntersecting&&c&&!f&&!r&&(h(!0),re(a+1))},{threshold:.1,rootMargin:"500px"});return p.current&&R.observe(p.current),()=>{p.current&&R.unobserve(p.current)}},[c,f,a,r]),_.useEffect(()=>{const R=H=>{const{ticketId:ae}=H.detail;n(nt=>nt.map(Me=>Me.id===ae?{...Me,reports:Me.reports.map(qe=>({...qe,is_viewed:!0}))}:Me))};return window.addEventListener("reportsViewed",R),()=>{window.removeEventListener("reportsViewed",R)}},[]);const oe=(R,H)=>{v(ae=>({...ae,[R]:H}))},ne=R=>{E(R)},fe=R=>{const H=m.statut===R?"":R;oe("statut",H);const ae=new URLSearchParams(e);H!==""?ae.set("statut",H.toString()):ae.delete("statut"),window.history.replaceState(null,"",`?${ae.toString()}`)},he=async(R,H)=>{var ae,nt;try{const Me=z.find(kn=>kn.id===parseInt(H,10));if(!["En instance","En cours","Terminé"].includes(Me==null?void 0:Me.designation)&&!(M==="1"||M===1)){xt.error("Vous ne pouvez pas modifier ce statut.");return}const nn={Id_Statut:parseInt(H,10)};(Me==null?void 0:Me.designation)==="Terminé"&&(nn.DateFinReelle=new Date().toISOString().split("T")[0]);const Hn=await ce.put(`/api/tickets/${R}`,nn);n(kn=>kn.map(mn=>mn.id===R?{...mn,Id_Statut:parseInt(H,10),statut:Hn.data.statut,DateFinReelle:(Me==null?void 0:Me.designation)==="Terminé"?nn.DateFinReelle:mn.DateFinReelle}:mn)),xt.success("Statut mis à jour avec succès")}catch(Me){console.error("Error updating status:",Me),xt.error(((nt=(ae=Me.response)==null?void 0:ae.data)==null?void 0:nt.message)||"Erreur lors de la mise à jour du statut du ticket.")}},Be=()=>{v({categorie:"",demandeur:"",emplacement:"",statut:"",priorite:"",dateDebut:"",dateDebutFin:"",dateFinPrevueDebut:"",dateFinPrevueFin:"",dateFinReelleDebut:"",dateFinReelleFin:"",titre:"",showRejectedByDemandeur:!1}),E(""),y(!1)},lt=R=>{if(!R)return"-";let H=R;typeof R=="object"&&R.date&&(H=R.date),typeof H=="string"&&H.includes(".")&&(H=H.split(".")[0]);const ae=H.replace(" ","T"),nt=new Date(ae);return isNaN(nt)?"-":nt.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})};return r&&!t.length?u.jsxs(Ie,{children:[u.jsx(Gg,{position:"top-right"}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Liste des Tickets"})}),u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"})]})]})]}):u.jsxs(Ie,{children:[u.jsx(Gg,{position:"top-right"}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Liste des Tickets"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>N(!w),className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Filtres",children:u.jsx(xv,{className:w?"text-blue-600":""})}),u.jsx("button",{onClick:()=>re(1),className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx($r,{className:x?"animate-spin-once":""})}),!(M==="2"||M===2)&&u.jsx(cr,{to:"/create-ticket",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Créer un ticket"})]})]}),u.jsx("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-2",children:u.jsxs("div",{className:"flex gap-2",children:[z.map(R=>u.jsx("button",{onClick:()=>fe(R.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${m.statut===R.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R.designation},R.id)),(M==="1"||M===1)&&u.jsxs("button",{onClick:()=>v(R=>({...R,showRejectedByDemandeur:!R.showRejectedByDemandeur,statut:R.showRejectedByDemandeur?R.statut:""})),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors flex items-center gap-2 ${m.showRejectedByDemandeur?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx("span",{children:"Tickets refusés par le demandeur"}),I>0&&u.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold bg-purple-600 text-white rounded-full",children:I})]})]})}),w&&u.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Filtres"}),u.jsxs("button",{onClick:Be,className:"text-sm text-gray-600 hover:text-red-600 flex items-center gap-1",children:[u.jsx(vl,{})," Réinitialiser"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"flex flex-col w-full gap-2 md:col-span-3",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Rechercher par titre"}),u.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Rechercher par titre",value:S,onChange:R=>ne(R.target.value)})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Demandeur"}),u.jsxs("select",{value:m.demandeur,onChange:R=>oe("demandeur",R.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Tous"}),A.map(R=>u.jsx("option",{value:R.id,children:R.designation},R.id))]})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Catégorie"}),u.jsxs("select",{value:m.categorie,onChange:R=>oe("categorie",R.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Toutes"}),D.map(R=>u.jsx("option",{value:R.id,children:R.designation},R.id))]})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Emplacement"}),u.jsxs("select",{value:m.emplacement,onChange:R=>oe("emplacement",R.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Tous"}),Y.map(R=>u.jsx("option",{value:R.id,children:R.designation},R.id))]})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priorité"}),u.jsxs("select",{value:m.priorite,onChange:R=>oe("priorite",R.target.value),className:"form-select block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Toutes"}),J.map(R=>u.jsx("option",{value:R.id,children:R.designation},R.id))]})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date de début"}),u.jsx("input",{type:"date",value:m.dateDebut,onChange:R=>oe("dateDebut",R.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Du"}),u.jsx("input",{type:"date",value:m.dateDebutFin,onChange:R=>oe("dateDebutFin",R.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Au"})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date de fin prévue"}),u.jsx("input",{type:"date",value:m.dateFinPrevueDebut,onChange:R=>oe("dateFinPrevueDebut",R.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Du"}),u.jsx("input",{type:"date",value:m.dateFinPrevueFin,onChange:R=>oe("dateFinPrevueFin",R.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Au"})]}),u.jsxs("div",{className:"flex flex-col w-full gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date de fin réelle"}),u.jsx("input",{type:"date",value:m.dateFinReelleDebut,onChange:R=>oe("dateFinReelleDebut",R.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Du"}),u.jsx("input",{type:"date",value:m.dateFinReelleFin,onChange:R=>oe("dateFinReelleFin",R.target.value),className:"form-input block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Au"})]})]})]}),i&&u.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded",children:i}),!r&&ie.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[u.jsx("span",{className:"text-2xl font-semibold text-gray-400 mb-2",children:"Pas de ticket"}),u.jsx("span",{className:"text-base text-gray-400",children:"Aucun ticket ne correspond à vos critères de recherche."})]}),u.jsxs("div",{className:"space-y-4",children:[ie.map((R,H)=>{var qe,Un,nn,Hn,kn,mn,Qr,Jr,Yt,gn,pr,Vn,Ot,Ct,V,le;console.log("TICKET DEBUG:",R.id,R.Titre,R.reports,R.Id_Demandeur);const ae=R.reports&&R.reports.some(de=>de.type==="rejet"),Me=(()=>{var de;return((de=R.statut)==null?void 0:de.designation)==="Refusé"?"border-red-600 bg-red-50 hover:bg-red-100":ae?"border-purple-600 bg-purple-50 hover:bg-purple-100":""})();return R.id===1&&(R.reports=[{type:"rejet",Id_Demandeur:R.Id_Demandeur}]),u.jsxs("div",{className:`rounded-2xl shadow-lg border flex flex-col md:flex-row items-center justify-between min-h-[140px] px-6 py-5 mb-6 transition-transform hover:scale-[1.015] hover:shadow-2xl group ${Me}`,style:{transition:"box-shadow 0.2s, transform 0.2s"},children:[u.jsx("div",{className:"flex-1 flex flex-col w-full",children:u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[u.jsx("h3",{className:`text-2xl font-bold uppercase tracking-wide group-hover:text-blue-700 transition-colors ${((qe=R.statut)==null?void 0:qe.designation)==="Refusé"?"text-red-700":ae?"text-purple-700":"text-gray-900"}`,children:R.Titre}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${((Un=R.statut)==null?void 0:Un.designation)==="Refusé"?"bg-red-100 text-red-700 border-red-200":ae?"bg-purple-100 text-purple-700 border-purple-200":"bg-blue-100 text-blue-700 border-blue-200"}`,children:((nn=R.statut)==null?void 0:nn.designation)||"Sans statut"}),u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-700 border border-green-200",children:((Hn=R.priorite)==null?void 0:Hn.designation)||"Sans priorité"}),((kn=R.statut)==null?void 0:kn.designation)==="Clôturé"&&u.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-yellow-100 text-gray-700 border border-gray-200",children:["Clôturé le : ",lt(R.DateFinReelle)]}),ae&&u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-orange-100 text-orange-700 border border-orange-200",children:"Refusé précédemment par le demandeur"})]})]}),u.jsx("p",{className:`text-base mb-4 line-clamp-2 ${((mn=R.statut)==null?void 0:mn.designation)==="Refusé"?"text-red-700":ae?"text-purple-700":"text-gray-700"}`,children:R.Description||"Aucune description"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-1 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Demandeur :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:((Qr=R.demandeur)==null?void 0:Qr.designation)||"Non spécifié"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Date début :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:lt(R.DateDebut)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Date fin prévue :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:lt(R.DateFinPrevue)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Emplacement :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:((Jr=R.emplacement)==null?void 0:Jr.designation)||"Non spécifié"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Catégorie :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:((Yt=R.categorie)==null?void 0:Yt.designation)||"Non spécifiée"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Commentaire :"}),u.jsx("span",{className:"font-semibold text-gray-900 ml-1",children:R.formatted_comments&&R.formatted_comments.length>0?R.formatted_comments[R.formatted_comments.length-1].content.slice(0,60)+(R.formatted_comments[R.formatted_comments.length-1].content.length>60?"...":""):"Aucun"})]})]})]})}),u.jsxs("div",{className:"mt-6 md:mt-0 md:ml-6 flex-shrink-0 flex flex-col items-end justify-between h-full gap-2",children:[(M==="1"||M===1)&&u.jsx(u.Fragment,{children:["En instance","En cours","Terminé"].includes((gn=R.statut)==null?void 0:gn.designation)?u.jsx("select",{value:R.Id_Statut,onChange:de=>he(R.id,de.target.value),className:`mb-2 px-2 py-1 rounded border text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 ${((pr=R.statut)==null?void 0:pr.designation)==="Refusé"?"border-red-300 bg-red-50":ae?"border-purple-300 bg-purple-50":"border-gray-300"}`,children:z&&z.length>0?z.filter(de=>["En instance","En cours","Terminé"].includes(de.designation)).map(de=>u.jsx("option",{value:de.id,children:de.designation},de.id)):u.jsx("option",{value:"",children:"Chargement des statuts..."})}):u.jsxs("div",{className:`mb-2 px-2 py-1 text-sm ${((Vn=R.statut)==null?void 0:Vn.designation)==="Refusé"?"text-red-700":ae?"text-purple-700":"text-gray-700"}`,children:["Statut : ",((Ot=R.statut)==null?void 0:Ot.designation)||"Non défini"]})}),!(M==="1"||M===1)&&u.jsxs("div",{className:`mb-2 px-2 py-1 text-sm ${((Ct=R.statut)==null?void 0:Ct.designation)==="Refusé"?"text-red-700":ae?"text-purple-700":"text-gray-700"}`,children:["Statut : ",((V=R.statut)==null?void 0:V.designation)||"Non défini"]}),u.jsxs(cr,{to:`/tickets/${R.id}`,className:`inline-flex items-center gap-2 text-white font-semibold px-5 py-2 rounded-lg shadow transition-colors text-base ${((le=R.statut)==null?void 0:le.designation)==="Refusé"?"bg-red-600 hover:bg-red-700":ae?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Voir détails"]})]})]},`ticket-${R.id}-${H}`)}),c&&u.jsx("div",{ref:p,className:"h-16 flex items-center justify-center",children:f?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),u.jsx("span",{className:"text-sm text-gray-500",children:"Chargement..."})]}):u.jsx("div",{className:"h-4"})})]})]})]})};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qg;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(Qg||(Qg={}));var Jg;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Jg||(Jg={}));var Zg;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Zg||(Zg={}));var e0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(e0||(e0={}));var fc;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER"})(fc||(fc={}));var t0;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(t0||(t0={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class n0 extends Zo{constructor(t,n){super(t),this.response=n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="https://generativelanguage.googleapis.com",X5="v1",G5="0.2.1",Q5="genai-js";var Ds;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ds||(Ds={}));class da{constructor(t,n,r,s){this.model=t,this.task=n,this.apiKey=r,this.stream=s}toString(){let t=`${q5}/${X5}/${this.model}:${this.task}`;return this.stream&&(t+="?alt=sse"),t}}function J5(){return`${Q5}/${G5}`}async function fa(e,t,n){let r;try{if(r=await fetch(e.toString(),Object.assign(Object.assign({},Z5(n)),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":J5(),"x-goog-api-key":e.apiKey},body:t})),!r.ok){let s="";try{const i=await r.json();s=i.error.message,i.error.details&&(s+=` ${JSON.stringify(i.error.details)}`)}catch{}throw new Error(`[${r.status} ${r.statusText}] ${s}`)}}catch(s){const i=new Zo(`Error fetching from ${e.toString()}: ${s.message}`);throw i.stack=s.stack,i}return r}function Z5(e){const t={};if((e==null?void 0:e.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),e.timeout),t.signal=r}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),x1(e.candidates[0]))throw new n0(`${hc(e)}`,e);return e3(e)}else if(e.promptFeedback)throw new n0(`Text not available. ${hc(e)}`,e);return""},e}function e3(e){var t,n,r,s;return!((s=(r=(n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||s===void 0)&&s.text?e.candidates[0].content.parts[0].text:""}const t3=[fc.RECITATION,fc.SAFETY];function x1(e){return!!e.finishReason&&t3.includes(e.finishReason)}function hc(e){var t,n,r;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const i=e.candidates[0];x1(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function ea(e){return this instanceof ea?(this.v=e,this):new ea(e)}function n3(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){r[h]&&(s[h]=function(p){return new Promise(function(x,g){i.push([h,p,x,g])>1||a(h,p)})})}function a(h,p){try{l(r[h](p))}catch(x){f(i[0][3],x)}}function l(h){h.value instanceof ea?Promise.resolve(h.value.v).then(c,d):f(i[0][2],h)}function c(h){a("next",h)}function d(h){a("throw",h)}function f(h,p){h(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function r3(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=o3(t),[r,s]=n.tee();return{stream:i3(r),response:s3(s)}}async function s3(e){const t=[],n=e.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return Dh(a3(t));t.push(s)}}function i3(e){return n3(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:s}=yield ea(n.read());if(s)break;yield yield ea(Dh(r))}})}function o3(e){const t=e.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return t.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new Zo("Failed to parse stream"));return}r.close();return}s+=o;let l=s.match(r0),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new Zo(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),s=s.substring(l[0].length),l=s.match(r0)}return i()})}}})}function a3(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e)if(r.candidates)for(const s of r.candidates){const i=s.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:s.index}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[{text:""}]});for(const o of s.content.parts)o.text&&(n.candidates[i].content.parts[0].text+=o.text)}}return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(e,t,n,r){const s=new da(t,Ds.STREAM_GENERATE_CONTENT,e,!0),i=await fa(s,JSON.stringify(n),r);return r3(i)}async function v1(e,t,n,r){const s=new da(t,Ds.GENERATE_CONTENT,e,!1),o=await(await fa(s,JSON.stringify(n),r)).json();return{response:Dh(o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(e,t){let n=[];if(typeof e=="string")n=[{text:e}];else for(const r of e)typeof r=="string"?n.push({text:r}):n.push(r);return{role:t,parts:n}}function qu(e){return e.contents?e:{contents:[ko(e,"user")]}}function l3(e){return typeof e=="string"||Array.isArray(e)?{content:ko(e,"user")}:e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="SILENT_ERROR";class c3{constructor(t,n,r,s){this.model=n,this.params=r,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(this._history=r.history.map(i=>{if(!i.role)throw new Error("Missing role for history item: "+JSON.stringify(i));return ko(i.parts,i.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t){var n,r;await this._sendPromise;const s=ko(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]};let o;return this._sendPromise=this._sendPromise.then(()=>v1(this._apiKey,this.model,i,this.requestOptions)).then(a=>{var l;if(a.response.candidates&&a.response.candidates.length>0){this._history.push(s);const c=Object.assign({parts:[],role:"model"},(l=a.response.candidates)===null||l===void 0?void 0:l[0].content);this._history.push(c)}else{const c=hc(a.response);c&&console.warn(`sendMessage() was unsuccessful. ${c}. Inspect response object for details.`)}o=a}),await this._sendPromise,o}async sendMessageStream(t){var n,r;await this._sendPromise;const s=ko(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]},o=y1(this._apiKey,this.model,i,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>o).catch(a=>{throw new Error(s0)}).then(a=>a.response).then(a=>{if(a.candidates&&a.candidates.length>0){this._history.push(s);const l=Object.assign({},a.candidates[0].content);l.role||(l.role="model"),this._history.push(l)}else{const l=hc(a);l&&console.warn(`sendMessageStream() was unsuccessful. ${l}. Inspect response object for details.`)}}).catch(a=>{a.message!==s0&&console.error(a)}),o}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(e,t,n,r){const s=new da(t,Ds.COUNT_TOKENS,e,!1);return(await fa(s,JSON.stringify(Object.assign(Object.assign({},n),{model:t})),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(e,t,n,r){const s=new da(t,Ds.EMBED_CONTENT,e,!1);return(await fa(s,JSON.stringify(n),r)).json()}async function f3(e,t,n,r){const s=new da(t,Ds.BATCH_EMBED_CONTENTS,e,!1),i=n.requests.map(a=>Object.assign(Object.assign({},a),{model:t}));return(await fa(s,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(t,n,r){this.apiKey=t,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.requestOptions=r||{}}async generateContent(t){const n=qu(t);return v1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}async generateContentStream(t){const n=qu(t);return y1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}startChat(t){return new c3(this.apiKey,this.model,t,this.requestOptions)}async countTokens(t){const n=qu(t);return u3(this.apiKey,this.model,n)}async embedContent(t){const n=l3(t);return d3(this.apiKey,this.model,n)}async batchEmbedContents(t){return f3(this.apiKey,this.model,t,this.requestOptions)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Zo("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new h3(this.apiKey,t,n)}}const b1="AIzaSyCSZo6wMOi8s3mzCrjt-xZr4U-36U--bCo";console.warn("Initialisation du service Gemini avec la clé API:","Présente");const m3=new p3(b1,{apiVersion:"v1beta"});console.warn("Instance GoogleGenerativeAI créée");const g3=m3.getGenerativeModel({model:"gemini-2.0-flash",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]});console.warn("Modèle Gemini configuré avec les paramètres:",{model:"gemini-2.0-flash",temperature:.7,maxOutputTokens:1024});const i0=async(e,t,n)=>{console.warn("=== GEMINI API CALL ==="),console.warn("Message:",e),console.warn("Conversation history length:",t.length),console.warn("User info:",n);const r=3,s=2e3,i=a=>new Promise(l=>setTimeout(l,a)),o=async(a=0)=>{var l;try{if(!(n!=null&&n.ticketOptions))throw new Error("Les options de ticket ne sont pas disponibles. Veuillez rafraîchir la page.");const d=["categories","emplacements","priorites"].filter(y=>{var m;return!((m=n.ticketOptions[y])!=null&&m.length)});if(d.length>0)throw new Error(`Les options suivantes ne sont pas disponibles : ${d.join(", ")}. Veuillez rafraîchir la page.`);const f=y=>!y||!Array.isArray(y)?"":y.map(m=>m.designation||"").filter(Boolean).join(", "),h=`Tu es un assistant professionnel spécialisé dans la création de tickets de support IT.
Ton rôle est de guider les utilisateurs de manière professionnelle et efficace dans la création de leurs tickets.

RÈGLES STRICTES DE CONVERSATION :
1. Tu DOIS suivre l'ordre exact des étapes ci-dessous
2. Tu DOIS poser UNE SEULE question à la fois
3. Tu DOIS attendre la réponse de l'utilisateur avant de poser la question suivante
4. Tu DOIS vérifier que chaque information est complète avant de passer à l'étape suivante
5. Tu NE DOIS PAS proposer de créer le ticket avant d'avoir toutes les informations requises
6. Tu DOIS utiliser UNIQUEMENT les options fournies dans le contexte pour chaque choix
7. Tu NE DOIS JAMAIS demander les informations suivantes car elles sont déjà connues :
   - Le demandeur (${n.designation||"Non spécifié"})
   - La société (${((l=n.email)==null?void 0:l.split("@")[1])||"Non spécifiée"})
   - La date de création (automatique)
8. Tu NE DOIS JAMAIS confirmer la création du ticket - ce n'est pas ton rôle
9. À la fin, tu DOIS UNIQUEMENT demander si l'utilisateur souhaite procéder à la création du ticket
10. Si l'utilisateur répond "oui" à la création, tu DOIS :
    - Vérifier que toutes les informations sont présentes
    - Si des informations manquent, les demander à nouveau
    - Si toutes les informations sont présentes, indiquer que tu vas transmettre les informations pour la création

OPTIONS DISPONIBLES :
- Catégories : ${f(n.ticketOptions.categories)}
- Emplacements : ${f(n.ticketOptions.emplacements)}
- Priorités : ${f(n.ticketOptions.priorites)}

ÉTAPES OBLIGATOIRES (à suivre dans l'ordre) :

1. COLLECTE DU TITRE
   - Demander un titre concis et descriptif
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

2. COLLECTE DE LA DESCRIPTION
   - Demander une description détaillée du problème
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

3. COLLECTE DU COMMENTAIRE INITIAL
   - Demander un commentaire initial qui servira de suivi pour le ticket
   - Ce commentaire peut inclure des informations supplémentaires, des précisions ou des instructions spécifiques
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

4. DÉTERMINATION DE LA CATÉGORIE
   - Afficher les catégories disponibles : ${f(n.ticketOptions.categories)}
   - Demander à l'utilisateur de choisir une catégorie parmi celles listées
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

5. COLLECTE DE L'EMPLACEMENT
   - Afficher les emplacements disponibles : ${f(n.ticketOptions.emplacements)}
   - Demander à l'utilisateur de choisir un emplacement parmi ceux listés
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

6. DÉTERMINATION DE LA PRIORITÉ
   - Afficher les priorités disponibles : ${f(n.ticketOptions.priorites)}
   - Demander à l'utilisateur de choisir une priorité parmi celles listées
   - ATTENDRE sa réponse
   - Passer à l'étape suivante

7. RÉSUMÉ ET DEMANDE DE CRÉATION
   - Présenter le résumé dans le format suivant :
     📋 RÉSUMÉ DU TICKET
     ──────────────────────────────
     📌 Titre : [titre]
     📝 Description : [description]
     💬 Commentaire initial : [commentaire]
     🏷️ Catégorie : [catégorie]
     📍 Emplacement : [emplacement]
     ⚡ Priorité : [priorité]
     ──────────────────────────────
   - Demander si l'utilisateur souhaite procéder à la création du ticket
   - Si l'utilisateur répond "oui" :
     * Vérifier que toutes les informations sont présentes
     * Si des informations manquent, les demander à nouveau
     * Si toutes les informations sont présentes, indiquer que tu vas transmettre les informations pour la création

EXEMPLES DE RÉPONSES PROFESSIONNELLES :
- "Pour commencer, pourriez-vous me donner un titre concis qui décrit votre problème ?"
- "Merci pour le titre. Maintenant, pourriez-vous me donner une description détaillée du problème ?"
- "Merci pour la description. Pourriez-vous ajouter un commentaire initial qui servira de suivi pour ce ticket ? Ce commentaire peut inclure des informations supplémentaires ou des instructions spécifiques."
- "Voici les catégories disponibles : ${f(n.ticketOptions.categories)}. Quelle catégorie correspond le mieux à votre demande ?"
- "Voici les emplacements disponibles : ${f(n.ticketOptions.emplacements)}. Quel est l'emplacement concerné ?"
- "Voici les priorités disponibles : ${f(n.ticketOptions.priorites)}."
- "Je vais vérifier que toutes les informations sont présentes avant de procéder à la création du ticket."
- "Il manque certaines informations. Pourriez-vous me préciser [information manquante] ?"
- "Toutes les informations sont présentes. Je vais transmettre ces informations pour la création du ticket."

IMPORTANT : Tu DOIS TOUJOURS demander un commentaire initial après la description et avant de demander la catégorie. Ne saute JAMAIS cette étape.`;console.warn("Construction du contexte de conversation");const p=g3.startChat({history:[{role:"user",parts:h},...t.map(y=>({role:y.role,parts:y.content}))]});console.warn("Chat initialisé avec l'historique"),console.warn("Envoi du message à l'API...");const x=6e4,g=await Promise.race([p.sendMessage(e).then(y=>(console.warn("Réponse brute de l'API:",y),y)),new Promise((y,m)=>setTimeout(()=>{console.error("Timeout: Délai d'attente dépassé après",x,"ms"),m(new Error("Le temps de réponse est trop long. Veuillez réessayer."))},x))]);console.warn("Réponse reçue de l'API");const b=await g.response;return console.warn("Texte de la réponse extrait:",b.text()),b.text()}catch(c){if(console.error("=== GEMINI API ERROR ==="),console.error("Type d'erreur:",c.constructor.name),console.error("Message d'erreur:",c.message),console.error("Stack trace:",c.stack),c.message.includes("API key"))throw console.error("Erreur de clé API"),new Error("Erreur de configuration de l'API. Veuillez vérifier la clé API.");if(c.message.includes("quota"))throw console.error("Erreur de quota dépassé"),new Error("Limite de requêtes atteinte. Veuillez réessayer plus tard.");if(c.message.includes("temps de réponse"))throw console.error("Erreur de timeout"),new Error("Le temps de réponse est trop long. Veuillez réessayer.");if(c.message.includes("safety"))throw console.error("Erreur de sécurité"),new Error("Le contenu a été bloqué pour des raisons de sécurité.");if(c.message.includes("overloaded")||c.message.includes("503")){if(console.error("Erreur de surcharge du modèle"),a<r)return console.log(`Tentative ${a+1}/${r} échouée. Nouvelle tentative dans ${s/1e3} secondes...`),await i(s),o(a+1);throw new Error("Le service est temporairement surchargé. Veuillez réessayer dans quelques instants.")}else throw console.error("Erreur inattendue:",c),new Error("Une erreur est survenue lors de la communication avec l'assistant. Veuillez réessayer.")}};return o()},o0=(e,t,n)=>{var c;console.log("Options reçues:",t),console.log("User info reçu:",n);const r={title:"",description:"",commentaire:"",category:"",service:((c=n==null?void 0:n.service)==null?void 0:c.designation)||"",location:"",company:n.email.split("@")[1]||"Non spécifiée",requester:n.designation,status:"Nouveau",priority:"",startDate:"",endDate:"",createdAt:new Date().toISOString(),id_utilisateur:n.id||1,id_societe:n.id_societe||1,id_emplacement:null,id_priorite:null,id_categorie:null,id_statut:1,id_executant:1},s=d=>d.toLowerCase().trim(),i=(d,f)=>{if(!d||!f)return null;console.log("Recherche ID pour:",d,"dans les options:",f);const h=s(d),p=b=>b.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"").toLowerCase();let x=null;if(x=f.find(b=>s(b.designation)===h),x)return console.log("Correspondance exacte trouvée:",x),x.id;const g=p(h);return x=f.find(b=>p(b.designation)===g),x?(console.log("Correspondance normalisée trouvée:",x),x.id):(x=f.find(b=>{const y=s(b.designation);return y.includes(h)||h.includes(y)}),x?(console.log("Correspondance partielle trouvée:",x),x.id):(x=f.find(b=>{const y=p(b.designation);return o(g,y)>.8}),x?(console.log("Correspondance par similarité trouvée:",x),x.id):(console.log("Aucune correspondance trouvée pour:",d),null)))},o=(d,f)=>{if(d.length===0||f.length===0)return 0;if(d===f)return 1;const h=d.length>f.length?d:f,p=d.length>f.length?f:d;return h.length===0?1:(h.length-a(h,p))/parseFloat(h.length)},a=(d,f)=>{const h=Array(f.length+1).fill(null).map(()=>Array(d.length+1).fill(null));for(let p=0;p<=d.length;p++)h[0][p]=p;for(let p=0;p<=f.length;p++)h[p][0]=p;for(let p=1;p<=f.length;p++)for(let x=1;x<=d.length;x++){const g=d[x-1]===f[p-1]?0:1;h[p][x]=Math.min(h[p][x-1]+1,h[p-1][x]+1,h[p-1][x-1]+g)}return h[f.length][d.length]},l=(d,f)=>{const h=new RegExp(`${f}\\s*([^\\n📌📝💬🏷️📍⚡📅]+)`,"i"),p=d.match(h);if(!p)return null;let x=p[1].trim();return x=x.replace(/^(Titre|Description|Commentaire initial|Catégorie|Emplacement|Priorité|Date de début|Date de fin)\s*:\s*/i,""),x=x.replace(/^:\s*/,""),x};return e.forEach((d,f)=>{if(d.role==="assistant"){const h=d.content;if(console.log("Analyse du message:",h),h.includes("📋 RÉSUMÉ DU TICKET")){console.log("Résumé de ticket trouvé"),r.title=l(h,"📌"),console.log("Titre extrait:",r.title),r.description=l(h,"📝"),console.log("Description extraite:",r.description),r.commentaire=l(h,"💬"),console.log("Commentaire extrait:",r.commentaire),r.category=l(h,"🏷️"),r.id_categorie=i(r.category,t.categories),console.log("Catégorie extraite:",r.category,"ID:",r.id_categorie),r.location=l(h,"📍"),r.id_emplacement=i(r.location,t.emplacements),console.log("Emplacement extrait:",r.location,"ID:",r.id_emplacement),r.priority=l(h,"⚡"),r.id_priorite=i(r.priority,t.priorites),console.log("Priorité extraite:",r.priority,"ID:",r.id_priorite);const p=l(h,"📅 Date de début"),x=l(h,"📅 Date de fin");if(p){const[g,b,y]=p.split("/");r.startDate=`${y}-${b}-${g}`,console.log("Date de début extraite:",r.startDate)}if(x){const[g,b,y]=x.split("/");r.endDate=`${y}-${b}-${g}`,console.log("Date de fin extraite:",r.endDate)}}}}),console.log("Ticket info final:",r),r},x3=async e=>{var t,n,r;try{const s=localStorage.getItem("token");if(!e.title||!e.description||!e.id_categorie||!e.id_emplacement||!e.id_priorite)throw console.error("Données manquantes:",{title:e.title,description:e.description,id_categorie:e.id_categorie,id_emplacement:e.id_emplacement,id_priorite:e.id_priorite}),new Error("Données de ticket incomplètes");const i=JSON.parse(localStorage.getItem("user"));if(!i||!i.id)throw console.error("Utilisateur non connecté ou ID invalide"),new Error("Vous devez être connecté pour créer un ticket.");e.id_utilisateur=i.id,e.id_demandeur=i.id;const o={titre:e.title,description:e.description,commentaire:e.commentaire||e.description,id_demandeur:e.id_demandeur,id_utilisateur:e.id_utilisateur,id_societe:e.id_societe,id_emplacement:e.id_emplacement,id_priorite:e.id_priorite,id_categorie:e.id_categorie,id_statut:e.id_statut,id_executant:e.id_executant};if(e.startDate&&(o.date_debut=e.startDate),e.endDate&&(o.date_fin_prevue=e.endDate),console.log("Données envoyées à l'API:",o),!s)throw new Error("Token d'authentification manquant. Veuillez vous reconnecter.");return(await Re.post("/api/tickets",o,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){if(console.error("Error in createTicketFromChat:",s),((t=s.response)==null?void 0:t.status)===422){const i=s.response.data.errors;if(i.id_demandeur)throw new Error("Erreur d'authentification. Veuillez vous reconnecter.");const o=Object.entries(i).map(([a,l])=>`${a}: ${l.join(", ")}`).join(`
`);throw new Error(`Erreurs de validation:
${o}`)}else throw((n=s.response)==null?void 0:n.status)===401?new Error("Session expirée. Veuillez vous reconnecter."):((r=s.response)==null?void 0:r.status)===403?new Error("Vous n'avez pas les permissions nécessaires pour créer un ticket."):new Error("Une erreur est survenue lors de la création du ticket. Veuillez réessayer.")}};function w1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=w1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Es(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=w1(e))&&(r&&(r+=" "),r+=t);return r}function y3(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}y3(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ha=e=>typeof e=="number"&&!isNaN(e),Os=e=>typeof e=="string",dr=e=>typeof e=="function",v3=e=>Os(e)||ha(e),cf=e=>Os(e)||dr(e)?e:null,b3=(e,t)=>e===!1||ha(e)&&e>0?e:t,uf=e=>_.isValidElement(e)||Os(e)||dr(e)||ha(e);function w3(e,t,n=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function _3({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:d,playToast:f}){let h=n?`${e}--${o}`:e,p=n?`${t}--${o}`:t,x=_.useRef(0);return _.useLayoutEffect(()=>{let g=c.current,b=h.split(" "),y=m=>{m.target===c.current&&(f(),g.removeEventListener("animationend",y),g.removeEventListener("animationcancel",y),x.current===0&&m.type!=="animationcancel"&&g.classList.remove(...b))};g.classList.add(...b),g.addEventListener("animationend",y),g.addEventListener("animationcancel",y)},[]),_.useEffect(()=>{let g=c.current,b=()=>{g.removeEventListener("animationend",b),r?w3(g,l,s):l()};d||(a?b():(x.current=1,g.className+=` ${p}`,g.addEventListener("animationend",b)))},[d]),Ne.createElement(Ne.Fragment,null,i)}}function a0(e,t){return{content:_1(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function _1(e,t,n=!1){return _.isValidElement(e)&&!Os(e.type)?_.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):dr(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function S3({closeToast:e,theme:t,ariaLabel:n="close"}){return Ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},Ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function E3({delay:e,isRunning:t,closeToast:n,type:r="default",hide:s,className:i,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:d}){let f=s||o&&a===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(h.transform=`scaleX(${a})`);let p=Es("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),x=dr(i)?i({rtl:l,type:r,defaultClassName:p}):Es(p,i),g={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return Ne.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},Ne.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),Ne.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:x,style:h,...g}))}var j3=1,S1=()=>`${j3++}`;function N3(e,t,n){let r=1,s=0,i=[],o=[],a=t,l=new Map,c=new Set,d=m=>(c.add(m),()=>c.delete(m)),f=()=>{o=Array.from(l.values()),c.forEach(m=>m())},h=({containerId:m,toastId:v,updateId:S})=>{let E=m?m!==e:e!==1,j=l.has(v)&&S==null;return E||j},p=(m,v)=>{l.forEach(S=>{var E;(v==null||v===S.props.toastId)&&((E=S.toggle)==null||E.call(S,m))})},x=m=>{var v,S;(S=(v=m.props)==null?void 0:v.onClose)==null||S.call(v,m.removalReason),m.isActive=!1},g=m=>{if(m==null)l.forEach(x);else{let v=l.get(m);v&&x(v)}f()},b=()=>{s-=i.length,i=[]},y=m=>{var v,S;let{toastId:E,updateId:j}=m.props,w=j==null;m.staleId&&l.delete(m.staleId),m.isActive=!0,l.set(E,m),f(),n(a0(m,w?"added":"updated")),w&&((S=(v=m.props).onOpen)==null||S.call(v))};return{id:e,props:a,observe:d,toggle:p,removeToast:g,toasts:l,clearQueue:b,buildToast:(m,v)=>{if(h(v))return;let{toastId:S,updateId:E,data:j,staleId:w,delay:N}=v,D=E==null;D&&s++;let T={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(v).filter(([F,Y])=>Y!=null)),toastId:S,updateId:E,data:j,isIn:!1,className:cf(v.className||a.toastClassName),progressClassName:cf(v.progressClassName||a.progressClassName),autoClose:v.isLoading?!1:b3(v.autoClose,a.autoClose),closeToast(F){l.get(S).removalReason=F,g(S)},deleteToast(){let F=l.get(S);if(F!=null){if(n(a0(F,"removed")),l.delete(S),s--,s<0&&(s=0),i.length>0){y(i.shift());return}f()}}};T.closeButton=a.closeButton,v.closeButton===!1||uf(v.closeButton)?T.closeButton=v.closeButton:v.closeButton===!0&&(T.closeButton=uf(a.closeButton)?a.closeButton:!0);let A={content:m,props:T,staleId:w};a.limit&&a.limit>0&&s>a.limit&&D?i.push(A):ha(N)?setTimeout(()=>{y(A)},N):y(A)},setProps(m){a=m},setToggle:(m,v)=>{let S=l.get(m);S&&(S.toggle=v)},isToastActive:m=>{var v;return(v=l.get(m))==null?void 0:v.isActive},getSnapshot:()=>o}}var Rt=new Map,ta=[],df=new Set,k3=e=>df.forEach(t=>t(e)),E1=()=>Rt.size>0;function C3(){ta.forEach(e=>N1(e.content,e.options)),ta=[]}var T3=(e,{containerId:t})=>{var n;return(n=Rt.get(t||1))==null?void 0:n.toasts.get(e)};function j1(e,t){var n;if(t)return!!((n=Rt.get(t))!=null&&n.isToastActive(e));let r=!1;return Rt.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function R3(e){if(!E1()){ta=ta.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||v3(e))Rt.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Rt.get(e.containerId);t?t.removeToast(e.id):Rt.forEach(n=>{n.removeToast(e.id)})}}var M3=(e={})=>{Rt.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function N1(e,t){uf(e)&&(E1()||ta.push({content:e,options:t}),Rt.forEach(n=>{n.buildToast(e,t)}))}function P3(e){var t;(t=Rt.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function k1(e,t){Rt.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function D3(e){let t=e.containerId||1;return{subscribe(n){let r=N3(t,e,k3);Rt.set(t,r);let s=r.observe(n);return C3(),()=>{s(),Rt.delete(t)}},setProps(n){var r;(r=Rt.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=Rt.get(t))==null?void 0:n.getSnapshot()}}}function O3(e){return df.add(e),()=>{df.delete(e)}}function L3(e){return e&&(Os(e.toastId)||ha(e.toastId))?e.toastId:S1()}function pa(e,t){return N1(e,t),t.toastId}function Wc(e,t){return{...t,type:t&&t.type||e,toastId:L3(t)}}function Kc(e){return(t,n)=>pa(t,Wc(e,n))}function Ee(e,t){return pa(e,Wc("default",t))}Ee.loading=(e,t)=>pa(e,Wc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function A3(e,{pending:t,error:n,success:r},s){let i;t&&(i=Os(t)?Ee.loading(t,s):Ee.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,d,f)=>{if(d==null){Ee.dismiss(i);return}let h={type:c,...o,...s,data:f},p=Os(d)?{render:d}:d;return i?Ee.update(i,{...h,...p}):Ee(p.render,{...h,...p}),f},l=dr(e)?e():e;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}Ee.promise=A3;Ee.success=Kc("success");Ee.info=Kc("info");Ee.error=Kc("error");Ee.warning=Kc("warning");Ee.warn=Ee.warning;Ee.dark=(e,t)=>pa(e,Wc("default",{theme:"dark",...t}));function I3(e){R3(e)}Ee.dismiss=I3;Ee.clearWaitingQueue=M3;Ee.isActive=j1;Ee.update=(e,t={})=>{let n=T3(e,t);if(n){let{props:r,content:s}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:S1()};i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,pa(o,i)}};Ee.done=e=>{Ee.update(e,{progress:1})};Ee.onChange=O3;Ee.play=e=>k1(!0,e);Ee.pause=e=>k1(!1,e);function F3(e){var t;let{subscribe:n,getSnapshot:r,setProps:s}=_.useRef(D3(e)).current;s(e);let i=(t=_.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function o(a){if(!i)return[];let l=new Map;return e.newestOnTop&&i.reverse(),i.forEach(c=>{let{position:d}=c.props;l.has(d)||l.set(d,[]),l.get(d).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:j1,count:i==null?void 0:i.length}}function z3(e){let[t,n]=_.useState(!1),[r,s]=_.useState(!1),i=_.useRef(null),o=_.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:f}=e;P3({id:e.toastId,containerId:e.containerId,fn:n}),_.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{p()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||y(),window.addEventListener("focus",b),window.addEventListener("blur",y)}function p(){window.removeEventListener("focus",b),window.removeEventListener("blur",y)}function x(w){if(e.draggable===!0||e.draggable===w.pointerType){m();let N=i.current;o.canCloseOnClick=!0,o.canDrag=!0,N.style.transition="none",e.draggableDirection==="x"?(o.start=w.clientX,o.removalDistance=N.offsetWidth*(e.draggablePercent/100)):(o.start=w.clientY,o.removalDistance=N.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function g(w){let{top:N,bottom:D,left:T,right:A}=i.current.getBoundingClientRect();w.nativeEvent.type!=="touchend"&&e.pauseOnHover&&w.clientX>=T&&w.clientX<=A&&w.clientY>=N&&w.clientY<=D?y():b()}function b(){n(!0)}function y(){n(!1)}function m(){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",E)}function v(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",E)}function S(w){let N=i.current;if(o.canDrag&&N){o.didMove=!0,t&&y(),e.draggableDirection==="x"?o.delta=w.clientX-o.start:o.delta=w.clientY-o.start,o.start!==w.clientX&&(o.canCloseOnClick=!1);let D=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;N.style.transform=`translate3d(${D},0)`,N.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function E(){v();let w=i.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}w.style.transition="transform 0.2s, opacity 0.2s",w.style.removeProperty("transform"),w.style.removeProperty("opacity")}}let j={onPointerDown:x,onPointerUp:g};return a&&l&&(j.onMouseEnter=y,e.stacked||(j.onMouseLeave=b)),f&&(j.onClick=w=>{d&&d(w),o.canCloseOnClick&&c(!0)}),{playToast:b,pauseToast:y,isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:j}}var B3=typeof window<"u"?_.useLayoutEffect:_.useEffect,Yc=({theme:e,type:t,isLoading:n,...r})=>Ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function $3(e){return Ne.createElement(Yc,{...e},Ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function U3(e){return Ne.createElement(Yc,{...e},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function H3(e){return Ne.createElement(Yc,{...e},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function V3(e){return Ne.createElement(Yc,{...e},Ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function W3(){return Ne.createElement("div",{className:"Toastify__spinner"})}var ff={info:U3,warning:$3,success:H3,error:V3,spinner:W3},K3=e=>e in ff;function Y3({theme:e,type:t,isLoading:n,icon:r}){let s=null,i={theme:e,type:t};return r===!1||(dr(r)?s=r({...i,isLoading:n}):_.isValidElement(r)?s=_.cloneElement(r,i):n?s=ff.spinner():K3(t)&&(s=ff[t](i))),s}var q3=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=z3(e),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:f,closeToast:h,transition:p,position:x,className:g,style:b,progressClassName:y,updateId:m,role:v,progress:S,rtl:E,toastId:j,deleteToast:w,isIn:N,isLoading:D,closeOnClick:T,theme:A,ariaLabel:F}=e,Y=Es("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":T}),Z=dr(g)?g({rtl:E,position:x,type:d,defaultClassName:Y}):Es(Y,g),J=Y3(e),ue=!!S||!l,z={closeToast:h,type:d,theme:A},L=null;return o===!1||(dr(o)?L=o(z):_.isValidElement(o)?L=_.cloneElement(o,z):L=S3(z)),Ne.createElement(p,{isIn:N,done:w,position:x,preventExitTransition:n,nodeRef:r,playToast:i},Ne.createElement("div",{id:j,tabIndex:0,onClick:c,"data-in":N,className:Z,...s,style:b,ref:r,...N&&{role:v,"aria-label":F}},J!=null&&Ne.createElement("div",{className:Es("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},J),_1(a,e,!t),L,!e.customProgressBar&&Ne.createElement(E3,{...m&&!ue?{key:`p-${m}`}:{},rtl:E,theme:A,delay:l,isRunning:t,isIn:N,closeToast:h,hide:f,type:d,className:y,controlledProgress:ue,progress:S||0})))},X3=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),G3=_3(X3("bounce",!0)),Q3={position:"top-right",transition:G3,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function J3(e){let t={...Q3,...e},n=e.stacked,[r,s]=_.useState(!0),i=_.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=F3(t),{className:c,style:d,rtl:f,containerId:h,hotKeys:p}=t;function x(b){let y=Es("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":f});return dr(c)?c({position:b,rtl:f,defaultClassName:y}):Es(y,cf(c))}function g(){n&&(s(!0),Ee.play())}return B3(()=>{var b;if(n){let y=i.current.querySelectorAll('[data-in="true"]'),m=12,v=(b=t.position)==null?void 0:b.includes("top"),S=0,E=0;Array.from(y).reverse().forEach((j,w)=>{let N=j;N.classList.add("Toastify__toast--stacked"),w>0&&(N.dataset.collapsed=`${r}`),N.dataset.pos||(N.dataset.pos=v?"top":"bot");let D=S*(r?.2:1)+(r?0:m*w);N.style.setProperty("--y",`${v?D:D*-1}px`),N.style.setProperty("--g",`${m}`),N.style.setProperty("--s",`${1-(r?E:0)}`),S+=N.offsetHeight,E+=.025})}},[r,l,n]),_.useEffect(()=>{function b(y){var m;let v=i.current;p(y)&&((m=v.querySelector('[tabIndex="0"]'))==null||m.focus(),s(!1),Ee.pause()),y.key==="Escape"&&(document.activeElement===v||v!=null&&v.contains(document.activeElement))&&(s(!0),Ee.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[p]),Ne.createElement("section",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{n&&(s(!1),Ee.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((b,y)=>{let m=y.length?{...d}:{...d,pointerEvents:"none"};return Ne.createElement("div",{tabIndex:-1,className:x(b),"data-stacked":n,style:m,key:`c-${b}`},y.map(({content:v,props:S})=>Ne.createElement(q3,{...S,stacked:n,collapseAll:g,isIn:a(S.toastId,S.containerId),key:`t-${S.key}`},v)))}))}const Z3=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(""),[s,i]=_.useState(!1),[o,a]=_.useState(null),[l,c]=_.useState(null),[d,f]=_.useState(null),[h,p]=_.useState(null),[x,g]=_.useState(!1),[b,y]=_.useState(!1),[m,v]=_.useState(!1),[S,E]=_.useState(!1),[j,w]=_.useState(null),N=_.useRef(null),D=_.useRef(null),T=()=>{var I;(I=N.current)==null||I.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{T()},[e]),_.useEffect(()=>{(async()=>{try{const ie=await ce.get("/api/user");p(ie.data);const re=await ce.get("/api/tickets/options");if(console.log("Options reçues du backend:",re.data),re.data.hasErrors){console.error("Erreurs lors de la récupération des options:",re.data.errors),f("Erreur lors du chargement des options. Veuillez rafraîchir la page.");return}const oe=re.data.options,fe=["categories","emplacements","priorites"].filter(he=>{var Be;return!((Be=oe[he])!=null&&Be.length)});if(fe.length>0){console.error("Options manquantes:",fe),f(`Les options suivantes ne sont pas disponibles : ${fe.join(", ")}. Veuillez rafraîchir la page.`);return}c(oe)}catch(ie){console.error("Erreur lors du chargement des données:",ie),f("Erreur lors du chargement des données. Veuillez rafraîchir la page.")}})()},[]);const A=()=>{t([{role:"assistant",content:"Bonjour ! Je suis votre assistant pour la création de tickets. Je vais vous guider à travers le processus de création d'un ticket. Comment puis-je vous aider aujourd'hui ?"}])};_.useEffect(()=>{A()},[]);const F=(I,ie)=>{switch(ie){case"category":g(!1);break;case"location":y(!1);break;case"priority":v(!1);break}const re=I.designation;r(""),t(ne=>[...ne,{role:"user",content:re}]),i(!0),f(null);const oe={...h,ticketOptions:{categories:l.categories||[],emplacements:l.emplacements||[],priorites:l.priorites||[]}};i0(re,e,oe).then(ne=>{const fe=ne.toLowerCase();g(fe.includes("catégorie")),y(fe.includes("emplacement")),v(fe.includes("priorité"));const he=ne.split("?").filter(R=>R.trim().length>0),Be=e[e.length-1];if(!(Be&&Be.role==="assistant"&&Be.content.toLowerCase()===ne.toLowerCase()))if(he.length>1){const R=he[0]+"?";t(H=>[...H,{role:"assistant",content:R}])}else t(R=>[...R,{role:"assistant",content:ne}]);if(ne.includes("📋 RÉSUMÉ DU TICKET")){const R=o0([...e,{role:"user",content:re},{role:"assistant",content:ne}],l,h);console.log("Informations extraites du résumé:",R),a(R),g(!1),y(!1),v(!1),t(H=>[...H,{role:"assistant",content:"Voici le résumé de votre ticket :",component:z(R)}])}}).catch(ne=>{const fe=ne.message||"Une erreur est survenue. Veuillez réessayer.";f(fe),t(he=>[...he,{role:"assistant",content:fe}])}).finally(()=>{i(!1)})},Y=(I,ie,re)=>{if(!I||I.length===0)return null;const oe=()=>{switch(ie){case"category":return"bg-blue-50 hover:bg-blue-100 text-blue-800";case"location":return"bg-green-50 hover:bg-green-100 text-green-800";case"priority":return"bg-purple-50 hover:bg-purple-100 text-purple-800";default:return"bg-gray-50 hover:bg-gray-100 text-gray-800"}};return u.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg shadow-lg border border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:re}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:I.map(ne=>u.jsx("button",{onClick:()=>F(ne,ie),className:`p-4 rounded-lg transition-all duration-200 ${oe()} 
                                     flex items-center justify-center text-center font-medium
                                     transform hover:scale-105 hover:shadow-md`,children:ne.designation},ne.id))})]})},Z=()=>!x||!(l!=null&&l.categories)?null:Y(l.categories,"category","Sélectionnez une catégorie :"),J=()=>!b||!(l!=null&&l.emplacements)?null:Y(l.emplacements,"location","Sélectionnez un emplacement :"),ue=()=>!m||!(l!=null&&l.priorites)?null:Y(l.priorites,"priority","Sélectionnez une priorité :"),z=I=>I?u.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg shadow-lg border border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"📋 RÉSUMÉ DU TICKET"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsx("table",{className:"min-w-full bg-white",children:u.jsxs("tbody",{className:"divide-y divide-gray-200",children:[u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600 w-1/3",children:"Titre"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.title||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Description"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.description||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Catégorie"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.category||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Priorité"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                                        ${I.priority==="Urgent"?"bg-red-100 text-red-800":I.priority==="Moyenne"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:I.priority||"-"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Emplacement"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.location||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Statut"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                                        ${I.status==="Nouveau"?"bg-blue-100 text-blue-800":I.status==="En cours"?"bg-yellow-100 text-yellow-800":I.status==="Terminé"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:I.status||"-"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Demandeur"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.requester||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Service"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.service||"-"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-gray-600",children:"Commentaire"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:I.commentaire||"-"})]})]})})})]}):null,L=async I=>{if(I.preventDefault(),!n.trim()||!h||!l){Ee.error("Veuillez attendre le chargement des données avant de continuer.");return}const re=["categories","emplacements","priorites"].filter(ne=>{var fe;return!((fe=l[ne])!=null&&fe.length)});if(re.length>0){Ee.error(`Les options suivantes ne sont pas disponibles : ${re.join(", ")}. Veuillez rafraîchir la page.`);return}const oe=n.trim();r(""),t(ne=>[...ne,{role:"user",content:oe}]),i(!0),f(null);try{const ne={...h,ticketOptions:{categories:l.categories||[],emplacements:l.emplacements||[],priorites:l.priorites||[]}};console.log("Options envoyées au chat:",ne.ticketOptions);const fe=await i0(oe,e,ne),he=fe.toLowerCase();g(he.includes("catégorie")),y(he.includes("emplacement")),v(he.includes("priorité"));const Be=fe.split("?").filter(H=>H.trim().length>0),lt=e[e.length-1];if(!(lt&&lt.role==="assistant"&&lt.content.toLowerCase()===fe.toLowerCase()))if(Be.length>1){const H=Be[0]+"?";t(ae=>[...ae,{role:"assistant",content:H}])}else t(H=>[...H,{role:"assistant",content:fe}]);if(fe.includes("📋 RÉSUMÉ DU TICKET")){const H=o0([...e,{role:"user",content:oe},{role:"assistant",content:fe}],l,h);console.log("Informations extraites du résumé:",H),a(H),t(ae=>[...ae,{role:"assistant",content:"Voici le résumé de votre ticket :",component:z(H)}])}oe.toLowerCase()==="oui"&&fe.includes("Toutes les informations sont présentes")&&o&&U()}catch(ne){const fe=ne.message||"Une erreur est survenue. Veuillez réessayer.";f(fe),t(he=>[...he,{role:"assistant",content:fe}])}finally{i(!1)}},U=async()=>{if(o)try{i(!0),f(null);const I={...o,startDate:o.startDate?new Date(o.startDate).toISOString().split("T")[0]:null,endDate:o.endDate?new Date(o.endDate).toISOString().split("T")[0]:null},ie=await x3(I);t(re=>[...re,{role:"assistant",content:`Ticket créé avec succès ! Numéro du ticket : ${ie.id}`}]),a(null)}catch(I){const ie=I.message||"Une erreur est survenue lors de la création du ticket.";f(ie),t(re=>[...re,{role:"assistant",content:ie}])}finally{i(!1)}},M=I=>{I.role==="assistant"&&!s&&(r(I.content),L(new Event("submit")))},q=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),L(I))};return _.useEffect(()=>{D.current&&D.current.focus()},[e,s]),u.jsx(Ie,{children:u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx(J3,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Création de ticket assistée par IA"}),d&&u.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:d}),u.jsx("div",{className:"mb-6 overflow-x-auto",children:u.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-600",children:"Attribut"}),u.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-600",children:"Valeur"}),u.jsx("th",{className:"px-4 py-2 text-center text-sm font-semibold text-gray-600",children:"Statut"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-200",children:[u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Titre"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.title)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.title?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.title?"✓":"✗"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Description"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.description)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.description?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.description?"✓":"✗"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Catégorie"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.category)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.category?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.category?"✓":"✗"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Priorité"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.priority)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.priority?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.priority?"✓":"✗"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Emplacement"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.location)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.location?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.location?"✓":"✗"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Date de début"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.startDate)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.startDate?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.startDate?"✓":"✗"})})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:"Date de fin"}),u.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:(o==null?void 0:o.endDate)||"-"}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o!=null&&o.endDate?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o!=null&&o.endDate?"✓":"✗"})})]})]})]})}),u.jsxs("div",{className:"flex flex-col h-[600px] w-full max-w-2xl mx-auto bg-white rounded-lg shadow-lg",children:[u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((I,ie)=>u.jsx("div",{className:`flex ${I.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{onClick:()=>M(I),className:`max-w-[80%] rounded-lg p-3 cursor-pointer transition-all duration-200 ${I.role==="user"?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:[I.content,I.component]})},ie)),Z(),J(),ue(),u.jsx("div",{ref:N})]}),u.jsx("form",{onSubmit:L,className:"border-t p-4",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{ref:D,type:"text",value:n,onChange:I=>r(I.target.value),onKeyPress:q,placeholder:"Tapez votre message...",className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:s}),u.jsx("button",{type:"submit",disabled:s,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Envoi...":"Envoyer"})]})}),o&&u.jsx("div",{className:"border-t p-4 bg-gray-50",children:u.jsx("button",{onClick:U,disabled:s,className:"w-full bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50",children:s?"Création en cours...":"Créer le ticket"})})]})]})})},eC=()=>{const e=$n(),[t,n]=_.useState({designation:"",email:"",password:"",niveau:"",statut:"1",id_service:""}),r=[{id:1,designation:"Achat"},{id:2,designation:"Administration"},{id:3,designation:"Finance et Comptabilité"},{id:4,designation:"Marketing et Communication"},{id:5,designation:"Fabrication"},{id:6,designation:"Logistique"},{id:7,designation:"Commercial"}],[s,i]=_.useState(!1),[o,a]=_.useState(""),[l,c]=_.useState(""),d=h=>{const{name:p,value:x}=h.target;n(g=>({...g,[p]:x}))},f=async h=>{var p,x;h.preventDefault(),i(!0),a(""),c("");try{const g=await ce.post("/api/utilisateurs",t);c("Utilisateur créé avec succès !"),n({designation:"",email:"",password:"",niveau:"",statut:"1",id_service:""})}catch(g){console.error("Erreur lors de la création:",g),a(((x=(p=g.response)==null?void 0:p.data)==null?void 0:x.message)||"Erreur lors de la création de l'utilisateur")}finally{i(!1)}};return u.jsx(Ie,{children:u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Créer un nouvel utilisateur"}),o&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),l&&u.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:l}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Désignation"}),u.jsx("input",{type:"text",name:"designation",value:t.designation,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Nom complet de l'utilisateur"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:t.email,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"exemple@email.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),u.jsx("input",{type:"password",name:"password",value:t.password,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"••••••••"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Niveau"}),u.jsxs("select",{name:"niveau",value:t.niveau,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[u.jsx("option",{value:"",children:"Sélectionner un niveau"}),u.jsx("option",{value:"1",children:"Administrateur"}),u.jsx("option",{value:"2",children:"Directeur Général"}),u.jsx("option",{value:"3",children:"Directeur Département"}),u.jsx("option",{value:"4",children:"Demandeur"})]})]}),(t.niveau==="3"||t.niveau==="4")&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Service"}),u.jsxs("select",{name:"id_service",value:t.id_service,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[u.jsx("option",{value:"",children:"Sélectionner un service"}),r.map(h=>u.jsx("option",{value:h.id,children:h.designation},h.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),u.jsxs("select",{name:"statut",value:t.statut,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[u.jsx("option",{value:"1",children:"Actif"}),u.jsx("option",{value:"0",children:"Inactif"})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:()=>e("/dashboard"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 border border-transparent rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${s?"opacity-50 cursor-not-allowed":""}`,children:s?"Création en cours...":"Créer l'utilisateur"})]})]})]})})},tC=()=>{const[e,t]=_.useState(null),[n,r]=_.useState(!0),[s,i]=_.useState(""),[o,a]=_.useState(""),l=d=>d&&{1:"Administrateur",2:"Directeur Général",3:"Directeur Département",4:"Demandeur"}[d]||"Non spécifié";_.useEffect(()=>{(async()=>{try{const f=await ce.get("/api/user");console.log("Réponse API:",f.data),t(f.data),i("")}catch(f){i("Erreur lors du chargement du profil"),console.error("Erreur:",f)}finally{r(!1)}})()},[]);const c=()=>u.jsx("div",{className:"animate-pulse",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})});return n?u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Mon Profil"}),c()]})}):s?u.jsx(Ie,{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded",children:s})})}):u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Mon Profil"}),o&&u.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded",children:o}),u.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[u.jsx("div",{className:"px-4 py-5 sm:px-6",children:u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Informations du profil"})}),u.jsx("div",{className:"border-t border-gray-200",children:u.jsxs("dl",{children:[u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[u.jsx(gs,{className:"mr-2"})," Nom complet"]}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(e==null?void 0:e.designation)||"Non spécifié"})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[u.jsx(L4,{className:"mr-2"})," Email"]}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(e==null?void 0:e.email)||"Non spécifié"})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[u.jsx($4,{className:"mr-2"})," Niveau d'accès"]}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l(e==null?void 0:e.niveau)})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsxs("dt",{className:"text-sm font-medium text-gray-500 flex items-center",children:[u.jsx(io,{className:"mr-2"})," Statut"]}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Actif"})})]})]})})]})]})})},gr={users:null,lastFetch:null,cacheDuration:5*60*1e3},nC=()=>{const e=Xr(),[t,n]=_.useState([]),[r,s]=_.useState(!0),[i,o]=_.useState(""),[a,l]=_.useState(""),[c,d]=_.useState(!1),[f,h]=_.useState(!1),[p,x]=_.useState(null);let g=null;try{g=JSON.parse(localStorage.getItem("user"))}catch{g=null}const b=j=>j&&{1:"Administrateur",2:"Directeur Général",3:"Directeur Département",4:"Demandeur"}[j]||"Non spécifié",y=async(j=!1)=>{if(d(!0),gr.users&&gr.lastFetch&&!j&&new Date().getTime()-gr.lastFetch<gr.cacheDuration){n(gr.users),s(!1),d(!1);return}try{const w=await ce.get("/api/users");n(w.data),gr.users=w.data,gr.lastFetch=new Date().getTime(),o("")}catch(w){o("Erreur lors du chargement des utilisateurs"),console.error("Erreur:",w)}finally{s(!1),setTimeout(()=>d(!1),600)}};_.useEffect(()=>{y(!0)},[e.pathname]);const m=async j=>{x(j),h(!0)},v=async()=>{try{await ce.delete(`/api/users/${p}`);const j=t.filter(w=>w.id!==p);n(j),gr.users=j,l("Utilisateur supprimé avec succès"),setTimeout(()=>l(""),3e3)}catch(j){o("Erreur lors de la suppression de l'utilisateur"),console.error("Erreur:",j)}finally{h(!1),x(null)}},S=async(j,w)=>{try{d(!0),await ce.patch(`/api/utilisateurs/${j}/statut`,{statut:w}),await y(!0),l(w===1?"Utilisateur activé avec succès":"Utilisateur désactivé avec succès"),setTimeout(()=>l(""),3e3)}catch(N){o("Erreur lors du changement de statut"),console.error("Erreur:",N)}finally{setTimeout(()=>d(!1),600)}},E=()=>u.jsx("div",{className:"animate-pulse",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[u.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),u.jsx("div",{className:"space-y-4",children:[1,2,3].map(j=>u.jsx("div",{className:"h-16 bg-gray-200 rounded"},j))})]})});return r?u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Liste des Utilisateurs"}),E()]})}):i?u.jsx(Ie,{children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded",children:i})})}):u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-9",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Liste des Utilisateurs"}),u.jsx("button",{onClick:()=>{d(!0),y(!0)},className:"ml-4 p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx($r,{className:c?"animate-spin-once":""})})]}),a&&u.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded",children:a}),f&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:u.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:u.jsxs("div",{className:"mt-3 text-center",children:[u.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx(A4,{className:"h-6 w-6 text-red-600"})}),u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mt-4",children:"Confirmation de suppression"}),u.jsx("div",{className:"mt-2 px-7 py-3",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible."})}),u.jsxs("div",{className:"items-center px-4 py-3",children:[u.jsx("button",{onClick:v,className:"px-4 py-2 bg-red-600 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Supprimer"}),u.jsx("button",{onClick:()=>{h(!1),x(null)},className:"mt-3 px-4 py-2 bg-gray-100 text-gray-700 text-base font-medium rounded-md w-full shadow-sm hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Annuler"})]})]})})}),u.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Utilisateur"}),u.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4",children:"Email"}),u.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Niveau d'accès"}),u.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Service"}),u.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/10",children:"Statut"}),u.jsx("th",{scope:"col",className:"px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(j=>{var w;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-3 py-3",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:u.jsx(gs,{className:"h-8 w-8 text-gray-400"})}),u.jsx("div",{className:"ml-2",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.designation})})]})}),u.jsx("td",{className:"px-3 py-3",children:u.jsx("div",{className:"text-sm text-gray-900",children:j.email})}),u.jsx("td",{className:"px-3 py-3",children:u.jsx("div",{className:"text-sm text-gray-900",children:b(j.niveau)})}),u.jsx("td",{className:"px-3 py-3",children:u.jsx("div",{className:"text-sm text-gray-900",children:j.niveau==="2"?"Pas de service":((w=j.service)==null?void 0:w.designation)||"Non spécifié"})}),u.jsx("td",{className:"px-3 py-3",children:j.statut===1?u.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Actif"}):u.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactif"})}),u.jsx("td",{className:"px-3 py-3 text-right text-sm font-medium",children:u.jsxs("div",{className:"flex justify-end space-x-2 gap-2",children:[(g==null?void 0:g.niveau)===1&&j.id!==(g==null?void 0:g.id)&&u.jsx("button",{onClick:()=>S(j.id,j.statut===1?0:1),className:j.statut===1?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900",children:j.statut===1?"Désactiver":"Activer"}),j.id!==(g==null?void 0:g.id)&&u.jsx("button",{onClick:()=>m(j.id),className:"text-red-600 hover:text-red-900",children:u.jsx(B4,{})})]})})]},j.id)})})]})})})]})})};var C1={exports:{}},T1={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=t.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],s=0,i=0;s<n.length;s++,i+=8)r[i>>>5]|=n[s]<<24-i%32;return r},wordsToBytes:function(n){for(var r=[],s=0;s<n.length*32;s+=8)r.push(n[s>>>5]>>>24-s%32&255);return r},bytesToHex:function(n){for(var r=[],s=0;s<n.length;s++)r.push((n[s]>>>4).toString(16)),r.push((n[s]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],s=0;s<n.length;s+=2)r.push(parseInt(n.substr(s,2),16));return r},bytesToBase64:function(n){for(var r=[],s=0;s<n.length;s+=3)for(var i=n[s]<<16|n[s+1]<<8|n[s+2],o=0;o<4;o++)s*8+o*6<=n.length*8?r.push(e.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],s=0,i=0;s<n.length;i=++s%4)i!=0&&r.push((e.indexOf(n.charAt(s-1))&Math.pow(2,-2*i+8)-1)<<i*2|e.indexOf(n.charAt(s))>>>6-i*2);return r}};T1.exports=t})();var rC=T1.exports,hf={utf8:{stringToBytes:function(e){return hf.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(hf.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},l0=hf;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var sC=function(e){return e!=null&&(R1(e)||iC(e)||!!e._isBuffer)};function R1(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function iC(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&R1(e.slice(0,0))}(function(){var e=rC,t=l0.utf8,n=sC,r=l0.bin,s=function(i,o){i.constructor==String?o&&o.encoding==="binary"?i=r.stringToBytes(i):i=t.stringToBytes(i):n(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var a=e.bytesToWords(i),l=i.length*8,c=1732584193,d=-271733879,f=-1732584194,h=271733878,p=0;p<a.length;p++)a[p]=(a[p]<<8|a[p]>>>24)&16711935|(a[p]<<24|a[p]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var x=s._ff,g=s._gg,b=s._hh,y=s._ii,p=0;p<a.length;p+=16){var m=c,v=d,S=f,E=h;c=x(c,d,f,h,a[p+0],7,-680876936),h=x(h,c,d,f,a[p+1],12,-389564586),f=x(f,h,c,d,a[p+2],17,606105819),d=x(d,f,h,c,a[p+3],22,-1044525330),c=x(c,d,f,h,a[p+4],7,-176418897),h=x(h,c,d,f,a[p+5],12,1200080426),f=x(f,h,c,d,a[p+6],17,-1473231341),d=x(d,f,h,c,a[p+7],22,-45705983),c=x(c,d,f,h,a[p+8],7,1770035416),h=x(h,c,d,f,a[p+9],12,-1958414417),f=x(f,h,c,d,a[p+10],17,-42063),d=x(d,f,h,c,a[p+11],22,-1990404162),c=x(c,d,f,h,a[p+12],7,1804603682),h=x(h,c,d,f,a[p+13],12,-40341101),f=x(f,h,c,d,a[p+14],17,-1502002290),d=x(d,f,h,c,a[p+15],22,1236535329),c=g(c,d,f,h,a[p+1],5,-165796510),h=g(h,c,d,f,a[p+6],9,-1069501632),f=g(f,h,c,d,a[p+11],14,643717713),d=g(d,f,h,c,a[p+0],20,-373897302),c=g(c,d,f,h,a[p+5],5,-701558691),h=g(h,c,d,f,a[p+10],9,38016083),f=g(f,h,c,d,a[p+15],14,-660478335),d=g(d,f,h,c,a[p+4],20,-405537848),c=g(c,d,f,h,a[p+9],5,568446438),h=g(h,c,d,f,a[p+14],9,-1019803690),f=g(f,h,c,d,a[p+3],14,-187363961),d=g(d,f,h,c,a[p+8],20,1163531501),c=g(c,d,f,h,a[p+13],5,-1444681467),h=g(h,c,d,f,a[p+2],9,-51403784),f=g(f,h,c,d,a[p+7],14,1735328473),d=g(d,f,h,c,a[p+12],20,-1926607734),c=b(c,d,f,h,a[p+5],4,-378558),h=b(h,c,d,f,a[p+8],11,-2022574463),f=b(f,h,c,d,a[p+11],16,1839030562),d=b(d,f,h,c,a[p+14],23,-35309556),c=b(c,d,f,h,a[p+1],4,-1530992060),h=b(h,c,d,f,a[p+4],11,1272893353),f=b(f,h,c,d,a[p+7],16,-155497632),d=b(d,f,h,c,a[p+10],23,-1094730640),c=b(c,d,f,h,a[p+13],4,681279174),h=b(h,c,d,f,a[p+0],11,-358537222),f=b(f,h,c,d,a[p+3],16,-722521979),d=b(d,f,h,c,a[p+6],23,76029189),c=b(c,d,f,h,a[p+9],4,-640364487),h=b(h,c,d,f,a[p+12],11,-421815835),f=b(f,h,c,d,a[p+15],16,530742520),d=b(d,f,h,c,a[p+2],23,-995338651),c=y(c,d,f,h,a[p+0],6,-198630844),h=y(h,c,d,f,a[p+7],10,1126891415),f=y(f,h,c,d,a[p+14],15,-1416354905),d=y(d,f,h,c,a[p+5],21,-57434055),c=y(c,d,f,h,a[p+12],6,1700485571),h=y(h,c,d,f,a[p+3],10,-1894986606),f=y(f,h,c,d,a[p+10],15,-1051523),d=y(d,f,h,c,a[p+1],21,-2054922799),c=y(c,d,f,h,a[p+8],6,1873313359),h=y(h,c,d,f,a[p+15],10,-30611744),f=y(f,h,c,d,a[p+6],15,-1560198380),d=y(d,f,h,c,a[p+13],21,1309151649),c=y(c,d,f,h,a[p+4],6,-145523070),h=y(h,c,d,f,a[p+11],10,-1120210379),f=y(f,h,c,d,a[p+2],15,718787259),d=y(d,f,h,c,a[p+9],21,-343485551),c=c+m>>>0,d=d+v>>>0,f=f+S>>>0,h=h+E>>>0}return e.endian([c,d,f,h])};s._ff=function(i,o,a,l,c,d,f){var h=i+(o&a|~o&l)+(c>>>0)+f;return(h<<d|h>>>32-d)+o},s._gg=function(i,o,a,l,c,d,f){var h=i+(o&l|a&~l)+(c>>>0)+f;return(h<<d|h>>>32-d)+o},s._hh=function(i,o,a,l,c,d,f){var h=i+(o^a^l)+(c>>>0)+f;return(h<<d|h>>>32-d)+o},s._ii=function(i,o,a,l,c,d,f){var h=i+(a^(o|~l))+(c>>>0)+f;return(h<<d|h>>>32-d)+o},s._blocksize=16,s._digestsize=16,C1.exports=function(i,o){if(i==null)throw new Error("Illegal argument "+i);var a=e.wordsToBytes(s(i,o));return o&&o.asBytes?a:o&&o.asString?r.bytesToString(a):e.bytesToHex(a)}})();var oC=C1.exports;const aC=pf(oC),lC=()=>{var Qr,Jr,Yt,gn,pr,Vn,Ot,Ct;const{id:e}=Ay(),t=$n(),[n,r]=_.useState(null),[s,i]=_.useState(!0),[o,a]=_.useState(""),[l,c]=_.useState(!1),[d,f]=_.useState(""),[h,p]=_.useState(!1),[x,g]=_.useState(""),[b,y]=_.useState(""),[m,v]=_.useState(null),[S,E]=_.useState(null),[j,w]=_.useState([]),[N,D]=_.useState(""),[T,A]=_.useState(!1),[F,Y]=_.useState(""),[Z,J]=_.useState(""),[ue,z]=_.useState(!0),L=_.useRef(null),U=_.useRef(null),[M,q]=_.useState(!1),[I,ie]=_.useState(!1),[re,oe]=_.useState(null),[ne,fe]=_.useState(""),[he,Be]=_.useState(!1);_.useEffect(()=>{(async()=>{var le,de;try{const me=await ce.get("/api/user");E(me.data),console.log("User data fetched:",me.data),console.log("User ID:",(le=me.data)==null?void 0:le.id,typeof((de=me.data)==null?void 0:de.id))}catch(me){console.error("Erreur lors de la récupération des informations utilisateur:",me)}})()},[]),_.useEffect(()=>{(async()=>{var le,de;try{i(!0);const me=await ce.get(`/api/tickets/${e}`);r(me.data),console.log("Ticket complet reçu:",me.data),console.log("Ticket Demandeur ID:",(le=me.data)==null?void 0:le.Id_Demandeur,typeof((de=me.data)==null?void 0:de.Id_Demandeur)),a("")}catch(me){a("Erreur lors du chargement du ticket"),console.error("Erreur:",me)}finally{i(!1)}})()},[e]),_.useEffect(()=>{if(n!=null&&n.reports){w(n.reports);const V=n.reports.some(le=>!le.is_viewed);q(V)}else n&&!(n!=null&&n.reports)?(w([]),q(!1)):(w([]),q(!1))},[n,S]);const lt=V=>{if(!V)return"-";let le=V;typeof V=="object"&&V.date&&(le=V.date),typeof le=="string"&&le.includes(".")&&(le=le.split(".")[0]);const de=le.replace(" ","T"),me=new Date(de);return isNaN(me)?"-":me.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})},R=async V=>{var de,me,$e,rn;V.preventDefault(),p(!0),g(""),y("");const le=new FormData;le.append("raison",d),m&&le.append("attachment",m);try{const ft=await ce.post(`/api/tickets/${n.id}/reports`,le,{headers:{"Content-Type":"multipart/form-data"}});y("Report envoyé avec succès !"),f(""),v(null),c(!1);const Zr=await ce.get(`/api/tickets/${n.id}/reports`);w(Zr.data)}catch(ft){console.error("Erreur complète:",ft);const Zr=((me=(de=ft.response)==null?void 0:de.data)==null?void 0:me.message)||((rn=($e=ft.response)==null?void 0:$e.data)==null?void 0:rn.error)||"Erreur lors de l'envoi du report";g(Zr)}finally{p(!1)}},H=async()=>{try{a("");const V=n.attachment_path.split("/").pop(),le=V.toLowerCase().endsWith(".pdf"),de=await ce.get(`/api/tickets/${n.id}/download`,{responseType:"blob",headers:{Accept:le?"application/pdf":"*/*"}});if(!(de.data instanceof Blob)||de.data.size===0)throw new Error("Fichier vide ou invalide");const me=window.URL.createObjectURL(new Blob([de.data])),$e=document.createElement("a");$e.href=me,$e.setAttribute("download",V),document.body.appendChild($e),$e.click(),setTimeout(()=>{document.body.removeChild($e),window.URL.revokeObjectURL(me)},100)}catch(V){console.error("Erreur téléchargement:",V),a(`Échec du téléchargement: ${V.message}`),V.response&&console.error("Détails erreur:",{status:V.response.status,headers:V.response.headers,data:V.response.data})}},ae=async V=>{var le,de;V.preventDefault(),A(!0),Y(""),J("");try{const me=await ce.post(`/api/tickets/${n.id}/comment`,{content:N});J("Commentaire ajouté avec succès !"),D("");const $e=await ce.get(`/api/tickets/${e}`);r($e.data)}catch(me){const $e=((de=(le=me.response)==null?void 0:le.data)==null?void 0:de.message)||"Erreur lors de l'ajout du commentaire";Y($e)}finally{A(!1)}},nt=()=>{var V;(V=L.current)==null||V.scrollIntoView({behavior:"smooth"})},Me=()=>{var V;(V=U.current)==null||V.scrollIntoView({behavior:"smooth"})},qe=V=>!V||V.length===0?null:{lastComment:V[V.length-1],totalCount:V.length};_.useEffect(()=>{if(!U.current||!M)return;const V=new IntersectionObserver(le=>{le[0].isIntersecting&&(Un(),q(!1),w(de=>de.map(me=>({...me,is_viewed:!0}))))},{threshold:.5});return V.observe(U.current),()=>{U.current&&V.unobserve(U.current)}},[M,e]);const Un=async()=>{var V;if(M)try{const le=await ce.post(`/api/tickets/${e}/reports/mark-as-viewed`);console.log("Reports marqués comme vus:",le.data),q(!1),w(me=>me.map($e=>({...$e,is_viewed:!0})));const de=await ce.get(`/api/tickets/${e}`);r(de.data),window.dispatchEvent(new CustomEvent("reportsViewed",{detail:{ticketId:e}}))}catch(le){console.error("Erreur lors du marquage des rapports comme vus:",le),((V=le.response)==null?void 0:V.status)===403?a("Seul le créateur du ticket peut marquer les rapports comme vus"):a("Erreur lors du marquage des rapports comme vus")}},nn=V=>{v(V.target.files[0])},Hn=async(V,le)=>{try{a("");const de=le.split("/").pop(),me=de.toLowerCase().endsWith(".pdf"),$e=await ce.get(`/api/reports/${V}/download-attachment`,{responseType:"blob",headers:{Accept:me?"application/pdf":"*/*"}});if(!($e.data instanceof Blob)||$e.data.size===0)throw new Error("Fichier vide ou invalide");const rn=window.URL.createObjectURL(new Blob([$e.data])),ft=document.createElement("a");ft.href=rn,ft.setAttribute("download",de),document.body.appendChild(ft),ft.click(),setTimeout(()=>{document.body.removeChild(ft),window.URL.revokeObjectURL(rn)},100)}catch(de){console.error("Erreur téléchargement pièce jointe rapport:",de),a(`Échec du téléchargement de la pièce jointe du rapport: ${de.message}`),de.response&&console.error("Détails erreur:",{status:de.response.status,headers:de.response.headers,data:de.response.data})}},kn=async()=>{try{await ce.delete(`/api/tickets/${e}`),t("/tickets")}catch(V){console.error("Erreur lors de la suppression du ticket:",V),a("Erreur lors de la suppression du ticket")}},mn=(V,le)=>{oe(le),fe(V.content)};return s?u.jsx(Ie,{children:u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):o?u.jsx(Ie,{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o})})}):n?(console.log("DateCreation:",n.DateCreation),console.log("DateDebut:",n.DateDebut),console.log("DateFinPrevue:",n.DateFinPrevue),u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Détails du ticket"}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx(cr,{to:"/tickets",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Retour à la liste"}),S&&n&&Number(S.id)===Number(n.Id_Utilisat)&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>t(`/tickets/${e}/edit`),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Modifier"}),u.jsx("button",{onClick:()=>ie(!0),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Supprimer"})]})]})]}),u.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[u.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n.Titre}),u.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-blue-100 text-blue-700 border border-blue-200",children:((Qr=n.statut)==null?void 0:Qr.designation)||"Sans statut"}),u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-700 border border-green-200",children:((Jr=n.priorite)==null?void 0:Jr.designation)||"Sans priorité"}),n.reports&&n.reports.filter(V=>!V.is_viewed).length>0&&n.Id_Demandeur===(S==null?void 0:S.id)&&u.jsxs("button",{onClick:Me,className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-red-100 text-red-700 border border-red-200 hover:bg-red-200 transition-colors cursor-pointer",children:[n.reports.filter(V=>!V.is_viewed).length," rapport(s) non lu(s)"]})]})]}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsxs("button",{onClick:nt,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[u.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),"Ajouter un commentaire"]}),(S==null?void 0:S.niveau)===2&&u.jsx("button",{className:"ml-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",onClick:()=>c(!0),children:"Report"})]})]}),u.jsx("div",{className:"border-t border-gray-200",children:u.jsxs("dl",{children:[u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Description"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:n.Description||"Aucune description"})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Commentaires"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:n.formatted_comments&&n.formatted_comments.length>0?u.jsx("div",{className:"space-y-2",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-gray-900",children:qe(n.formatted_comments).lastComment.content}),u.jsxs("div",{className:"text-sm text-gray-500",children:[((Yt=qe(n.formatted_comments).lastComment.user)==null?void 0:Yt.designation)||"Utilisateur"," • ",qe(n.formatted_comments).lastComment.date]})]}),n.formatted_comments.length>1&&u.jsxs("button",{onClick:()=>{z(!0),nt()},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:["+",n.formatted_comments.length-1]})]})}):u.jsx("span",{className:"text-gray-500",children:"Aucun commentaire"})})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Demandeur"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((gn=n.demandeur)==null?void 0:gn.designation)||"Non spécifié"})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Société"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((pr=n.societe)==null?void 0:pr.designation)||"Non spécifiée"})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Emplacement"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((Vn=n.emplacement)==null?void 0:Vn.designation)||"Non spécifié"})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Catégorie"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((Ot=n.categorie)==null?void 0:Ot.designation)||"Non spécifiée"})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de création"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:lt(n.DateCreation)})]}),u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de début"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:lt(n.DateDebut)})]}),u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de fin prévue"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:lt(n.DateFinPrevue)})]}),n.DateFinReelle&&u.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Date de fin réelle"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:lt(n.DateFinReelle)})]}),n.attachment_path&&u.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[u.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Pièce jointe"}),u.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("span",{className:"text-gray-600",children:n.attachment_path.split("/").pop()}),u.jsxs("button",{onClick:H,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[u.jsx("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Télécharger"]})]})})]})]})})]}),u.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mt-6",ref:U,children:[u.jsx("div",{className:"px-4 py-5 sm:px-6",children:u.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Reports",M&&u.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Nouveaux"})]})}),u.jsx("div",{className:"border-t border-gray-200",children:j.length>0?u.jsx("ul",{className:"divide-y divide-gray-200",children:j.map(V=>{var le;return console.log("Inspecting Report Object:",V),u.jsxs("li",{className:"px-4 py-4 sm:px-6",children:[u.jsx("div",{className:"text-sm text-gray-800",children:V.Raison}),u.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Reporté par ",(le=V.responsable)==null?void 0:le.designation," le ",lt(V.DateReport)]}),V.attachment_path&&u.jsxs("div",{className:"mt-2 text-sm",children:[u.jsx("span",{className:"text-gray-500",children:"Pièce jointe :"}),u.jsx("button",{onClick:()=>Hn(V.id,V.attachment_path),className:"ml-1 text-blue-600 hover:text-blue-800 font-medium underline",children:V.attachment_path.split("/").pop()})]})]},V.id)})}):u.jsx("div",{className:"px-4 py-4 sm:px-6 text-sm text-gray-500",children:"Aucun report disponible."})})]}),l&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[u.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl",onClick:()=>c(!1),"aria-label":"Fermer",children:"×"}),u.jsx("h2",{className:"text-lg font-bold mb-4",children:"Envoyer un report pour ce ticket"}),u.jsxs("form",{onSubmit:R,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"raison",className:"block text-sm font-medium text-gray-700 mb-1",children:"Raison du report"}),u.jsx("textarea",{id:"raison",value:d,onChange:V=>f(V.target.value),required:!0,rows:4,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:border-blue-300"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"reportAttachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pièce jointe (Optionnel)"}),u.jsx("input",{type:"file",id:"reportAttachment",onChange:nn,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),m&&u.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Fichier sélectionné : ",m.name]})]}),x&&u.jsx("p",{className:"text-red-500 text-sm",children:x}),b&&u.jsx("p",{className:"text-green-600 text-sm",children:b}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>c(!1),children:"Annuler"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:h,children:h?"Envoi...":"Envoyer"})]})]})]})}),u.jsxs("div",{ref:L,className:"mt-8 bg-white shadow overflow-hidden sm:rounded-lg",children:[u.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Commentaires"}),u.jsxs("span",{className:"text-sm text-gray-500",children:[((Ct=n.formatted_comments)==null?void 0:Ct.length)||0," commentaire(s)"]})]}),u.jsxs("div",{className:"border-t border-gray-200 px-4 py-5 sm:px-6",children:[n.formatted_comments&&n.formatted_comments.length>0?u.jsx("div",{className:"space-y-6",children:n.formatted_comments.map((V,le)=>{var de,me,$e;return u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow duration-200",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:u.jsx("span",{className:"text-indigo-600 font-medium",children:(((de=V.user)==null?void 0:de.designation)||"U")[0].toUpperCase()})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:((me=V.user)==null?void 0:me.designation)||"Utilisateur"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("p",{className:"text-sm text-gray-500",children:V.date}),S&&(($e=V.user)==null?void 0:$e.id)===S.id&&u.jsx("button",{onClick:()=>mn(V,le),className:"text-gray-400 hover:text-gray-600 transition-colors duration-200","aria-label":"Modifier le commentaire",children:u.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})]}),re===le?u.jsxs("form",{onSubmit:async rn=>{var Pi;rn.preventDefault();const ft=n.formatted_comments[le],Zr=aC((((Pi=ft.user)==null?void 0:Pi.id)||ft.userId)+ft.date+ft.content);try{await ce.put(`/api/tickets/${n.id}/comment/${Zr}`,{content:ne});const es=await ce.get(`/api/tickets/${e}`);r(es.data),oe(null),fe("")}catch{alert("Erreur lors de la modification du commentaire")}},className:"mt-2",children:[u.jsx("textarea",{value:ne,onChange:rn=>fe(rn.target.value),className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",rows:3}),u.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[u.jsx("button",{type:"button",onClick:()=>oe(null),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:"Annuler"}),u.jsx("button",{type:"submit",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-white bg-blue-600 hover:bg-blue-700",children:"Enregistrer"})]})]}):u.jsx("div",{className:"mt-2 text-sm text-gray-900 whitespace-pre-wrap break-words",children:V.content})]})]})},le)})}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-gray-500",children:"Aucun commentaire"}),u.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Soyez le premier à commenter"})]}),u.jsx("div",{className:"mt-6",children:u.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700",children:"Ajouter un commentaire"}),u.jsx("div",{className:"mt-1",children:u.jsx("textarea",{id:"comment",name:"comment",rows:3,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",value:N,onChange:V=>D(V.target.value),placeholder:"Écrivez votre commentaire ici..."})})]}),F&&u.jsx("div",{className:"text-red-600 text-sm",children:F}),Z&&u.jsx("div",{className:"text-green-600 text-sm",children:Z}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",disabled:T||!N.trim(),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${T||!N.trim()?"bg-indigo-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:T?"Envoi...":"Publier"})})]})})]})]}),I&&u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:u.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),u.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),u.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[u.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:u.jsxs("div",{className:"sm:flex sm:items-start",children:[u.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:u.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[u.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Confirmer la suppression"}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Êtes-vous sûr de vouloir supprimer ce ticket ? Cette action est irréversible."})})]})]})}),u.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[u.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>{ie(!1),kn()},children:"Supprimer"}),u.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>ie(!1),children:"Annuler"})]})]})]})}),he&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:u.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:u.jsxs("div",{className:"mt-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Modifier le ticket"}),u.jsx("button",{onClick:()=>Be(!1),className:"text-gray-400 hover:text-gray-500",children:"×"})]}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:"Vous allez être redirigé vers la page de modification du ticket."})}),u.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[u.jsx("button",{onClick:()=>Be(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 text-base font-medium rounded-md shadow-sm hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Annuler"}),u.jsx("button",{onClick:()=>{Be(!1),t(`/tickets/${e}/edit`)},className:"px-4 py-2 bg-blue-600 text-white text-base font-medium rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Continuer"})]})]})})})]})})):u.jsx(Ie,{children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsx("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded",children:"Ticket non trouvé"})})})},cC=()=>{const{id:e}=Ay(),t=$n(),[n,r]=_.useState(!0),[s,i]=_.useState(!1),[o,a]=_.useState(""),[l,c]=_.useState({Titre:"",Description:"",Id_Priorite:"",Id_Statut:"",Id_Demandeur:"",Id_Emplacement:"",Id_Categorie:"",DateDebut:"",DateFinPrevue:"",attachment:null}),[d,f]=_.useState({priorites:[],statuts:[],demandeurs:[],emplacements:[],categories:[]}),[h,p]=_.useState(null),x="http://localhost:8000";_.useEffect(()=>{(async()=>{var S,E;try{r(!0),a("");const w=(await ce.get(`/api/tickets/${e}`)).data;console.log("Réponse du backend:",w);const N=A=>A?typeof A=="string"?A:A.date?A.date.split(" ")[0]:"":"";c({Titre:w.Titre||"",Description:w.Description||"",Id_Priorite:w.Id_Priorite||"",Id_Statut:w.Id_Statut||"",Id_Demandeur:w.Id_Demandeur||"",Id_Emplacement:w.Id_Emplacement||"",Id_Categorie:w.Id_Categorie||"",DateDebut:N(w.DateDebut),DateFinPrevue:N(w.DateFinPrevue),attachment:w.attachment?new Blob([w.attachment]):null});const D=await ce.get("/api/tickets/options"),{options:T}=D.data;if(f({priorites:T.priorites||[],statuts:T.statuts||[],demandeurs:T.demandeurs||[],emplacements:T.emplacements||[],categories:T.categories||[]}),w.attachment_path){const A=w.attachment_path.split("/").pop();p({name:A,url:`${x}/api/tickets/${e}/download`})}else p(null)}catch(j){console.error("Erreur:",j),a(((E=(S=j.response)==null?void 0:S.data)==null?void 0:E.error)||"Erreur lors du chargement des données")}finally{r(!1)}})()},[e]);const g=v=>{const{name:S,value:E}=v.target;if(S==="DateFinPrevue"&&l.DateDebut&&new Date(E)<new Date(l.DateDebut)){a("La date de fin prévue ne peut pas être antérieure à la date de début");return}c(j=>({...j,[S]:E})),a("")},b=v=>{const S=v.target.files[0];S&&c(E=>({...E,attachment:S}))},y=async v=>{var S,E,j,w,N,D,T;v.preventDefault(),a(""),i(!0);try{const A=Z=>Z?new Date(Z).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}):null,F={Titre:l.Titre,Description:l.Description,Id_Priorite:parseInt(l.Id_Priorite),Id_Statut:parseInt(l.Id_Statut),Id_Demandeur:parseInt(l.Id_Demandeur),Id_Emplacement:parseInt(l.Id_Emplacement),Id_Categorie:parseInt(l.Id_Categorie),DateDebut:A(l.DateDebut),DateFinPrevue:A(l.DateFinPrevue)};console.log("Données envoyées au backend:",F);let Y;if(l.attachment){const Z=new FormData;Object.keys(F).forEach(J=>{Z.append(J,F[J])}),Z.append("attachment",l.attachment),Y=await ce.put(`/api/tickets/${e}`,Z)}else Y=await ce.put(`/api/tickets/${e}`,F);if(console.log("Réponse du backend:",Y.data),Y.data&&Y.data.id)window.location.href=`/tickets/${e}`;else throw new Error("Erreur lors de la modification du ticket")}catch(A){console.error("Erreur complète:",A),console.error("Détails de l'erreur:",{status:(S=A.response)==null?void 0:S.status,data:(E=A.response)==null?void 0:E.data,headers:(j=A.response)==null?void 0:j.headers});let F="Erreur lors de la modification du ticket";(N=(w=A.response)==null?void 0:w.data)!=null&&N.message?F=A.response.data.message:(T=(D=A.response)==null?void 0:D.data)!=null&&T.errors?F=Object.values(A.response.data.errors).flat().join(" "):A.message&&(F=A.message),a(F),alert("Erreur lors de la modification du ticket : "+F)}finally{i(!1)}},m=async()=>{try{if(!h)return;const v=h.name,S=v.toLowerCase().endsWith(".pdf"),E=await ce.get(`${x}/api/tickets/${e}/download`,{responseType:"blob",headers:{Accept:S?"application/pdf":"*/*"}});if(!(E.data instanceof Blob)||E.data.size===0)throw new Error("Fichier vide ou invalide");const j=window.URL.createObjectURL(new Blob([E.data])),w=document.createElement("a");w.href=j,w.setAttribute("download",v),document.body.appendChild(w),w.click(),setTimeout(()=>{document.body.removeChild(w),window.URL.revokeObjectURL(j)},100)}catch(v){alert("Erreur lors du téléchargement de la pièce jointe"),console.error(v)}};return n?u.jsx(Ie,{children:u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Modifier le ticket"}),u.jsx(cr,{to:`/tickets/${e}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Annuler"})]}),o&&u.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded",children:o}),u.jsxs("form",{onSubmit:y,className:"space-y-6 bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Titre",className:"block text-sm font-medium text-gray-700",children:"Titre"}),u.jsx("input",{type:"text",name:"Titre",id:"Titre",required:!0,value:l.Titre,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Priorite",className:"block text-sm font-medium text-gray-700",children:"Priorité"}),u.jsxs("select",{name:"Id_Priorite",id:"Id_Priorite",required:!0,value:l.Id_Priorite,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[u.jsx("option",{value:"",children:"Sélectionner une priorité"}),d.priorites.map(v=>u.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Statut",className:"block text-sm font-medium text-gray-700",children:"Statut"}),u.jsxs("select",{name:"Id_Statut",id:"Id_Statut",required:!0,value:l.Id_Statut,onChange:g,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-100 cursor-not-allowed",children:[u.jsx("option",{value:"",children:"Sélectionner un statut"}),d.statuts.map(v=>u.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Demandeur",className:"block text-sm font-medium text-gray-700",children:"Demandeur"}),u.jsxs("select",{name:"Id_Demandeur",id:"Id_Demandeur",required:!0,value:l.Id_Demandeur,onChange:g,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-100 cursor-not-allowed",children:[u.jsx("option",{value:"",children:"Sélectionner un demandeur"}),d.demandeurs.map(v=>u.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Emplacement",className:"block text-sm font-medium text-gray-700",children:"Emplacement"}),u.jsxs("select",{name:"Id_Emplacement",id:"Id_Emplacement",required:!0,value:l.Id_Emplacement,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[u.jsx("option",{value:"",children:"Sélectionner un emplacement"}),d.emplacements.map(v=>u.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"Id_Categorie",className:"block text-sm font-medium text-gray-700",children:"Catégorie"}),u.jsxs("select",{name:"Id_Categorie",id:"Id_Categorie",required:!0,value:l.Id_Categorie,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[u.jsx("option",{value:"",children:"Sélectionner une catégorie"}),d.categories.map(v=>u.jsx("option",{value:v.id,children:v.designation},v.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"DateDebut",className:"block text-sm font-medium text-gray-700",children:"Date de début"}),u.jsx("input",{type:"date",name:"DateDebut",id:"DateDebut",required:!0,value:l.DateDebut,onChange:g,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-100 cursor-not-allowed"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"DateFinPrevue",className:"block text-sm font-medium text-gray-700",children:"Date de fin prévue"}),u.jsx("input",{type:"date",name:"DateFinPrevue",id:"DateFinPrevue",required:!0,value:l.DateFinPrevue,onChange:g,disabled:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-gray-100 cursor-not-allowed"})]})]}),u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{htmlFor:"Description",className:"block text-sm font-medium text-gray-700",children:"Description"}),u.jsx("textarea",{name:"Description",id:"Description",rows:"3",required:!0,value:l.Description,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700",children:"Pièce jointe"}),h&&u.jsxs("div",{className:"mt-2 mb-4",children:[u.jsxs("p",{className:"text-sm text-gray-500",children:["Pièce jointe actuelle : ",h.name]}),u.jsx("button",{type:"button",onClick:m,className:"text-blue-600 hover:text-blue-800 text-sm underline",children:"Télécharger"})]}),u.jsx("input",{type:"file",name:"attachment",id:"attachment",onChange:b,className:`mt-1 block w-full text-sm text-gray-500
                file:mr-4 file:py-2 file:px-4
                file:rounded-md file:border-0
                file:text-sm file:font-semibold
                file:bg-blue-50 file:text-blue-700
                hover:file:bg-blue-100`}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Taille maximale : 10MB"})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:()=>t(`/tickets/${e}`),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:s,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Enregistrement...":"Enregistrer"})]})]})]})})},uC=5*60*1e3,dC=({entity:e,label:t})=>{const[n,r]=_.useState([]),[s,i]=_.useState([]),[o,a]=_.useState(""),[l,c]=_.useState(""),[d,f]=_.useState(null),[h,p]=_.useState(""),[x,g]=_.useState(!0),[b,y]=_.useState(""),[m,v]=_.useState(!0),[S,E]=_.useState(null),[j,w]=_.useState(null),[N,D]=_.useState(!1),T=M=>`entity_cache_${M}`,A=async()=>{try{const M=await ce.get("/api/services?all=1");i(M.data)}catch(M){console.error("Erreur lors du chargement des services:",M)}},F=async()=>{try{v(!0),E(null);const M=T(e),q=localStorage.getItem(M);if(q){const{data:ie,timestamp:re}=JSON.parse(q);if(Date.now()-re<uC){r(ie),v(!1);return}}const I=await ce.get(`/api/${e}?all=1`);r(I.data),localStorage.setItem(M,JSON.stringify({data:I.data,timestamp:Date.now()}))}catch(M){console.error(`Erreur lors du chargement des ${t}s:`,M),E(`Erreur lors du chargement des ${t}s`)}finally{v(!1)}};_.useEffect(()=>{F(),e==="demandeurs"&&A()},[e]);const Y=()=>{localStorage.removeItem(T(e))},Z=()=>{localStorage.removeItem("create_ticket_options_cache")},J=async()=>{if(o.trim())try{const M={designation:o,is_active:!0};e==="demandeurs"&&l&&(M.id_service=parseInt(l)),await ce.post(`/api/${e}`,M),a(""),c(""),Y(),Z(),await F()}catch(M){console.error("Erreur lors de l'ajout:",M),alert(`Erreur lors de l'ajout du/de la ${t.toLowerCase()}`)}},ue=M=>{var q;f(M.id),p(M.designation),g(M.is_active),e==="demandeurs"&&y(((q=M.id_service)==null?void 0:q.toString())||"")},z=async()=>{if(h.trim())try{const M={designation:h,is_active:x};e==="demandeurs"&&b&&(M.id_service=parseInt(b)),await ce.put(`/api/${e}/${d}`,M),f(null),p(""),g(!0),y(""),Y(),Z(),await F()}catch(M){console.error("Erreur lors de la mise à jour:",M),alert(`Erreur lors de la mise à jour du/de la ${t.toLowerCase()}`)}},L=async(M,q)=>{w(M);try{const I=n.find(ie=>ie.id===M);if(!I)throw new Error("Item not found");await ce.put(`/api/${e}/${M}`,{designation:I.designation,is_active:!q}),r(ie=>ie.map(re=>re.id===M?{...re,is_active:!q}:re)),Y(),Z()}catch{alert("Erreur lors de la mise à jour du statut")}finally{w(null)}},U=async M=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer ce/cette ${t.toLowerCase()} ?`))try{await ce.delete(`/api/${e}/${M}`),Y(),Z(),await F()}catch(q){console.error("Erreur lors de la suppression:",q),alert(`Erreur lors de la suppression du/de la ${t.toLowerCase()}`)}};return S?u.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded shadow",children:[u.jsx("div",{className:"text-red-600 mb-4",children:S}),u.jsx("button",{onClick:F,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Réessayer"})]}):u.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded shadow",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h2",{className:"text-xl font-bold",children:["Gestion des ",t,"s"]}),u.jsx("button",{onClick:()=>{D(!0),F(),setTimeout(()=>D(!1),600)},className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx($r,{className:N?"animate-spin-once":""})})]}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("input",{type:"text",value:o,onChange:M=>a(M.target.value),placeholder:`Nouveau/Nouvelle ${t.toLowerCase()}`,className:"border rounded px-2 py-1 flex-1"}),e==="demandeurs"&&u.jsxs("select",{value:l,onChange:M=>c(M.target.value),className:"border rounded px-2 py-1",children:[u.jsx("option",{value:"",children:"Sélectionner un service"}),s.map(M=>u.jsx("option",{value:M.id,children:M.designation},M.id))]}),u.jsx("button",{onClick:J,className:"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700 transition-colors",children:"Ajouter"})]}),u.jsxs("table",{className:"w-full border",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"border px-2 py-1",children:"Nom"}),e==="demandeurs"&&u.jsx("th",{className:"border px-2 py-1",children:"Service"}),u.jsx("th",{className:"border px-2 py-1",children:"Statut"}),u.jsx("th",{className:"border px-2 py-1",children:"Actions"})]})}),u.jsx("tbody",{children:m?Array.from({length:3}).map((M,q)=>u.jsxs("tr",{children:[u.jsx("td",{className:"border px-2 py-1",children:u.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse"})}),e==="demandeurs"&&u.jsx("td",{className:"border px-2 py-1",children:u.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse"})}),u.jsx("td",{className:"border px-2 py-1 text-center",children:u.jsx("div",{className:"h-6 w-16 mx-auto bg-gray-200 rounded animate-pulse"})}),u.jsx("td",{className:"border px-2 py-1",children:u.jsx("div",{className:"h-6 w-24 bg-gray-200 rounded animate-pulse"})})]},q)):n.map(M=>{var q;return u.jsxs("tr",{children:[u.jsx("td",{className:"border px-2 py-1",children:d===M.id?u.jsxs(u.Fragment,{children:[u.jsx("input",{value:h,onChange:I=>p(I.target.value),className:"border rounded px-2 py-1 w-full"}),e==="demandeurs"&&u.jsxs("select",{value:b,onChange:I=>y(I.target.value),className:"border rounded px-2 py-1 w-full mt-2",children:[u.jsx("option",{value:"",children:"Sélectionner un service"}),s.map(I=>u.jsx("option",{value:I.id,children:I.designation},I.id))]})]}):M.designation}),e==="demandeurs"&&u.jsx("td",{className:"border px-2 py-1",children:((q=s.find(I=>I.id===M.id_service))==null?void 0:q.designation)||"-"}),u.jsx("td",{className:"border px-2 py-1 text-center",children:u.jsx("span",{className:M.is_active?"inline-block px-2 py-1 text-base font-semibold bg-green-100 text-green-800 rounded-full":"inline-block px-2 py-1 text-base font-semibold bg-red-100 text-red-800 rounded-full",children:M.is_active?"Actif":"Inactif"})}),u.jsx("td",{className:"border px-2 py-1",children:d===M.id?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:z,className:"bg-green-600 text-white px-2 py-1 rounded mr-2 hover:bg-green-700 transition-colors",children:"Valider"}),u.jsx("button",{onClick:()=>f(null),className:"bg-gray-400 text-white px-2 py-1 rounded hover:bg-gray-500 transition-colors",children:"Annuler"})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>L(M.id,M.is_active),disabled:j===M.id,className:(M.is_active?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600")+" text-white px-3 py-1 rounded transition-colors font-semibold mr-2"+(j===M.id?" opacity-60 cursor-not-allowed":""),children:j===M.id?"Changement...":M.is_active?"Désactiver":"Activer"}),u.jsx("button",{onClick:()=>ue(M),className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 transition-colors font-semibold mr-2",children:"Modifier"}),u.jsx("button",{onClick:()=>U(M.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition-colors font-semibold",children:"Supprimer"})]})})]},M.id)})})]})]})},nl=[{entity:"categories",label:"Catégorie"},{entity:"emplacements",label:"Emplacement"},{entity:"societes",label:"Société"},{entity:"demandeurs",label:"Demandeur"},{entity:"services",label:"Service"},{entity:"priorites",label:"Priorité"},{entity:"statuts",label:"Statut"}],fC=()=>{const[e,t]=_.useState(nl[0].entity),[n,r]=_.useState([nl[0].entity]),s=i=>{t(i),r(o=>o.includes(i)?o:[...o,i])};return u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-5xl mx-auto p-6 bg-white rounded shadow",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gestion des référentiels"}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:nl.map(i=>u.jsxs("button",{onClick:()=>s(i.entity),className:`px-4 py-2 rounded font-semibold border transition-colors ${e===i.entity?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-blue-100"}`,children:[i.label,"s"]},i.entity))}),u.jsx("div",{children:nl.map(i=>u.jsx("div",{style:{display:e===i.entity?"block":"none"},children:u.jsx(dC,{entity:i.entity,label:i.label})},i.entity))})]})})};function c0(e){if(!e)return"-";let t=e;typeof e=="object"&&e.date&&(t=e.date),typeof t=="string"&&t.includes(".")&&(t=t.split(".")[0]);const n=t.replace(" ","T"),r=new Date(n);return isNaN(r)?"-":r.toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})}const hC=()=>{var q,I,ie,re,oe,ne,fe;const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[o,a]=_.useState(""),[l,c]=_.useState(""),[d,f]=_.useState(!1),[h,p]=_.useState(!1),[x,g]=_.useState(!1),[b,y]=_.useState(null),[m,v]=_.useState(""),[S,E]=_.useState(""),[j,w]=_.useState(""),[N,D]=_.useState(!1),[T,A]=_.useState(null),[F,Y]=_.useState(!1);_.useEffect(()=>{Z()},[d]);const Z=async()=>{p(!0);try{const he=await ce.get("/api/tickets/pending",{params:{show_rejected:d}});t(he.data),r(!1)}catch{i("Erreur lors du chargement des tickets"),r(!1)}finally{setTimeout(()=>p(!1),600)}},J=he=>{y(he),v(""),E(""),w(""),g(!0)},ue=()=>{g(!1),y(null),v(""),E(""),w("")},z=async()=>{if(!m||!S){w("Veuillez renseigner les deux dates.");return}if(S<m){w("La date de fin prévue doit être postérieure à la date de début.");return}try{await ce.post(`/api/tickets/${b}/approve`,{DateDebut:m,DateFinPrevue:S}),a("Le ticket a été approuvé avec succès."),c(""),ue(),Z()}catch{w("Une erreur est survenue lors de l'approbation du ticket.")}},L=async he=>{try{await ce.post(`/api/tickets/${he}/reject`),a("Le ticket a été refusé avec succès."),c(""),Z()}catch{c("Une erreur est survenue lors du refus du ticket."),a("")}},U=async he=>{Y(!0),D(!0);try{const Be=await ce.get(`/api/tickets/${he}`);A(Be.data)}catch{A(null)}Y(!1)},M=()=>{D(!1),A(null)};return n?u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:d?"Tickets refusés":"Tickets en attente"})}),u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"}),u.jsx("div",{className:"h-24 bg-gray-200 rounded mb-4"})]})]})}):s?u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:d?"Tickets refusés":"Tickets en attente"})}),u.jsx("div",{className:"text-red-600",children:s})]})}):u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:d?"Tickets refusés":"Tickets en attente"}),u.jsx("button",{onClick:Z,className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx($r,{className:h?"animate-spin-once":""})})]}),u.jsx("button",{onClick:()=>f(!d),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d?"bg-blue-600 text-white hover:bg-blue-700":"bg-red-600 text-white hover:bg-red-700"}`,children:d?"Voir les tickets en attente":"Voir les tickets refusés"})]}),o&&u.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-800 rounded",children:o}),l&&u.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-800 rounded",children:l}),x&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:u.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Définir les dates du ticket"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),u.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2",value:m,onChange:he=>v(he.target.value)})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin prévue"}),u.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2",value:S,onChange:he=>E(he.target.value),min:m})]}),j&&u.jsx("div",{className:"mb-2 text-red-600 text-sm",children:j}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:ue,className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",children:"Annuler"}),u.jsx("button",{onClick:z,className:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700",children:"Valider"})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Demandeur"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de création"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorité"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(he=>{var Be,lt;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:he.Titre})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:(Be=he.demandeur)==null?void 0:Be.designation})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:he.DateCreation&&he.DateCreation.date?new Date(he.DateCreation.date.replace(" ","T")).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"}):"Date non disponible"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:(lt=he.priorite)==null?void 0:lt.designation})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[u.jsx("button",{onClick:()=>U(he.id),className:"text-blue-600 hover:text-blue-900 mr-2",title:"Voir le détail",children:u.jsx(gv,{})}),!d&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>J(he.id),className:"text-green-600 hover:text-green-900 mr-4",children:"Approuver"}),u.jsx("button",{onClick:()=>L(he.id),className:"text-red-600 hover:text-red-900",children:"Refuser"})]})]})]},he.id)})})]})})}),N&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:u.jsxs("div",{className:"relative bg-white p-8 rounded-xl shadow-xl w-full max-w-2xl",children:[u.jsx("button",{onClick:M,className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 text-2xl transition",title:"Fermer",children:"×"}),u.jsx("h2",{className:"text-xl font-bold text-blue-700 mb-6",children:"Résumé du ticket"}),F?u.jsx("div",{className:"text-center text-blue-600 font-semibold",children:"Chargement..."}):T?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-3 mb-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Titre :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:T.Titre})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Description :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:T.Description})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Catégorie :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:(q=T.categorie)==null?void 0:q.designation})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Emplacement :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:(I=T.emplacement)==null?void 0:I.designation})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Service :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:(re=(ie=T.demandeur)==null?void 0:ie.service)==null?void 0:re.designation})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Commentaire :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:T.formatted_comments&&T.formatted_comments.length>0?T.formatted_comments[T.formatted_comments.length-1].content:"Aucun"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Date de début :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:c0(T.DateDebut)})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Date de fin :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:c0(T.DateFinPrevue)})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Priorité :"}),u.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-semibold ${((oe=T.priorite)==null?void 0:oe.designation)==="Urgent"?"bg-red-50 text-red-600 border border-red-200":"bg-green-50 text-green-700 border border-green-200"}`,children:(ne=T.priorite)==null?void 0:ne.designation})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Demandeur :"}),u.jsx("span",{className:"ml-2 text-gray-900",children:(fe=T.demandeur)==null?void 0:fe.designation})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-2",children:[u.jsx("button",{onClick:()=>{M(),J(T.id)},className:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700 font-semibold shadow-sm transition",children:"Approuver"}),u.jsx("button",{onClick:()=>{M(),L(T.id)},className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 font-semibold shadow-sm transition",children:"Refuser"})]})]}):u.jsx("div",{className:"text-center text-red-600",children:"Erreur lors du chargement du ticket."})]})})]})})},pC=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[o,a]=_.useState(null),[l,c]=_.useState(!1);_.useEffect(()=>{d()},[]);const d=async()=>{c(!0);try{const p=await ce.get("/api/tickets/completed");t(p.data),r(!1)}catch{i("Erreur lors du chargement des tickets"),r(!1)}finally{setTimeout(()=>c(!1),600)}},f=async p=>{try{await ce.post(`/api/tickets/${p}/demandeur-approve`),a("Ticket approuvé avec succès"),d()}catch{i("Erreur lors de l'approbation du ticket")}},h=async p=>{try{await ce.post(`/api/tickets/${p}/demandeur-reject`),a("Ticket refusé et remis en cours"),d()}catch{i("Erreur lors du refus du ticket")}};return n?u.jsx("div",{children:"Chargement..."}):s?u.jsx("div",{children:s}):u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex justify-between items-center mb-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Tickets terminés"}),u.jsx("button",{onClick:d,className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx($r,{className:l?"animate-spin-once":""})})]})}),o&&u.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded-lg",children:o}),u.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de création"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de fin"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorité"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(p=>{var x,g,b,y;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.Titre})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${((x=p.statut)==null?void 0:x.designation)==="Terminé"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:(g=p.statut)==null?void 0:g.designation})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:p.DateCreation&&p.DateCreation.date?new Date(p.DateCreation.date.replace(" ","T")).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"}):"Date non disponible"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:p.DateFinReelle?new Date(p.DateFinReelle.replace(" ","T")).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"}):"Date non disponible"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:(b=p.priorite)==null?void 0:b.designation})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(cr,{to:`/tickets/${p.id}`,className:"text-indigo-600 hover:text-indigo-900",children:"Voir les détails"}),((y=p.statut)==null?void 0:y.designation)==="Terminé"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>f(p.id),className:"text-green-600 hover:text-green-900",children:"Approuver"}),u.jsx("button",{onClick:()=>h(p.id),className:"text-red-600 hover:text-red-900",children:"Refuser"})]})]})})]},p.id)})})]})})})]})})},mC=()=>{const e=$n(),[t,n]=_.useState({fullName:"",email:"",level:"",service:""}),[r,s]=_.useState([]),[i,o]=_.useState(!1),[a,l]=_.useState(""),[c,d]=_.useState(""),[f,h]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const b=await ce.get("/api/public/services");b.data&&Array.isArray(b.data)?s(b.data):(console.error("Format de données invalide:",b.data),l("Format de données invalide reçu du serveur"))}catch(b){console.error("Erreur détaillée:",b),l("Erreur lors du chargement des services. Veuillez réessayer plus tard.")}})()},[]);const p=g=>{const b=g.target.value;n({...t,level:b,service:""}),h(b==="employe"||b==="directeur_departement")},x=async g=>{var b,y;g.preventDefault(),o(!0),l(""),d("");try{await ce.post("/api/public/register-request",t),d("Votre demande d'inscription a été envoyée avec succès. Vous recevrez un email une fois votre compte approuvé."),n({fullName:"",email:"",level:"",service:""})}catch(m){l(((y=(b=m.response)==null?void 0:b.data)==null?void 0:y.message)||"Une erreur est survenue lors de l'envoi de la demande. Veuillez réessayer plus tard.")}finally{o(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Demande d'inscription"}),u.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Remplissez ce formulaire pour demander un compte. Un administrateur examinera votre demande."})]}),a&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:a}),c&&u.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:c}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[u.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fullName",className:"sr-only",children:"Nom complet"}),u.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Nom complet",value:t.fullName,onChange:g=>n({...t,fullName:g.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),u.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email",value:t.email,onChange:g=>n({...t,email:g.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"level",className:"sr-only",children:"Niveau"}),u.jsxs("select",{id:"level",name:"level",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",value:t.level,onChange:p,children:[u.jsx("option",{value:"",children:"Sélectionnez votre niveau"}),u.jsx("option",{value:"employe",children:"Employé"}),u.jsx("option",{value:"directeur_departement",children:"Directeur de département"}),u.jsx("option",{value:"directeur_general",children:"Directeur général"})]})]}),f&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"service",className:"sr-only",children:"Service"}),u.jsxs("select",{id:"service",name:"service",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",value:t.service,onChange:g=>n({...t,service:g.target.value}),children:[u.jsx("option",{value:"",children:"Sélectionnez votre service"}),r.map(g=>u.jsx("option",{value:g.id,children:g.name},g.id))]})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:i,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Envoi en cours...":"Envoyer la demande"})})]}),u.jsx("div",{className:"text-center mt-4",children:u.jsx("button",{onClick:()=>e("/login"),className:"text-indigo-600 hover:text-indigo-500",children:"Déjà un compte ? Connectez-vous"})})]})})},gC=()=>{var ue;const e=$n(),[t,n]=_.useState([]),[r,s]=_.useState(!0),[i,o]=_.useState(null),[a,l]=_.useState(!1),[c,d]=_.useState(""),[f,h]=_.useState("all"),[p,x]=_.useState(!1),[g,b]=_.useState(""),[y,m]=_.useState(""),[v,S]=_.useState(""),[E,j]=_.useState(!1);_.useEffect(()=>{const z=JSON.parse(localStorage.getItem("user"));if(!z||z.niveau!==1){e("/unauthorized");return}w()},[e]);const w=async()=>{try{j(!0);const z=localStorage.getItem("token"),L=await Re.get("/api/admin/register-requests",{headers:{Authorization:`Bearer ${z}`,Accept:"application/json","Content-Type":"application/json"}});n(L.data),s(!1)}catch(z){console.error("Error fetching requests:",z),Ee.error("Erreur lors du chargement des demandes"),s(!1)}finally{setTimeout(()=>j(!1),600)}},N=async z=>{o(t.find(L=>L.id===z)),x(!0)},D=async()=>{if(g!==y){S("Les mots de passe ne correspondent pas");return}if(g.length<8){S("Le mot de passe doit contenir au moins 8 caractères");return}try{const z=localStorage.getItem("token");await Re.post(`/api/admin/register-requests/${i.id}/approve`,{password:g},{headers:{Authorization:`Bearer ${z}`,Accept:"application/json","Content-Type":"application/json"}}),Ee.success("Demande approuvée avec succès"),x(!1),b(""),m(""),S(""),w()}catch(z){console.error("Error approving request:",z),Ee.error("Erreur lors de l'approbation de la demande")}},T=async z=>{try{const L=localStorage.getItem("token");await Re.post(`/api/admin/register-requests/${z}/reject`,{},{headers:{Authorization:`Bearer ${L}`,Accept:"application/json","Content-Type":"application/json"}}),Ee.success("Demande rejetée avec succès"),w()}catch(L){console.error("Error rejecting request:",L),Ee.error("Erreur lors du rejet de la demande")}},A=z=>{o(z),l(!0)},F=z=>{switch(z){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Y=z=>{switch(z){case"pending":return"En attente";case"approved":return"Approuvé";case"rejected":return"Rejeté";default:return z}},Z=z=>z==="directeur_general"?"Directeur General":z.split("_").map(L=>L.charAt(0).toUpperCase()+L.slice(1)).join(" "),J=t.filter(z=>{var M,q;const L=z.full_name.toLowerCase().includes(c.toLowerCase())||z.email.toLowerCase().includes(c.toLowerCase())||((q=(M=z.service)==null?void 0:M.designation)==null?void 0:q.toLowerCase().includes(c.toLowerCase())),U=f==="all"||z.status===f;return L&&U});return r?u.jsx(Ie,{children:u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):u.jsx(Ie,{children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-4 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des demandes d'inscription"}),u.jsx("button",{onClick:w,className:"p-2 rounded-full bg-gray-100 hover:bg-blue-100 text-blue-600 transition",title:"Rafraîchir",children:u.jsx($r,{className:E?"animate-spin-once":""})})]}),u.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Gérez les demandes d'inscription des nouveaux utilisateurs"})]}),u.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(F4,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Rechercher par nom, email ou service...",value:c,onChange:z=>d(z.target.value)})]})}),u.jsx("div",{className:"w-full sm:w-48",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(xv,{className:"h-5 w-5 text-gray-400"})}),u.jsxs("select",{className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:f,onChange:z=>h(z.target.value),children:[u.jsx("option",{value:"all",children:"Tous les statuts"}),u.jsx("option",{value:"pending",children:"En attente"}),u.jsx("option",{value:"approved",children:"Approuvé"}),u.jsx("option",{value:"rejected",children:"Rejeté"})]})]})})]}),u.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[160px] max-w-[260px]",children:"Nom complet"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[180px] max-w-[260px]",children:"Email"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px] max-w-[180px]",children:"Niveau"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px] max-w-[200px]",children:"Service"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px] max-w-[140px]",children:"Statut"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[140px] max-w-[180px]",children:"Date de demande"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px] max-w-[140px]",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:J.map(z=>{var L;return u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words max-w-[220px] align-top",children:z.full_name}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words max-w-[220px] align-top",children:z.email}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words min-w-[120px] max-w-[180px] align-top",children:Z(z.level)}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-normal break-words max-w-[180px] align-top",children:z.level==="directeur_general"?"Pas de service":((L=z.service)==null?void 0:L.designation)||"N/A"}),u.jsx("td",{className:"px-4 py-4 whitespace-nowrap min-w-[100px] max-w-[140px] align-top",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${F(z.status)}`,children:Y(z.status)})}),u.jsx("td",{className:"px-4 py-4 text-sm text-gray-900 whitespace-nowrap min-w-[140px] max-w-[180px] align-top",children:new Date(z.created_at).toLocaleDateString()}),u.jsx("td",{className:"px-4 py-4 text-sm font-medium whitespace-nowrap min-w-[120px] max-w-[140px] align-top",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>A(z),className:"text-blue-600 hover:text-blue-900",title:"Voir les détails",children:u.jsx(gv,{className:"h-5 w-5"})}),z.status==="pending"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>N(z.id),className:"text-green-600 hover:text-green-900",title:"Approuver",children:u.jsx(D4,{className:"h-5 w-5"})}),u.jsx("button",{onClick:()=>T(z.id),className:"text-red-600 hover:text-red-900",title:"Rejeter",children:u.jsx(vl,{className:"h-5 w-5"})})]})]})})]},z.id)})})]})})}),a&&i&&u.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Détails de la demande"}),u.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-500",children:u.jsx(vl,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Nom complet"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.full_name})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.email})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Niveau"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Z(i.level)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Service"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:((ue=i.service)==null?void 0:ue.designation)||"N/A"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Statut"}),u.jsx("p",{className:"mt-1",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${F(i.status)}`,children:Y(i.status)})})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date de demande"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(i.created_at).toLocaleString()})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date d'action"}),u.jsx("p",{className:"mt-1 text-sm text-gray-900",children:i.status==="approved"||i.status==="rejected"?new Date(i.updated_at).toLocaleString():"-"})]})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[i.status==="pending"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{N(i.id),l(!1)},className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Approuver"}),u.jsx("button",{onClick:()=>{T(i.id),l(!1)},className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Rejeter"})]}),u.jsx("button",{onClick:()=>l(!1),className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",children:"Fermer"})]})]})}),p&&i&&u.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Définir le mot de passe"}),u.jsx("button",{onClick:()=>{x(!1),b(""),m(""),S("")},className:"text-gray-400 hover:text-gray-500",children:u.jsx(vl,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),u.jsx("input",{type:"password",id:"password",value:g,onChange:z=>b(z.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Entrez le mot de passe"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),u.jsx("input",{type:"password",id:"confirmPassword",value:y,onChange:z=>m(z.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirmez le mot de passe"})]}),v&&u.jsx("p",{className:"text-sm text-red-600",children:v})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[u.jsx("button",{onClick:()=>{x(!1),b(""),m(""),S("")},className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",children:"Annuler"}),u.jsx("button",{onClick:D,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Confirmer"})]})]})})]})})},on=({children:e})=>localStorage.getItem("token")?e:u.jsx($y,{to:"/",replace:!0}),At=()=>u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[u.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Oops! Something went wrong"}),u.jsx("p",{className:"text-gray-600",children:"Please try refreshing the page or contact support if the problem persists."})]})}),xC=M_([{path:"/",element:u.jsx(H4,{}),errorElement:u.jsx(At,{})},{path:"/register",element:u.jsx(mC,{}),errorElement:u.jsx(At,{})},{path:"/dashboard",element:u.jsx(on,{children:u.jsx(n5,{})}),errorElement:u.jsx(At,{})},{path:"/tickets",element:u.jsx(on,{children:u.jsx(Y5,{})}),errorElement:u.jsx(At,{})},{path:"/tickets/:id",element:u.jsx(on,{children:u.jsx(lC,{})}),errorElement:u.jsx(At,{})},{path:"/tickets/:id/edit",element:u.jsx(on,{children:u.jsx(cC,{})}),errorElement:u.jsx(At,{})},{path:"/create-ticket",element:u.jsx(on,{children:u.jsx(Z3,{})}),errorElement:u.jsx(At,{})},{path:"/create-user",element:u.jsx(on,{children:u.jsx(eC,{})}),errorElement:u.jsx(At,{})},{path:"/profile",element:u.jsx(on,{children:u.jsx(tC,{})}),errorElement:u.jsx(At,{})},{path:"/users",element:u.jsx(on,{children:u.jsx(nC,{})}),errorElement:u.jsx(At,{})},{path:"/admin/entities",element:u.jsx(on,{children:u.jsx(fC,{})}),errorElement:u.jsx(At,{})},{path:"/admin/pending-tickets",element:u.jsx(on,{children:u.jsx(hC,{})}),errorElement:u.jsx(At,{})},{path:"/admin/register-requests",element:u.jsx(on,{children:u.jsx(gC,{})}),errorElement:u.jsx(At,{})},{path:"/completed-tickets",element:u.jsx(on,{children:u.jsx(pC,{})}),errorElement:u.jsx(At,{})},{path:"*",element:u.jsx($y,{to:"/",replace:!0})}]);function yC(){return u.jsx(B_,{router:xC})}Sy(document.getElementById("root")).render(u.jsx(_.StrictMode,{children:u.jsx(yC,{})}));export{Iu as B,br as C,ao as D,Fu as L,lg as P,Ne as R,$u as S,zu as a,Bu as b,Au as c,_ as r};
